/*!
 * jQuery JavaScript Library v2.2.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:23Z
 */
function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=!!t&&"length"in t&&t.length,n=ot.type(t);return"function"===n||ot.isWindow(t)?!1:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function i(t,e,n){if(ot.isFunction(e))return ot.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return ot.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(gt.test(e))return ot.filter(e,t,n);e=ot.filter(e,t)}return ot.grep(t,function(t){return J.call(e,t)>-1!==n})}function r(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e={};return ot.each(t.match(wt)||[],function(t,n){e[n]=!0}),e}function s(){X.removeEventListener("DOMContentLoaded",s),t.removeEventListener("load",s),ot.ready()}function a(){this.expando=ot.expando+a.uid++}function l(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(Dt,"-$&").toLowerCase(),n=t.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Tt.test(n)?ot.parseJSON(n):n}catch(r){}Et.set(t,e,n)}else n=void 0;return n}function u(t,e,n,i){var r,o=1,s=20,a=i?function(){return i.cur()}:function(){return ot.css(t,e,"")},l=a(),u=n&&n[3]||(ot.cssNumber[e]?"":"px"),c=(ot.cssNumber[e]||"px"!==u&&+l)&&Pt.exec(ot.css(t,e));if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+l||1;do o=o||".5",c/=o,ot.style(t,e,c+u);while(o!==(o=a()/l)&&1!==o&&--s)}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}function c(t,e){var n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&ot.nodeName(t,e)?ot.merge([t],n):n}function h(t,e){for(var n=0,i=t.length;i>n;n++)St.set(t[n],"globalEval",!e||St.get(e[n],"globalEval"))}function d(t,e,n,i,r){for(var o,s,a,l,u,d,p=e.createDocumentFragment(),f=[],g=0,m=t.length;m>g;g++)if(o=t[g],o||0===o)if("object"===ot.type(o))ot.merge(f,o.nodeType?[o]:o);else if($t.test(o)){for(s=s||p.appendChild(e.createElement("div")),a=(Rt.exec(o)||["",""])[1].toLowerCase(),l=Lt[a]||Lt._default,s.innerHTML=l[1]+ot.htmlPrefilter(o)+l[2],d=l[0];d--;)s=s.lastChild;ot.merge(f,s.childNodes),s=p.firstChild,s.textContent=""}else f.push(e.createTextNode(o));for(p.textContent="",g=0;o=f[g++];)if(i&&ot.inArray(o,i)>-1)r&&r.push(o);else if(u=ot.contains(o.ownerDocument,o),s=c(p.appendChild(o),"script"),u&&h(s),n)for(d=0;o=s[d++];)Nt.test(o.type||"")&&n.push(o);return p}function p(){return!0}function f(){return!1}function g(){try{return X.activeElement}catch(t){}}function m(t,e,n,i,r,o){var s,a;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=void 0);for(a in e)m(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),r===!1)r=f;else if(!r)return t;return 1===o&&(s=r,r=function(t){return ot().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=ot.guid++)),t.each(function(){ot.event.add(this,e,r,i,n)})}function v(t,e){return ot.nodeName(t,"table")&&ot.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function y(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function _(t){var e=qt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function b(t,e){var n,i,r,o,s,a,l,u;if(1===e.nodeType){if(St.hasData(t)&&(o=St.access(t),s=St.set(e,o),u=o.events)){delete s.handle,s.events={};for(r in u)for(n=0,i=u[r].length;i>n;n++)ot.event.add(e,r,u[r][n])}Et.hasData(t)&&(a=Et.access(t),l=ot.extend({},a),Et.set(e,l))}}function w(t,e){var n=e.nodeName.toLowerCase();"input"===n&&It.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function x(t,e,n,i){e=Z.apply([],e);var r,o,s,a,l,u,h=0,p=t.length,f=p-1,g=e[0],m=ot.isFunction(g);if(m||p>1&&"string"==typeof g&&!it.checkClone&&Wt.test(g))return t.each(function(r){var o=t.eq(r);m&&(e[0]=g.call(this,r,o.html())),x(o,e,n,i)});if(p&&(r=d(e,t[0].ownerDocument,!1,t,i),o=r.firstChild,1===r.childNodes.length&&(r=o),o||i)){for(s=ot.map(c(r,"script"),y),a=s.length;p>h;h++)l=r,h!==f&&(l=ot.clone(l,!0,!0),a&&ot.merge(s,c(l,"script"))),n.call(t[h],l,h);if(a)for(u=s[s.length-1].ownerDocument,ot.map(s,_),h=0;a>h;h++)l=s[h],Nt.test(l.type||"")&&!St.access(l,"globalEval")&&ot.contains(u,l)&&(l.src?ot._evalUrl&&ot._evalUrl(l.src):ot.globalEval(l.textContent.replace(Yt,"")))}return t}function C(t,e,n){for(var i,r=e?ot.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||ot.cleanData(c(i)),i.parentNode&&(n&&ot.contains(i.ownerDocument,i)&&h(c(i,"script")),i.parentNode.removeChild(i));return t}function k(t,e){var n=ot(e.createElement(t)).appendTo(e.body),i=ot.css(n[0],"display");return n.detach(),i}function S(t){var e=X,n=Ut[t];return n||(n=k(t,e),"none"!==n&&n||(Vt=(Vt||ot("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Vt[0].contentDocument,e.write(),e.close(),n=k(t,e),Vt.detach()),Ut[t]=n),n}function E(t,e,n){var i,r,o,s,a=t.style;return n=n||Kt(t),s=n?n.getPropertyValue(e)||n[e]:void 0,""!==s&&void 0!==s||ot.contains(t.ownerDocument,t)||(s=ot.style(t,e)),n&&!it.pixelMarginRight()&&Xt.test(s)&&Gt.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o),void 0!==s?s+"":s}function T(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function D(t){if(t in ie)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=ne.length;n--;)if(t=ne[n]+e,t in ie)return t}function A(t,e,n){var i=Pt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function P(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=ot.css(t,n+Mt[o],!0,r)),i?("content"===n&&(s-=ot.css(t,"padding"+Mt[o],!0,r)),"margin"!==n&&(s-=ot.css(t,"border"+Mt[o]+"Width",!0,r))):(s+=ot.css(t,"padding"+Mt[o],!0,r),"padding"!==n&&(s+=ot.css(t,"border"+Mt[o]+"Width",!0,r)));return s}function M(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=Kt(t),s="border-box"===ot.css(t,"boxSizing",!1,o);if(0>=r||null==r){if(r=E(t,e,o),(0>r||null==r)&&(r=t.style[e]),Xt.test(r))return r;i=s&&(it.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+P(t,e,n||(s?"border":"content"),i,o)+"px"}function O(t,e){for(var n,i,r,o=[],s=0,a=t.length;a>s;s++)i=t[s],i.style&&(o[s]=St.get(i,"olddisplay"),n=i.style.display,e?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&Ot(i)&&(o[s]=St.access(i,"olddisplay",S(i.nodeName)))):(r=Ot(i),"none"===n&&r||St.set(i,"olddisplay",r?n:ot.css(i,"display"))));for(s=0;a>s;s++)i=t[s],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[s]||"":"none"));return t}function I(t,e,n,i,r){return new I.prototype.init(t,e,n,i,r)}function R(){return t.setTimeout(function(){re=void 0}),re=ot.now()}function N(t,e){var n,i=0,r={height:t};for(e=e?1:0;4>i;i+=2-e)n=Mt[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function L(t,e,n){for(var i,r=(F.tweeners[e]||[]).concat(F.tweeners["*"]),o=0,s=r.length;s>o;o++)if(i=r[o].call(n,e,t))return i}function $(t,e,n){var i,r,o,s,a,l,u,c,h=this,d={},p=t.style,f=t.nodeType&&Ot(t),g=St.get(t,"fxshow");n.queue||(a=ot._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,ot.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],u=ot.css(t,"display"),c="none"===u?St.get(t,"olddisplay")||S(t.nodeName):u,"inline"===c&&"none"===ot.css(t,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],se.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;f=!0}d[i]=g&&g[i]||ot.style(t,i)}else u=void 0;if(ot.isEmptyObject(d))"inline"===("none"===u?S(t.nodeName):u)&&(p.display=u);else{g?"hidden"in g&&(f=g.hidden):g=St.access(t,"fxshow",{}),o&&(g.hidden=!f),f?ot(t).show():h.done(function(){ot(t).hide()}),h.done(function(){var e;St.remove(t,"fxshow");for(e in d)ot.style(t,e,d[e])});for(i in d)s=L(f?g[i]:0,i,h),i in g||(g[i]=s.start,f&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function j(t,e){var n,i,r,o,s;for(n in t)if(i=ot.camelCase(n),r=e[i],o=t[n],ot.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),s=ot.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function F(t,e,n){var i,r,o=0,s=F.prefilters.length,a=ot.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=re||R(),n=Math.max(0,u.startTime+u.duration-e),i=n/u.duration||0,o=1-i,s=0,l=u.tweens.length;l>s;s++)u.tweens[s].run(o);return a.notifyWith(t,[u,o,n]),1>o&&l?n:(a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:ot.extend({},e),opts:ot.extend(!0,{specialEasing:{},easing:ot.easing._default},n),originalProperties:e,originalOptions:n,startTime:re||R(),duration:n.duration,tweens:[],createTween:function(e,n){var i=ot.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)u.tweens[n].run(1);return e?(a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u,e])):a.rejectWith(t,[u,e]),this}}),c=u.props;for(j(c,u.opts.specialEasing);s>o;o++)if(i=F.prefilters[o].call(u,t,c,u.opts))return ot.isFunction(i.stop)&&(ot._queueHooks(u.elem,u.opts.queue).stop=ot.proxy(i.stop,i)),i;return ot.map(c,L,u),ot.isFunction(u.opts.start)&&u.opts.start.call(t,u),ot.fx.timer(ot.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function z(t){return t.getAttribute&&t.getAttribute("class")||""}function B(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(wt)||[];if(ot.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function H(t,e,n,i){function r(a){var l;return o[a]=!0,ot.each(t[a]||[],function(t,a){var u=a(e,n,i);return"string"!=typeof u||s||o[u]?s?!(l=u):void 0:(e.dataTypes.unshift(u),r(u),!1)}),l}var o={},s=t===Ee;return r(e.dataTypes[0])||!o["*"]&&r("*")}function W(t,e){var n,i,r=ot.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&ot.extend(!0,t,i),t}function q(t,e,n){for(var i,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function Y(t,e,n,i){var r,o,s,a,l,u={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(s=u[l+" "+o]||u["* "+o],!s)for(r in u)if(a=r.split(" "),a[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){s===!0?s=u[r]:u[r]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function V(t,e,n,i){var r;if(ot.isArray(e))ot.each(e,function(e,r){n||Pe.test(t)?i(t,r):V(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==ot.type(e))i(t,e);else for(r in e)V(t+"["+r+"]",e[r],n,i)}function U(t){return ot.isWindow(t)?t:9===t.nodeType&&t.defaultView}var G=[],X=t.document,K=G.slice,Z=G.concat,Q=G.push,J=G.indexOf,tt={},et=tt.toString,nt=tt.hasOwnProperty,it={},rt="2.2.4",ot=function(t,e){return new ot.fn.init(t,e)},st=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,at=/^-ms-/,lt=/-([\da-z])/gi,ut=function(t,e){return e.toUpperCase()};ot.fn=ot.prototype={jquery:rt,constructor:ot,selector:"",length:0,toArray:function(){return K.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:K.call(this)},pushStack:function(t){var e=ot.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return ot.each(this,t)},map:function(t){return this.pushStack(ot.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(K.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:Q,sort:G.sort,splice:G.splice},ot.extend=ot.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||ot.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],i=t[e],s!==i&&(u&&i&&(ot.isPlainObject(i)||(r=ot.isArray(i)))?(r?(r=!1,o=n&&ot.isArray(n)?n:[]):o=n&&ot.isPlainObject(n)?n:{},s[e]=ot.extend(u,o,i)):void 0!==i&&(s[e]=i));return s},ot.extend({expando:"jQuery"+(rt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ot.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!ot.isArray(t)&&e-parseFloat(e)+1>=0},isPlainObject:function(t){var e;if("object"!==ot.type(t)||t.nodeType||ot.isWindow(t))return!1;if(t.constructor&&!nt.call(t,"constructor")&&!nt.call(t.constructor.prototype||{},"isPrototypeOf"))return!1;for(e in t);return void 0===e||nt.call(t,e)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?tt[et.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=ot.trim(t),t&&(1===t.indexOf("use strict")?(e=X.createElement("script"),e.text=t,X.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(at,"ms-").replace(lt,ut)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var i,r=0;if(n(t))for(i=t.length;i>r&&e.call(t[r],r,t[r])!==!1;r++);else for(r in t)if(e.call(t[r],r,t[r])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(st,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?ot.merge(i,"string"==typeof t?[t]:t):Q.call(i,t)),i},inArray:function(t,e,n){return null==e?-1:J.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;n>i;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],o=0,s=t.length,a=!n;s>o;o++)i=!e(t[o],o),i!==a&&r.push(t[o]);return r},map:function(t,e,i){var r,o,s=0,a=[];if(n(t))for(r=t.length;r>s;s++)o=e(t[s],s,i),null!=o&&a.push(o);else for(s in t)o=e(t[s],s,i),null!=o&&a.push(o);return Z.apply([],a)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(n=t[e],e=t,t=n),ot.isFunction(t)?(i=K.call(arguments,2),r=function(){return t.apply(e||this,i.concat(K.call(arguments)))},r.guid=t.guid=t.guid||ot.guid++,r):void 0},now:Date.now,support:it}),"function"==typeof Symbol&&(ot.fn[Symbol.iterator]=G[Symbol.iterator]),ot.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){tt["[object "+e+"]"]=e.toLowerCase()});var ct=/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
function(t){function e(t,e,n,i){var r,o,s,a,l,u,h,p,f=e&&e.ownerDocument,g=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==g&&9!==g&&11!==g)return n;if(!i&&((e?e.ownerDocument||e:z)!==O&&M(e),e=e||O,R)){if(11!==g&&(u=vt.exec(t)))if(r=u[1]){if(9===g){if(!(s=e.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(f&&(s=f.getElementById(r))&&j(e,s)&&s.id===r)return n.push(s),n}else{if(u[2])return Q.apply(n,e.getElementsByTagName(t)),n;if((r=u[3])&&w.getElementsByClassName&&e.getElementsByClassName)return Q.apply(n,e.getElementsByClassName(r)),n}if(w.qsa&&!Y[t+" "]&&(!N||!N.test(t))){if(1!==g)f=e,p=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(_t,"\\$&"):e.setAttribute("id",a=F),h=S(t),o=h.length,l=dt.test(a)?"#"+a:"[id='"+a+"']";o--;)h[o]=l+" "+d(h[o]);p=h.join(","),f=yt.test(t)&&c(e.parentNode)||e}if(p)try{return Q.apply(n,f.querySelectorAll(p)),n}catch(m){}finally{a===F&&e.removeAttribute("id")}}}return T(t.replace(at,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>x.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[F]=!0,t}function r(t){var e=O.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=n.length;i--;)x.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||U)-(~t.sourceIndex||U);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function d(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function p(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=H++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,s){var a,l,u,c=[B,o];if(s){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(u=e[F]||(e[F]={}),l=u[e.uniqueID]||(u[e.uniqueID]={}),(a=l[i])&&a[0]===B&&a[1]===o)return c[2]=a[2];if(l[i]=c,c[2]=t(e,n,s))return!0}}}function f(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function g(t,n,i){for(var r=0,o=n.length;o>r;r++)e(t,n[r],i);return i}function m(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,u=null!=e;l>a;a++)(o=t[a])&&(!n||n(o,i,r))&&(s.push(o),u&&e.push(a));return s}function v(t,e,n,r,o,s){return r&&!r[F]&&(r=v(r)),o&&!o[F]&&(o=v(o,s)),i(function(i,s,a,l){var u,c,h,d=[],p=[],f=s.length,v=i||g(e||"*",a.nodeType?[a]:a,[]),y=!t||!i&&e?v:m(v,d,t,a,l),_=n?o||(i?t:f||r)?[]:s:y;if(n&&n(y,_,a,l),r)for(u=m(_,p),r(u,[],a,l),c=u.length;c--;)(h=u[c])&&(_[p[c]]=!(y[p[c]]=h));if(i){if(o||t){if(o){for(u=[],c=_.length;c--;)(h=_[c])&&u.push(y[c]=h);o(null,_=[],u,l)}for(c=_.length;c--;)(h=_[c])&&(u=o?tt(i,h):d[c])>-1&&(i[u]=!(s[u]=h))}}else _=m(_===s?_.splice(f,_.length):_),o?o(null,s,_,l):Q.apply(s,_)})}function y(t){for(var e,n,i,r=t.length,o=x.relative[t[0].type],s=o||x.relative[" "],a=o?1:0,l=p(function(t){return t===e},s,!0),u=p(function(t){return tt(e,t)>-1},s,!0),c=[function(t,n,i){var r=!o&&(i||n!==D)||((e=n).nodeType?l(t,n,i):u(t,n,i));return e=null,r}];r>a;a++)if(n=x.relative[t[a].type])c=[p(f(c),n)];else{if(n=x.filter[t[a].type].apply(null,t[a].matches),n[F]){for(i=++a;r>i&&!x.relative[t[i].type];i++);return v(a>1&&f(c),a>1&&d(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),n,i>a&&y(t.slice(a,i)),r>i&&y(t=t.slice(i)),r>i&&d(t))}c.push(n)}return f(c)}function _(t,n){var r=n.length>0,o=t.length>0,s=function(i,s,a,l,u){var c,h,d,p=0,f="0",g=i&&[],v=[],y=D,_=i||o&&x.find.TAG("*",u),b=B+=null==y?1:Math.random()||.1,w=_.length;for(u&&(D=s===O||s||u);f!==w&&null!=(c=_[f]);f++){if(o&&c){for(h=0,s||c.ownerDocument===O||(M(c),a=!R);d=t[h++];)if(d(c,s||O,a)){l.push(c);break}u&&(B=b)}r&&((c=!d&&c)&&p--,i&&g.push(c))}if(p+=f,r&&f!==p){for(h=0;d=n[h++];)d(g,v,s,a);if(i){if(p>0)for(;f--;)g[f]||v[f]||(v[f]=K.call(l));v=m(v)}Q.apply(l,v),u&&!i&&v.length>0&&p+n.length>1&&e.uniqueSort(l)}return u&&(B=b,D=y),g};return r?i(s):s}var b,w,x,C,k,S,E,T,D,A,P,M,O,I,R,N,L,$,j,F="sizzle"+1*new Date,z=t.document,B=0,H=0,W=n(),q=n(),Y=n(),V=function(t,e){return t===e&&(P=!0),0},U=1<<31,G={}.hasOwnProperty,X=[],K=X.pop,Z=X.push,Q=X.push,J=X.slice,tt=function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",ot=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),at=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ut=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ht=new RegExp(ot),dt=new RegExp("^"+it+"$"),pt={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,_t=/'|\\/g,bt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),wt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},xt=function(){M()};try{Q.apply(X=J.call(z.childNodes),z.childNodes),X[z.childNodes.length].nodeType}catch(Ct){Q={apply:X.length?function(t,e){Z.apply(t,J.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}w=e.support={},k=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},M=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:z;return i!==O&&9===i.nodeType&&i.documentElement?(O=i,I=O.documentElement,R=!k(O),(n=O.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",xt,!1):n.attachEvent&&n.attachEvent("onunload",xt)),w.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=r(function(t){return t.appendChild(O.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=mt.test(O.getElementsByClassName),w.getById=r(function(t){return I.appendChild(t).id=F,!O.getElementsByName||!O.getElementsByName(F).length}),w.getById?(x.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&R){var n=e.getElementById(t);return n?[n]:[]}},x.filter.ID=function(t){var e=t.replace(bt,wt);return function(t){return t.getAttribute("id")===e}}):(delete x.find.ID,x.filter.ID=function(t){var e=t.replace(bt,wt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),x.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},x.find.CLASS=w.getElementsByClassName&&function(t,e){return"undefined"!=typeof e.getElementsByClassName&&R?e.getElementsByClassName(t):void 0},L=[],N=[],(w.qsa=mt.test(O.querySelectorAll))&&(r(function(t){I.appendChild(t).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&N.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||N.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+F+"-]").length||N.push("~="),t.querySelectorAll(":checked").length||N.push(":checked"),t.querySelectorAll("a#"+F+"+*").length||N.push(".#.+[+~]")}),r(function(t){var e=O.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&N.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||N.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),N.push(",.*:")})),(w.matchesSelector=mt.test($=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&r(function(t){w.disconnectedMatch=$.call(t,"div"),$.call(t,"[s!='']:x"),L.push("!=",ot)}),N=N.length&&new RegExp(N.join("|")),L=L.length&&new RegExp(L.join("|")),e=mt.test(I.compareDocumentPosition),j=e||mt.test(I.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},V=e?function(t,e){if(t===e)return P=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!w.sortDetached&&e.compareDocumentPosition(t)===n?t===O||t.ownerDocument===z&&j(z,t)?-1:e===O||e.ownerDocument===z&&j(z,e)?1:A?tt(A,t)-tt(A,e):0:4&n?-1:1)}:function(t,e){if(t===e)return P=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],l=[e];if(!r||!o)return t===O?-1:e===O?1:r?-1:o?1:A?tt(A,t)-tt(A,e):0;if(r===o)return s(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;a[i]===l[i];)i++;return i?s(a[i],l[i]):a[i]===z?-1:l[i]===z?1:0},O):O},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==O&&M(t),n=n.replace(ct,"='$1']"),w.matchesSelector&&R&&!Y[n+" "]&&(!L||!L.test(n))&&(!N||!N.test(n)))try{var i=$.call(t,n);if(i||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){}return e(n,O,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==O&&M(t),j(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==O&&M(t);var n=x.attrHandle[e.toLowerCase()],i=n&&G.call(x.attrHandle,e.toLowerCase())?n(t,e,!R):void 0;return void 0!==i?i:w.attributes||!R?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(P=!w.detectDuplicates,A=!w.sortStable&&t.slice(0),t.sort(V),P){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return A=null,t},C=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=C(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=C(e);return n},x=e.selectors={cacheLength:50,createPseudo:i,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(bt,wt),t[3]=(t[3]||t[4]||t[5]||"").replace(bt,wt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ht.test(n)&&(e=S(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(bt,wt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=W[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&W(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(st," ")+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var u,c,h,d,p,f,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a,_=!1;if(m){if(o){for(;g;){for(d=e;d=d[g];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&y){for(d=m,h=d[F]||(d[F]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),u=c[t]||[],p=u[0]===B&&u[1],_=p&&u[2],d=p&&m.childNodes[p];d=++p&&d&&d[g]||(_=p=0)||f.pop();)if(1===d.nodeType&&++_&&d===e){c[t]=[B,p,_];break}}else if(y&&(d=e,h=d[F]||(d[F]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),u=c[t]||[],p=u[0]===B&&u[1],_=p),_===!1)for(;(d=++p&&d&&d[g]||(_=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++_||(y&&(h=d[F]||(d[F]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),c[t]=[B,_]),d!==e)););return _-=r,_===i||_%i===0&&_/i>=0}}},PSEUDO:function(t,n){var r,o=x.pseudos[t]||x.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[F]?o(n):o.length>1?(r=[t,t,"",n],x.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),s=r.length;s--;)i=tt(t,r[s]),t[i]=!(e[i]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=E(t.replace(at,"$1"));return r[F]?i(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(bt,wt),function(e){return(e.textContent||e.innerText||C(e)).indexOf(t)>-1}}),lang:i(function(t){return dt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(bt,wt).toLowerCase(),function(e){var n;do if(n=R?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===I},focus:function(t){return t===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[0>n?n+e:n]}),even:u(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:u(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},x.pseudos.nth=x.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[b]=a(b);for(b in{submit:!0,reset:!0})x.pseudos[b]=l(b);return h.prototype=x.filters=x.pseudos,x.setFilters=new h,S=e.tokenize=function(t,n){var i,r,o,s,a,l,u,c=q[t+" "];if(c)return n?0:c.slice(0);for(a=t,l=[],u=x.preFilter;a;){(!i||(r=lt.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=ut.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(at," ")}),a=a.slice(i.length));for(s in x.filter)!(r=pt[s].exec(a))||u[s]&&!(r=u[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):q(t,l).slice(0)},E=e.compile=function(t,e){var n,i=[],r=[],o=Y[t+" "];if(!o){for(e||(e=S(t)),n=e.length;n--;)o=y(e[n]),o[F]?i.push(o):r.push(o);o=Y(t,_(r,i)),o.selector=t}return o},T=e.select=function(t,e,n,i){var r,o,s,a,l,u="function"==typeof t&&t,h=!i&&S(t=u.selector||t);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&w.getById&&9===e.nodeType&&R&&x.relative[o[1].type]){if(e=(x.find.ID(s.matches[0].replace(bt,wt),e)||[])[0],!e)return n;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=pt.needsContext.test(t)?0:o.length;r--&&(s=o[r],!x.relative[a=s.type]);)if((l=x.find[a])&&(i=l(s.matches[0].replace(bt,wt),yt.test(o[0].type)&&c(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&d(o),!t)return Q.apply(n,i),n;break}}return(u||E(t,h))(i,e,!R,n,!e||yt.test(t)&&c(e.parentNode)||e),n},w.sortStable=F.split("").sort(V).join("")===F,w.detectDuplicates=!!P,M(),w.sortDetached=r(function(t){return 1&t.compareDocumentPosition(O.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var i;return n?void 0:t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);ot.find=ct,ot.expr=ct.selectors,ot.expr[":"]=ot.expr.pseudos,ot.uniqueSort=ot.unique=ct.uniqueSort,ot.text=ct.getText,ot.isXMLDoc=ct.isXML,ot.contains=ct.contains;var ht=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&ot(t).is(n))break;i.push(t)}return i},dt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},pt=ot.expr.match.needsContext,ft=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,gt=/^.[^:#\[\.,]*$/;ot.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?ot.find.matchesSelector(i,t)?[i]:[]:ot.find.matches(t,ot.grep(e,function(t){return 1===t.nodeType}))},ot.fn.extend({find:function(t){var e,n=this.length,i=[],r=this;if("string"!=typeof t)return this.pushStack(ot(t).filter(function(){for(e=0;n>e;e++)if(ot.contains(r[e],this))return!0}));for(e=0;n>e;e++)ot.find(t,r[e],i);return i=this.pushStack(n>1?ot.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&pt.test(t)?ot(t):t||[],!1).length}});var mt,vt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,yt=ot.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||mt,"string"==typeof t){if(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:vt.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof ot?e[0]:e,ot.merge(this,ot.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:X,!0)),ft.test(i[1])&&ot.isPlainObject(e))for(i in e)ot.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return r=X.getElementById(i[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=X,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ot.isFunction(t)?void 0!==n.ready?n.ready(t):t(ot):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),ot.makeArray(t,this))};yt.prototype=ot.fn,mt=ot(X);var _t=/^(?:parents|prev(?:Until|All))/,bt={children:!0,contents:!0,next:!0,prev:!0};ot.fn.extend({has:function(t){var e=ot(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(ot.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],s=pt.test(t)||"string"!=typeof t?ot(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ot.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?ot.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?J.call(ot(t),this[0]):J.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ot.uniqueSort(ot.merge(this.get(),ot(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ot.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return ht(t,"parentNode")},parentsUntil:function(t,e,n){return ht(t,"parentNode",n)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return ht(t,"nextSibling")},prevAll:function(t){return ht(t,"previousSibling")},nextUntil:function(t,e,n){return ht(t,"nextSibling",n)},prevUntil:function(t,e,n){return ht(t,"previousSibling",n)},siblings:function(t){return dt((t.parentNode||{}).firstChild,t)},children:function(t){return dt(t.firstChild)},contents:function(t){return t.contentDocument||ot.merge([],t.childNodes)}},function(t,e){ot.fn[t]=function(n,i){var r=ot.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=ot.filter(i,r)),this.length>1&&(bt[t]||ot.uniqueSort(r),_t.test(t)&&r.reverse()),this.pushStack(r)}});var wt=/\S+/g;ot.Callbacks=function(t){t="string"==typeof t?o(t):ot.extend({},t);var e,n,i,r,s=[],a=[],l=-1,u=function(){for(r=t.once,i=e=!0;a.length;l=-1)for(n=a.shift();++l<s.length;)s[l].apply(n[0],n[1])===!1&&t.stopOnFalse&&(l=s.length,n=!1);t.memory||(n=!1),e=!1,r&&(s=n?[]:"")},c={add:function(){return s&&(n&&!e&&(l=s.length-1,a.push(n)),function i(e){ot.each(e,function(e,n){ot.isFunction(n)?t.unique&&c.has(n)||s.push(n):n&&n.length&&"string"!==ot.type(n)&&i(n)})}(arguments),n&&!e&&u()),this},remove:function(){return ot.each(arguments,function(t,e){for(var n;(n=ot.inArray(e,s,n))>-1;)s.splice(n,1),l>=n&&l--}),this},has:function(t){return t?ot.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=a=[],s=n="",this},disabled:function(){return!s},lock:function(){return r=a=[],n||(s=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=n||[],n=[t,n.slice?n.slice():n],a.push(n),e||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},ot.extend({Deferred:function(t){var e=[["resolve","done",ot.Callbacks("once memory"),"resolved"],["reject","fail",ot.Callbacks("once memory"),"rejected"],["notify","progress",ot.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ot.Deferred(function(n){ot.each(e,function(e,o){var s=ot.isFunction(t[e])&&t[e];r[o[1]](function(){var t=s&&s.apply(this,arguments);t&&ot.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===i?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ot.extend(t,i):i}},r={};return i.pipe=i.then,ot.each(e,function(t,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=K.call(arguments),s=o.length,a=1!==s||t&&ot.isFunction(t.promise)?s:0,l=1===a?t:ot.Deferred(),u=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?K.call(arguments):r,i===e?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(e=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)o[r]&&ot.isFunction(o[r].promise)?o[r].promise().progress(u(r,n,e)).done(u(r,i,o)).fail(l.reject):--a;return a||l.resolveWith(i,o),l.promise()}});var xt;ot.fn.ready=function(t){return ot.ready.promise().done(t),this},ot.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ot.readyWait++:ot.ready(!0)},ready:function(t){(t===!0?--ot.readyWait:ot.isReady)||(ot.isReady=!0,t!==!0&&--ot.readyWait>0||(xt.resolveWith(X,[ot]),ot.fn.triggerHandler&&(ot(X).triggerHandler("ready"),ot(X).off("ready"))))}}),ot.ready.promise=function(e){return xt||(xt=ot.Deferred(),"complete"===X.readyState||"loading"!==X.readyState&&!X.documentElement.doScroll?t.setTimeout(ot.ready):(X.addEventListener("DOMContentLoaded",s),t.addEventListener("load",s))),xt.promise(e)},ot.ready.promise();var Ct=function(t,e,n,i,r,o,s){var a=0,l=t.length,u=null==n;if("object"===ot.type(n)){r=!0;for(a in n)Ct(t,e,a,n[a],!0,o,s)}else if(void 0!==i&&(r=!0,ot.isFunction(i)||(s=!0),u&&(s?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(ot(t),n)})),e))for(;l>a;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:u?e.call(t):l?e(t[0],n):o},kt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};a.uid=1,a.prototype={register:function(t,e){var n=e||{};return t.nodeType?t[this.expando]=n:Object.defineProperty(t,this.expando,{value:n,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!kt(t))return{};var e=t[this.expando];return e||(e={},kt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[e]=n;else for(i in e)r[i]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?(i=this.get(t,e),void 0!==i?i:this.get(t,ot.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,r,o=t[this.expando];if(void 0!==o){if(void 0===e)this.register(t);else{ot.isArray(e)?i=e.concat(e.map(ot.camelCase)):(r=ot.camelCase(e),e in o?i=[e,r]:(i=r,i=i in o?[i]:i.match(wt)||[])),n=i.length;for(;n--;)delete o[i[n]]}(void 0===e||ot.isEmptyObject(o))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!ot.isEmptyObject(e)}};var St=new a,Et=new a,Tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Dt=/[A-Z]/g;ot.extend({hasData:function(t){return Et.hasData(t)||St.hasData(t)},data:function(t,e,n){return Et.access(t,e,n)},removeData:function(t,e){Et.remove(t,e)},_data:function(t,e,n){return St.access(t,e,n)},_removeData:function(t,e){St.remove(t,e)}}),ot.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=Et.get(o),1===o.nodeType&&!St.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=ot.camelCase(i.slice(5)),l(o,i,r[i])));St.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Et.set(this,t)}):Ct(this,function(e){var n,i;if(o&&void 0===e){if(n=Et.get(o,t)||Et.get(o,t.replace(Dt,"-$&").toLowerCase()),void 0!==n)return n;if(i=ot.camelCase(t),n=Et.get(o,i),void 0!==n)return n;if(n=l(o,i,void 0),void 0!==n)return n}else i=ot.camelCase(t),this.each(function(){var n=Et.get(this,i);Et.set(this,i,e),t.indexOf("-")>-1&&void 0!==n&&Et.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Et.remove(this,t)})}}),ot.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=St.get(t,e),n&&(!i||ot.isArray(n)?i=St.access(t,e,ot.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=ot.queue(t,e),i=n.length,r=n.shift(),o=ot._queueHooks(t,e),s=function(){ot.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return St.get(t,n)||St.access(t,n,{empty:ot.Callbacks("once memory").add(function(){St.remove(t,[e+"queue",n])})})}}),ot.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?ot.queue(this[0],t):void 0===e?this:this.each(function(){var n=ot.queue(this,t,e);ot._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&ot.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ot.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=ot.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)n=St.get(o[s],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var At=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Pt=new RegExp("^(?:([+-])=|)("+At+")([a-z%]*)$","i"),Mt=["Top","Right","Bottom","Left"],Ot=function(t,e){return t=e||t,"none"===ot.css(t,"display")||!ot.contains(t.ownerDocument,t)},It=/^(?:checkbox|radio)$/i,Rt=/<([\w:-]+)/,Nt=/^$|\/(?:java|ecma)script/i,Lt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Lt.optgroup=Lt.option,Lt.tbody=Lt.tfoot=Lt.colgroup=Lt.caption=Lt.thead,Lt.th=Lt.td;var $t=/<|&#?\w+;/;!function(){var t=X.createDocumentFragment(),e=t.appendChild(X.createElement("div")),n=X.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),it.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",it.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var jt=/^key/,Ft=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,zt=/^([^.]*)(?:\.(.+)|)/;ot.event={global:{},add:function(t,e,n,i,r){var o,s,a,l,u,c,h,d,p,f,g,m=St.get(t);if(m)for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=ot.guid++),(l=m.events)||(l=m.events={}),(s=m.handle)||(s=m.handle=function(e){return"undefined"!=typeof ot&&ot.event.triggered!==e.type?ot.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(wt)||[""],u=e.length;u--;)a=zt.exec(e[u])||[],p=g=a[1],f=(a[2]||"").split(".").sort(),p&&(h=ot.event.special[p]||{},p=(r?h.delegateType:h.bindType)||p,h=ot.event.special[p]||{},c=ot.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&ot.expr.match.needsContext.test(r),namespace:f.join(".")},o),(d=l[p])||(d=l[p]=[],d.delegateCount=0,h.setup&&h.setup.call(t,i,f,s)!==!1||t.addEventListener&&t.addEventListener(p,s)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,c):d.push(c),ot.event.global[p]=!0)},remove:function(t,e,n,i,r){var o,s,a,l,u,c,h,d,p,f,g,m=St.hasData(t)&&St.get(t);if(m&&(l=m.events)){for(e=(e||"").match(wt)||[""],u=e.length;u--;)if(a=zt.exec(e[u])||[],p=g=a[1],f=(a[2]||"").split(".").sort(),p){for(h=ot.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,d=l[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)c=d[o],!r&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(t,c));s&&!d.length&&(h.teardown&&h.teardown.call(t,f,m.handle)!==!1||ot.removeEvent(t,p,m.handle),delete l[p])}else for(p in l)ot.event.remove(t,p+e[u],n,i,!0);ot.isEmptyObject(l)&&St.remove(t,"handle events")}},dispatch:function(t){t=ot.event.fix(t);var e,n,i,r,o,s=[],a=K.call(arguments),l=(St.get(this,"events")||{})[t.type]||[],u=ot.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,t)!==!1){for(s=ot.event.handlers.call(this,t,l),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.rnamespace||t.rnamespace.test(o.namespace))&&(t.handleObj=o,
t.data=o.data,i=((ot.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(i=[],n=0;a>n;n++)o=e[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?ot(r,this).index(l)>-1:ot.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&s.push({elem:l,handlers:i})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||X,i=n.documentElement,r=n.body,t.pageX=e.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[ot.expando])return t;var e,n,i,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Ft.test(r)?this.mouseHooks:jt.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new ot.Event(o),e=i.length;e--;)n=i[e],t[n]=o[n];return t.target||(t.target=X),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==g()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===g()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&ot.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return ot.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},ot.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},ot.Event=function(t,e){return this instanceof ot.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?p:f):this.type=t,e&&ot.extend(this,e),this.timeStamp=t&&t.timeStamp||ot.now(),void(this[ot.expando]=!0)):new ot.Event(t,e)},ot.Event.prototype={constructor:ot.Event,isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=p,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=p,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=p,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},ot.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ot.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return(!r||r!==i&&!ot.contains(i,r))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),ot.fn.extend({on:function(t,e,n,i){return m(this,t,e,n,i)},one:function(t,e,n,i){return m(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,ot(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=f),this.each(function(){ot.event.remove(this,t,n,e)})}});var Bt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ht=/<script|<style|<link/i,Wt=/checked\s*(?:[^=]|=\s*.checked.)/i,qt=/^true\/(.*)/,Yt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ot.extend({htmlPrefilter:function(t){return t.replace(Bt,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a=t.cloneNode(!0),l=ot.contains(t.ownerDocument,t);if(!(it.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ot.isXMLDoc(t)))for(s=c(a),o=c(t),i=0,r=o.length;r>i;i++)w(o[i],s[i]);if(e)if(n)for(o=o||c(t),s=s||c(a),i=0,r=o.length;r>i;i++)b(o[i],s[i]);else b(t,a);return s=c(a,"script"),s.length>0&&h(s,!l&&c(t,"script")),a},cleanData:function(t){for(var e,n,i,r=ot.event.special,o=0;void 0!==(n=t[o]);o++)if(kt(n)){if(e=n[St.expando]){if(e.events)for(i in e.events)r[i]?ot.event.remove(n,i):ot.removeEvent(n,i,e.handle);n[St.expando]=void 0}n[Et.expando]&&(n[Et.expando]=void 0)}}}),ot.fn.extend({domManip:x,detach:function(t){return C(this,t,!0)},remove:function(t){return C(this,t)},text:function(t){return Ct(this,function(t){return void 0===t?ot.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return x(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=v(this,t);e.appendChild(t)}})},prepend:function(){return x(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=v(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return x(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return x(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(ot.cleanData(c(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return ot.clone(this,t,e)})},html:function(t){return Ct(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Ht.test(t)&&!Lt[(Rt.exec(t)||["",""])[1].toLowerCase()]){t=ot.htmlPrefilter(t);try{for(;i>n;n++)e=this[n]||{},1===e.nodeType&&(ot.cleanData(c(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return x(this,arguments,function(e){var n=this.parentNode;ot.inArray(this,t)<0&&(ot.cleanData(c(this)),n&&n.replaceChild(e,this))},t)}}),ot.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ot.fn[t]=function(t){for(var n,i=[],r=ot(t),o=r.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),ot(r[s])[e](n),Q.apply(i,n.get());return this.pushStack(i)}});var Vt,Ut={HTML:"block",BODY:"block"},Gt=/^margin/,Xt=new RegExp("^("+At+")(?!px)[a-z%]+$","i"),Kt=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},Zt=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=s[o];return r},Qt=X.documentElement;!function(){function e(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Qt.appendChild(s);var e=t.getComputedStyle(a);n="1%"!==e.top,o="2px"===e.marginLeft,i="4px"===e.width,a.style.marginRight="50%",r="4px"===e.marginRight,Qt.removeChild(s)}var n,i,r,o,s=X.createElement("div"),a=X.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",it.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),ot.extend(it,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==i&&e(),i},pixelMarginRight:function(){return null==i&&e(),r},reliableMarginLeft:function(){return null==i&&e(),o},reliableMarginRight:function(){var e,n=a.appendChild(X.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",Qt.appendChild(s),e=!parseFloat(t.getComputedStyle(n).marginRight),Qt.removeChild(s),a.removeChild(n),e}}))}();var Jt=/^(none|table(?!-c[ea]).+)/,te={position:"absolute",visibility:"hidden",display:"block"},ee={letterSpacing:"0",fontWeight:"400"},ne=["Webkit","O","Moz","ms"],ie=X.createElement("div").style;ot.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=E(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=ot.camelCase(e),l=t.style;return e=ot.cssProps[a]||(ot.cssProps[a]=D(a)||a),s=ot.cssHooks[e]||ot.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:l[e]:(o=typeof n,"string"===o&&(r=Pt.exec(n))&&r[1]&&(n=u(t,e,r),o="number"),null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(ot.cssNumber[a]?"":"px")),it.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(l[e]=n)),void 0)}},css:function(t,e,n,i){var r,o,s,a=ot.camelCase(e);return e=ot.cssProps[a]||(ot.cssProps[a]=D(a)||a),s=ot.cssHooks[e]||ot.cssHooks[a],s&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=E(t,e,i)),"normal"===r&&e in ee&&(r=ee[e]),""===n||n?(o=parseFloat(r),n===!0||isFinite(o)?o||0:r):r}}),ot.each(["height","width"],function(t,e){ot.cssHooks[e]={get:function(t,n,i){return n?Jt.test(ot.css(t,"display"))&&0===t.offsetWidth?Zt(t,te,function(){return M(t,e,i)}):M(t,e,i):void 0},set:function(t,n,i){var r,o=i&&Kt(t),s=i&&P(t,e,i,"border-box"===ot.css(t,"boxSizing",!1,o),o);return s&&(r=Pt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=ot.css(t,e)),A(t,n,s)}}}),ot.cssHooks.marginLeft=T(it.reliableMarginLeft,function(t,e){return e?(parseFloat(E(t,"marginLeft"))||t.getBoundingClientRect().left-Zt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px":void 0}),ot.cssHooks.marginRight=T(it.reliableMarginRight,function(t,e){return e?Zt(t,{display:"inline-block"},E,[t,"marginRight"]):void 0}),ot.each({margin:"",padding:"",border:"Width"},function(t,e){ot.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+Mt[i]+e]=o[i]||o[i-2]||o[0];return r}},Gt.test(t)||(ot.cssHooks[t+e].set=A)}),ot.fn.extend({css:function(t,e){return Ct(this,function(t,e,n){var i,r,o={},s=0;if(ot.isArray(e)){for(i=Kt(t),r=e.length;r>s;s++)o[e[s]]=ot.css(t,e[s],!1,i);return o}return void 0!==n?ot.style(t,e,n):ot.css(t,e)},t,e,arguments.length>1)},show:function(){return O(this,!0)},hide:function(){return O(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ot(this)?ot(this).show():ot(this).hide()})}}),ot.Tween=I,I.prototype={constructor:I,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||ot.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(ot.cssNumber[n]?"":"px")},cur:function(){var t=I.propHooks[this.prop];return t&&t.get?t.get(this):I.propHooks._default.get(this)},run:function(t){var e,n=I.propHooks[this.prop];return this.options.duration?this.pos=e=ot.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):I.propHooks._default.set(this),this}},I.prototype.init.prototype=I.prototype,I.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ot.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){ot.fx.step[t.prop]?ot.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ot.cssProps[t.prop]]&&!ot.cssHooks[t.prop]?t.elem[t.prop]=t.now:ot.style(t.elem,t.prop,t.now+t.unit)}}},I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ot.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ot.fx=I.prototype.init,ot.fx.step={};var re,oe,se=/^(?:toggle|show|hide)$/,ae=/queueHooks$/;ot.Animation=ot.extend(F,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return u(n.elem,t,Pt.exec(e),n),n}]},tweener:function(t,e){ot.isFunction(t)?(e=t,t=["*"]):t=t.match(wt);for(var n,i=0,r=t.length;r>i;i++)n=t[i],F.tweeners[n]=F.tweeners[n]||[],F.tweeners[n].unshift(e)},prefilters:[$],prefilter:function(t,e){e?F.prefilters.unshift(t):F.prefilters.push(t)}}),ot.speed=function(t,e,n){var i=t&&"object"==typeof t?ot.extend({},t):{complete:n||!n&&e||ot.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ot.isFunction(e)&&e};return i.duration=ot.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ot.fx.speeds?ot.fx.speeds[i.duration]:ot.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){ot.isFunction(i.old)&&i.old.call(this),i.queue&&ot.dequeue(this,i.queue)},i},ot.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Ot).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=ot.isEmptyObject(t),o=ot.speed(e,n,i),s=function(){var e=F(this,ot.extend({},t),o);(r||St.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=ot.timers,s=St.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&ae.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));(e||!n)&&ot.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=St.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=ot.timers,s=i?i.length:0;for(n.finish=!0,ot.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),ot.each(["toggle","show","hide"],function(t,e){var n=ot.fn[e];ot.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(N(e,!0),t,i,r)}}),ot.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ot.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),ot.timers=[],ot.fx.tick=function(){var t,e=0,n=ot.timers;for(re=ot.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||ot.fx.stop(),re=void 0},ot.fx.timer=function(t){ot.timers.push(t),t()?ot.fx.start():ot.timers.pop()},ot.fx.interval=13,ot.fx.start=function(){oe||(oe=t.setInterval(ot.fx.tick,ot.fx.interval))},ot.fx.stop=function(){t.clearInterval(oe),oe=null},ot.fx.speeds={slow:600,fast:200,_default:400},ot.fn.delay=function(e,n){return e=ot.fx?ot.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}})},function(){var t=X.createElement("input"),e=X.createElement("select"),n=e.appendChild(X.createElement("option"));t.type="checkbox",it.checkOn=""!==t.value,it.optSelected=n.selected,e.disabled=!0,it.optDisabled=!n.disabled,t=X.createElement("input"),t.value="t",t.type="radio",it.radioValue="t"===t.value}();var le,ue=ot.expr.attrHandle;ot.fn.extend({attr:function(t,e){return Ct(this,ot.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ot.removeAttr(this,t)})}}),ot.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?ot.prop(t,e,n):(1===o&&ot.isXMLDoc(t)||(e=e.toLowerCase(),r=ot.attrHooks[e]||(ot.expr.match.bool.test(e)?le:void 0)),void 0!==n?null===n?void ot.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=ot.find.attr(t,e),null==i?void 0:i))},attrHooks:{type:{set:function(t,e){if(!it.radioValue&&"radio"===e&&ot.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(wt);if(o&&1===t.nodeType)for(;n=o[r++];)i=ot.propFix[n]||n,ot.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)}}),le={set:function(t,e,n){return e===!1?ot.removeAttr(t,n):t.setAttribute(n,n),n}},ot.each(ot.expr.match.bool.source.match(/\w+/g),function(t,e){var n=ue[e]||ot.find.attr;ue[e]=function(t,e,i){var r,o;return i||(o=ue[e],ue[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,ue[e]=o),r}});var ce=/^(?:input|select|textarea|button)$/i,he=/^(?:a|area)$/i;ot.fn.extend({prop:function(t,e){return Ct(this,ot.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[ot.propFix[t]||t]})}}),ot.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ot.isXMLDoc(t)||(e=ot.propFix[e]||e,r=ot.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=ot.find.attr(t,"tabindex");return e?parseInt(e,10):ce.test(t.nodeName)||he.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),it.optSelected||(ot.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ot.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ot.propFix[this.toLowerCase()]=this});var de=/[\t\r\n\f]/g;ot.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,l=0;if(ot.isFunction(t))return this.each(function(e){ot(this).addClass(t.call(this,e,z(this)))});if("string"==typeof t&&t)for(e=t.match(wt)||[];n=this[l++];)if(r=z(n),i=1===n.nodeType&&(" "+r+" ").replace(de," ")){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");a=ot.trim(i),r!==a&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,l=0;if(ot.isFunction(t))return this.each(function(e){ot(this).removeClass(t.call(this,e,z(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(wt)||[];n=this[l++];)if(r=z(n),i=1===n.nodeType&&(" "+r+" ").replace(de," ")){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");a=ot.trim(i),r!==a&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):ot.isFunction(t)?this.each(function(n){ot(this).toggleClass(t.call(this,n,z(this),e),e)}):this.each(function(){var e,i,r,o;if("string"===n)for(i=0,r=ot(this),o=t.match(wt)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else(void 0===t||"boolean"===n)&&(e=z(this),e&&St.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":St.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+z(n)+" ").replace(de," ").indexOf(e)>-1)return!0;return!1}});var pe=/\r/g,fe=/[\x20\t\r\n\f]+/g;ot.fn.extend({val:function(t){var e,n,i,r=this[0];{if(arguments.length)return i=ot.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,ot(this).val()):t,null==r?r="":"number"==typeof r?r+="":ot.isArray(r)&&(r=ot.map(r,function(t){return null==t?"":t+""})),e=ot.valHooks[this.type]||ot.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=ot.valHooks[r.type]||ot.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(pe,""):null==n?"":n)}}}),ot.extend({valHooks:{option:{get:function(t){var e=ot.find.attr(t,"value");return null!=e?e:ot.trim(ot.text(t)).replace(fe," ")}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,s=o?null:[],a=o?r+1:i.length,l=0>r?a:o?r:0;a>l;l++)if(n=i[l],(n.selected||l===r)&&(it.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ot.nodeName(n.parentNode,"optgroup"))){if(e=ot(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=ot.makeArray(e),s=r.length;s--;)i=r[s],(i.selected=ot.inArray(ot.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),ot.each(["radio","checkbox"],function(){ot.valHooks[this]={set:function(t,e){return ot.isArray(e)?t.checked=ot.inArray(ot(t).val(),e)>-1:void 0}},it.checkOn||(ot.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var ge=/^(?:focusinfocus|focusoutblur)$/;ot.extend(ot.event,{trigger:function(e,n,i,r){var o,s,a,l,u,c,h,d=[i||X],p=nt.call(e,"type")?e.type:e,f=nt.call(e,"namespace")?e.namespace.split("."):[];if(s=a=i=i||X,3!==i.nodeType&&8!==i.nodeType&&!ge.test(p+ot.event.triggered)&&(p.indexOf(".")>-1&&(f=p.split("."),p=f.shift(),f.sort()),u=p.indexOf(":")<0&&"on"+p,e=e[ot.expando]?e:new ot.Event(p,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:ot.makeArray(n,[e]),h=ot.event.special[p]||{},r||!h.trigger||h.trigger.apply(i,n)!==!1)){if(!r&&!h.noBubble&&!ot.isWindow(i)){for(l=h.delegateType||p,ge.test(l+p)||(s=s.parentNode);s;s=s.parentNode)d.push(s),a=s;a===(i.ownerDocument||X)&&d.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=d[o++])&&!e.isPropagationStopped();)e.type=o>1?l:h.bindType||p,c=(St.get(s,"events")||{})[e.type]&&St.get(s,"handle"),c&&c.apply(s,n),c=u&&s[u],c&&c.apply&&kt(s)&&(e.result=c.apply(s,n),e.result===!1&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||h._default&&h._default.apply(d.pop(),n)!==!1||!kt(i)||u&&ot.isFunction(i[p])&&!ot.isWindow(i)&&(a=i[u],a&&(i[u]=null),ot.event.triggered=p,i[p](),ot.event.triggered=void 0,a&&(i[u]=a)),e.result}},simulate:function(t,e,n){var i=ot.extend(new ot.Event,n,{type:t,isSimulated:!0});ot.event.trigger(i,null,e)}}),ot.fn.extend({trigger:function(t,e){return this.each(function(){ot.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?ot.event.trigger(t,e,n,!0):void 0}}),ot.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ot.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),ot.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),it.focusin="onfocusin"in t,it.focusin||ot.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){ot.event.simulate(e,t.target,ot.event.fix(t))};ot.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=St.access(i,e);r||i.addEventListener(t,n,!0),St.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=St.access(i,e)-1;r?St.access(i,e,r):(i.removeEventListener(t,n,!0),St.remove(i,e))}}});var me=t.location,ve=ot.now(),ye=/\?/;ot.parseJSON=function(t){return JSON.parse(t+"")},ot.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(i){n=void 0}return(!n||n.getElementsByTagName("parsererror").length)&&ot.error("Invalid XML: "+e),n};var _e=/#.*$/,be=/([?&])_=[^&]*/,we=/^(.*?):[ \t]*([^\r\n]*)$/gm,xe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ce=/^(?:GET|HEAD)$/,ke=/^\/\//,Se={},Ee={},Te="*/".concat("*"),De=X.createElement("a");De.href=me.href,ot.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:me.href,type:"GET",isLocal:xe.test(me.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Te,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ot.parseJSON,"text xml":ot.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?W(W(t,ot.ajaxSettings),e):W(ot.ajaxSettings,t)},ajaxPrefilter:B(Se),ajaxTransport:B(Ee),ajax:function(e,n){function i(e,n,i,a){var u,h,y,_,w,C=n;2!==b&&(b=2,l&&t.clearTimeout(l),r=void 0,s=a||"",x.readyState=e>0?4:0,u=e>=200&&300>e||304===e,i&&(_=q(d,x,i)),_=Y(d,_,x,u),u?(d.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(ot.lastModified[o]=w),w=x.getResponseHeader("etag"),w&&(ot.etag[o]=w)),204===e||"HEAD"===d.type?C="nocontent":304===e?C="notmodified":(C=_.state,h=_.data,y=_.error,u=!y)):(y=C,(e||!C)&&(C="error",0>e&&(e=0))),x.status=e,x.statusText=(n||C)+"",u?g.resolveWith(p,[h,C,x]):g.rejectWith(p,[x,C,y]),x.statusCode(v),v=void 0,c&&f.trigger(u?"ajaxSuccess":"ajaxError",[x,d,u?h:y]),m.fireWith(p,[x,C]),c&&(f.trigger("ajaxComplete",[x,d]),--ot.active||ot.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var r,o,s,a,l,u,c,h,d=ot.ajaxSetup({},n),p=d.context||d,f=d.context&&(p.nodeType||p.jquery)?ot(p):ot.event,g=ot.Deferred(),m=ot.Callbacks("once memory"),v=d.statusCode||{},y={},_={},b=0,w="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!a)for(a={};e=we.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return b||(t=_[n]=_[n]||t,y[t]=e),this},overrideMimeType:function(t){return b||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>b)for(e in t)v[e]=[v[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||w;return r&&r.abort(e),i(0,e),this}};if(g.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,d.url=((e||d.url||me.href)+"").replace(_e,"").replace(ke,me.protocol+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=ot.trim(d.dataType||"*").toLowerCase().match(wt)||[""],null==d.crossDomain){u=X.createElement("a");try{u.href=d.url,u.href=u.href,d.crossDomain=De.protocol+"//"+De.host!=u.protocol+"//"+u.host}catch(C){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ot.param(d.data,d.traditional)),H(Se,d,n,x),2===b)return x;c=ot.event&&d.global,c&&0===ot.active++&&ot.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Ce.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(ye.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=be.test(o)?o.replace(be,"$1_="+ve++):o+(ye.test(o)?"&":"?")+"_="+ve++)),d.ifModified&&(ot.lastModified[o]&&x.setRequestHeader("If-Modified-Since",ot.lastModified[o]),ot.etag[o]&&x.setRequestHeader("If-None-Match",ot.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",d.contentType),x.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Te+"; q=0.01":""):d.accepts["*"]);for(h in d.headers)x.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(d.beforeSend.call(p,x,d)===!1||2===b))return x.abort();w="abort";for(h in{success:1,error:1,complete:1})x[h](d[h]);if(r=H(Ee,d,n,x)){if(x.readyState=1,c&&f.trigger("ajaxSend",[x,d]),2===b)return x;d.async&&d.timeout>0&&(l=t.setTimeout(function(){x.abort("timeout")},d.timeout));try{b=1,r.send(y,i)}catch(C){if(!(2>b))throw C;i(-1,C)}}else i(-1,"No Transport");return x},getJSON:function(t,e,n){return ot.get(t,e,n,"json")},getScript:function(t,e){return ot.get(t,void 0,e,"script")}}),ot.each(["get","post"],function(t,e){ot[e]=function(t,n,i,r){return ot.isFunction(n)&&(r=r||i,i=n,n=void 0),ot.ajax(ot.extend({url:t,type:e,dataType:r,data:n,success:i},ot.isPlainObject(t)&&t))}}),ot._evalUrl=function(t){return ot.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ot.fn.extend({wrapAll:function(t){var e;return ot.isFunction(t)?this.each(function(e){ot(this).wrapAll(t.call(this,e))}):(this[0]&&(e=ot(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return ot.isFunction(t)?this.each(function(e){ot(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ot(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=ot.isFunction(t);return this.each(function(n){ot(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){ot.nodeName(this,"body")||ot(this).replaceWith(this.childNodes)}).end()}}),ot.expr.filters.hidden=function(t){return!ot.expr.filters.visible(t)},ot.expr.filters.visible=function(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0};var Ae=/%20/g,Pe=/\[\]$/,Me=/\r?\n/g,Oe=/^(?:submit|button|image|reset|file)$/i,Ie=/^(?:input|select|textarea|keygen)/i;ot.param=function(t,e){var n,i=[],r=function(t,e){e=ot.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=ot.ajaxSettings&&ot.ajaxSettings.traditional),ot.isArray(t)||t.jquery&&!ot.isPlainObject(t))ot.each(t,function(){r(this.name,this.value)});else for(n in t)V(n,t[n],e,r);return i.join("&").replace(Ae,"+")},ot.fn.extend({serialize:function(){return ot.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ot.prop(this,"elements");return t?ot.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ot(this).is(":disabled")&&Ie.test(this.nodeName)&&!Oe.test(t)&&(this.checked||!It.test(t))}).map(function(t,e){var n=ot(this).val();return null==n?null:ot.isArray(n)?ot.map(n,function(t){return{name:e.name,value:t.replace(Me,"\r\n")}}):{name:e.name,value:n.replace(Me,"\r\n")}}).get()}}),ot.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var Re={0:200,1223:204},Ne=ot.ajaxSettings.xhr();it.cors=!!Ne&&"withCredentials"in Ne,it.ajax=Ne=!!Ne,ot.ajaxTransport(function(e){var n,i;return it.cors||Ne&&!e.crossDomain?{send:function(r,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(s in r)a.setRequestHeader(s,r[s]);n=function(t){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Re[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){n&&i()})},n=n("abort");try{a.send(e.hasContent&&e.data||null)}catch(l){if(n)throw l}},abort:function(){n&&n()}}:void 0}),ot.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ot.globalEval(t),t}}}),ot.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),ot.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,r){e=ot("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),X.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Le=[],$e=/(=)\?(?=&|$)|\?\?/;ot.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Le.pop()||ot.expando+"_"+ve++;
return this[t]=!0,t}}),ot.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,s,a=e.jsonp!==!1&&($e.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&$e.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=ot.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace($e,"$1"+r):e.jsonp!==!1&&(e.url+=(ye.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||ot.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},i.always(function(){void 0===o?ot(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,Le.push(r)),s&&ot.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),ot.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||X;var i=ft.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=d([t],e,r),r&&r.length&&ot(r).remove(),ot.merge([],i.childNodes))};var je=ot.fn.load;ot.fn.load=function(t,e,n){if("string"!=typeof t&&je)return je.apply(this,arguments);var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=ot.trim(t.slice(a)),t=t.slice(0,a)),ot.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&ot.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?ot("<div>").append(ot.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},ot.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ot.fn[e]=function(t){return this.on(e,t)}}),ot.expr.filters.animated=function(t){return ot.grep(ot.timers,function(e){return t===e.elem}).length},ot.offset={setOffset:function(t,e,n){var i,r,o,s,a,l,u,c=ot.css(t,"position"),h=ot(t),d={};"static"===c&&(t.style.position="relative"),a=h.offset(),o=ot.css(t,"top"),l=ot.css(t,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(i=h.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),ot.isFunction(e)&&(e=e.call(t,n,ot.extend({},a))),null!=e.top&&(d.top=e.top-a.top+s),null!=e.left&&(d.left=e.left-a.left+r),"using"in e?e.using.call(t,d):h.css(d)}},ot.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ot.offset.setOffset(this,t,e)});var e,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;if(o)return e=o.documentElement,ot.contains(e,i)?(r=i.getBoundingClientRect(),n=U(o),{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===ot.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ot.nodeName(t[0],"html")||(i=t.offset()),i.top+=ot.css(t[0],"borderTopWidth",!0),i.left+=ot.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-ot.css(n,"marginTop",!0),left:e.left-i.left-ot.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===ot.css(t,"position");)t=t.offsetParent;return t||Qt})}}),ot.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;ot.fn[t]=function(i){return Ct(this,function(t,i,r){var o=U(t);return void 0===r?o?o[e]:t[i]:void(o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r)},t,i,arguments.length)}}),ot.each(["top","left"],function(t,e){ot.cssHooks[e]=T(it.pixelPosition,function(t,n){return n?(n=E(t,e),Xt.test(n)?ot(t).position()[e]+"px":n):void 0})}),ot.each({Height:"height",Width:"width"},function(t,e){ot.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){ot.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||r===!0?"margin":"border");return Ct(this,function(e,n,i){var r;return ot.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?ot.css(e,n,s):ot.style(e,n,i,s)},e,o?i:void 0,o,null)}})}),ot.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},size:function(){return this.length}}),ot.fn.andSelf=ot.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ot});var Fe=t.jQuery,ze=t.$;return ot.noConflict=function(e){return t.$===ot&&(t.$=ze),e&&t.jQuery===ot&&(t.jQuery=Fe),ot},e||(t.jQuery=t.$=ot),ot}),function(){function t(t,e){if(t!==e){var n=null===t,i=t===x,r=t===t,o=null===e,s=e===x,a=e===e;if(t>e&&!o||!r||n&&!s&&a||i&&a)return 1;if(e>t&&!n||!a||o&&!i&&r||s&&r)return-1}return 0}function e(t,e,n){for(var i=t.length,r=n?i:-1;n?r--:++r<i;)if(e(t[r],r,t))return r;return-1}function n(t,e,n){if(e!==e)return p(t,n);for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function i(t){return"function"==typeof t||!1}function r(t){return null==t?"":t+""}function o(t,e){for(var n=-1,i=t.length;++n<i&&e.indexOf(t.charAt(n))>-1;);return n}function s(t,e){for(var n=t.length;n--&&e.indexOf(t.charAt(n))>-1;);return n}function a(e,n){return t(e.criteria,n.criteria)||e.index-n.index}function l(e,n,i){for(var r=-1,o=e.criteria,s=n.criteria,a=o.length,l=i.length;++r<a;){var u=t(o[r],s[r]);if(u){if(r>=l)return u;var c=i[r];return u*("asc"===c||c===!0?1:-1)}}return e.index-n.index}function u(t){return Bt[t]}function c(t){return Ht[t]}function h(t,e,n){return e?t=Yt[t]:n&&(t=Vt[t]),"\\"+t}function d(t){return"\\"+Vt[t]}function p(t,e,n){for(var i=t.length,r=e+(n?0:-1);n?r--:++r<i;){var o=t[r];if(o!==o)return r}return-1}function f(t){return!!t&&"object"==typeof t}function g(t){return 160>=t&&t>=9&&13>=t||32==t||160==t||5760==t||6158==t||t>=8192&&(8202>=t||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function m(t,e){for(var n=-1,i=t.length,r=-1,o=[];++n<i;)t[n]===e&&(t[n]=B,o[++r]=n);return o}function v(t,e){for(var n,i=-1,r=t.length,o=-1,s=[];++i<r;){var a=t[i],l=e?e(a,i,t):a;i&&n===l||(n=l,s[++o]=a)}return s}function y(t){for(var e=-1,n=t.length;++e<n&&g(t.charCodeAt(e)););return e}function _(t){for(var e=t.length;e--&&g(t.charCodeAt(e)););return e}function b(t){return Wt[t]}function w(g){function G(t){if(f(t)&&!Aa(t)&&!(t instanceof Bt)){if(t instanceof tt)return t;if(es.call(t,"__chain__")&&es.call(t,"__wrapped__"))return pi(t)}return new tt(t)}function Q(){}function tt(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}function Bt(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ds,this.__views__=[]}function Ht(){var t=new Bt(this.__wrapped__);return t.__actions__=ne(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ne(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ne(this.__views__),t}function Wt(){if(this.__filtered__){var t=new Bt(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function qt(){var t=this.__wrapped__.value(),e=this.__dir__,n=Aa(t),i=0>e,r=n?t.length:0,o=Vn(0,r,this.__views__),s=o.start,a=o.end,l=a-s,u=i?a:s-1,c=this.__iteratees__,h=c.length,d=0,p=Cs(l,this.__takeCount__);if(!n||$>r||r==l&&p==l)return nn(i&&n?t.reverse():t,this.__actions__);var f=[];t:for(;l--&&p>d;){u+=e;for(var g=-1,m=t[u];++g<h;){var v=c[g],y=v.iteratee,_=v.type,b=y(m);if(_==F)m=b;else if(!b){if(_==j)continue t;break t}}f[d++]=m}return f}function Yt(){this.__data__={}}function Vt(t){return this.has(t)&&delete this.__data__[t]}function Ut(t){return"__proto__"==t?x:this.__data__[t]}function Gt(t){return"__proto__"!=t&&es.call(this.__data__,t)}function Xt(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this}function Kt(t){var e=t?t.length:0;for(this.data={hash:vs(null),set:new hs};e--;)this.push(t[e])}function Zt(t,e){var n=t.data,i="string"==typeof e||Rr(e)?n.set.has(e):n.hash[e];return i?0:-1}function Qt(t){var e=this.data;"string"==typeof t||Rr(t)?e.set.add(t):e.hash[t]=!0}function ee(t,e){for(var n=-1,i=t.length,r=-1,o=e.length,s=Bo(i+o);++n<i;)s[n]=t[n];for(;++r<o;)s[n++]=e[r];return s}function ne(t,e){var n=-1,i=t.length;for(e||(e=Bo(i));++n<i;)e[n]=t[n];return e}function ie(t,e){for(var n=-1,i=t.length;++n<i&&e(t[n],n,t)!==!1;);return t}function re(t,e){for(var n=t.length;n--&&e(t[n],n,t)!==!1;);return t}function oe(t,e){for(var n=-1,i=t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function se(t,e,n,i){for(var r=-1,o=t.length,s=i,a=s;++r<o;){var l=t[r],u=+e(l);n(u,s)&&(s=u,a=l)}return a}function ae(t,e){for(var n=-1,i=t.length,r=-1,o=[];++n<i;){var s=t[n];e(s,n,t)&&(o[++r]=s)}return o}function le(t,e){for(var n=-1,i=t.length,r=Bo(i);++n<i;)r[n]=e(t[n],n,t);return r}function ue(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function ce(t,e,n,i){var r=-1,o=t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function he(t,e,n,i){var r=t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function de(t,e){for(var n=-1,i=t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function pe(t,e){for(var n=t.length,i=0;n--;)i+=+e(t[n])||0;return i}function fe(t,e){return t===x?e:t}function ge(t,e,n,i){return t!==x&&es.call(i,n)?t:e}function me(t,e,n){for(var i=-1,r=za(e),o=r.length;++i<o;){var s=r[i],a=t[s],l=n(a,e[s],s,t,e);(l===l?l===a:a!==a)&&(a!==x||s in t)||(t[s]=l)}return t}function ve(t,e){return null==e?t:_e(e,za(e),t)}function ye(t,e){for(var n=-1,i=null==t,r=!i&&Zn(t),o=r?t.length:0,s=e.length,a=Bo(s);++n<s;){var l=e[n];r?a[n]=Qn(l,o)?t[l]:x:a[n]=i?x:t[l]}return a}function _e(t,e,n){n||(n={});for(var i=-1,r=e.length;++i<r;){var o=e[i];n[o]=t[o]}return n}function be(t,e,n){var i=typeof t;return"function"==i?e===x?t:sn(t,e,n):null==t?Do:"object"==i?Fe(t):e===x?Ro(t):ze(t,e)}function we(t,e,n,i,r,o,s){var a;if(n&&(a=r?n(t,i,r):n(t)),a!==x)return a;if(!Rr(t))return t;var l=Aa(t);if(l){if(a=Un(t),!e)return ne(t,a)}else{var u=is.call(t),c=u==U;if(u!=K&&u!=H&&(!c||r))return zt[u]?Xn(t,u,e):r?t:{};if(a=Gn(c?{}:t),!e)return ve(a,t)}o||(o=[]),s||(s=[]);for(var h=o.length;h--;)if(o[h]==t)return s[h];return o.push(t),s.push(a),(l?ie:Me)(t,function(i,r){a[r]=we(i,e,n,r,t,o,s)}),a}function xe(t,e,n){if("function"!=typeof t)throw new Ko(z);return ds(function(){t.apply(x,n)},e)}function Ce(t,e){var i=t?t.length:0,r=[];if(!i)return r;var o=-1,s=Wn(),a=s==n,l=a&&e.length>=$?gn(e):null,u=e.length;l&&(s=Zt,a=!1,e=l);t:for(;++o<i;){var c=t[o];if(a&&c===c){for(var h=u;h--;)if(e[h]===c)continue t;r.push(c)}else s(e,c,0)<0&&r.push(c)}return r}function ke(t,e){var n=!0;return Ls(t,function(t,i,r){return n=!!e(t,i,r)}),n}function Se(t,e,n,i){var r=i,o=r;return Ls(t,function(t,s,a){var l=+e(t,s,a);(n(l,r)||l===i&&l===o)&&(r=l,o=t)}),o}function Ee(t,e,n,i){var r=t.length;for(n=null==n?0:+n||0,0>n&&(n=-n>r?0:r+n),i=i===x||i>r?r:+i||0,0>i&&(i+=r),r=n>i?0:i>>>0,n>>>=0;r>n;)t[n++]=e;return t}function Te(t,e){var n=[];return Ls(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function De(t,e,n,i){var r;return n(t,function(t,n,o){return e(t,n,o)?(r=i?n:t,!1):void 0}),r}function Ae(t,e,n,i){i||(i=[]);for(var r=-1,o=t.length;++r<o;){var s=t[r];f(s)&&Zn(s)&&(n||Aa(s)||Sr(s))?e?Ae(s,e,n,i):ue(i,s):n||(i[i.length]=s)}return i}function Pe(t,e){return js(t,e,to)}function Me(t,e){return js(t,e,za)}function Oe(t,e){return Fs(t,e,za)}function Ie(t,e){for(var n=-1,i=e.length,r=-1,o=[];++n<i;){var s=e[n];Ir(t[s])&&(o[++r]=s)}return o}function Re(t,e,n){if(null!=t){n!==x&&n in hi(t)&&(e=[n]);for(var i=0,r=e.length;null!=t&&r>i;)t=t[e[i++]];return i&&i==r?t:x}}function Ne(t,e,n,i,r,o){return t===e?!0:null==t||null==e||!Rr(t)&&!f(e)?t!==t&&e!==e:Le(t,e,Ne,n,i,r,o)}function Le(t,e,n,i,r,o,s){var a=Aa(t),l=Aa(e),u=W,c=W;a||(u=is.call(t),u==H?u=K:u!=K&&(a=Wr(t))),l||(c=is.call(e),c==H?c=K:c!=K&&(l=Wr(e)));var h=u==K,d=c==K,p=u==c;if(p&&!a&&!h)return Fn(t,e,u);if(!r){var f=h&&es.call(t,"__wrapped__"),g=d&&es.call(e,"__wrapped__");if(f||g)return n(f?t.value():t,g?e.value():e,i,r,o,s)}if(!p)return!1;o||(o=[]),s||(s=[]);for(var m=o.length;m--;)if(o[m]==t)return s[m]==e;o.push(t),s.push(e);var v=(a?jn:zn)(t,e,n,i,r,o,s);return o.pop(),s.pop(),v}function $e(t,e,n){var i=e.length,r=i,o=!n;if(null==t)return!r;for(t=hi(t);i--;){var s=e[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<r;){s=e[i];var a=s[0],l=t[a],u=s[1];if(o&&s[2]){if(l===x&&!(a in t))return!1}else{var c=n?n(l,u,a):x;if(!(c===x?Ne(u,l,n,!0):c))return!1}}return!0}function je(t,e){var n=-1,i=Zn(t)?Bo(t.length):[];return Ls(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function Fe(t){var e=qn(t);if(1==e.length&&e[0][2]){var n=e[0][0],i=e[0][1];return function(t){return null==t?!1:t[n]===i&&(i!==x||n in hi(t))}}return function(t){return $e(t,e)}}function ze(t,e){var n=Aa(t),i=ti(t)&&ii(e),r=t+"";return t=di(t),function(o){if(null==o)return!1;var s=r;if(o=hi(o),(n||!i)&&!(s in o)){if(o=1==t.length?o:Re(o,Ge(t,0,-1)),null==o)return!1;s=Ei(t),o=hi(o)}return o[s]===e?e!==x||s in o:Ne(e,o[s],x,!0)}}function Be(t,e,n,i,r){if(!Rr(t))return t;var o=Zn(e)&&(Aa(e)||Wr(e)),s=o?x:za(e);return ie(s||e,function(a,l){if(s&&(l=a,a=e[l]),f(a))i||(i=[]),r||(r=[]),He(t,e,l,Be,n,i,r);else{var u=t[l],c=n?n(u,a,l,t,e):x,h=c===x;h&&(c=a),c===x&&(!o||l in t)||!h&&(c===c?c===u:u!==u)||(t[l]=c)}}),t}function He(t,e,n,i,r,o,s){for(var a=o.length,l=e[n];a--;)if(o[a]==l)return void(t[n]=s[a]);var u=t[n],c=r?r(u,l,n,t,e):x,h=c===x;h&&(c=l,Zn(l)&&(Aa(l)||Wr(l))?c=Aa(u)?u:Zn(u)?ne(u):[]:zr(l)||Sr(l)?c=Sr(u)?Gr(u):zr(u)?u:{}:h=!1),o.push(l),s.push(c),h?t[n]=i(c,l,r,o,s):(c===c?c!==u:u===u)&&(t[n]=c)}function We(t){return function(e){return null==e?x:e[t]}}function qe(t){var e=t+"";return t=di(t),function(n){return Re(n,t,e)}}function Ye(t,e){for(var n=t?e.length:0;n--;){var i=e[n];if(i!=r&&Qn(i)){var r=i;ps.call(t,i,1)}}return t}function Ve(t,e){return t+ys(Es()*(e-t+1))}function Ue(t,e,n,i,r){return r(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}function Ge(t,e,n){var i=-1,r=t.length;e=null==e?0:+e||0,0>e&&(e=-e>r?0:r+e),n=n===x||n>r?r:+n||0,0>n&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=Bo(r);++i<r;)o[i]=t[i+e];return o}function Xe(t,e){var n;return Ls(t,function(t,i,r){return n=e(t,i,r),!n}),!!n}function Ke(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function Ze(t,e,n){var i=Bn(),r=-1;e=le(e,function(t){return i(t)});var o=je(t,function(t){var n=le(e,function(e){return e(t)});return{criteria:n,index:++r,value:t}});return Ke(o,function(t,e){return l(t,e,n)})}function Qe(t,e){var n=0;return Ls(t,function(t,i,r){n+=+e(t,i,r)||0}),n}function Je(t,e){var i=-1,r=Wn(),o=t.length,s=r==n,a=s&&o>=$,l=a?gn():null,u=[];l?(r=Zt,s=!1):(a=!1,l=e?[]:u);t:for(;++i<o;){var c=t[i],h=e?e(c,i,t):c;if(s&&c===c){for(var d=l.length;d--;)if(l[d]===h)continue t;e&&l.push(h),u.push(c)}else r(l,h,0)<0&&((e||a)&&l.push(h),u.push(c))}return u}function tn(t,e){for(var n=-1,i=e.length,r=Bo(i);++n<i;)r[n]=t[e[n]];return r}function en(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?Ge(t,i?0:o,i?o+1:r):Ge(t,i?o+1:0,i?r:o)}function nn(t,e){var n=t;n instanceof Bt&&(n=n.value());for(var i=-1,r=e.length;++i<r;){var o=e[i];n=o.func.apply(o.thisArg,ue([n],o.args))}return n}function rn(t,e,n){var i=0,r=t?t.length:i;if("number"==typeof e&&e===e&&Ms>=r){for(;r>i;){var o=i+r>>>1,s=t[o];(n?e>=s:e>s)&&null!==s?i=o+1:r=o}return r}return on(t,e,Do,n)}function on(t,e,n,i){e=n(e);for(var r=0,o=t?t.length:0,s=e!==e,a=null===e,l=e===x;o>r;){var u=ys((r+o)/2),c=n(t[u]),h=c!==x,d=c===c;if(s)var p=d||i;else p=a?d&&h&&(i||null!=c):l?d&&(i||h):null==c?!1:i?e>=c:e>c;p?r=u+1:o=u}return Cs(o,Ps)}function sn(t,e,n){if("function"!=typeof t)return Do;if(e===x)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)};case 5:return function(n,i,r,o,s){return t.call(e,n,i,r,o,s)}}return function(){return t.apply(e,arguments)}}function an(t){var e=new ss(t.byteLength),n=new fs(e);return n.set(new fs(t)),e}function ln(t,e,n){for(var i=n.length,r=-1,o=xs(t.length-i,0),s=-1,a=e.length,l=Bo(a+o);++s<a;)l[s]=e[s];for(;++r<i;)l[n[r]]=t[r];for(;o--;)l[s++]=t[r++];return l}function un(t,e,n){for(var i=-1,r=n.length,o=-1,s=xs(t.length-r,0),a=-1,l=e.length,u=Bo(s+l);++o<s;)u[o]=t[o];for(var c=o;++a<l;)u[c+a]=e[a];for(;++i<r;)u[c+n[i]]=t[o++];return u}function cn(t,e){return function(n,i,r){var o=e?e():{};if(i=Bn(i,r,3),Aa(n))for(var s=-1,a=n.length;++s<a;){var l=n[s];t(o,l,i(l,s,n),n)}else Ls(n,function(e,n,r){t(o,e,i(e,n,r),r)});return o}}function hn(t){return vr(function(e,n){var i=-1,r=null==e?0:n.length,o=r>2?n[r-2]:x,s=r>2?n[2]:x,a=r>1?n[r-1]:x;for("function"==typeof o?(o=sn(o,a,5),r-=2):(o="function"==typeof a?a:x,r-=o?1:0),s&&Jn(n[0],n[1],s)&&(o=3>r?x:o,r=1);++i<r;){var l=n[i];l&&t(e,l,o)}return e})}function dn(t,e){return function(n,i){var r=n?Hs(n):0;if(!ni(r))return t(n,i);for(var o=e?r:-1,s=hi(n);(e?o--:++o<r)&&i(s[o],o,s)!==!1;);return n}}function pn(t){return function(e,n,i){for(var r=hi(e),o=i(e),s=o.length,a=t?s:-1;t?a--:++a<s;){var l=o[a];if(n(r[l],l,r)===!1)break}return e}}function fn(t,e){function n(){var r=this&&this!==Jt&&this instanceof n?i:t;return r.apply(e,arguments)}var i=vn(t);return n}function gn(t){return vs&&hs?new Kt(t):null}function mn(t){return function(e){for(var n=-1,i=So(co(e)),r=i.length,o="";++n<r;)o=t(o,i[n],n);return o}}function vn(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Ns(t.prototype),i=t.apply(n,e);return Rr(i)?i:n}}function yn(t){function e(n,i,r){r&&Jn(n,i,r)&&(i=x);var o=$n(n,t,x,x,x,x,x,i);return o.placeholder=e.placeholder,o}return e}function _n(t,e){return vr(function(n){var i=n[0];return null==i?i:(n.push(e),t.apply(x,n))})}function bn(t,e){return function(n,i,r){if(r&&Jn(n,i,r)&&(i=x),i=Bn(i,r,3),1==i.length){n=Aa(n)?n:ci(n);var o=se(n,i,t,e);if(!n.length||o!==e)return o}return Se(n,i,t,e)}}function wn(t,n){return function(i,r,o){if(r=Bn(r,o,3),Aa(i)){var s=e(i,r,n);return s>-1?i[s]:x}return De(i,r,t)}}function xn(t){return function(n,i,r){return n&&n.length?(i=Bn(i,r,3),e(n,i,t)):-1}}function Cn(t){return function(e,n,i){return n=Bn(n,i,3),De(e,n,t,!0)}}function kn(t){return function(){for(var e,n=arguments.length,i=t?n:-1,r=0,o=Bo(n);t?i--:++i<n;){var s=o[r++]=arguments[i];if("function"!=typeof s)throw new Ko(z);!e&&tt.prototype.thru&&"wrapper"==Hn(s)&&(e=new tt([],!0))}for(i=e?-1:n;++i<n;){s=o[i];var a=Hn(s),l="wrapper"==a?Bs(s):x;e=l&&ei(l[0])&&l[1]==(M|T|A|O)&&!l[4].length&&1==l[9]?e[Hn(l[0])].apply(e,l[3]):1==s.length&&ei(s)?e[a]():e.thru(s)}return function(){var t=arguments,i=t[0];if(e&&1==t.length&&Aa(i)&&i.length>=$)return e.plant(i).value();for(var r=0,s=n?o[r].apply(this,t):i;++r<n;)s=o[r].call(this,s);return s}}}function Sn(t,e){return function(n,i,r){return"function"==typeof i&&r===x&&Aa(n)?t(n,i):e(n,sn(i,r,3))}}function En(t){return function(e,n,i){return("function"!=typeof n||i!==x)&&(n=sn(n,i,3)),t(e,n,to)}}function Tn(t){return function(e,n,i){return("function"!=typeof n||i!==x)&&(n=sn(n,i,3)),t(e,n)}}function Dn(t){return function(e,n,i){var r={};return n=Bn(n,i,3),Me(e,function(e,i,o){var s=n(e,i,o);i=t?s:i,e=t?e:s,r[i]=e}),r}}function An(t){return function(e,n,i){return e=r(e),(t?e:"")+In(e,n,i)+(t?"":e)}}function Pn(t){var e=vr(function(n,i){var r=m(i,e.placeholder);return $n(n,t,x,i,r)});return e}function Mn(t,e){return function(n,i,r,o){var s=arguments.length<3;return"function"==typeof i&&o===x&&Aa(n)?t(n,i,r,s):Ue(n,Bn(i,o,4),r,s,e)}}function On(t,e,n,i,r,o,s,a,l,u){function c(){for(var _=arguments.length,b=_,w=Bo(_);b--;)w[b]=arguments[b];if(i&&(w=ln(w,i,r)),o&&(w=un(w,o,s)),f||v){var C=c.placeholder,E=m(w,C);if(_-=E.length,u>_){var T=a?ne(a):x,D=xs(u-_,0),M=f?E:x,O=f?x:E,I=f?w:x,R=f?x:w;e|=f?A:P,e&=~(f?P:A),g||(e&=~(k|S));var N=[t,e,n,I,M,R,O,T,l,D],L=On.apply(x,N);return ei(t)&&Ws(L,N),L.placeholder=C,L}}var $=d?n:this,j=p?$[t]:t;return a&&(w=li(w,a)),h&&l<w.length&&(w.length=l),this&&this!==Jt&&this instanceof c&&(j=y||vn(t)),j.apply($,w)}var h=e&M,d=e&k,p=e&S,f=e&T,g=e&E,v=e&D,y=p?x:vn(t);return c}function In(t,e,n){var i=t.length;if(e=+e,i>=e||!bs(e))return"";var r=e-i;return n=null==n?" ":n+"",vo(n,ms(r/n.length)).slice(0,r)}function Rn(t,e,n,i){function r(){for(var e=-1,a=arguments.length,l=-1,u=i.length,c=Bo(u+a);++l<u;)c[l]=i[l];for(;a--;)c[l++]=arguments[++e];var h=this&&this!==Jt&&this instanceof r?s:t;return h.apply(o?n:this,c)}var o=e&k,s=vn(t);return r}function Nn(t){var e=Yo[t];return function(t,n){return n=n===x?0:+n||0,n?(n=us(10,n),e(t*n)/n):e(t)}}function Ln(t){return function(e,n,i,r){var o=Bn(i);return null==i&&o===be?rn(e,n,t):on(e,n,o(i,r,1),t)}}function $n(t,e,n,i,r,o,s,a){var l=e&S;if(!l&&"function"!=typeof t)throw new Ko(z);var u=i?i.length:0;if(u||(e&=~(A|P),i=r=x),u-=r?r.length:0,e&P){var c=i,h=r;i=r=x}var d=l?x:Bs(t),p=[t,e,n,i,r,c,h,o,s,a];if(d&&(ri(p,d),e=p[1],a=p[9]),p[9]=null==a?l?0:t.length:xs(a-u,0)||0,e==k)var f=fn(p[0],p[2]);else f=e!=A&&e!=(k|A)||p[4].length?On.apply(x,p):Rn.apply(x,p);var g=d?zs:Ws;return g(f,p)}function jn(t,e,n,i,r,o,s){var a=-1,l=t.length,u=e.length;if(l!=u&&!(r&&u>l))return!1;for(;++a<l;){var c=t[a],h=e[a],d=i?i(r?h:c,r?c:h,a):x;if(d!==x){if(d)continue;return!1}if(r){if(!de(e,function(t){return c===t||n(c,t,i,r,o,s)}))return!1}else if(c!==h&&!n(c,h,i,r,o,s))return!1}return!0}function Fn(t,e,n){switch(n){case q:case Y:return+t==+e;case V:return t.name==e.name&&t.message==e.message;case X:return t!=+t?e!=+e:t==+e;case Z:case J:return t==e+""}return!1}function zn(t,e,n,i,r,o,s){var a=za(t),l=a.length,u=za(e),c=u.length;if(l!=c&&!r)return!1;for(var h=l;h--;){var d=a[h];if(!(r?d in e:es.call(e,d)))return!1}for(var p=r;++h<l;){d=a[h];var f=t[d],g=e[d],m=i?i(r?g:f,r?f:g,d):x;if(!(m===x?n(f,g,i,r,o,s):m))return!1;p||(p="constructor"==d)}if(!p){var v=t.constructor,y=e.constructor;if(v!=y&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y))return!1}return!0}function Bn(t,e,n){var i=G.callback||Eo;return i=i===Eo?be:i,n?i(t,e,n):i}function Hn(t){for(var e=t.name,n=Rs[e],i=n?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function Wn(t,e,i){var r=G.indexOf||ki;return r=r===ki?n:r,t?r(t,e,i):r}function qn(t){for(var e=eo(t),n=e.length;n--;)e[n][2]=ii(e[n][1]);return e}function Yn(t,e){var n=null==t?x:t[e];return $r(n)?n:x}function Vn(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=Cs(e,t+s);break;case"takeRight":t=xs(t,e-s)}}return{start:t,end:e}}function Un(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&es.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Gn(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=Uo),new e}function Xn(t,e,n){var i=t.constructor;switch(e){case et:return an(t);case q:case Y:return new i(+t);case nt:case it:case rt:case ot:case st:case at:case lt:case ut:case ct:var r=t.buffer;return new i(n?an(r):r,t.byteOffset,t.length);case X:case J:return new i(t);case Z:var o=new i(t.source,At.exec(t));o.lastIndex=t.lastIndex}return o}function Kn(t,e,n){null==t||ti(e,t)||(e=di(e),t=1==e.length?t:Re(t,Ge(e,0,-1)),e=Ei(e));var i=null==t?t:t[e];return null==i?x:i.apply(t,n)}function Zn(t){return null!=t&&ni(Hs(t))}function Qn(t,e){return t="number"==typeof t||Ot.test(t)?+t:-1,e=null==e?Os:e,t>-1&&t%1==0&&e>t}function Jn(t,e,n){if(!Rr(n))return!1;var i=typeof e;if("number"==i?Zn(n)&&Qn(e,n.length):"string"==i&&e in n){var r=n[e];return t===t?t===r:r!==r}return!1}function ti(t,e){var n=typeof t;if("string"==n&&xt.test(t)||"number"==n)return!0;if(Aa(t))return!1;var i=!wt.test(t);return i||null!=e&&t in hi(e)}function ei(t){var e=Hn(t);if(!(e in Bt.prototype))return!1;var n=G[e];if(t===n)return!0;var i=Bs(n);return!!i&&t===i[0]}function ni(t){return"number"==typeof t&&t>-1&&t%1==0&&Os>=t}function ii(t){return t===t&&!Rr(t)}function ri(t,e){var n=t[1],i=e[1],r=n|i,o=M>r,s=i==M&&n==T||i==M&&n==O&&t[7].length<=e[8]||i==(M|O)&&n==T;if(!o&&!s)return t;i&k&&(t[2]=e[2],r|=n&k?0:E);var a=e[3];if(a){var l=t[3];t[3]=l?ln(l,a,e[4]):ne(a),t[4]=l?m(t[3],B):ne(e[4])}return a=e[5],a&&(l=t[5],t[5]=l?un(l,a,e[6]):ne(a),t[6]=l?m(t[5],B):ne(e[6])),a=e[7],a&&(t[7]=ne(a)),i&M&&(t[8]=null==t[8]?e[8]:Cs(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t}function oi(t,e){return t===x?e:Pa(t,e,oi)}function si(t,e){t=hi(t);for(var n=-1,i=e.length,r={};++n<i;){var o=e[n];o in t&&(r[o]=t[o])}return r}function ai(t,e){var n={};return Pe(t,function(t,i,r){e(t,i,r)&&(n[i]=t)}),n}function li(t,e){for(var n=t.length,i=Cs(e.length,n),r=ne(t);i--;){var o=e[i];t[i]=Qn(o,n)?r[o]:x}return t}function ui(t){for(var e=to(t),n=e.length,i=n&&t.length,r=!!i&&ni(i)&&(Aa(t)||Sr(t)),o=-1,s=[];++o<n;){var a=e[o];(r&&Qn(a,i)||es.call(t,a))&&s.push(a)}return s}function ci(t){return null==t?[]:Zn(t)?Rr(t)?t:Uo(t):oo(t)}function hi(t){return Rr(t)?t:Uo(t)}function di(t){if(Aa(t))return t;var e=[];return r(t).replace(Ct,function(t,n,i,r){e.push(i?r.replace(Tt,"$1"):n||t)}),e}function pi(t){return t instanceof Bt?t.clone():new tt(t.__wrapped__,t.__chain__,ne(t.__actions__))}function fi(t,e,n){e=(n?Jn(t,e,n):null==e)?1:xs(ys(e)||1,1);for(var i=0,r=t?t.length:0,o=-1,s=Bo(ms(r/e));r>i;)s[++o]=Ge(t,i,i+=e);return s}function gi(t){for(var e=-1,n=t?t.length:0,i=-1,r=[];++e<n;){var o=t[e];o&&(r[++i]=o)}return r}function mi(t,e,n){var i=t?t.length:0;return i?((n?Jn(t,e,n):null==e)&&(e=1),Ge(t,0>e?0:e)):[]}function vi(t,e,n){var i=t?t.length:0;return i?((n?Jn(t,e,n):null==e)&&(e=1),e=i-(+e||0),Ge(t,0,0>e?0:e)):[]}function yi(t,e,n){return t&&t.length?en(t,Bn(e,n,3),!0,!0):[]}function _i(t,e,n){return t&&t.length?en(t,Bn(e,n,3),!0):[]}function bi(t,e,n,i){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&Jn(t,e,n)&&(n=0,i=r),Ee(t,e,n,i)):[]}function wi(t){return t?t[0]:x}function xi(t,e,n){var i=t?t.length:0;return n&&Jn(t,e,n)&&(e=!1),i?Ae(t,e):[]}function Ci(t){var e=t?t.length:0;return e?Ae(t,!0):[]}function ki(t,e,i){var r=t?t.length:0;if(!r)return-1;if("number"==typeof i)i=0>i?xs(r+i,0):i;else if(i){var o=rn(t,e);return r>o&&(e===e?e===t[o]:t[o]!==t[o])?o:-1}return n(t,e,i||0)}function Si(t){return vi(t,1)}function Ei(t){var e=t?t.length:0;return e?t[e-1]:x}function Ti(t,e,n){var i=t?t.length:0;if(!i)return-1;var r=i;if("number"==typeof n)r=(0>n?xs(i+n,0):Cs(n||0,i-1))+1;else if(n){r=rn(t,e,!0)-1;var o=t[r];return(e===e?e===o:o!==o)?r:-1}if(e!==e)return p(t,r,!0);for(;r--;)if(t[r]===e)return r;return-1}function Di(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var n=0,i=Wn(),r=t.length;++n<r;)for(var o=0,s=t[n];(o=i(e,s,o))>-1;)ps.call(e,o,1);return e}function Ai(t,e,n){var i=[];if(!t||!t.length)return i;var r=-1,o=[],s=t.length;for(e=Bn(e,n,3);++r<s;){var a=t[r];e(a,r,t)&&(i.push(a),o.push(r))}return Ye(t,o),i}function Pi(t){return mi(t,1)}function Mi(t,e,n){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&Jn(t,e,n)&&(e=0,n=i),Ge(t,e,n)):[]}function Oi(t,e,n){var i=t?t.length:0;return i?((n?Jn(t,e,n):null==e)&&(e=1),Ge(t,0,0>e?0:e)):[]}function Ii(t,e,n){var i=t?t.length:0;return i?((n?Jn(t,e,n):null==e)&&(e=1),e=i-(+e||0),Ge(t,0>e?0:e)):[]}function Ri(t,e,n){return t&&t.length?en(t,Bn(e,n,3),!1,!0):[]}function Ni(t,e,n){return t&&t.length?en(t,Bn(e,n,3)):[]}function Li(t,e,i,r){var o=t?t.length:0;if(!o)return[];null!=e&&"boolean"!=typeof e&&(r=i,i=Jn(t,e,r)?x:e,e=!1);var s=Bn();return(null!=i||s!==be)&&(i=s(i,r,3)),e&&Wn()==n?v(t,i):Je(t,i)}function $i(t){if(!t||!t.length)return[];var e=-1,n=0;t=ae(t,function(t){return Zn(t)?(n=xs(t.length,n),!0):void 0});for(var i=Bo(n);++e<n;)i[e]=le(t,We(e));return i}function ji(t,e,n){var i=t?t.length:0;if(!i)return[];var r=$i(t);return null==e?r:(e=sn(e,n,4),le(r,function(t){return ce(t,e,x,!0)}))}function Fi(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(Zn(n))var i=i?ue(Ce(i,n),Ce(n,i)):n}return i?Je(i):[]}function zi(t,e){var n=-1,i=t?t.length:0,r={};for(!i||e||Aa(t[0])||(e=[]);++n<i;){var o=t[n];e?r[o]=e[n]:o&&(r[o[0]]=o[1])}return r}function Bi(t){var e=G(t);return e.__chain__=!0,e}function Hi(t,e,n){return e.call(n,t),t}function Wi(t,e,n){return e.call(n,t)}function qi(){return Bi(this)}function Yi(){return new tt(this.value(),this.__chain__)}function Vi(t){for(var e,n=this;n instanceof Q;){var i=pi(n);e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e}function Ui(){var t=this.__wrapped__,e=function(t){return n&&n.__dir__<0?t:t.reverse()};if(t instanceof Bt){var n=t;return this.__actions__.length&&(n=new Bt(this)),n=n.reverse(),n.__actions__.push({func:Wi,args:[e],thisArg:x}),new tt(n,this.__chain__)}return this.thru(e)}function Gi(){return this.value()+""}function Xi(){return nn(this.__wrapped__,this.__actions__)}function Ki(t,e,n){var i=Aa(t)?oe:ke;return n&&Jn(t,e,n)&&(e=x),("function"!=typeof e||n!==x)&&(e=Bn(e,n,3)),i(t,e)}function Zi(t,e,n){var i=Aa(t)?ae:Te;return e=Bn(e,n,3),i(t,e)}function Qi(t,e){return ra(t,Fe(e))}function Ji(t,e,n,i){var r=t?Hs(t):0;return ni(r)||(t=oo(t),r=t.length),n="number"!=typeof n||i&&Jn(e,n,i)?0:0>n?xs(r+n,0):n||0,"string"==typeof t||!Aa(t)&&Hr(t)?r>=n&&t.indexOf(e,n)>-1:!!r&&Wn(t,e,n)>-1}function tr(t,e,n){var i=Aa(t)?le:je;return e=Bn(e,n,3),i(t,e)}function er(t,e){return tr(t,Ro(e))}function nr(t,e,n){var i=Aa(t)?ae:Te;return e=Bn(e,n,3),i(t,function(t,n,i){return!e(t,n,i)})}function ir(t,e,n){if(n?Jn(t,e,n):null==e){t=ci(t);var i=t.length;return i>0?t[Ve(0,i-1)]:x}var r=-1,o=Ur(t),i=o.length,s=i-1;for(e=Cs(0>e?0:+e||0,i);++r<e;){var a=Ve(r,s),l=o[a];o[a]=o[r],o[r]=l}return o.length=e,o}function rr(t){return ir(t,Ds)}function or(t){var e=t?Hs(t):0;return ni(e)?e:za(t).length}function sr(t,e,n){var i=Aa(t)?de:Xe;return n&&Jn(t,e,n)&&(e=x),("function"!=typeof e||n!==x)&&(e=Bn(e,n,3)),i(t,e)}function ar(t,e,n){if(null==t)return[];n&&Jn(t,e,n)&&(e=x);var i=-1;e=Bn(e,n,3);var r=je(t,function(t,n,r){return{criteria:e(t,n,r),index:++i,value:t}});return Ke(r,a)}function lr(t,e,n,i){return null==t?[]:(i&&Jn(e,n,i)&&(n=x),Aa(e)||(e=null==e?[]:[e]),Aa(n)||(n=null==n?[]:[n]),Ze(t,e,n))}function ur(t,e){return Zi(t,Fe(e))}function cr(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new Ko(z);var n=t;t=e,e=n}return t=bs(t=+t)?t:0,function(){return--t<1?e.apply(this,arguments):void 0}}function hr(t,e,n){return n&&Jn(t,e,n)&&(e=x),e=t&&null==e?t.length:xs(+e||0,0),$n(t,M,x,x,x,x,e)}function dr(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new Ko(z);var i=t;t=e,e=i}return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=x),n}}function pr(t,e,n){function i(){p&&as(p),u&&as(u),g=0,u=p=f=x}function r(e,n){n&&as(n),u=p=f=x,e&&(g=ga(),c=t.apply(d,l),p||u||(l=d=x))}function o(){var t=e-(ga()-h);0>=t||t>e?r(f,u):p=ds(o,t)}function s(){r(v,p)}function a(){if(l=arguments,h=ga(),d=this,f=v&&(p||!y),m===!1)var n=y&&!p;else{u||y||(g=h);var i=m-(h-g),r=0>=i||i>m;r?(u&&(u=as(u)),g=h,c=t.apply(d,l)):u||(u=ds(s,i))}return r&&p?p=as(p):p||e===m||(p=ds(o,e)),n&&(r=!0,c=t.apply(d,l)),!r||p||u||(l=d=x),c}var l,u,c,h,d,p,f,g=0,m=!1,v=!0;if("function"!=typeof t)throw new Ko(z);if(e=0>e?0:+e||0,n===!0){var y=!0;v=!1}else Rr(n)&&(y=!!n.leading,m="maxWait"in n&&xs(+n.maxWait||0,e),v="trailing"in n?!!n.trailing:v);return a.cancel=i,a}function fr(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new Ko(z);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s),s};return n.cache=new fr.Cache,n}function gr(t){if("function"!=typeof t)throw new Ko(z);return function(){return!t.apply(this,arguments)}}function mr(t){return dr(2,t)}function vr(t,e){if("function"!=typeof t)throw new Ko(z);return e=xs(e===x?t.length-1:+e||0,0),function(){for(var n=arguments,i=-1,r=xs(n.length-e,0),o=Bo(r);++i<r;)o[i]=n[e+i];switch(e){case 0:return t.call(this,o);case 1:return t.call(this,n[0],o);case 2:return t.call(this,n[0],n[1],o)}var s=Bo(e+1);for(i=-1;++i<e;)s[i]=n[i];return s[e]=o,t.apply(this,s)}}function yr(t){if("function"!=typeof t)throw new Ko(z);return function(e){return t.apply(this,e)}}function _r(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new Ko(z);return n===!1?i=!1:Rr(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),pr(t,e,{leading:i,maxWait:+e,trailing:r})}function br(t,e){
return e=null==e?Do:e,$n(e,A,x,[t],[])}function wr(t,e,n,i){return e&&"boolean"!=typeof e&&Jn(t,e,n)?e=!1:"function"==typeof e&&(i=n,n=e,e=!1),"function"==typeof n?we(t,e,sn(n,i,1)):we(t,e)}function xr(t,e,n){return"function"==typeof e?we(t,!0,sn(e,n,1)):we(t,!0)}function Cr(t,e){return t>e}function kr(t,e){return t>=e}function Sr(t){return f(t)&&Zn(t)&&es.call(t,"callee")&&!cs.call(t,"callee")}function Er(t){return t===!0||t===!1||f(t)&&is.call(t)==q}function Tr(t){return f(t)&&is.call(t)==Y}function Dr(t){return!!t&&1===t.nodeType&&f(t)&&!zr(t)}function Ar(t){return null==t?!0:Zn(t)&&(Aa(t)||Hr(t)||Sr(t)||f(t)&&Ir(t.splice))?!t.length:!za(t).length}function Pr(t,e,n,i){n="function"==typeof n?sn(n,i,3):x;var r=n?n(t,e):x;return r===x?Ne(t,e,n):!!r}function Mr(t){return f(t)&&"string"==typeof t.message&&is.call(t)==V}function Or(t){return"number"==typeof t&&bs(t)}function Ir(t){return Rr(t)&&is.call(t)==U}function Rr(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Nr(t,e,n,i){return n="function"==typeof n?sn(n,i,3):x,$e(t,qn(e),n)}function Lr(t){return Fr(t)&&t!=+t}function $r(t){return null==t?!1:Ir(t)?os.test(ts.call(t)):f(t)&&Mt.test(t)}function jr(t){return null===t}function Fr(t){return"number"==typeof t||f(t)&&is.call(t)==X}function zr(t){var e;if(!f(t)||is.call(t)!=K||Sr(t)||!es.call(t,"constructor")&&(e=t.constructor,"function"==typeof e&&!(e instanceof e)))return!1;var n;return Pe(t,function(t,e){n=e}),n===x||es.call(t,n)}function Br(t){return Rr(t)&&is.call(t)==Z}function Hr(t){return"string"==typeof t||f(t)&&is.call(t)==J}function Wr(t){return f(t)&&ni(t.length)&&!!Ft[is.call(t)]}function qr(t){return t===x}function Yr(t,e){return e>t}function Vr(t,e){return e>=t}function Ur(t){var e=t?Hs(t):0;return ni(e)?e?ne(t):[]:oo(t)}function Gr(t){return _e(t,to(t))}function Xr(t,e,n){var i=Ns(t);return n&&Jn(t,e,n)&&(e=x),e?ve(i,e):i}function Kr(t){return Ie(t,to(t))}function Zr(t,e,n){var i=null==t?x:Re(t,di(e),e+"");return i===x?n:i}function Qr(t,e){if(null==t)return!1;var n=es.call(t,e);if(!n&&!ti(e)){if(e=di(e),t=1==e.length?t:Re(t,Ge(e,0,-1)),null==t)return!1;e=Ei(e),n=es.call(t,e)}return n||ni(t.length)&&Qn(e,t.length)&&(Aa(t)||Sr(t))}function Jr(t,e,n){n&&Jn(t,e,n)&&(e=x);for(var i=-1,r=za(t),o=r.length,s={};++i<o;){var a=r[i],l=t[a];e?es.call(s,l)?s[l].push(a):s[l]=[a]:s[l]=a}return s}function to(t){if(null==t)return[];Rr(t)||(t=Uo(t));var e=t.length;e=e&&ni(e)&&(Aa(t)||Sr(t))&&e||0;for(var n=t.constructor,i=-1,r="function"==typeof n&&n.prototype===t,o=Bo(e),s=e>0;++i<e;)o[i]=i+"";for(var a in t)s&&Qn(a,e)||"constructor"==a&&(r||!es.call(t,a))||o.push(a);return o}function eo(t){t=hi(t);for(var e=-1,n=za(t),i=n.length,r=Bo(i);++e<i;){var o=n[e];r[e]=[o,t[o]]}return r}function no(t,e,n){var i=null==t?x:t[e];return i===x&&(null==t||ti(e,t)||(e=di(e),t=1==e.length?t:Re(t,Ge(e,0,-1)),i=null==t?x:t[Ei(e)]),i=i===x?n:i),Ir(i)?i.call(t):i}function io(t,e,n){if(null==t)return t;var i=e+"";e=null!=t[i]||ti(e,t)?[i]:di(e);for(var r=-1,o=e.length,s=o-1,a=t;null!=a&&++r<o;){var l=e[r];Rr(a)&&(r==s?a[l]=n:null==a[l]&&(a[l]=Qn(e[r+1])?[]:{})),a=a[l]}return t}function ro(t,e,n,i){var r=Aa(t)||Wr(t);if(e=Bn(e,i,4),null==n)if(r||Rr(t)){var o=t.constructor;n=r?Aa(t)?new o:[]:Ns(Ir(o)?o.prototype:x)}else n={};return(r?ie:Me)(t,function(t,i,r){return e(n,t,i,r)}),n}function oo(t){return tn(t,za(t))}function so(t){return tn(t,to(t))}function ao(t,e,n){return e=+e||0,n===x?(n=e,e=0):n=+n||0,t>=Cs(e,n)&&t<xs(e,n)}function lo(t,e,n){n&&Jn(t,e,n)&&(e=n=x);var i=null==t,r=null==e;if(null==n&&(r&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,r=!0)),i&&r&&(e=1,r=!1),t=+t||0,r?(e=t,t=0):e=+e||0,n||t%1||e%1){var o=Es();return Cs(t+o*(e-t+ls("1e-"+((o+"").length-1))),e)}return Ve(t,e)}function uo(t){return t=r(t),t&&t.charAt(0).toUpperCase()+t.slice(1)}function co(t){return t=r(t),t&&t.replace(It,u).replace(Et,"")}function ho(t,e,n){t=r(t),e+="";var i=t.length;return n=n===x?i:Cs(0>n?0:+n||0,i),n-=e.length,n>=0&&t.indexOf(e,n)==n}function po(t){return t=r(t),t&&vt.test(t)?t.replace(gt,c):t}function fo(t){return t=r(t),t&&St.test(t)?t.replace(kt,h):t||"(?:)"}function go(t,e,n){t=r(t),e=+e;var i=t.length;if(i>=e||!bs(e))return t;var o=(e-i)/2,s=ys(o),a=ms(o);return n=In("",a,n),n.slice(0,s)+t+n}function mo(t,e,n){return(n?Jn(t,e,n):null==e)?e=0:e&&(e=+e),t=bo(t),Ss(t,e||(Pt.test(t)?16:10))}function vo(t,e){var n="";if(t=r(t),e=+e,1>e||!t||!bs(e))return n;do e%2&&(n+=t),e=ys(e/2),t+=t;while(e);return n}function yo(t,e,n){return t=r(t),n=null==n?0:Cs(0>n?0:+n||0,t.length),t.lastIndexOf(e,n)==n}function _o(t,e,n){var i=G.templateSettings;n&&Jn(t,e,n)&&(e=n=x),t=r(t),e=me(ve({},n||e),i,ge);var o,s,a=me(ve({},e.imports),i.imports,ge),l=za(a),u=tn(a,l),c=0,h=e.interpolate||Rt,p="__p += '",f=Go((e.escape||Rt).source+"|"+h.source+"|"+(h===bt?Dt:Rt).source+"|"+(e.evaluate||Rt).source+"|$","g"),g="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++jt+"]")+"\n";t.replace(f,function(e,n,i,r,a,l){return i||(i=r),p+=t.slice(c,l).replace(Nt,d),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),a&&(s=!0,p+="';\n"+a+";\n__p += '"),i&&(p+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=l+e.length,e}),p+="';\n";var m=e.variable;m||(p="with (obj) {\n"+p+"\n}\n"),p=(s?p.replace(ht,""):p).replace(dt,"$1").replace(pt,"$1;"),p="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var v=Za(function(){return qo(l,g+"return "+p).apply(x,u)});if(v.source=p,Mr(v))throw v;return v}function bo(t,e,n){var i=t;return(t=r(t))?(n?Jn(i,e,n):null==e)?t.slice(y(t),_(t)+1):(e+="",t.slice(o(t,e),s(t,e)+1)):t}function wo(t,e,n){var i=t;return t=r(t),t?(n?Jn(i,e,n):null==e)?t.slice(y(t)):t.slice(o(t,e+"")):t}function xo(t,e,n){var i=t;return t=r(t),t?(n?Jn(i,e,n):null==e)?t.slice(0,_(t)+1):t.slice(0,s(t,e+"")+1):t}function Co(t,e,n){n&&Jn(t,e,n)&&(e=x);var i=I,o=R;if(null!=e)if(Rr(e)){var s="separator"in e?e.separator:s;i="length"in e?+e.length||0:i,o="omission"in e?r(e.omission):o}else i=+e||0;if(t=r(t),i>=t.length)return t;var a=i-o.length;if(1>a)return o;var l=t.slice(0,a);if(null==s)return l+o;if(Br(s)){if(t.slice(a).search(s)){var u,c,h=t.slice(0,a);for(s.global||(s=Go(s.source,(At.exec(s)||"")+"g")),s.lastIndex=0;u=s.exec(h);)c=u.index;l=l.slice(0,null==c?a:c)}}else if(t.indexOf(s,a)!=a){var d=l.lastIndexOf(s);d>-1&&(l=l.slice(0,d))}return l+o}function ko(t){return t=r(t),t&&mt.test(t)?t.replace(ft,b):t}function So(t,e,n){return n&&Jn(t,e,n)&&(e=x),t=r(t),t.match(e||Lt)||[]}function Eo(t,e,n){return n&&Jn(t,e,n)&&(e=x),f(t)?Ao(t):be(t,e)}function To(t){return function(){return t}}function Do(t){return t}function Ao(t){return Fe(we(t,!0))}function Po(t,e){return ze(t,we(e,!0))}function Mo(t,e,n){if(null==n){var i=Rr(e),r=i?za(e):x,o=r&&r.length?Ie(e,r):x;(o?o.length:i)||(o=!1,n=e,e=t,t=this)}o||(o=Ie(e,za(e)));var s=!0,a=-1,l=Ir(t),u=o.length;n===!1?s=!1:Rr(n)&&"chain"in n&&(s=n.chain);for(;++a<u;){var c=o[a],h=e[c];t[c]=h,l&&(t.prototype[c]=function(e){return function(){var n=this.__chain__;if(s||n){var i=t(this.__wrapped__),r=i.__actions__=ne(this.__actions__);return r.push({func:e,args:arguments,thisArg:t}),i.__chain__=n,i}return e.apply(t,ue([this.value()],arguments))}}(h))}return t}function Oo(){return Jt._=rs,this}function Io(){}function Ro(t){return ti(t)?We(t):qe(t)}function No(t){return function(e){return Re(t,di(e),e+"")}}function Lo(t,e,n){n&&Jn(t,e,n)&&(e=n=x),t=+t||0,n=null==n?1:+n||0,null==e?(e=t,t=0):e=+e||0;for(var i=-1,r=xs(ms((e-t)/(n||1)),0),o=Bo(r);++i<r;)o[i]=t,t+=n;return o}function $o(t,e,n){if(t=ys(t),1>t||!bs(t))return[];var i=-1,r=Bo(Cs(t,As));for(e=sn(e,n,1);++i<t;)As>i?r[i]=e(i):e(i);return r}function jo(t){var e=++ns;return r(t)+e}function Fo(t,e){return(+t||0)+(+e||0)}function zo(t,e,n){return n&&Jn(t,e,n)&&(e=x),e=Bn(e,n,3),1==e.length?pe(Aa(t)?t:ci(t),e):Qe(t,e)}g=g?te.defaults(Jt.Object(),g,te.pick(Jt,$t)):Jt;var Bo=g.Array,Ho=g.Date,Wo=g.Error,qo=g.Function,Yo=g.Math,Vo=g.Number,Uo=g.Object,Go=g.RegExp,Xo=g.String,Ko=g.TypeError,Zo=Bo.prototype,Qo=Uo.prototype,Jo=Xo.prototype,ts=qo.prototype.toString,es=Qo.hasOwnProperty,ns=0,is=Qo.toString,rs=Jt._,os=Go("^"+ts.call(es).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ss=g.ArrayBuffer,as=g.clearTimeout,ls=g.parseFloat,us=Yo.pow,cs=Qo.propertyIsEnumerable,hs=Yn(g,"Set"),ds=g.setTimeout,ps=Zo.splice,fs=g.Uint8Array,gs=Yn(g,"WeakMap"),ms=Yo.ceil,vs=Yn(Uo,"create"),ys=Yo.floor,_s=Yn(Bo,"isArray"),bs=g.isFinite,ws=Yn(Uo,"keys"),xs=Yo.max,Cs=Yo.min,ks=Yn(Ho,"now"),Ss=g.parseInt,Es=Yo.random,Ts=Vo.NEGATIVE_INFINITY,Ds=Vo.POSITIVE_INFINITY,As=4294967295,Ps=As-1,Ms=As>>>1,Os=9007199254740991,Is=gs&&new gs,Rs={};G.support={};G.templateSettings={escape:yt,evaluate:_t,interpolate:bt,variable:"",imports:{_:G}};var Ns=function(){function t(){}return function(e){if(Rr(e)){t.prototype=e;var n=new t;t.prototype=x}return n||{}}}(),Ls=dn(Me),$s=dn(Oe,!0),js=pn(),Fs=pn(!0),zs=Is?function(t,e){return Is.set(t,e),t}:Do,Bs=Is?function(t){return Is.get(t)}:Io,Hs=We("length"),Ws=function(){var t=0,e=0;return function(n,i){var r=ga(),o=L-(r-e);if(e=r,o>0){if(++t>=N)return n}else t=0;return zs(n,i)}}(),qs=vr(function(t,e){return f(t)&&Zn(t)?Ce(t,Ae(e,!1,!0)):[]}),Ys=xn(),Vs=xn(!0),Us=vr(function(t){for(var e=t.length,i=e,r=Bo(h),o=Wn(),s=o==n,a=[];i--;){var l=t[i]=Zn(l=t[i])?l:[];r[i]=s&&l.length>=120?gn(i&&l):null}var u=t[0],c=-1,h=u?u.length:0,d=r[0];t:for(;++c<h;)if(l=u[c],(d?Zt(d,l):o(a,l,0))<0){for(var i=e;--i;){var p=r[i];if((p?Zt(p,l):o(t[i],l,0))<0)continue t}d&&d.push(l),a.push(l)}return a}),Gs=vr(function(e,n){n=Ae(n);var i=ye(e,n);return Ye(e,n.sort(t)),i}),Xs=Ln(),Ks=Ln(!0),Zs=vr(function(t){return Je(Ae(t,!1,!0))}),Qs=vr(function(t,e){return Zn(t)?Ce(t,e):[]}),Js=vr($i),ta=vr(function(t){var e=t.length,n=e>2?t[e-2]:x,i=e>1?t[e-1]:x;return e>2&&"function"==typeof n?e-=2:(n=e>1&&"function"==typeof i?(--e,i):x,i=x),t.length=e,ji(t,n,i)}),ea=vr(function(t){return t=Ae(t),this.thru(function(e){return ee(Aa(e)?e:[hi(e)],t)})}),na=vr(function(t,e){return ye(t,Ae(e))}),ia=cn(function(t,e,n){es.call(t,n)?++t[n]:t[n]=1}),ra=wn(Ls),oa=wn($s,!0),sa=Sn(ie,Ls),aa=Sn(re,$s),la=cn(function(t,e,n){es.call(t,n)?t[n].push(e):t[n]=[e]}),ua=cn(function(t,e,n){t[n]=e}),ca=vr(function(t,e,n){var i=-1,r="function"==typeof e,o=ti(e),s=Zn(t)?Bo(t.length):[];return Ls(t,function(t){var a=r?e:o&&null!=t?t[e]:x;s[++i]=a?a.apply(t,n):Kn(t,e,n)}),s}),ha=cn(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),da=Mn(ce,Ls),pa=Mn(he,$s),fa=vr(function(t,e){if(null==t)return[];var n=e[2];return n&&Jn(e[0],e[1],n)&&(e.length=1),Ze(t,Ae(e),[])}),ga=ks||function(){return(new Ho).getTime()},ma=vr(function(t,e,n){var i=k;if(n.length){var r=m(n,ma.placeholder);i|=A}return $n(t,i,e,n,r)}),va=vr(function(t,e){e=e.length?Ae(e):Kr(t);for(var n=-1,i=e.length;++n<i;){var r=e[n];t[r]=$n(t[r],k,t)}return t}),ya=vr(function(t,e,n){var i=k|S;if(n.length){var r=m(n,ya.placeholder);i|=A}return $n(e,i,t,n,r)}),_a=yn(T),ba=yn(D),wa=vr(function(t,e){return xe(t,1,e)}),xa=vr(function(t,e,n){return xe(t,e,n)}),Ca=kn(),ka=kn(!0),Sa=vr(function(t,e){if(e=Ae(e),"function"!=typeof t||!oe(e,i))throw new Ko(z);var n=e.length;return vr(function(i){for(var r=Cs(i.length,n);r--;)i[r]=e[r](i[r]);return t.apply(this,i)})}),Ea=Pn(A),Ta=Pn(P),Da=vr(function(t,e){return $n(t,O,x,x,x,Ae(e))}),Aa=_s||function(t){return f(t)&&ni(t.length)&&is.call(t)==W},Pa=hn(Be),Ma=hn(function(t,e,n){return n?me(t,e,n):ve(t,e)}),Oa=_n(Ma,fe),Ia=_n(Pa,oi),Ra=Cn(Me),Na=Cn(Oe),La=En(js),$a=En(Fs),ja=Tn(Me),Fa=Tn(Oe),za=ws?function(t){var e=null==t?x:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&Zn(t)?ui(t):Rr(t)?ws(t):[]}:ui,Ba=Dn(!0),Ha=Dn(),Wa=vr(function(t,e){if(null==t)return{};if("function"!=typeof e[0]){var e=le(Ae(e),Xo);return si(t,Ce(to(t),e))}var n=sn(e[0],e[1],3);return ai(t,function(t,e,i){return!n(t,e,i)})}),qa=vr(function(t,e){return null==t?{}:"function"==typeof e[0]?ai(t,sn(e[0],e[1],3)):si(t,Ae(e))}),Ya=mn(function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)}),Va=mn(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Ua=An(),Ga=An(!0),Xa=mn(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Ka=mn(function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}),Za=vr(function(t,e){try{return t.apply(x,e)}catch(n){return Mr(n)?n:new Wo(n)}}),Qa=vr(function(t,e){return function(n){return Kn(n,t,e)}}),Ja=vr(function(t,e){return function(n){return Kn(t,n,e)}}),tl=Nn("ceil"),el=Nn("floor"),nl=bn(Cr,Ts),il=bn(Yr,Ds),rl=Nn("round");return G.prototype=Q.prototype,tt.prototype=Ns(Q.prototype),tt.prototype.constructor=tt,Bt.prototype=Ns(Q.prototype),Bt.prototype.constructor=Bt,Yt.prototype["delete"]=Vt,Yt.prototype.get=Ut,Yt.prototype.has=Gt,Yt.prototype.set=Xt,Kt.prototype.push=Qt,fr.Cache=Yt,G.after=cr,G.ary=hr,G.assign=Ma,G.at=na,G.before=dr,G.bind=ma,G.bindAll=va,G.bindKey=ya,G.callback=Eo,G.chain=Bi,G.chunk=fi,G.compact=gi,G.constant=To,G.countBy=ia,G.create=Xr,G.curry=_a,G.curryRight=ba,G.debounce=pr,G.defaults=Oa,G.defaultsDeep=Ia,G.defer=wa,G.delay=xa,G.difference=qs,G.drop=mi,G.dropRight=vi,G.dropRightWhile=yi,G.dropWhile=_i,G.fill=bi,G.filter=Zi,G.flatten=xi,G.flattenDeep=Ci,G.flow=Ca,G.flowRight=ka,G.forEach=sa,G.forEachRight=aa,G.forIn=La,G.forInRight=$a,G.forOwn=ja,G.forOwnRight=Fa,G.functions=Kr,G.groupBy=la,G.indexBy=ua,G.initial=Si,G.intersection=Us,G.invert=Jr,G.invoke=ca,G.keys=za,G.keysIn=to,G.map=tr,G.mapKeys=Ba,G.mapValues=Ha,G.matches=Ao,G.matchesProperty=Po,G.memoize=fr,G.merge=Pa,G.method=Qa,G.methodOf=Ja,G.mixin=Mo,G.modArgs=Sa,G.negate=gr,G.omit=Wa,G.once=mr,G.pairs=eo,G.partial=Ea,G.partialRight=Ta,G.partition=ha,G.pick=qa,G.pluck=er,G.property=Ro,G.propertyOf=No,G.pull=Di,G.pullAt=Gs,G.range=Lo,G.rearg=Da,G.reject=nr,G.remove=Ai,G.rest=Pi,G.restParam=vr,G.set=io,G.shuffle=rr,G.slice=Mi,G.sortBy=ar,G.sortByAll=fa,G.sortByOrder=lr,G.spread=yr,G.take=Oi,G.takeRight=Ii,G.takeRightWhile=Ri,G.takeWhile=Ni,G.tap=Hi,G.throttle=_r,G.thru=Wi,G.times=$o,G.toArray=Ur,G.toPlainObject=Gr,G.transform=ro,G.union=Zs,G.uniq=Li,G.unzip=$i,G.unzipWith=ji,G.values=oo,G.valuesIn=so,G.where=ur,G.without=Qs,G.wrap=br,G.xor=Fi,G.zip=Js,G.zipObject=zi,G.zipWith=ta,G.backflow=ka,G.collect=tr,G.compose=ka,G.each=sa,G.eachRight=aa,G.extend=Ma,G.iteratee=Eo,G.methods=Kr,G.object=zi,G.select=Zi,G.tail=Pi,G.unique=Li,Mo(G,G),G.add=Fo,G.attempt=Za,G.camelCase=Ya,G.capitalize=uo,G.ceil=tl,G.clone=wr,G.cloneDeep=xr,G.deburr=co,G.endsWith=ho,G.escape=po,G.escapeRegExp=fo,G.every=Ki,G.find=ra,G.findIndex=Ys,G.findKey=Ra,G.findLast=oa,G.findLastIndex=Vs,G.findLastKey=Na,G.findWhere=Qi,G.first=wi,G.floor=el,G.get=Zr,G.gt=Cr,G.gte=kr,G.has=Qr,G.identity=Do,G.includes=Ji,G.indexOf=ki,G.inRange=ao,G.isArguments=Sr,G.isArray=Aa,G.isBoolean=Er,G.isDate=Tr,G.isElement=Dr,G.isEmpty=Ar,G.isEqual=Pr,G.isError=Mr,G.isFinite=Or,G.isFunction=Ir,G.isMatch=Nr,G.isNaN=Lr,G.isNative=$r,G.isNull=jr,G.isNumber=Fr,G.isObject=Rr,G.isPlainObject=zr,G.isRegExp=Br,G.isString=Hr,G.isTypedArray=Wr,G.isUndefined=qr,G.kebabCase=Va,G.last=Ei,G.lastIndexOf=Ti,G.lt=Yr,G.lte=Vr,G.max=nl,G.min=il,G.noConflict=Oo,G.noop=Io,G.now=ga,G.pad=go,G.padLeft=Ua,G.padRight=Ga,G.parseInt=mo,G.random=lo,G.reduce=da,G.reduceRight=pa,G.repeat=vo,G.result=no,G.round=rl,G.runInContext=w,G.size=or,G.snakeCase=Xa,G.some=sr,G.sortedIndex=Xs,G.sortedLastIndex=Ks,G.startCase=Ka,G.startsWith=yo,G.sum=zo,G.template=_o,G.trim=bo,G.trimLeft=wo,G.trimRight=xo,G.trunc=Co,G.unescape=ko,G.uniqueId=jo,G.words=So,G.all=Ki,G.any=sr,G.contains=Ji,G.eq=Pr,G.detect=ra,G.foldl=da,G.foldr=pa,G.head=wi,G.include=Ji,G.inject=da,Mo(G,function(){var t={};return Me(G,function(e,n){G.prototype[n]||(t[n]=e)}),t}(),!1),G.sample=ir,G.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return ir(e,t)}):ir(this.value())},G.VERSION=C,ie(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){G[t].placeholder=G}),ie(["drop","take"],function(t,e){Bt.prototype[t]=function(n){var i=this.__filtered__;if(i&&!e)return new Bt(this);n=null==n?1:xs(ys(n)||0,0);var r=this.clone();return i?r.__takeCount__=Cs(r.__takeCount__,n):r.__views__.push({size:n,type:t+(r.__dir__<0?"Right":"")}),r},Bt.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),ie(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n!=F;Bt.prototype[t]=function(t,e){var r=this.clone();return r.__iteratees__.push({iteratee:Bn(t,e,1),type:n}),r.__filtered__=r.__filtered__||i,r}}),ie(["first","last"],function(t,e){var n="take"+(e?"Right":"");Bt.prototype[t]=function(){return this[n](1).value()[0]}}),ie(["initial","rest"],function(t,e){var n="drop"+(e?"":"Right");Bt.prototype[t]=function(){return this.__filtered__?new Bt(this):this[n](1)}}),ie(["pluck","where"],function(t,e){var n=e?"filter":"map",i=e?Fe:Ro;Bt.prototype[t]=function(t){return this[n](i(t))}}),Bt.prototype.compact=function(){return this.filter(Do)},Bt.prototype.reject=function(t,e){return t=Bn(t,e,1),this.filter(function(e){return!t(e)})},Bt.prototype.slice=function(t,e){t=null==t?0:+t||0;var n=this;return n.__filtered__&&(t>0||0>e)?new Bt(n):(0>t?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==x&&(e=+e||0,n=0>e?n.dropRight(-e):n.take(e-t)),n)},Bt.prototype.takeRightWhile=function(t,e){return this.reverse().takeWhile(t,e).reverse()},Bt.prototype.toArray=function(){return this.take(Ds)},Me(Bt.prototype,function(t,e){var n=/^(?:filter|map|reject)|While$/.test(e),i=/^(?:first|last)$/.test(e),r=G[i?"take"+("last"==e?"Right":""):e];r&&(G.prototype[e]=function(){var e=i?[1]:arguments,o=this.__chain__,s=this.__wrapped__,a=!!this.__actions__.length,l=s instanceof Bt,u=e[0],c=l||Aa(s);c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var h=function(t){return i&&o?r(t,1)[0]:r.apply(x,ue([t],e))},d={func:Wi,args:[h],thisArg:x},p=l&&!a;if(i&&!o)return p?(s=s.clone(),s.__actions__.push(d),t.call(s)):r.call(x,this.value())[0];if(!i&&c){s=p?s:new Bt(this);var f=t.apply(s,e);return f.__actions__.push(d),new tt(f,o)}return this.thru(h)})}),ie(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var e=(/^(?:replace|split)$/.test(t)?Jo:Zo)[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(t);G.prototype[t]=function(){var t=arguments;return i&&!this.__chain__?e.apply(this.value(),t):this[n](function(n){return e.apply(n,t)})}}),Me(Bt.prototype,function(t,e){var n=G[e];if(n){var i=n.name,r=Rs[i]||(Rs[i]=[]);r.push({name:e,func:n})}}),Rs[On(x,S).name]=[{name:"wrapper",func:x}],Bt.prototype.clone=Ht,Bt.prototype.reverse=Wt,Bt.prototype.value=qt,G.prototype.chain=qi,G.prototype.commit=Yi,G.prototype.concat=ea,G.prototype.plant=Vi,G.prototype.reverse=Ui,G.prototype.toString=Gi,G.prototype.run=G.prototype.toJSON=G.prototype.valueOf=G.prototype.value=Xi,G.prototype.collect=G.prototype.map,G.prototype.head=G.prototype.first,G.prototype.select=G.prototype.filter,G.prototype.tail=G.prototype.rest,G}var x,C="3.10.0",k=1,S=2,E=4,T=8,D=16,A=32,P=64,M=128,O=256,I=30,R="...",N=150,L=16,$=200,j=1,F=2,z="Expected a function",B="__lodash_placeholder__",H="[object Arguments]",W="[object Array]",q="[object Boolean]",Y="[object Date]",V="[object Error]",U="[object Function]",G="[object Map]",X="[object Number]",K="[object Object]",Z="[object RegExp]",Q="[object Set]",J="[object String]",tt="[object WeakMap]",et="[object ArrayBuffer]",nt="[object Float32Array]",it="[object Float64Array]",rt="[object Int8Array]",ot="[object Int16Array]",st="[object Int32Array]",at="[object Uint8Array]",lt="[object Uint8ClampedArray]",ut="[object Uint16Array]",ct="[object Uint32Array]",ht=/\b__p \+= '';/g,dt=/\b(__p \+=) '' \+/g,pt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ft=/&(?:amp|lt|gt|quot|#39|#96);/g,gt=/[&<>"'`]/g,mt=RegExp(ft.source),vt=RegExp(gt.source),yt=/<%-([\s\S]+?)%>/g,_t=/<%([\s\S]+?)%>/g,bt=/<%=([\s\S]+?)%>/g,wt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,xt=/^\w*$/,Ct=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,kt=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,St=RegExp(kt.source),Et=/[\u0300-\u036f\ufe20-\ufe23]/g,Tt=/\\(\\)?/g,Dt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,At=/\w*$/,Pt=/^0[xX]/,Mt=/^\[object .+?Constructor\]$/,Ot=/^\d+$/,It=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Rt=/($^)/,Nt=/['\n\r\u2028\u2029\\]/g,Lt=function(){var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",e="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"+(?="+t+e+")|"+t+"?"+e+"|"+t+"+|[0-9]+","g")}(),$t=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],jt=-1,Ft={};Ft[nt]=Ft[it]=Ft[rt]=Ft[ot]=Ft[st]=Ft[at]=Ft[lt]=Ft[ut]=Ft[ct]=!0,Ft[H]=Ft[W]=Ft[et]=Ft[q]=Ft[Y]=Ft[V]=Ft[U]=Ft[G]=Ft[X]=Ft[K]=Ft[Z]=Ft[Q]=Ft[J]=Ft[tt]=!1;var zt={};zt[H]=zt[W]=zt[et]=zt[q]=zt[Y]=zt[nt]=zt[it]=zt[rt]=zt[ot]=zt[st]=zt[X]=zt[K]=zt[Z]=zt[J]=zt[at]=zt[lt]=zt[ut]=zt[ct]=!0,zt[V]=zt[U]=zt[G]=zt[Q]=zt[tt]=!1;var Bt={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss"},Ht={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Wt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},qt={"function":!0,object:!0},Yt={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Vt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ut=qt[typeof exports]&&exports&&!exports.nodeType&&exports,Gt=qt[typeof module]&&module&&!module.nodeType&&module,Xt=Ut&&Gt&&"object"==typeof global&&global&&global.Object&&global,Kt=qt[typeof self]&&self&&self.Object&&self,Zt=qt[typeof window]&&window&&window.Object&&window,Qt=Gt&&Gt.exports===Ut&&Ut,Jt=Xt||Zt!==(this&&this.window)&&Zt||Kt||this,te=w();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Jt._=te,define(function(){return te})):Ut&&Gt?Qt?(Gt.exports=te)._=te:Ut._=te:Jt._=te}.call(this),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return si.apply(null,arguments)}function e(t){si=t}function n(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function i(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function r(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function s(t,e){for(var n in e)o(e,n)&&(t[n]=e[n]);return o(e,"toString")&&(t.toString=e.toString),o(e,"valueOf")&&(t.valueOf=e.valueOf),t}function a(t,e,n,i){return Nt(t,e,n,i,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function u(t){return null==t._pf&&(t._pf=l()),t._pf}function c(t){if(null==t._isValid){var e=u(t),n=ai.call(e.parsedDateParts,function(t){return null!=t});t._isValid=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function h(t){var e=a(NaN);return null!=t?s(u(e),t):u(e).userInvalidated=!0,e}function d(t){return void 0===t}function p(t,e){var n,i,r;if(d(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),d(e._i)||(t._i=e._i),d(e._f)||(t._f=e._f),d(e._l)||(t._l=e._l),d(e._strict)||(t._strict=e._strict),d(e._tzm)||(t._tzm=e._tzm),d(e._isUTC)||(t._isUTC=e._isUTC),d(e._offset)||(t._offset=e._offset),d(e._pf)||(t._pf=u(e)),d(e._locale)||(t._locale=e._locale),li.length>0)for(n in li)i=li[n],r=e[i],d(r)||(t[i]=r);return t}function f(e){p(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),ui===!1&&(ui=!0,t.updateOffset(this),ui=!1)}function g(t){return t instanceof f||null!=t&&null!=t._isAMomentObject}function m(t){return 0>t?Math.ceil(t):Math.floor(t)}function v(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=m(e)),n}function y(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),s=0;for(i=0;r>i;i++)(n&&t[i]!==e[i]||!n&&v(t[i])!==v(e[i]))&&s++;return s+o}function _(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function b(e,n){var i=!0;return s(function(){return null!=t.deprecationHandler&&t.deprecationHandler(null,e),i&&(_(e+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),i=!1),n.apply(this,arguments)},n)}function w(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),ci[e]||(_(n),ci[e]=!0)}function x(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function C(t){return"[object Object]"===Object.prototype.toString.call(t)}function k(t){var e,n;for(n in t)e=t[n],x(e)?this[n]=e:this["_"+n]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function S(t,e){var n,i=s({},t);for(n in e)o(e,n)&&(C(t[n])&&C(e[n])?(i[n]={},s(i[n],t[n]),s(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);return i}function E(t){null!=t&&this.set(t)}function T(t){return t?t.toLowerCase().replace("_","-"):t}function D(t){for(var e,n,i,r,o=0;o<t.length;){for(r=T(t[o]).split("-"),e=r.length,n=T(t[o+1]),n=n?n.split("-"):null;e>0;){if(i=A(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&y(r,n,!0)>=e-1)break;e--}o++}return null}function A(t){var e=null;if(!fi[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=di._abbr,require("./locale/"+t),P(e)}catch(n){}return fi[t]}function P(t,e){var n;return t&&(n=d(e)?I(t):M(t,e),n&&(di=n)),di._abbr}function M(t,e){return null!==e?(e.abbr=t,null!=fi[t]?(w("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale"),e=S(fi[t]._config,e)):null!=e.parentLocale&&(null!=fi[e.parentLocale]?e=S(fi[e.parentLocale]._config,e):w("parentLocaleUndefined","specified parentLocale is not defined yet")),fi[t]=new E(e),P(t),fi[t]):(delete fi[t],null)}function O(t,e){if(null!=e){var n;null!=fi[t]&&(e=S(fi[t]._config,e)),n=new E(e),n.parentLocale=fi[t],fi[t]=n,P(t)}else null!=fi[t]&&(null!=fi[t].parentLocale?fi[t]=fi[t].parentLocale:null!=fi[t]&&delete fi[t]);return fi[t]}function I(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return di;if(!n(t)){if(e=A(t))return e;t=[t]}return D(t)}function R(){return hi(fi)}function N(t,e){var n=t.toLowerCase();gi[n]=gi[n+"s"]=gi[e]=t}function L(t){return"string"==typeof t?gi[t]||gi[t.toLowerCase()]:void 0}function $(t){var e,n,i={};for(n in t)o(t,n)&&(e=L(n),e&&(i[e]=t[n]));return i}function j(e,n){return function(i){return null!=i?(z(this,e,i),t.updateOffset(this,n),this):F(this,e)}}function F(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function z(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function B(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else if(t=L(t),x(this[t]))return this[t](e);return this}function H(t,e,n){var i=""+Math.abs(t),r=e-i.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function W(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(_i[t]=r),e&&(_i[e[0]]=function(){return H(r.apply(this,arguments),e[1],e[2])}),n&&(_i[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function q(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function Y(t){var e,n,i=t.match(mi);for(e=0,n=i.length;n>e;e++)_i[i[e]]?i[e]=_i[i[e]]:i[e]=q(i[e]);return function(e){var r,o="";for(r=0;n>r;r++)o+=i[r]instanceof Function?i[r].call(e,t):i[r];return o}}function V(t,e){return t.isValid()?(e=U(e,t.localeData()),yi[e]=yi[e]||Y(e),yi[e](t)):t.localeData().invalidDate()}function U(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(vi.lastIndex=0;i>=0&&vi.test(t);)t=t.replace(vi,n),vi.lastIndex=0,i-=1;return t}function G(t,e,n){$i[t]=x(e)?e:function(t,i){return t&&n?n:e}}function X(t,e){return o($i,t)?$i[t](e._strict,e._locale):new RegExp(K(t))}function K(t){return Z(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r}))}function Z(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Q(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(i=function(t,n){n[e]=v(t)}),n=0;n<t.length;n++)ji[t[n]]=i}function J(t,e){Q(t,function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)})}function tt(t,e,n){null!=e&&o(ji,t)&&ji[t](e,n._a,n,t)}function et(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function nt(t,e){return n(this._months)?this._months[t.month()]:this._months[Gi.test(e)?"format":"standalone"][t.month()]}function it(t,e){return n(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Gi.test(e)?"format":"standalone"][t.month()]}function rt(t,e,n){var i,r,o,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;12>i;++i)o=a([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?(r=pi.call(this._shortMonthsParse,s),-1!==r?r:null):(r=pi.call(this._longMonthsParse,s),-1!==r?r:null):"MMM"===e?(r=pi.call(this._shortMonthsParse,s),-1!==r?r:(r=pi.call(this._longMonthsParse,s),-1!==r?r:null)):(r=pi.call(this._longMonthsParse,s),-1!==r?r:(r=pi.call(this._shortMonthsParse,s),-1!==r?r:null))}function ot(t,e,n){var i,r,o;if(this._monthsParseExact)return rt.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=a([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function st(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=v(e);else if(e=t.localeData().monthsParse(e),"number"!=typeof e)return t;return n=Math.min(t.date(),et(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function at(e){return null!=e?(st(this,e),t.updateOffset(this,!0),this):F(this,"Month")}function lt(){return et(this.year(),this.month())}function ut(t){return this._monthsParseExact?(o(this,"_monthsRegex")||ht.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex}function ct(t){return this._monthsParseExact?(o(this,"_monthsRegex")||ht.call(this),t?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex}function ht(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],o=[];for(e=0;12>e;e++)n=a([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),o.sort(t),e=0;12>e;e++)i[e]=Z(i[e]),r[e]=Z(r[e]),o[e]=Z(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,
this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function dt(t){var e,n=t._a;return n&&-2===u(t).overflow&&(e=n[zi]<0||n[zi]>11?zi:n[Bi]<1||n[Bi]>et(n[Fi],n[zi])?Bi:n[Hi]<0||n[Hi]>24||24===n[Hi]&&(0!==n[Wi]||0!==n[qi]||0!==n[Yi])?Hi:n[Wi]<0||n[Wi]>59?Wi:n[qi]<0||n[qi]>59?qi:n[Yi]<0||n[Yi]>999?Yi:-1,u(t)._overflowDayOfYear&&(Fi>e||e>Bi)&&(e=Bi),u(t)._overflowWeeks&&-1===e&&(e=Vi),u(t)._overflowWeekday&&-1===e&&(e=Ui),u(t).overflow=e),t}function pt(t){var e,n,i,r,o,s,a=t._i,l=Ji.exec(a)||tr.exec(a);if(l){for(u(t).iso=!0,e=0,n=nr.length;n>e;e++)if(nr[e][1].exec(l[1])){r=nr[e][0],i=nr[e][2]!==!1;break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,n=ir.length;n>e;e++)if(ir[e][1].exec(l[3])){o=(l[2]||" ")+ir[e][0];break}if(null==o)return void(t._isValid=!1)}if(!i&&null!=o)return void(t._isValid=!1);if(l[4]){if(!er.exec(l[4]))return void(t._isValid=!1);s="Z"}t._f=r+(o||"")+(s||""),Dt(t)}else t._isValid=!1}function ft(e){var n=rr.exec(e._i);return null!==n?void(e._d=new Date(+n[1])):(pt(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function gt(t,e,n,i,r,o,s){var a=new Date(t,e,n,i,r,o,s);return 100>t&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}function mt(t){var e=new Date(Date.UTC.apply(null,arguments));return 100>t&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function vt(t){return yt(t)?366:365}function yt(t){return t%4===0&&t%100!==0||t%400===0}function _t(){return yt(this.year())}function bt(t,e,n){var i=7+e-n,r=(7+mt(t,0,i).getUTCDay()-e)%7;return-r+i-1}function wt(t,e,n,i,r){var o,s,a=(7+n-i)%7,l=bt(t,i,r),u=1+7*(e-1)+a+l;return 0>=u?(o=t-1,s=vt(o)+u):u>vt(t)?(o=t+1,s=u-vt(t)):(o=t,s=u),{year:o,dayOfYear:s}}function xt(t,e,n){var i,r,o=bt(t.year(),e,n),s=Math.floor((t.dayOfYear()-o-1)/7)+1;return 1>s?(r=t.year()-1,i=s+Ct(r,e,n)):s>Ct(t.year(),e,n)?(i=s-Ct(t.year(),e,n),r=t.year()+1):(r=t.year(),i=s),{week:i,year:r}}function Ct(t,e,n){var i=bt(t,e,n),r=bt(t+1,e,n);return(vt(t)-i+r)/7}function kt(t,e,n){return null!=t?t:null!=e?e:n}function St(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function Et(t){var e,n,i,r,o=[];if(!t._d){for(i=St(t),t._w&&null==t._a[Bi]&&null==t._a[zi]&&Tt(t),t._dayOfYear&&(r=kt(t._a[Fi],i[Fi]),t._dayOfYear>vt(r)&&(u(t)._overflowDayOfYear=!0),n=mt(r,0,t._dayOfYear),t._a[zi]=n.getUTCMonth(),t._a[Bi]=n.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=o[e]=i[e];for(;7>e;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Hi]&&0===t._a[Wi]&&0===t._a[qi]&&0===t._a[Yi]&&(t._nextDay=!0,t._a[Hi]=0),t._d=(t._useUTC?mt:gt).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Hi]=24)}}function Tt(t){var e,n,i,r,o,s,a,l;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(o=1,s=4,n=kt(e.GG,t._a[Fi],xt(Lt(),1,4).year),i=kt(e.W,1),r=kt(e.E,1),(1>r||r>7)&&(l=!0)):(o=t._locale._week.dow,s=t._locale._week.doy,n=kt(e.gg,t._a[Fi],xt(Lt(),o,s).year),i=kt(e.w,1),null!=e.d?(r=e.d,(0>r||r>6)&&(l=!0)):null!=e.e?(r=e.e+o,(e.e<0||e.e>6)&&(l=!0)):r=o),1>i||i>Ct(n,o,s)?u(t)._overflowWeeks=!0:null!=l?u(t)._overflowWeekday=!0:(a=wt(n,i,r,o,s),t._a[Fi]=a.year,t._dayOfYear=a.dayOfYear)}function Dt(e){if(e._f===t.ISO_8601)return void pt(e);e._a=[],u(e).empty=!0;var n,i,r,o,s,a=""+e._i,l=a.length,c=0;for(r=U(e._f,e._locale).match(mi)||[],n=0;n<r.length;n++)o=r[n],i=(a.match(X(o,e))||[])[0],i&&(s=a.substr(0,a.indexOf(i)),s.length>0&&u(e).unusedInput.push(s),a=a.slice(a.indexOf(i)+i.length),c+=i.length),_i[o]?(i?u(e).empty=!1:u(e).unusedTokens.push(o),tt(o,i,e)):e._strict&&!i&&u(e).unusedTokens.push(o);u(e).charsLeftOver=l-c,a.length>0&&u(e).unusedInput.push(a),u(e).bigHour===!0&&e._a[Hi]<=12&&e._a[Hi]>0&&(u(e).bigHour=void 0),u(e).parsedDateParts=e._a.slice(0),u(e).meridiem=e._meridiem,e._a[Hi]=At(e._locale,e._a[Hi],e._meridiem),Et(e),dt(e)}function At(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&12>e&&(e+=12),i||12!==e||(e=0),e):e}function Pt(t){var e,n,i,r,o;if(0===t._f.length)return u(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)o=0,e=p({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],Dt(e),c(e)&&(o+=u(e).charsLeftOver,o+=10*u(e).unusedTokens.length,u(e).score=o,(null==i||i>o)&&(i=o,n=e));s(t,n||e)}function Mt(t){if(!t._d){var e=$(t._i);t._a=r([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),Et(t)}}function Ot(t){var e=new f(dt(It(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function It(t){var e=t._i,r=t._f;return t._locale=t._locale||I(t._l),null===e||void 0===r&&""===e?h({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),g(e)?new f(dt(e)):(n(r)?Pt(t):r?Dt(t):i(e)?t._d=e:Rt(t),c(t)||(t._d=null),t))}function Rt(e){var o=e._i;void 0===o?e._d=new Date(t.now()):i(o)?e._d=new Date(o.valueOf()):"string"==typeof o?ft(e):n(o)?(e._a=r(o.slice(0),function(t){return parseInt(t,10)}),Et(e)):"object"==typeof o?Mt(e):"number"==typeof o?e._d=new Date(o):t.createFromInputFallback(e)}function Nt(t,e,n,i,r){var o={};return"boolean"==typeof n&&(i=n,n=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=r,o._l=n,o._i=t,o._f=e,o._strict=i,Ot(o)}function Lt(t,e,n,i){return Nt(t,e,n,i,!1)}function $t(t,e){var i,r;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return Lt();for(i=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](i))&&(i=e[r]);return i}function jt(){var t=[].slice.call(arguments,0);return $t("isBefore",t)}function Ft(){var t=[].slice.call(arguments,0);return $t("isAfter",t)}function zt(t){var e=$(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,s=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+1e3*a*60*60,this._days=+s+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=I(),this._bubble()}function Bt(t){return t instanceof zt}function Ht(t,e){W(t,0,0,function(){var t=this.utcOffset(),n="+";return 0>t&&(t=-t,n="-"),n+H(~~(t/60),2)+e+H(~~t%60,2)})}function Wt(t,e){var n=(e||"").match(t)||[],i=n[n.length-1]||[],r=(i+"").match(ur)||["-",0,0],o=+(60*r[1])+v(r[2]);return"+"===r[0]?o:-o}function qt(e,n){var r,o;return n._isUTC?(r=n.clone(),o=(g(e)||i(e)?e.valueOf():Lt(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+o),t.updateOffset(r,!1),r):Lt(e).local()}function Yt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Vt(e,n){var i,r=this._offset||0;return this.isValid()?null!=e?("string"==typeof e?e=Wt(Ri,e):Math.abs(e)<16&&(e=60*e),!this._isUTC&&n&&(i=Yt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==e&&(!n||this._changeInProgress?ue(this,ie(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:Yt(this):null!=e?this:NaN}function Ut(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Gt(t){return this.utcOffset(0,t)}function Xt(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Yt(this),"m")),this}function Kt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Wt(Ii,this._i)),this}function Zt(t){return this.isValid()?(t=t?Lt(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function Qt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Jt(){if(!d(this._isDSTShifted))return this._isDSTShifted;var t={};if(p(t,this),t=It(t),t._a){var e=t._isUTC?a(t._a):Lt(t._a);this._isDSTShifted=this.isValid()&&y(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function te(){return this.isValid()?!this._isUTC:!1}function ee(){return this.isValid()?this._isUTC:!1}function ne(){return this.isValid()?this._isUTC&&0===this._offset:!1}function ie(t,e){var n,i,r,s=t,a=null;return Bt(t)?s={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(s={},e?s[e]=t:s.milliseconds=t):(a=cr.exec(t))?(n="-"===a[1]?-1:1,s={y:0,d:v(a[Bi])*n,h:v(a[Hi])*n,m:v(a[Wi])*n,s:v(a[qi])*n,ms:v(a[Yi])*n}):(a=hr.exec(t))?(n="-"===a[1]?-1:1,s={y:re(a[2],n),M:re(a[3],n),w:re(a[4],n),d:re(a[5],n),h:re(a[6],n),m:re(a[7],n),s:re(a[8],n)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(r=se(Lt(s.from),Lt(s.to)),s={},s.ms=r.milliseconds,s.M=r.months),i=new zt(s),Bt(t)&&o(t,"_locale")&&(i._locale=t._locale),i}function re(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function oe(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function se(t,e){var n;return t.isValid()&&e.isValid()?(e=qt(e,t),t.isBefore(e)?n=oe(t,e):(n=oe(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function ae(t){return 0>t?-1*Math.round(-1*t):Math.round(t)}function le(t,e){return function(n,i){var r,o;return null===i||isNaN(+i)||(w(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=ie(n,i),ue(this,r,t),this}}function ue(e,n,i,r){var o=n._milliseconds,s=ae(n._days),a=ae(n._months);e.isValid()&&(r=null==r?!0:r,o&&e._d.setTime(e._d.valueOf()+o*i),s&&z(e,"Date",F(e,"Date")+s*i),a&&st(e,F(e,"Month")+a*i),r&&t.updateOffset(e,s||a))}function ce(t,e){var n=t||Lt(),i=qt(n,this).startOf("day"),r=this.diff(i,"days",!0),o=-6>r?"sameElse":-1>r?"lastWeek":0>r?"lastDay":1>r?"sameDay":2>r?"nextDay":7>r?"nextWeek":"sameElse",s=e&&(x(e[o])?e[o]():e[o]);return this.format(s||this.localeData().calendar(o,this,Lt(n)))}function he(){return new f(this)}function de(t,e){var n=g(t)?t:Lt(t);return this.isValid()&&n.isValid()?(e=L(d(e)?"millisecond":e),"millisecond"===e?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function pe(t,e){var n=g(t)?t:Lt(t);return this.isValid()&&n.isValid()?(e=L(d(e)?"millisecond":e),"millisecond"===e?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function fe(t,e,n,i){return i=i||"()",("("===i[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))}function ge(t,e){var n,i=g(t)?t:Lt(t);return this.isValid()&&i.isValid()?(e=L(e||"millisecond"),"millisecond"===e?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf())):!1}function me(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function ve(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function ye(t,e,n){var i,r,o,s;return this.isValid()?(i=qt(t,this),i.isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),e=L(e),"year"===e||"month"===e||"quarter"===e?(s=_e(this,i),"quarter"===e?s/=3:"year"===e&&(s/=12)):(o=this-i,s="second"===e?o/1e3:"minute"===e?o/6e4:"hour"===e?o/36e5:"day"===e?(o-r)/864e5:"week"===e?(o-r)/6048e5:o),n?s:m(s)):NaN):NaN}function _e(t,e){var n,i,r=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(r,"months");return 0>e-o?(n=t.clone().add(r-1,"months"),i=(e-o)/(o-n)):(n=t.clone().add(r+1,"months"),i=(e-o)/(n-o)),-(r+i)||0}function be(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function we(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?x(Date.prototype.toISOString)?this.toDate().toISOString():V(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):V(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function xe(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=V(this,e);return this.localeData().postformat(n)}function Ce(t,e){return this.isValid()&&(g(t)&&t.isValid()||Lt(t).isValid())?ie({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ke(t){return this.from(Lt(),t)}function Se(t,e){return this.isValid()&&(g(t)&&t.isValid()||Lt(t).isValid())?ie({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Ee(t){return this.to(Lt(),t)}function Te(t){var e;return void 0===t?this._locale._abbr:(e=I(t),null!=e&&(this._locale=e),this)}function De(){return this._locale}function Ae(t){switch(t=L(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function Pe(t){return t=L(t),void 0===t||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function Me(){return this._d.valueOf()-6e4*(this._offset||0)}function Oe(){return Math.floor(this.valueOf()/1e3)}function Ie(){return this._offset?new Date(this.valueOf()):this._d}function Re(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Ne(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Le(){return this.isValid()?this.toISOString():null}function $e(){return c(this)}function je(){return s({},u(this))}function Fe(){return u(this).overflow}function ze(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Be(t,e){W(0,[t,t.length],0,e)}function He(t){return Ve.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function We(t){return Ve.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function qe(){return Ct(this.year(),1,4)}function Ye(){var t=this.localeData()._week;return Ct(this.year(),t.dow,t.doy)}function Ve(t,e,n,i,r){var o;return null==t?xt(this,i,r).year:(o=Ct(t,i,r),e>o&&(e=o),Ue.call(this,t,e,n,i,r))}function Ue(t,e,n,i,r){var o=wt(t,e,n,i,r),s=mt(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function Ge(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Xe(t){return xt(t,this._week.dow,this._week.doy).week}function Ke(){return this._week.dow}function Ze(){return this._week.doy}function Qe(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Je(t){var e=xt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function tn(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function en(t,e){return n(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]}function nn(t){return this._weekdaysShort[t.day()]}function rn(t){return this._weekdaysMin[t.day()]}function on(t,e,n){var i,r,o,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;7>i;++i)o=a([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?(r=pi.call(this._weekdaysParse,s),-1!==r?r:null):"ddd"===e?(r=pi.call(this._shortWeekdaysParse,s),-1!==r?r:null):(r=pi.call(this._minWeekdaysParse,s),-1!==r?r:null):"dddd"===e?(r=pi.call(this._weekdaysParse,s),-1!==r?r:(r=pi.call(this._shortWeekdaysParse,s),-1!==r?r:(r=pi.call(this._minWeekdaysParse,s),-1!==r?r:null))):"ddd"===e?(r=pi.call(this._shortWeekdaysParse,s),-1!==r?r:(r=pi.call(this._weekdaysParse,s),-1!==r?r:(r=pi.call(this._minWeekdaysParse,s),-1!==r?r:null))):(r=pi.call(this._minWeekdaysParse,s),-1!==r?r:(r=pi.call(this._weekdaysParse,s),-1!==r?r:(r=pi.call(this._shortWeekdaysParse,s),-1!==r?r:null)))}function sn(t,e,n){var i,r,o;if(this._weekdaysParseExact)return on.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;7>i;i++){if(r=a([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function an(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=tn(t,this.localeData()),this.add(t-e,"d")):e}function ln(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function un(t){return this.isValid()?null==t?this.day()||7:this.day(this.day()%7?t:t-7):null!=t?this:NaN}function cn(t){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||pn.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex}function hn(t){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||pn.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}function dn(t){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||pn.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}function pn(){function t(t,e){return e.length-t.length}var e,n,i,r,o,s=[],l=[],u=[],c=[];for(e=0;7>e;e++)n=a([2e3,1]).day(e),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),s.push(i),l.push(r),u.push(o),c.push(i),c.push(r),c.push(o);for(s.sort(t),l.sort(t),u.sort(t),c.sort(t),e=0;7>e;e++)l[e]=Z(l[e]),u[e]=Z(u[e]),c[e]=Z(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function fn(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function gn(){return this.hours()%12||12}function mn(){return this.hours()||24}function vn(t,e){W(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function yn(t,e){return e._meridiemParse}function _n(t){return"p"===(t+"").toLowerCase().charAt(0)}function bn(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function wn(t,e){e[Yi]=v(1e3*("0."+t))}function xn(){return this._isUTC?"UTC":""}function Cn(){return this._isUTC?"Coordinated Universal Time":""}function kn(t){return Lt(1e3*t)}function Sn(){return Lt.apply(null,arguments).parseZone()}function En(t,e,n){var i=this._calendar[t];return x(i)?i.call(e,n):i}function Tn(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function Dn(){return this._invalidDate}function An(t){return this._ordinal.replace("%d",t)}function Pn(t){return t}function Mn(t,e,n,i){var r=this._relativeTime[n];return x(r)?r(t,e,n,i):r.replace(/%d/i,t)}function On(t,e){var n=this._relativeTime[t>0?"future":"past"];return x(n)?n(e):n.replace(/%s/i,e)}function In(t,e,n,i){var r=I(),o=a().set(i,e);return r[n](o,t)}function Rn(t,e,n){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return In(t,e,n,"month");var i,r=[];for(i=0;12>i;i++)r[i]=In(t,i,n,"month");return r}function Nn(t,e,n,i){"boolean"==typeof t?("number"==typeof e&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,"number"==typeof e&&(n=e,e=void 0),e=e||"");var r=I(),o=t?r._week.dow:0;if(null!=n)return In(e,(n+o)%7,i,"day");var s,a=[];for(s=0;7>s;s++)a[s]=In(e,(s+o)%7,i,"day");return a}function Ln(t,e){return Rn(t,e,"months")}function $n(t,e){return Rn(t,e,"monthsShort")}function jn(t,e,n){return Nn(t,e,n,"weekdays")}function Fn(t,e,n){return Nn(t,e,n,"weekdaysShort")}function zn(t,e,n){return Nn(t,e,n,"weekdaysMin")}function Bn(){var t=this._data;return this._milliseconds=jr(this._milliseconds),this._days=jr(this._days),this._months=jr(this._months),t.milliseconds=jr(t.milliseconds),t.seconds=jr(t.seconds),t.minutes=jr(t.minutes),t.hours=jr(t.hours),t.months=jr(t.months),t.years=jr(t.years),this}function Hn(t,e,n,i){var r=ie(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function Wn(t,e){return Hn(this,t,e,1)}function qn(t,e){return Hn(this,t,e,-1)}function Yn(t){return 0>t?Math.floor(t):Math.ceil(t)}function Vn(){var t,e,n,i,r,o=this._milliseconds,s=this._days,a=this._months,l=this._data;return o>=0&&s>=0&&a>=0||0>=o&&0>=s&&0>=a||(o+=864e5*Yn(Gn(a)+s),s=0,a=0),l.milliseconds=o%1e3,t=m(o/1e3),l.seconds=t%60,e=m(t/60),l.minutes=e%60,n=m(e/60),l.hours=n%24,s+=m(n/24),r=m(Un(s)),a+=r,s-=Yn(Gn(r)),i=m(a/12),a%=12,l.days=s,l.months=a,l.years=i,this}function Un(t){return 4800*t/146097}function Gn(t){return 146097*t/4800}function Xn(t){var e,n,i=this._milliseconds;if(t=L(t),"month"===t||"year"===t)return e=this._days+i/864e5,n=this._months+Un(e),"month"===t?n:n/12;switch(e=this._days+Math.round(Gn(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function Kn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)}function Zn(t){return function(){return this.as(t)}}function Qn(t){return t=L(t),this[t+"s"]()}function Jn(t){return function(){return this._data[t]}}function ti(){return m(this.days()/7)}function ei(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function ni(t,e,n){var i=ie(t).abs(),r=to(i.as("s")),o=to(i.as("m")),s=to(i.as("h")),a=to(i.as("d")),l=to(i.as("M")),u=to(i.as("y")),c=r<eo.s&&["s",r]||1>=o&&["m"]||o<eo.m&&["mm",o]||1>=s&&["h"]||s<eo.h&&["hh",s]||1>=a&&["d"]||a<eo.d&&["dd",a]||1>=l&&["M"]||l<eo.M&&["MM",l]||1>=u&&["y"]||["yy",u];return c[2]=e,c[3]=+t>0,c[4]=n,ei.apply(null,c)}function ii(t,e){return void 0===eo[t]?!1:void 0===e?eo[t]:(eo[t]=e,!0)}function ri(t){var e=this.localeData(),n=ni(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function oi(){var t,e,n,i=no(this._milliseconds)/1e3,r=no(this._days),o=no(this._months);t=m(i/60),e=m(t/60),i%=60,t%=60,n=m(o/12),o%=12;var s=n,a=o,l=r,u=e,c=t,h=i,d=this.asSeconds();return d?(0>d?"-":"")+"P"+(s?s+"Y":"")+(a?a+"M":"")+(l?l+"D":"")+(u||c||h?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(h?h+"S":""):"P0D"}var si,ai;ai=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;n>i;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var li=t.momentProperties=[],ui=!1,ci={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var hi;hi=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)o(t,e)&&n.push(e);return n};var di,pi,fi={},gi={},mi=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,vi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,yi={},_i={},bi=/\d/,wi=/\d\d/,xi=/\d{3}/,Ci=/\d{4}/,ki=/[+-]?\d{6}/,Si=/\d\d?/,Ei=/\d\d\d\d?/,Ti=/\d\d\d\d\d\d?/,Di=/\d{1,3}/,Ai=/\d{1,4}/,Pi=/[+-]?\d{1,6}/,Mi=/\d+/,Oi=/[+-]?\d+/,Ii=/Z|[+-]\d\d:?\d\d/gi,Ri=/Z|[+-]\d\d(?::?\d\d)?/gi,Ni=/[+-]?\d+(\.\d{1,3})?/,Li=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,$i={},ji={},Fi=0,zi=1,Bi=2,Hi=3,Wi=4,qi=5,Yi=6,Vi=7,Ui=8;pi=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},W("M",["MM",2],"Mo",function(){return this.month()+1}),W("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),W("MMMM",0,0,function(t){return this.localeData().months(this,t)}),N("month","M"),G("M",Si),G("MM",Si,wi),G("MMM",function(t,e){return e.monthsShortRegex(t)}),G("MMMM",function(t,e){return e.monthsRegex(t)}),Q(["M","MM"],function(t,e){e[zi]=v(t)-1}),Q(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[zi]=r:u(n).invalidMonth=t});var Gi=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Xi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ki="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Zi=Li,Qi=Li,Ji=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,tr=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,er=/Z|[+-]\d\d(?::?\d\d)?/,nr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ir=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],rr=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=b("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),W("Y",0,0,function(){var t=this.year();return 9999>=t?""+t:"+"+t}),W(0,["YY",2],0,function(){return this.year()%100}),W(0,["YYYY",4],0,"year"),W(0,["YYYYY",5],0,"year"),W(0,["YYYYYY",6,!0],0,"year"),N("year","y"),G("Y",Oi),G("YY",Si,wi),G("YYYY",Ai,Ci),G("YYYYY",Pi,ki),G("YYYYYY",Pi,ki),Q(["YYYYY","YYYYYY"],Fi),Q("YYYY",function(e,n){n[Fi]=2===e.length?t.parseTwoDigitYear(e):v(e)}),Q("YY",function(e,n){n[Fi]=t.parseTwoDigitYear(e)}),Q("Y",function(t,e){e[Fi]=parseInt(t,10)}),t.parseTwoDigitYear=function(t){return v(t)+(v(t)>68?1900:2e3)};var or=j("FullYear",!0);t.ISO_8601=function(){};var sr=b("moment().min is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=Lt.apply(null,arguments);return this.isValid()&&t.isValid()?this>t?this:t:h()}),ar=b("moment().max is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=Lt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:h()}),lr=function(){return Date.now?Date.now():+new Date};Ht("Z",":"),Ht("ZZ",""),G("Z",Ri),G("ZZ",Ri),Q(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Wt(Ri,t)});var ur=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var cr=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,hr=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;ie.fn=zt.prototype;var dr=le(1,"add"),pr=le(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var fr=b("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});W(0,["gg",2],0,function(){return this.weekYear()%100}),W(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Be("gggg","weekYear"),Be("ggggg","weekYear"),Be("GGGG","isoWeekYear"),Be("GGGGG","isoWeekYear"),N("weekYear","gg"),N("isoWeekYear","GG"),G("G",Oi),G("g",Oi),G("GG",Si,wi),G("gg",Si,wi),G("GGGG",Ai,Ci),G("gggg",Ai,Ci),G("GGGGG",Pi,ki),G("ggggg",Pi,ki),J(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=v(t)}),J(["gg","GG"],function(e,n,i,r){n[r]=t.parseTwoDigitYear(e)}),W("Q",0,"Qo","quarter"),N("quarter","Q"),G("Q",bi),Q("Q",function(t,e){e[zi]=3*(v(t)-1)}),W("w",["ww",2],"wo","week"),W("W",["WW",2],"Wo","isoWeek"),N("week","w"),N("isoWeek","W"),G("w",Si),G("ww",Si,wi),G("W",Si),G("WW",Si,wi),J(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=v(t)});var gr={dow:0,doy:6};W("D",["DD",2],"Do","date"),N("date","D"),G("D",Si),G("DD",Si,wi),G("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),Q(["D","DD"],Bi),Q("Do",function(t,e){e[Bi]=v(t.match(Si)[0],10)});var mr=j("Date",!0);W("d",0,"do","day"),W("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),W("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),W("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),W("e",0,0,"weekday"),W("E",0,0,"isoWeekday"),N("day","d"),N("weekday","e"),N("isoWeekday","E"),G("d",Si),G("e",Si),G("E",Si),G("dd",function(t,e){return e.weekdaysMinRegex(t)}),G("ddd",function(t,e){return e.weekdaysShortRegex(t)}),G("dddd",function(t,e){return e.weekdaysRegex(t)}),J(["dd","ddd","dddd"],function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:u(n).invalidWeekday=t}),J(["d","e","E"],function(t,e,n,i){e[i]=v(t)});var vr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),yr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),_r="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),br=Li,wr=Li,xr=Li;W("DDD",["DDDD",3],"DDDo","dayOfYear"),N("dayOfYear","DDD"),G("DDD",Di),G("DDDD",xi),Q(["DDD","DDDD"],function(t,e,n){n._dayOfYear=v(t)}),W("H",["HH",2],0,"hour"),W("h",["hh",2],0,gn),W("k",["kk",2],0,mn),W("hmm",0,0,function(){return""+gn.apply(this)+H(this.minutes(),2)}),W("hmmss",0,0,function(){return""+gn.apply(this)+H(this.minutes(),2)+H(this.seconds(),2)}),W("Hmm",0,0,function(){return""+this.hours()+H(this.minutes(),2)}),W("Hmmss",0,0,function(){return""+this.hours()+H(this.minutes(),2)+H(this.seconds(),2)}),vn("a",!0),vn("A",!1),N("hour","h"),G("a",yn),G("A",yn),G("H",Si),G("h",Si),G("HH",Si,wi),G("hh",Si,wi),G("hmm",Ei),G("hmmss",Ti),G("Hmm",Ei),G("Hmmss",Ti),Q(["H","HH"],Hi),Q(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),Q(["h","hh"],function(t,e,n){e[Hi]=v(t),u(n).bigHour=!0}),Q("hmm",function(t,e,n){var i=t.length-2;e[Hi]=v(t.substr(0,i)),e[Wi]=v(t.substr(i)),u(n).bigHour=!0}),Q("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[Hi]=v(t.substr(0,i)),e[Wi]=v(t.substr(i,2)),e[qi]=v(t.substr(r)),u(n).bigHour=!0}),Q("Hmm",function(t,e,n){var i=t.length-2;e[Hi]=v(t.substr(0,i)),e[Wi]=v(t.substr(i))}),Q("Hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[Hi]=v(t.substr(0,i)),e[Wi]=v(t.substr(i,2)),e[qi]=v(t.substr(r))});var Cr=/[ap]\.?m?\.?/i,kr=j("Hours",!0);W("m",["mm",2],0,"minute"),N("minute","m"),G("m",Si),G("mm",Si,wi),Q(["m","mm"],Wi);var Sr=j("Minutes",!1);W("s",["ss",2],0,"second"),N("second","s"),G("s",Si),G("ss",Si,wi),Q(["s","ss"],qi);var Er=j("Seconds",!1);W("S",0,0,function(){return~~(this.millisecond()/100)}),W(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),W(0,["SSS",3],0,"millisecond"),W(0,["SSSS",4],0,function(){return 10*this.millisecond()}),W(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),W(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),W(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),W(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),W(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),N("millisecond","ms"),G("S",Di,bi),G("SS",Di,wi),G("SSS",Di,xi);var Tr;for(Tr="SSSS";Tr.length<=9;Tr+="S")G(Tr,Mi);for(Tr="S";Tr.length<=9;Tr+="S")Q(Tr,wn);var Dr=j("Milliseconds",!1);W("z",0,0,"zoneAbbr"),W("zz",0,0,"zoneName");var Ar=f.prototype;Ar.add=dr,Ar.calendar=ce,Ar.clone=he,Ar.diff=ye,Ar.endOf=Pe,Ar.format=xe,Ar.from=Ce,Ar.fromNow=ke,Ar.to=Se,Ar.toNow=Ee,Ar.get=B,Ar.invalidAt=Fe,Ar.isAfter=de,Ar.isBefore=pe,Ar.isBetween=fe,Ar.isSame=ge,Ar.isSameOrAfter=me,Ar.isSameOrBefore=ve,Ar.isValid=$e,Ar.lang=fr,Ar.locale=Te,Ar.localeData=De,Ar.max=ar,Ar.min=sr,Ar.parsingFlags=je,Ar.set=B,Ar.startOf=Ae,Ar.subtract=pr,Ar.toArray=Re,Ar.toObject=Ne,
Ar.toDate=Ie,Ar.toISOString=we,Ar.toJSON=Le,Ar.toString=be,Ar.unix=Oe,Ar.valueOf=Me,Ar.creationData=ze,Ar.year=or,Ar.isLeapYear=_t,Ar.weekYear=He,Ar.isoWeekYear=We,Ar.quarter=Ar.quarters=Ge,Ar.month=at,Ar.daysInMonth=lt,Ar.week=Ar.weeks=Qe,Ar.isoWeek=Ar.isoWeeks=Je,Ar.weeksInYear=Ye,Ar.isoWeeksInYear=qe,Ar.date=mr,Ar.day=Ar.days=an,Ar.weekday=ln,Ar.isoWeekday=un,Ar.dayOfYear=fn,Ar.hour=Ar.hours=kr,Ar.minute=Ar.minutes=Sr,Ar.second=Ar.seconds=Er,Ar.millisecond=Ar.milliseconds=Dr,Ar.utcOffset=Vt,Ar.utc=Gt,Ar.local=Xt,Ar.parseZone=Kt,Ar.hasAlignedHourOffset=Zt,Ar.isDST=Qt,Ar.isDSTShifted=Jt,Ar.isLocal=te,Ar.isUtcOffset=ee,Ar.isUtc=ne,Ar.isUTC=ne,Ar.zoneAbbr=xn,Ar.zoneName=Cn,Ar.dates=b("dates accessor is deprecated. Use date instead.",mr),Ar.months=b("months accessor is deprecated. Use month instead",at),Ar.years=b("years accessor is deprecated. Use year instead",or),Ar.zone=b("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Ut);var Pr=Ar,Mr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Or={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ir="Invalid date",Rr="%d",Nr=/\d{1,2}/,Lr={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},$r=E.prototype;$r._calendar=Mr,$r.calendar=En,$r._longDateFormat=Or,$r.longDateFormat=Tn,$r._invalidDate=Ir,$r.invalidDate=Dn,$r._ordinal=Rr,$r.ordinal=An,$r._ordinalParse=Nr,$r.preparse=Pn,$r.postformat=Pn,$r._relativeTime=Lr,$r.relativeTime=Mn,$r.pastFuture=On,$r.set=k,$r.months=nt,$r._months=Xi,$r.monthsShort=it,$r._monthsShort=Ki,$r.monthsParse=ot,$r._monthsRegex=Qi,$r.monthsRegex=ct,$r._monthsShortRegex=Zi,$r.monthsShortRegex=ut,$r.week=Xe,$r._week=gr,$r.firstDayOfYear=Ze,$r.firstDayOfWeek=Ke,$r.weekdays=en,$r._weekdays=vr,$r.weekdaysMin=rn,$r._weekdaysMin=_r,$r.weekdaysShort=nn,$r._weekdaysShort=yr,$r.weekdaysParse=sn,$r._weekdaysRegex=br,$r.weekdaysRegex=cn,$r._weekdaysShortRegex=wr,$r.weekdaysShortRegex=hn,$r._weekdaysMinRegex=xr,$r.weekdaysMinRegex=dn,$r.isPM=_n,$r._meridiemParse=Cr,$r.meridiem=bn,P("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===v(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),t.lang=b("moment.lang is deprecated. Use moment.locale instead.",P),t.langData=b("moment.langData is deprecated. Use moment.localeData instead.",I);var jr=Math.abs,Fr=Zn("ms"),zr=Zn("s"),Br=Zn("m"),Hr=Zn("h"),Wr=Zn("d"),qr=Zn("w"),Yr=Zn("M"),Vr=Zn("y"),Ur=Jn("milliseconds"),Gr=Jn("seconds"),Xr=Jn("minutes"),Kr=Jn("hours"),Zr=Jn("days"),Qr=Jn("months"),Jr=Jn("years"),to=Math.round,eo={s:45,m:45,h:22,d:26,M:11},no=Math.abs,io=zt.prototype;io.abs=Bn,io.add=Wn,io.subtract=qn,io.as=Xn,io.asMilliseconds=Fr,io.asSeconds=zr,io.asMinutes=Br,io.asHours=Hr,io.asDays=Wr,io.asWeeks=qr,io.asMonths=Yr,io.asYears=Vr,io.valueOf=Kn,io._bubble=Vn,io.get=Qn,io.milliseconds=Ur,io.seconds=Gr,io.minutes=Xr,io.hours=Kr,io.days=Zr,io.weeks=ti,io.months=Qr,io.years=Jr,io.humanize=ri,io.toISOString=oi,io.toString=oi,io.toJSON=oi,io.locale=Te,io.localeData=De,io.toIsoString=b("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",oi),io.lang=fr,W("X",0,0,"unix"),W("x",0,0,"valueOf"),G("x",Oi),G("X",Ni),Q("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),Q("x",function(t,e,n){n._d=new Date(v(t))}),t.version="2.13.0",e(Lt),t.fn=Pr,t.min=jt,t.max=Ft,t.now=lr,t.utc=a,t.unix=kn,t.months=Ln,t.isDate=i,t.locale=P,t.invalid=h,t.duration=ie,t.isMoment=g,t.weekdays=jn,t.parseZone=Sn,t.localeData=I,t.isDuration=Bt,t.monthsShort=$n,t.weekdaysMin=zn,t.defineLocale=M,t.updateLocale=O,t.locales=R,t.weekdaysShort=Fn,t.normalizeUnits=L,t.relativeTimeThreshold=ii,t.prototype=Pr;var ro=t;return ro}),!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var i=n(153),r=n(89);window.React=i,window.ReactDOM=r},function(t,e,n){"use strict";var i=function(t,e,n,i,r,o,s,a){if(!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,r,o,s,a],c=0;l=new Error("Invariant Violation: "+e.replace(/%s/g,function(){return u[c++]}))}throw l.framesToPop=1,l}};t.exports=i},function(t,e){"use strict";function n(t,e){if(null==t)throw new TypeError("Object.assign target cannot be null or undefined");for(var n=Object(t),i=Object.prototype.hasOwnProperty,r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o){var s=Object(o);for(var a in s)i.call(s,a)&&(n[a]=s[a])}}return n}t.exports=n},function(t,e,n){"use strict";var i=n(7),r=i;t.exports=r},function(t,e){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};t.exports=i},function(t,e,n){"use strict";var i=n(11),r=n(2),o=(n(28),"function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103),s={key:!0,ref:!0,__self:!0,__source:!0},a=function(t,e,n,i,r,s,a){var l={$$typeof:o,type:t,key:e,ref:n,props:a,_owner:s};return l};a.createElement=function(t,e,n){var r,o={},l=null,u=null,c=null,h=null;if(null!=e){u=void 0===e.ref?null:e.ref,l=void 0===e.key?null:""+e.key,c=void 0===e.__self?null:e.__self,h=void 0===e.__source?null:e.__source;for(r in e)e.hasOwnProperty(r)&&!s.hasOwnProperty(r)&&(o[r]=e[r])}var d=arguments.length-2;if(1===d)o.children=n;else if(d>1){for(var p=Array(d),f=0;d>f;f++)p[f]=arguments[f+2];o.children=p}if(t&&t.defaultProps){var g=t.defaultProps;for(r in g)"undefined"==typeof o[r]&&(o[r]=g[r])}return a(t,l,u,c,h,i.current,o)},a.createFactory=function(t){var e=a.createElement.bind(null,t);return e.type=t,e},a.cloneAndReplaceKey=function(t,e){var n=a(t.type,e,t.ref,t._self,t._source,t._owner,t.props);return n},a.cloneAndReplaceProps=function(t,e){var n=a(t.type,t.key,t.ref,t._self,t._source,t._owner,e);return n},a.cloneElement=function(t,e,n){var o,l=r({},t.props),u=t.key,c=t.ref,h=t._self,d=t._source,p=t._owner;if(null!=e){void 0!==e.ref&&(c=e.ref,p=i.current),void 0!==e.key&&(u=""+e.key);for(o in e)e.hasOwnProperty(o)&&!s.hasOwnProperty(o)&&(l[o]=e[o])}var f=arguments.length-2;if(1===f)l.children=n;else if(f>1){for(var g=Array(f),m=0;f>m;m++)g[m]=arguments[m+2];l.children=g}return a(t.type,u,c,h,d,p,l)},a.isValidElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===o},t.exports=a},function(t,e,n){"use strict";function i(t,e){for(var n=Math.min(t.length,e.length),i=0;n>i;i++)if(t.charAt(i)!==e.charAt(i))return i;return t.length===e.length?-1:n}function r(t){return t?t.nodeType===H?t.documentElement:t.firstChild:null}function o(t){var e=r(t);return e&&K.getID(e)}function s(t){var e=a(t);if(e)if(z.hasOwnProperty(e)){var n=z[e];n!==t&&(h(n,e)?L(!1):void 0,z[e]=t)}else z[e]=t;return e}function a(t){return t&&t.getAttribute&&t.getAttribute(F)||""}function l(t,e){var n=a(t);n!==e&&delete z[n],t.setAttribute(F,e),z[e]=t}function u(t){return z.hasOwnProperty(t)&&h(z[t],t)||(z[t]=K.findReactNodeByID(t)),z[t]}function c(t){var e=E.get(t)._rootNodeID;return k.isNullComponentID(e)?null:(z.hasOwnProperty(e)&&h(z[e],e)||(z[e]=K.findReactNodeByID(e)),z[e])}function h(t,e){if(t){a(t)!==e?L(!1):void 0;var n=K.findReactContainerForID(e);if(n&&R(n,t))return!0}return!1}function d(t){delete z[t]}function p(t){var e=z[t];return e&&h(e,t)?void(G=e):!1}function f(t){G=null,S.traverseAncestors(t,p);var e=G;return G=null,e}function g(t,e,n,i,r,o){x.useCreateElement&&(o=O({},o),n.nodeType===H?o[q]=n:o[q]=n.ownerDocument);var s=A.mountComponent(t,e,i,o);t._renderedComponent._topLevelWrapper=t,K._mountImageIntoNode(s,n,r,i)}function m(t,e,n,i,r){var o=M.ReactReconcileTransaction.getPooled(i);o.perform(g,null,t,e,n,o,i,r),M.ReactReconcileTransaction.release(o)}function v(t,e){for(A.unmountComponent(t),e.nodeType===H&&(e=e.documentElement);e.lastChild;)e.removeChild(e.lastChild)}function y(t){var e=o(t);return e?e!==S.getReactRootIDFromNodeID(e):!1}function _(t){for(;t&&t.parentNode!==t;t=t.parentNode)if(1===t.nodeType){var e=a(t);if(e){var n,i=S.getReactRootIDFromNodeID(e),r=t;do if(n=a(r),r=r.parentNode,null==r)return null;while(n!==i);if(r===V[i])return t}}return null}var b=n(16),w=n(23),x=(n(11),n(60)),C=n(5),k=n(67),S=n(17),E=n(20),T=n(70),D=n(8),A=n(14),P=n(39),M=n(9),O=n(2),I=n(22),R=n(82),N=n(46),L=n(1),$=n(30),j=n(49),F=(n(51),n(3),b.ID_ATTRIBUTE_NAME),z={},B=1,H=9,W=11,q="__ReactMount_ownerDocument$"+Math.random().toString(36).slice(2),Y={},V={},U=[],G=null,X=function(){};X.prototype.isReactComponent={},X.prototype.render=function(){return this.props};var K={TopLevelWrapper:X,_instancesByReactRootID:Y,scrollMonitor:function(t,e){e()},_updateRootComponent:function(t,e,n,i){return K.scrollMonitor(n,function(){P.enqueueElementInternal(t,e),i&&P.enqueueCallbackInternal(t,i)}),t},_registerComponent:function(t,e){!e||e.nodeType!==B&&e.nodeType!==H&&e.nodeType!==W?L(!1):void 0,w.ensureScrollValueMonitoring();var n=K.registerContainer(e);return Y[n]=t,n},_renderNewRootComponent:function(t,e,n,i){var r=N(t,null),o=K._registerComponent(r,e);return M.batchedUpdates(m,r,o,e,n,i),r},renderSubtreeIntoContainer:function(t,e,n,i){return null==t||null==t._reactInternalInstance?L(!1):void 0,K._renderSubtreeIntoContainer(t,e,n,i)},_renderSubtreeIntoContainer:function(t,e,n,i){C.isValidElement(e)?void 0:L(!1);var s=new C(X,null,null,null,null,null,e),l=Y[o(n)];if(l){var u=l._currentElement,c=u.props;if(j(c,e)){var h=l._renderedComponent.getPublicInstance(),d=i&&function(){i.call(h)};return K._updateRootComponent(l,s,n,d),h}K.unmountComponentAtNode(n)}var p=r(n),f=p&&!!a(p),g=y(n),m=f&&!l&&!g,v=K._renderNewRootComponent(s,n,m,null!=t?t._reactInternalInstance._processChildContext(t._reactInternalInstance._context):I)._renderedComponent.getPublicInstance();return i&&i.call(v),v},render:function(t,e,n){return K._renderSubtreeIntoContainer(null,t,e,n)},registerContainer:function(t){var e=o(t);return e&&(e=S.getReactRootIDFromNodeID(e)),e||(e=S.createReactRootID()),V[e]=t,e},unmountComponentAtNode:function(t){!t||t.nodeType!==B&&t.nodeType!==H&&t.nodeType!==W?L(!1):void 0;var e=o(t),n=Y[e];if(!n){var i=(y(t),a(t));return i&&i===S.getReactRootIDFromNodeID(i),!1}return M.batchedUpdates(v,n,t),delete Y[e],delete V[e],!0},findReactContainerForID:function(t){var e=S.getReactRootIDFromNodeID(t),n=V[e];return n},findReactNodeByID:function(t){var e=K.findReactContainerForID(t);return K.findComponentRoot(e,t)},getFirstReactDOM:function(t){return _(t)},findComponentRoot:function(t,e){var n=U,i=0,r=f(e)||t;for(n[0]=r.firstChild,n.length=1;i<n.length;){for(var o,s=n[i++];s;){var a=K.getID(s);a?e===a?o=s:S.isAncestorIDOf(a,e)&&(n.length=i=0,n.push(s.firstChild)):n.push(s.firstChild),s=s.nextSibling}if(o)return n.length=0,o}n.length=0,L(!1)},_mountImageIntoNode:function(t,e,n,o){if(!e||e.nodeType!==B&&e.nodeType!==H&&e.nodeType!==W?L(!1):void 0,n){var s=r(e);if(T.canReuseMarkup(t,s))return;var a=s.getAttribute(T.CHECKSUM_ATTR_NAME);s.removeAttribute(T.CHECKSUM_ATTR_NAME);var l=s.outerHTML;s.setAttribute(T.CHECKSUM_ATTR_NAME,a);var u=t,c=i(u,l);" (client) "+u.substring(c-20,c+20)+"\n (server) "+l.substring(c-20,c+20),e.nodeType===H?L(!1):void 0}if(e.nodeType===H?L(!1):void 0,o.useCreateElement){for(;e.lastChild;)e.removeChild(e.lastChild);e.appendChild(t)}else $(e,t)},ownerDocumentContextKey:q,getReactRootID:o,getID:s,setID:l,getNode:u,getNodeFromInstance:c,isValid:h,purgeID:d};D.measureMethods(K,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),t.exports=K},function(t,e){"use strict";function n(t){return function(){return t}}function i(){}i.thatReturns=n,i.thatReturnsFalse=n(!1),i.thatReturnsTrue=n(!0),i.thatReturnsNull=n(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t},t.exports=i},function(t,e,n){"use strict";function i(t,e,n){return n}var r={enableMeasure:!1,storedMeasure:i,measureMethods:function(t,e,n){},measure:function(t,e,n){return n},injection:{injectMeasure:function(t){r.storedMeasure=t}}};t.exports=r},function(t,e,n){"use strict";function i(){E.ReactReconcileTransaction&&b?void 0:m(!1)}function r(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=c.getPooled(),this.reconcileTransaction=E.ReactReconcileTransaction.getPooled(!1)}function o(t,e,n,r,o,s){i(),b.batchedUpdates(t,e,n,r,o,s)}function s(t,e){return t._mountOrder-e._mountOrder}function a(t){var e=t.dirtyComponentsLength;e!==v.length?m(!1):void 0,v.sort(s);for(var n=0;e>n;n++){var i=v[n],r=i._pendingCallbacks;if(i._pendingCallbacks=null,p.performUpdateIfNecessary(i,t.reconcileTransaction),r)for(var o=0;o<r.length;o++)t.callbackQueue.enqueue(r[o],i.getPublicInstance())}}function l(t){return i(),b.isBatchingUpdates?void v.push(t):void b.batchedUpdates(l,t)}function u(t,e){b.isBatchingUpdates?void 0:m(!1),y.enqueue(t,e),_=!0}var c=n(32),h=n(13),d=n(8),p=n(14),f=n(27),g=n(2),m=n(1),v=[],y=c.getPooled(),_=!1,b=null,w={initialize:function(){this.dirtyComponentsLength=v.length},close:function(){this.dirtyComponentsLength!==v.length?(v.splice(0,this.dirtyComponentsLength),k()):v.length=0}},x={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},C=[w,x];g(r.prototype,f.Mixin,{getTransactionWrappers:function(){return C},destructor:function(){this.dirtyComponentsLength=null,c.release(this.callbackQueue),this.callbackQueue=null,E.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(t,e,n){return f.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,t,e,n)}}),h.addPoolingTo(r);var k=function(){for(;v.length||_;){if(v.length){var t=r.getPooled();t.perform(a,null,t),r.release(t)}if(_){_=!1;var e=y;y=c.getPooled(),e.notifyAll(),c.release(e)}}};k=d.measure("ReactUpdates","flushBatchedUpdates",k);var S={injectReconcileTransaction:function(t){t?void 0:m(!1),E.ReactReconcileTransaction=t},injectBatchingStrategy:function(t){t?void 0:m(!1),"function"!=typeof t.batchedUpdates?m(!1):void 0,"boolean"!=typeof t.isBatchingUpdates?m(!1):void 0,b=t}},E={ReactReconcileTransaction:null,batchedUpdates:o,enqueueUpdate:l,flushBatchedUpdates:k,injection:S,asap:u};t.exports=E},function(t,e,n){"use strict";var i=n(31),r=i({bubbled:null,captured:null}),o=i({topAbort:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topVolumeChange:null,topWaiting:null,topWheel:null}),s={topLevelTypes:o,PropagationPhases:r};t.exports=s},function(t,e){"use strict";var n={current:null};t.exports=n},function(t,e){"use strict";var n=function(t){var e;for(e in t)if(t.hasOwnProperty(e))return e;return null};t.exports=n},function(t,e,n){"use strict";var i=n(1),r=function(t){var e=this;if(e.instancePool.length){var n=e.instancePool.pop();return e.call(n,t),n}return new e(t)},o=function(t,e){var n=this;if(n.instancePool.length){var i=n.instancePool.pop();return n.call(i,t,e),i}return new n(t,e)},s=function(t,e,n){var i=this;if(i.instancePool.length){var r=i.instancePool.pop();return i.call(r,t,e,n),r}return new i(t,e,n)},a=function(t,e,n,i){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,t,e,n,i),o}return new r(t,e,n,i)},l=function(t,e,n,i,r){var o=this;if(o.instancePool.length){var s=o.instancePool.pop();return o.call(s,t,e,n,i,r),s}return new o(t,e,n,i,r)},u=function(t){var e=this;t instanceof e?void 0:i(!1),t.destructor(),e.instancePool.length<e.poolSize&&e.instancePool.push(t)},c=10,h=r,d=function(t,e){var n=t;return n.instancePool=[],n.getPooled=e||h,n.poolSize||(n.poolSize=c),n.release=u,n},p={addPoolingTo:d,oneArgumentPooler:r,twoArgumentPooler:o,threeArgumentPooler:s,fourArgumentPooler:a,fiveArgumentPooler:l};t.exports=p},function(t,e,n){"use strict";function i(){r.attachRefs(this,this._currentElement)}var r=n(118),o={mountComponent:function(t,e,n,r){var o=t.mountComponent(e,n,r);return t._currentElement&&null!=t._currentElement.ref&&n.getReactMountReady().enqueue(i,t),o},unmountComponent:function(t){r.detachRefs(t,t._currentElement),t.unmountComponent()},receiveComponent:function(t,e,n,o){var s=t._currentElement;if(e!==s||o!==t._context){var a=r.shouldUpdateRefs(s,e);a&&r.detachRefs(t,s),t.receiveComponent(e,n,o),a&&t._currentElement&&null!=t._currentElement.ref&&n.getReactMountReady().enqueue(i,t)}},performUpdateIfNecessary:function(t,e){t.performUpdateIfNecessary(e)}};t.exports=o},function(t,e,n){"use strict";function i(t,e,n,i){this.dispatchConfig=t,this.dispatchMarker=e,this.nativeEvent=n,this.target=i,this.currentTarget=i;var r=this.constructor.Interface;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];a?this[o]=a(n):this[o]=n[o]}var l=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;l?this.isDefaultPrevented=s.thatReturnsTrue:this.isDefaultPrevented=s.thatReturnsFalse,this.isPropagationStopped=s.thatReturnsFalse}var r=n(13),o=n(2),s=n(7),a=(n(3),{type:null,currentTarget:s.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null});o(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():t.returnValue=!1,this.isDefaultPrevented=s.thatReturnsTrue)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this.isPropagationStopped=s.thatReturnsTrue)},persist:function(){this.isPersistent=s.thatReturnsTrue},isPersistent:s.thatReturnsFalse,destructor:function(){var t=this.constructor.Interface;for(var e in t)this[e]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),i.Interface=a,i.augmentClass=function(t,e){var n=this,i=Object.create(n.prototype);o(i,t.prototype),t.prototype=i,t.prototype.constructor=t,t.Interface=o({},n.Interface,e),t.augmentClass=n.augmentClass,r.addPoolingTo(t,r.fourArgumentPooler)},r.addPoolingTo(i,r.fourArgumentPooler),t.exports=i},function(t,e,n){"use strict";function i(t,e){return(t&e)===e}var r=n(1),o={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(t){var e=o,n=t.Properties||{},s=t.DOMAttributeNamespaces||{},l=t.DOMAttributeNames||{},u=t.DOMPropertyNames||{},c=t.DOMMutationMethods||{};t.isCustomAttribute&&a._isCustomAttributeFunctions.push(t.isCustomAttribute);for(var h in n){a.properties.hasOwnProperty(h)?r(!1):void 0;var d=h.toLowerCase(),p=n[h],f={attributeName:d,attributeNamespace:null,propertyName:h,mutationMethod:null,mustUseAttribute:i(p,e.MUST_USE_ATTRIBUTE),mustUseProperty:i(p,e.MUST_USE_PROPERTY),hasSideEffects:i(p,e.HAS_SIDE_EFFECTS),hasBooleanValue:i(p,e.HAS_BOOLEAN_VALUE),hasNumericValue:i(p,e.HAS_NUMERIC_VALUE),hasPositiveNumericValue:i(p,e.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:i(p,e.HAS_OVERLOADED_BOOLEAN_VALUE)};if(f.mustUseAttribute&&f.mustUseProperty?r(!1):void 0,!f.mustUseProperty&&f.hasSideEffects?r(!1):void 0,f.hasBooleanValue+f.hasNumericValue+f.hasOverloadedBooleanValue<=1?void 0:r(!1),l.hasOwnProperty(h)){var g=l[h];f.attributeName=g}s.hasOwnProperty(h)&&(f.attributeNamespace=s[h]),u.hasOwnProperty(h)&&(f.propertyName=u[h]),c.hasOwnProperty(h)&&(f.mutationMethod=c[h]),a.properties[h]=f}}},s={},a={ID_ATTRIBUTE_NAME:"data-reactid",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(t){for(var e=0;e<a._isCustomAttributeFunctions.length;e++){var n=a._isCustomAttributeFunctions[e];if(n(t))return!0}return!1},getDefaultValueForProperty:function(t,e){var n,i=s[t];return i||(s[t]=i={}),e in i||(n=document.createElement(t),i[e]=n[e]),i[e]},injection:o};t.exports=a},function(t,e,n){"use strict";function i(t){return p+t.toString(36)}function r(t,e){return t.charAt(e)===p||e===t.length}function o(t){return""===t||t.charAt(0)===p&&t.charAt(t.length-1)!==p}function s(t,e){return 0===e.indexOf(t)&&r(e,t.length)}function a(t){return t?t.substr(0,t.lastIndexOf(p)):""}function l(t,e){if(o(t)&&o(e)?void 0:d(!1),s(t,e)?void 0:d(!1),t===e)return t;var n,i=t.length+f;for(n=i;n<e.length&&!r(e,n);n++);return e.substr(0,n)}function u(t,e){var n=Math.min(t.length,e.length);if(0===n)return"";for(var i=0,s=0;n>=s;s++)if(r(t,s)&&r(e,s))i=s;else if(t.charAt(s)!==e.charAt(s))break;var a=t.substr(0,i);return o(a)?void 0:d(!1),a}function c(t,e,n,i,r,o){t=t||"",e=e||"",t===e?d(!1):void 0;var u=s(e,t);u||s(t,e)?void 0:d(!1);for(var c=0,h=u?a:l,p=t;;p=h(p,e)){var f;if(r&&p===t||o&&p===e||(f=n(p,u,i)),f===!1||p===e)break;c++<g?void 0:d(!1)}}var h=n(75),d=n(1),p=".",f=p.length,g=1e4,m={createReactRootID:function(){return i(h.createReactRootIndex())},createReactID:function(t,e){return t+e},getReactRootIDFromNodeID:function(t){if(t&&t.charAt(0)===p&&t.length>1){var e=t.indexOf(p,1);return e>-1?t.substr(0,e):t}return null},traverseEnterLeave:function(t,e,n,i,r){var o=u(t,e);o!==t&&c(t,o,n,i,!1,!0),o!==e&&c(o,e,n,r,!0,!1)},traverseTwoPhase:function(t,e,n){t&&(c("",t,e,n,!0,!1),c(t,"",e,n,!1,!0))},traverseTwoPhaseSkipTarget:function(t,e,n){t&&(c("",t,e,n,!0,!0),c(t,"",e,n,!0,!0))},traverseAncestors:function(t,e,n){c("",t,e,n,!0,!1)},getFirstCommonAncestorID:u,_getNextDescendantID:l,isAncestorIDOf:s,SEPARATOR:p};t.exports=m},function(t,e,n){"use strict";var i=n(57),r=n(98),o=n(68),s=n(77),a=n(78),l=n(1),u=(n(3),{}),c=null,h=function(t,e){t&&(r.executeDispatchesInOrder(t,e),t.isPersistent()||t.constructor.release(t))},d=function(t){return h(t,!0)},p=function(t){return h(t,!1)},f=null,g={injection:{injectMount:r.injection.injectMount,injectInstanceHandle:function(t){f=t},getInstanceHandle:function(){return f},injectEventPluginOrder:i.injectEventPluginOrder,injectEventPluginsByName:i.injectEventPluginsByName},eventNameDispatchConfigs:i.eventNameDispatchConfigs,registrationNameModules:i.registrationNameModules,putListener:function(t,e,n){"function"!=typeof n?l(!1):void 0;var r=u[e]||(u[e]={});r[t]=n;var o=i.registrationNameModules[e];o&&o.didPutListener&&o.didPutListener(t,e,n)},getListener:function(t,e){var n=u[e];return n&&n[t]},deleteListener:function(t,e){var n=i.registrationNameModules[e];n&&n.willDeleteListener&&n.willDeleteListener(t,e);var r=u[e];r&&delete r[t]},deleteAllListeners:function(t){for(var e in u)if(u[e][t]){var n=i.registrationNameModules[e];n&&n.willDeleteListener&&n.willDeleteListener(t,e),delete u[e][t]}},extractEvents:function(t,e,n,r,o){for(var a,l=i.plugins,u=0;u<l.length;u++){var c=l[u];if(c){var h=c.extractEvents(t,e,n,r,o);h&&(a=s(a,h))}}return a},enqueueEvents:function(t){t&&(c=s(c,t))},processEventQueue:function(t){var e=c;c=null,t?a(e,d):a(e,p),c?l(!1):void 0,o.rethrowCaughtError()},__purge:function(){u={}},__getListenerBank:function(){return u}};t.exports=g},function(t,e,n){"use strict";function i(t,e,n){var i=e.dispatchConfig.phasedRegistrationNames[n];return y(t,i)}function r(t,e,n){var r=e?v.bubbled:v.captured,o=i(t,n,r);o&&(n._dispatchListeners=g(n._dispatchListeners,o),n._dispatchIDs=g(n._dispatchIDs,t))}function o(t){t&&t.dispatchConfig.phasedRegistrationNames&&f.injection.getInstanceHandle().traverseTwoPhase(t.dispatchMarker,r,t)}function s(t){t&&t.dispatchConfig.phasedRegistrationNames&&f.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(t.dispatchMarker,r,t)}function a(t,e,n){if(n&&n.dispatchConfig.registrationName){var i=n.dispatchConfig.registrationName,r=y(t,i);r&&(n._dispatchListeners=g(n._dispatchListeners,r),n._dispatchIDs=g(n._dispatchIDs,t))}}function l(t){t&&t.dispatchConfig.registrationName&&a(t.dispatchMarker,null,t)}function u(t){m(t,o)}function c(t){m(t,s)}function h(t,e,n,i){f.injection.getInstanceHandle().traverseEnterLeave(n,i,a,t,e)}function d(t){m(t,l)}var p=n(10),f=n(18),g=(n(3),n(77)),m=n(78),v=p.PropagationPhases,y=f.getListener,_={accumulateTwoPhaseDispatches:u,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:d,accumulateEnterLeaveDispatches:h};t.exports=_},function(t,e){"use strict";var n={remove:function(t){t._reactInternalInstance=void 0},get:function(t){return t._reactInternalInstance},has:function(t){return void 0!==t._reactInternalInstance},set:function(t,e){t._reactInternalInstance=e}};t.exports=n},function(t,e,n){"use strict";function i(t,e,n,i){r.call(this,t,e,n,i)}var r=n(15),o=n(44),s={view:function(t){if(t.view)return t.view;var e=o(t);if(null!=e&&e.window===e)return e;var n=e.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(t){return t.detail||0}};r.augmentClass(i,s),t.exports=i},function(t,e,n){"use strict";var i={};t.exports=i},function(t,e,n){"use strict";function i(t){return Object.prototype.hasOwnProperty.call(t,m)||(t[m]=f++,d[t[m]]={}),d[t[m]]}var r=n(10),o=n(18),s=n(57),a=n(111),l=n(8),u=n(76),c=n(2),h=n(47),d={},p=!1,f=0,g={topAbort:"abort",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},m="_reactListenersID"+String(Math.random()).slice(2),v=c({},a,{ReactEventListener:null,injection:{injectReactEventListener:function(t){t.setHandleTopLevel(v.handleTopLevel),v.ReactEventListener=t}},setEnabled:function(t){v.ReactEventListener&&v.ReactEventListener.setEnabled(t)},isEnabled:function(){return!(!v.ReactEventListener||!v.ReactEventListener.isEnabled())},listenTo:function(t,e){for(var n=e,o=i(n),a=s.registrationNameDependencies[t],l=r.topLevelTypes,u=0;u<a.length;u++){var c=a[u];o.hasOwnProperty(c)&&o[c]||(c===l.topWheel?h("wheel")?v.ReactEventListener.trapBubbledEvent(l.topWheel,"wheel",n):h("mousewheel")?v.ReactEventListener.trapBubbledEvent(l.topWheel,"mousewheel",n):v.ReactEventListener.trapBubbledEvent(l.topWheel,"DOMMouseScroll",n):c===l.topScroll?h("scroll",!0)?v.ReactEventListener.trapCapturedEvent(l.topScroll,"scroll",n):v.ReactEventListener.trapBubbledEvent(l.topScroll,"scroll",v.ReactEventListener.WINDOW_HANDLE):c===l.topFocus||c===l.topBlur?(h("focus",!0)?(v.ReactEventListener.trapCapturedEvent(l.topFocus,"focus",n),v.ReactEventListener.trapCapturedEvent(l.topBlur,"blur",n)):h("focusin")&&(v.ReactEventListener.trapBubbledEvent(l.topFocus,"focusin",n),v.ReactEventListener.trapBubbledEvent(l.topBlur,"focusout",n)),o[l.topBlur]=!0,o[l.topFocus]=!0):g.hasOwnProperty(c)&&v.ReactEventListener.trapBubbledEvent(c,g[c],n),o[c]=!0)}},trapBubbledEvent:function(t,e,n){return v.ReactEventListener.trapBubbledEvent(t,e,n)},trapCapturedEvent:function(t,e,n){return v.ReactEventListener.trapCapturedEvent(t,e,n)},ensureScrollValueMonitoring:function(){if(!p){var t=u.refreshScrollValues;v.ReactEventListener.monitorScrollValue(t),p=!0}},eventNameDispatchConfigs:o.eventNameDispatchConfigs,registrationNameModules:o.registrationNameModules,putListener:o.putListener,getListener:o.getListener,deleteListener:o.deleteListener,deleteAllListeners:o.deleteAllListeners});l.measureMethods(v,"ReactBrowserEventEmitter",{putListener:"putListener",deleteListener:"deleteListener"}),t.exports=v},function(t,e,n){"use strict";var i={};t.exports=i},function(t,e,n){"use strict";var i=n(31),r=i({prop:null,context:null,childContext:null});t.exports=r},function(t,e,n){"use strict";function i(t,e,n,i){r.call(this,t,e,n,i)}var r=n(21),o=n(76),s=n(43),a={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:s,button:function(t){var e=t.button;return"which"in t?e:2===e?2:4===e?1:0},buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},pageX:function(t){return"pageX"in t?t.pageX:t.clientX+o.currentScrollLeft},pageY:function(t){return"pageY"in t?t.pageY:t.clientY+o.currentScrollTop}};r.augmentClass(i,a),t.exports=i},function(t,e,n){"use strict";var i=n(1),r={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(t,e,n,r,o,s,a,l){this.isInTransaction()?i(!1):void 0;var u,c;try{this._isInTransaction=!0,u=!0,this.initializeAll(0),c=t.call(e,n,r,o,s,a,l),u=!1}finally{try{if(u)try{this.closeAll(0)}catch(h){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(t){for(var e=this.transactionWrappers,n=t;n<e.length;n++){var i=e[n];try{this.wrapperInitData[n]=o.OBSERVED_ERROR,this.wrapperInitData[n]=i.initialize?i.initialize.call(this):null}finally{if(this.wrapperInitData[n]===o.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(r){}}}},closeAll:function(t){this.isInTransaction()?void 0:i(!1);for(var e=this.transactionWrappers,n=t;n<e.length;n++){var r,s=e[n],a=this.wrapperInitData[n];try{r=!0,a!==o.OBSERVED_ERROR&&s.close&&s.close.call(this,a),r=!1}finally{if(r)try{this.closeAll(n+1)}catch(l){}}}this.wrapperInitData.length=0}},o={Mixin:r,OBSERVED_ERROR:{}};t.exports=o},function(t,e,n){"use strict";var i=!1;t.exports=i},function(t,e){"use strict";function n(t){return r[t]}function i(t){return(""+t).replace(o,n)}var r={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},o=/[&><"']/g;t.exports=i},function(t,e,n){"use strict";var i=n(4),r=/^[ \r\n\t\f]/,o=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,s=function(t,e){t.innerHTML=e};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(s=function(t,e){MSApp.execUnsafeLocalFunction(function(){t.innerHTML=e})}),i.canUseDOM){var a=document.createElement("div");a.innerHTML=" ",""===a.innerHTML&&(s=function(t,e){if(t.parentNode&&t.parentNode.replaceChild(t,t),r.test(e)||"<"===e[0]&&o.test(e)){t.innerHTML=String.fromCharCode(65279)+e;var n=t.firstChild;1===n.data.length?t.removeChild(n):n.deleteData(0,1)}else t.innerHTML=e})}t.exports=s},function(t,e,n){"use strict";var i=n(1),r=function(t){var e,n={};t instanceof Object&&!Array.isArray(t)?void 0:i(!1);for(e in t)t.hasOwnProperty(e)&&(n[e]=e);return n};t.exports=r},function(t,e,n){
"use strict";function i(){this._callbacks=null,this._contexts=null}var r=n(13),o=n(2),s=n(1);o(i.prototype,{enqueue:function(t,e){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(t),this._contexts.push(e)},notifyAll:function(){var t=this._callbacks,e=this._contexts;if(t){t.length!==e.length?s(!1):void 0,this._callbacks=null,this._contexts=null;for(var n=0;n<t.length;n++)t[n].call(e[n]);t.length=0,e.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),r.addPoolingTo(i),t.exports=i},function(t,e,n){"use strict";function i(t){return c.hasOwnProperty(t)?!0:u.hasOwnProperty(t)?!1:l.test(t)?(c[t]=!0,!0):(u[t]=!0,!1)}function r(t,e){return null==e||t.hasBooleanValue&&!e||t.hasNumericValue&&isNaN(e)||t.hasPositiveNumericValue&&1>e||t.hasOverloadedBooleanValue&&e===!1}var o=n(16),s=n(8),a=n(139),l=(n(3),/^[a-zA-Z_][\w\.\-]*$/),u={},c={},h={createMarkupForID:function(t){return o.ID_ATTRIBUTE_NAME+"="+a(t)},setAttributeForID:function(t,e){t.setAttribute(o.ID_ATTRIBUTE_NAME,e)},createMarkupForProperty:function(t,e){var n=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(n){if(r(n,e))return"";var i=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&e===!0?i+'=""':i+"="+a(e)}return o.isCustomAttribute(t)?null==e?"":t+"="+a(e):null},createMarkupForCustomAttribute:function(t,e){return i(t)&&null!=e?t+"="+a(e):""},setValueForProperty:function(t,e,n){var i=o.properties.hasOwnProperty(e)?o.properties[e]:null;if(i){var s=i.mutationMethod;if(s)s(t,n);else if(r(i,n))this.deleteValueForProperty(t,e);else if(i.mustUseAttribute){var a=i.attributeName,l=i.attributeNamespace;l?t.setAttributeNS(l,a,""+n):i.hasBooleanValue||i.hasOverloadedBooleanValue&&n===!0?t.setAttribute(a,""):t.setAttribute(a,""+n)}else{var u=i.propertyName;i.hasSideEffects&&""+t[u]==""+n||(t[u]=n)}}else o.isCustomAttribute(e)&&h.setValueForAttribute(t,e,n)},setValueForAttribute:function(t,e,n){i(e)&&(null==n?t.removeAttribute(e):t.setAttribute(e,""+n))},deleteValueForProperty:function(t,e){var n=o.properties.hasOwnProperty(e)?o.properties[e]:null;if(n){var i=n.mutationMethod;if(i)i(t,void 0);else if(n.mustUseAttribute)t.removeAttribute(n.attributeName);else{var r=n.propertyName,s=o.getDefaultValueForProperty(t.nodeName,r);n.hasSideEffects&&""+t[r]===s||(t[r]=s)}}else o.isCustomAttribute(e)&&t.removeAttribute(e)}};s.measureMethods(h,"DOMPropertyOperations",{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"}),t.exports=h},function(t,e,n){"use strict";function i(t){null!=t.checkedLink&&null!=t.valueLink?u(!1):void 0}function r(t){i(t),null!=t.value||null!=t.onChange?u(!1):void 0}function o(t){i(t),null!=t.checked||null!=t.onChange?u(!1):void 0}function s(t){if(t){var e=t.getName();if(e)return" Check the render method of `"+e+"`."}return""}var a=n(74),l=n(25),u=n(1),c=(n(3),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),h={value:function(t,e,n){return!t[e]||c[t.type]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(t,e,n){return!t[e]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:a.func},d={},p={checkPropTypes:function(t,e,n){for(var i in h){if(h.hasOwnProperty(i))var r=h[i](e,i,t,l.prop);r instanceof Error&&!(r.message in d)&&(d[r.message]=!0,s(n))}},getValue:function(t){return t.valueLink?(r(t),t.valueLink.value):t.value},getChecked:function(t){return t.checkedLink?(o(t),t.checkedLink.value):t.checked},executeOnChange:function(t,e){return t.valueLink?(r(t),t.valueLink.requestChange(e.target.value)):t.checkedLink?(o(t),t.checkedLink.requestChange(e.target.checked)):t.onChange?t.onChange.call(void 0,e):void 0}};t.exports=p},function(t,e,n){"use strict";var i=n(53),r=n(86),o=n(114),s=n(2),a=n(136),l={};s(l,o),s(l,{findDOMNode:a("findDOMNode","ReactDOM","react-dom",i,i.findDOMNode),render:a("render","ReactDOM","react-dom",i,i.render),unmountComponentAtNode:a("unmountComponentAtNode","ReactDOM","react-dom",i,i.unmountComponentAtNode),renderToString:a("renderToString","ReactDOMServer","react-dom/server",r,r.renderToString),renderToStaticMarkup:a("renderToStaticMarkup","ReactDOMServer","react-dom/server",r,r.renderToStaticMarkup)}),l.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i,l.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r,t.exports=l},function(t,e,n){"use strict";var i=n(38),r=n(6),o={processChildrenUpdates:i.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:i.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(t){r.purgeID(t)}};t.exports=o},function(t,e,n){"use strict";var i=n(1),r=!1,o={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(t){r?i(!1):void 0,o.unmountIDFromEnvironment=t.unmountIDFromEnvironment,o.replaceNodeWithMarkupByID=t.replaceNodeWithMarkupByID,o.processChildrenUpdates=t.processChildrenUpdates,r=!0}}};t.exports=o},function(t,e,n){"use strict";var i=n(56),r=n(33),o=n(6),s=n(8),a=n(1),l={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},u={updatePropertyByID:function(t,e,n){var i=o.getNode(t);l.hasOwnProperty(e)?a(!1):void 0,null!=n?r.setValueForProperty(i,e,n):r.deleteValueForProperty(i,e)},dangerouslyReplaceNodeWithMarkupByID:function(t,e){var n=o.getNode(t);i.dangerouslyReplaceNodeWithMarkup(n,e)},dangerouslyProcessChildrenUpdates:function(t,e){for(var n=0;n<t.length;n++)t[n].parentNode=o.getNode(t[n].parentID);i.processUpdates(t,e)}};s.measureMethods(u,"ReactDOMIDOperations",{dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),t.exports=u},function(t,e,n){"use strict";function i(t){a.enqueueUpdate(t)}function r(t,e){var n=s.get(t);return n?n:null}var o=(n(11),n(5)),s=n(20),a=n(9),l=n(2),u=n(1),c=(n(3),{isMounted:function(t){var e=s.get(t);return e?!!e._renderedComponent:!1},enqueueCallback:function(t,e){"function"!=typeof e?u(!1):void 0;var n=r(t);return n?(n._pendingCallbacks?n._pendingCallbacks.push(e):n._pendingCallbacks=[e],void i(n)):null},enqueueCallbackInternal:function(t,e){"function"!=typeof e?u(!1):void 0,t._pendingCallbacks?t._pendingCallbacks.push(e):t._pendingCallbacks=[e],i(t)},enqueueForceUpdate:function(t){var e=r(t,"forceUpdate");e&&(e._pendingForceUpdate=!0,i(e))},enqueueReplaceState:function(t,e){var n=r(t,"replaceState");n&&(n._pendingStateQueue=[e],n._pendingReplaceState=!0,i(n))},enqueueSetState:function(t,e){var n=r(t,"setState");if(n){var o=n._pendingStateQueue||(n._pendingStateQueue=[]);o.push(e),i(n)}},enqueueSetProps:function(t,e){var n=r(t,"setProps");n&&c.enqueueSetPropsInternal(n,e)},enqueueSetPropsInternal:function(t,e){var n=t._topLevelWrapper;n?void 0:u(!1);var r=n._pendingElement||n._currentElement,s=r.props,a=l({},s.props,e);n._pendingElement=o.cloneAndReplaceProps(r,o.cloneAndReplaceProps(s,a)),i(n)},enqueueReplaceProps:function(t,e){var n=r(t,"replaceProps");n&&c.enqueueReplacePropsInternal(n,e)},enqueueReplacePropsInternal:function(t,e){var n=t._topLevelWrapper;n?void 0:u(!1);var r=n._pendingElement||n._currentElement,s=r.props;n._pendingElement=o.cloneAndReplaceProps(r,o.cloneAndReplaceProps(s,e)),i(n)},enqueueElementInternal:function(t,e){t._pendingElement=e,i(t)}});t.exports=c},function(t,e){"use strict";t.exports="0.14.3"},function(t,e,n){"use strict";function i(t){return null==t?null:1===t.nodeType?t:r.has(t)?o.getNodeFromInstance(t):(null!=t.render&&"function"==typeof t.render?s(!1):void 0,void s(!1))}var r=(n(11),n(20)),o=n(6),s=n(1);n(3),t.exports=i},function(t,e){"use strict";function n(t){var e,n=t.keyCode;return"charCode"in t?(e=t.charCode,0===e&&13===n&&(e=13)):e=n,e>=32||13===e?e:0}t.exports=n},function(t,e){"use strict";function n(t){var e=this,n=e.nativeEvent;if(n.getModifierState)return n.getModifierState(t);var i=r[t];return i?!!n[i]:!1}function i(t){return n}var r={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=i},function(t,e){"use strict";function n(t){var e=t.target||t.srcElement||window;return 3===e.nodeType?e.parentNode:e}t.exports=n},function(t,e){"use strict";function n(t){var e=t&&(i&&t[i]||t[r]);return"function"==typeof e?e:void 0}var i="function"==typeof Symbol&&Symbol.iterator,r="@@iterator";t.exports=n},function(t,e,n){"use strict";function i(t){return"function"==typeof t&&"undefined"!=typeof t.prototype&&"function"==typeof t.prototype.mountComponent&&"function"==typeof t.prototype.receiveComponent}function r(t){var e;if(null===t||t===!1)e=new s(r);else if("object"==typeof t){var n=t;!n||"function"!=typeof n.type&&"string"!=typeof n.type?u(!1):void 0,e="string"==typeof n.type?a.createInternalComponent(n):i(n.type)?new n.type(n):new c}else"string"==typeof t||"number"==typeof t?e=a.createInstanceForText(t):u(!1);return e.construct(t),e._mountIndex=0,e._mountImage=null,e}var o=n(103),s=n(66),a=n(72),l=n(2),u=n(1),c=(n(3),function(){});l(c.prototype,o.Mixin,{_instantiateReactComponent:r}),t.exports=r},function(t,e,n){"use strict";function i(t,e){if(!o.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,i=n in document;if(!i){var s=document.createElement("div");s.setAttribute(n,"return;"),i="function"==typeof s[n]}return!i&&r&&"wheel"===t&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}var r,o=n(4);o.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),t.exports=i},function(t,e,n){"use strict";var i=n(4),r=n(29),o=n(30),s=function(t,e){t.textContent=e};i.canUseDOM&&("textContent"in document.documentElement||(s=function(t,e){o(t,r(e))})),t.exports=s},function(t,e){"use strict";function n(t,e){var n=null===t||t===!1,i=null===e||e===!1;if(n||i)return n===i;var r=typeof t,o=typeof e;return"string"===r||"number"===r?"string"===o||"number"===o:"object"===o&&t.type===e.type&&t.key===e.key}t.exports=n},function(t,e,n){"use strict";function i(t){return g[t]}function r(t,e){return t&&null!=t.key?s(t.key):e.toString(36)}function o(t){return(""+t).replace(m,i)}function s(t){return"$"+o(t)}function a(t,e,n,i){var o=typeof t;if(("undefined"===o||"boolean"===o)&&(t=null),null===t||"string"===o||"number"===o||u.isValidElement(t))return n(i,t,""===e?p+r(t,0):e),1;var l,c,g=0,m=""===e?p:e+f;if(Array.isArray(t))for(var v=0;v<t.length;v++)l=t[v],c=m+r(l,v),g+=a(l,c,n,i);else{var y=h(t);if(y){var _,b=y.call(t);if(y!==t.entries)for(var w=0;!(_=b.next()).done;)l=_.value,c=m+r(l,w++),g+=a(l,c,n,i);else for(;!(_=b.next()).done;){var x=_.value;x&&(l=x[1],c=m+s(x[0])+f+r(l,0),g+=a(l,c,n,i))}}else"object"===o&&(String(t),d(!1))}return g}function l(t,e,n){return null==t?0:a(t,"",e,n)}var u=(n(11),n(5)),c=n(17),h=n(45),d=n(1),p=(n(3),c.SEPARATOR),f=":",g={"=":"=0",".":"=1",":":"=2"},m=/[=.:]/g;t.exports=l},function(t,e,n){"use strict";var i=(n(2),n(7)),r=(n(3),i);t.exports=r},function(t,e,n){"use strict";function i(t){return(""+t).replace(b,"//")}function r(t,e){this.func=t,this.context=e,this.count=0}function o(t,e,n){var i=t.func,r=t.context;i.call(r,e,t.count++)}function s(t,e,n){if(null==t)return t;var i=r.getPooled(e,n);v(t,o,i),r.release(i)}function a(t,e,n,i){this.result=t,this.keyPrefix=e,this.func=n,this.context=i,this.count=0}function l(t,e,n){var r=t.result,o=t.keyPrefix,s=t.func,a=t.context,l=s.call(a,e,t.count++);Array.isArray(l)?u(l,r,n,m.thatReturnsArgument):null!=l&&(g.isValidElement(l)&&(l=g.cloneAndReplaceKey(l,o+(l!==e?i(l.key||"")+"/":"")+n)),r.push(l))}function u(t,e,n,r,o){var s="";null!=n&&(s=i(n)+"/");var u=a.getPooled(e,s,r,o);v(t,l,u),a.release(u)}function c(t,e,n){if(null==t)return t;var i=[];return u(t,i,null,e,n),i}function h(t,e,n){return null}function d(t,e){return v(t,h,null)}function p(t){var e=[];return u(t,e,null,m.thatReturnsArgument),e}var f=n(13),g=n(5),m=n(7),v=n(50),y=f.twoArgumentPooler,_=f.fourArgumentPooler,b=/\/(?!\/)/g;r.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},f.addPoolingTo(r,y),a.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},f.addPoolingTo(a,_);var w={forEach:s,map:c,mapIntoWithKeyPrefixInternal:u,count:d,toArray:p};t.exports=w},function(t,e,n){"use strict";var i=n(11),r=n(62),o=n(64),s=n(17),a=n(6),l=n(8),u=n(14),c=n(9),h=n(40),d=n(41),p=n(140);n(3),o.inject();var f=l.measure("React","render",a.render),g={findDOMNode:d,render:f,unmountComponentAtNode:a.unmountComponentAtNode,version:h,unstable_batchedUpdates:c.batchedUpdates,unstable_renderSubtreeIntoContainer:p};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:i,InstanceHandles:s,Mount:a,Reconciler:u,TextComponent:r}),t.exports=g},function(t,e){"use strict";function n(t,e){if(t===e)return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var o=i.bind(e),s=0;s<n.length;s++)if(!o(n[s])||t[n[s]]!==e[n[s]])return!1;return!0}var i=Object.prototype.hasOwnProperty;t.exports=n},function(t,e){"use strict";function n(t,e){return t+e.charAt(0).toUpperCase()+e.substring(1)}var i={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},r=["Webkit","ms","Moz","O"];Object.keys(i).forEach(function(t){r.forEach(function(e){i[n(e,t)]=i[t]})});var o={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},s={isUnitlessNumber:i,shorthandPropertyExpansions:o};t.exports=s},function(t,e,n){"use strict";function i(t,e,n){var i=n>=t.childNodes.length?null:t.childNodes.item(n);t.insertBefore(e,i)}var r=n(95),o=n(71),s=n(8),a=n(30),l=n(48),u=n(1),c={dangerouslyReplaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup,updateTextContent:l,processUpdates:function(t,e){for(var n,s=null,c=null,h=0;h<t.length;h++)if(n=t[h],n.type===o.MOVE_EXISTING||n.type===o.REMOVE_NODE){var d=n.fromIndex,p=n.parentNode.childNodes[d],f=n.parentID;p?void 0:u(!1),s=s||{},s[f]=s[f]||[],s[f][d]=p,c=c||[],c.push(p)}var g;if(g=e.length&&"string"==typeof e[0]?r.dangerouslyRenderMarkup(e):e,c)for(var m=0;m<c.length;m++)c[m].parentNode.removeChild(c[m]);for(var v=0;v<t.length;v++)switch(n=t[v],n.type){case o.INSERT_MARKUP:i(n.parentNode,g[n.markupIndex],n.toIndex);break;case o.MOVE_EXISTING:i(n.parentNode,s[n.parentID][n.fromIndex],n.toIndex);break;case o.SET_MARKUP:a(n.parentNode,n.content);break;case o.TEXT_CONTENT:l(n.parentNode,n.content);break;case o.REMOVE_NODE:}}};s.measureMethods(c,"DOMChildrenOperations",{updateTextContent:"updateTextContent"}),t.exports=c},function(t,e,n){"use strict";function i(){if(a)for(var t in l){var e=l[t],n=a.indexOf(t);if(n>-1?void 0:s(!1),!u.plugins[n]){e.extractEvents?void 0:s(!1),u.plugins[n]=e;var i=e.eventTypes;for(var o in i)r(i[o],e,o)?void 0:s(!1)}}}function r(t,e,n){u.eventNameDispatchConfigs.hasOwnProperty(n)?s(!1):void 0,u.eventNameDispatchConfigs[n]=t;var i=t.phasedRegistrationNames;if(i){for(var r in i)if(i.hasOwnProperty(r)){var a=i[r];o(a,e,n)}return!0}return t.registrationName?(o(t.registrationName,e,n),!0):!1}function o(t,e,n){u.registrationNameModules[t]?s(!1):void 0,u.registrationNameModules[t]=e,u.registrationNameDependencies[t]=e.eventTypes[n].dependencies}var s=n(1),a=null,l={},u={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(t){a?s(!1):void 0,a=Array.prototype.slice.call(t),i()},injectEventPluginsByName:function(t){var e=!1;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];l.hasOwnProperty(n)&&l[n]===r||(l[n]?s(!1):void 0,l[n]=r,e=!0)}e&&i()},getPluginModuleForEvent:function(t){var e=t.dispatchConfig;if(e.registrationName)return u.registrationNameModules[e.registrationName]||null;for(var n in e.phasedRegistrationNames)if(e.phasedRegistrationNames.hasOwnProperty(n)){var i=u.registrationNameModules[e.phasedRegistrationNames[n]];if(i)return i}return null},_resetEventPlugins:function(){a=null;for(var t in l)l.hasOwnProperty(t)&&delete l[t];u.plugins.length=0;var e=u.eventNameDispatchConfigs;for(var n in e)e.hasOwnProperty(n)&&delete e[n];var i=u.registrationNameModules;for(var r in i)i.hasOwnProperty(r)&&delete i[r]}};t.exports=u},function(t,e,n){"use strict";function i(t,e){var n=x.hasOwnProperty(e)?x[e]:null;k.hasOwnProperty(e)&&(n!==b.OVERRIDE_BASE?m(!1):void 0),t.hasOwnProperty(e)&&(n!==b.DEFINE_MANY&&n!==b.DEFINE_MANY_MERGED?m(!1):void 0)}function r(t,e){if(e){"function"==typeof e?m(!1):void 0,d.isValidElement(e)?m(!1):void 0;var n=t.prototype;e.hasOwnProperty(_)&&C.mixins(t,e.mixins);for(var r in e)if(e.hasOwnProperty(r)&&r!==_){var o=e[r];if(i(n,r),C.hasOwnProperty(r))C[r](t,o);else{var s=x.hasOwnProperty(r),u=n.hasOwnProperty(r),c="function"==typeof o,h=c&&!s&&!u&&e.autobind!==!1;if(h)n.__reactAutoBindMap||(n.__reactAutoBindMap={}),n.__reactAutoBindMap[r]=o,n[r]=o;else if(u){var p=x[r];!s||p!==b.DEFINE_MANY_MERGED&&p!==b.DEFINE_MANY?m(!1):void 0,p===b.DEFINE_MANY_MERGED?n[r]=a(n[r],o):p===b.DEFINE_MANY&&(n[r]=l(n[r],o))}else n[r]=o}}}}function o(t,e){if(e)for(var n in e){var i=e[n];if(e.hasOwnProperty(n)){var r=n in C;r?m(!1):void 0;var o=n in t;o?m(!1):void 0,t[n]=i}}}function s(t,e){t&&e&&"object"==typeof t&&"object"==typeof e?void 0:m(!1);for(var n in e)e.hasOwnProperty(n)&&(void 0!==t[n]?m(!1):void 0,t[n]=e[n]);return t}function a(t,e){return function(){var n=t.apply(this,arguments),i=e.apply(this,arguments);if(null==n)return i;if(null==i)return n;var r={};return s(r,n),s(r,i),r}}function l(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function u(t,e){var n=e.bind(t);return n}function c(t){for(var e in t.__reactAutoBindMap)if(t.__reactAutoBindMap.hasOwnProperty(e)){var n=t.__reactAutoBindMap[e];t[e]=u(t,n)}}var h=n(59),d=n(5),p=(n(25),n(24),n(73)),f=n(2),g=n(22),m=n(1),v=n(31),y=n(12),_=(n(3),y({mixins:null})),b=v({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),w=[],x={mixins:b.DEFINE_MANY,statics:b.DEFINE_MANY,propTypes:b.DEFINE_MANY,contextTypes:b.DEFINE_MANY,childContextTypes:b.DEFINE_MANY,getDefaultProps:b.DEFINE_MANY_MERGED,getInitialState:b.DEFINE_MANY_MERGED,getChildContext:b.DEFINE_MANY_MERGED,render:b.DEFINE_ONCE,componentWillMount:b.DEFINE_MANY,componentDidMount:b.DEFINE_MANY,componentWillReceiveProps:b.DEFINE_MANY,shouldComponentUpdate:b.DEFINE_ONCE,componentWillUpdate:b.DEFINE_MANY,componentDidUpdate:b.DEFINE_MANY,componentWillUnmount:b.DEFINE_MANY,updateComponent:b.OVERRIDE_BASE},C={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var n=0;n<e.length;n++)r(t,e[n])},childContextTypes:function(t,e){t.childContextTypes=f({},t.childContextTypes,e)},contextTypes:function(t,e){t.contextTypes=f({},t.contextTypes,e)},getDefaultProps:function(t,e){t.getDefaultProps?t.getDefaultProps=a(t.getDefaultProps,e):t.getDefaultProps=e},propTypes:function(t,e){t.propTypes=f({},t.propTypes,e)},statics:function(t,e){o(t,e)},autobind:function(){}},k={replaceState:function(t,e){this.updater.enqueueReplaceState(this,t),e&&this.updater.enqueueCallback(this,e)},isMounted:function(){return this.updater.isMounted(this)},setProps:function(t,e){this.updater.enqueueSetProps(this,t),e&&this.updater.enqueueCallback(this,e)},replaceProps:function(t,e){this.updater.enqueueReplaceProps(this,t),e&&this.updater.enqueueCallback(this,e)}},S=function(){};f(S.prototype,h.prototype,k);var E={createClass:function(t){var e=function(t,e,n){this.__reactAutoBindMap&&c(this),this.props=t,this.context=e,this.refs=g,this.updater=n||p,this.state=null;var i=this.getInitialState?this.getInitialState():null;"object"!=typeof i||Array.isArray(i)?m(!1):void 0,this.state=i};e.prototype=new S,e.prototype.constructor=e,w.forEach(r.bind(null,e)),r(e,t),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),e.prototype.render?void 0:m(!1);for(var n in x)e.prototype[n]||(e.prototype[n]=null);return e},injection:{injectMixin:function(t){w.push(t)}}};t.exports=E},function(t,e,n){"use strict";function i(t,e,n){this.props=t,this.context=e,this.refs=o,this.updater=n||r}var r=n(73),o=(n(28),n(22)),s=n(1);n(3),i.prototype.isReactComponent={},i.prototype.setState=function(t,e){"object"!=typeof t&&"function"!=typeof t&&null!=t?s(!1):void 0,this.updater.enqueueSetState(this,t),e&&this.updater.enqueueCallback(this,e)},i.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this),t&&this.updater.enqueueCallback(this,t)},t.exports=i},function(t,e){"use strict";var n={useCreateElement:!1};t.exports=n},function(t,e,n){"use strict";function i(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var t=this._currentElement.props,e=s.getValue(t);null!=e&&r(this,t,e)}}function r(t,e,n){var i,r,o=a.getNode(t._rootNodeID).options;if(e){for(i={},r=0;r<n.length;r++)i[""+n[r]]=!0;for(r=0;r<o.length;r++){var s=i.hasOwnProperty(o[r].value);o[r].selected!==s&&(o[r].selected=s)}}else{for(i=""+n,r=0;r<o.length;r++)if(o[r].value===i)return void(o[r].selected=!0);o.length&&(o[0].selected=!0)}}function o(t){var e=this._currentElement.props,n=s.executeOnChange(e,t);return this._wrapperState.pendingUpdate=!0,l.asap(i,this),n}var s=n(34),a=n(6),l=n(9),u=n(2),c=(n(3),"__ReactDOMSelect_value$"+Math.random().toString(36).slice(2)),h={valueContextKey:c,getNativeProps:function(t,e,n){return u({},e,{onChange:t._wrapperState.onChange,value:void 0})},mountWrapper:function(t,e){var n=s.getValue(e);t._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:e.defaultValue,onChange:o.bind(t),wasMultiple:Boolean(e.multiple)}},processChildContext:function(t,e,n){var i=u({},n);return i[c]=t._wrapperState.initialValue,i},postUpdateWrapper:function(t){var e=t._currentElement.props;t._wrapperState.initialValue=void 0;var n=t._wrapperState.wasMultiple;t._wrapperState.wasMultiple=Boolean(e.multiple);var i=s.getValue(e);null!=i?(t._wrapperState.pendingUpdate=!1,r(t,Boolean(e.multiple),i)):n!==Boolean(e.multiple)&&(null!=e.defaultValue?r(t,Boolean(e.multiple),e.defaultValue):r(t,Boolean(e.multiple),e.multiple?[]:""))}};t.exports=h},function(t,e,n){"use strict";var i=n(56),r=n(33),o=n(36),s=n(6),a=n(2),l=n(29),u=n(48),c=(n(51),function(t){});a(c.prototype,{construct:function(t){this._currentElement=t,this._stringText=""+t,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(t,e,n){if(this._rootNodeID=t,e.useCreateElement){var i=n[s.ownerDocumentContextKey],o=i.createElement("span");return r.setAttributeForID(o,t),s.getID(o),u(o,this._stringText),o}var a=l(this._stringText);return e.renderToStaticMarkup?a:"<span "+r.createMarkupForID(t)+">"+a+"</span>"},receiveComponent:function(t,e){if(t!==this._currentElement){this._currentElement=t;var n=""+t;if(n!==this._stringText){this._stringText=n;var r=s.getNode(this._rootNodeID);i.updateTextContent(r,n)}}},unmountComponent:function(){o.unmountIDFromEnvironment(this._rootNodeID)}}),t.exports=c},function(t,e,n){"use strict";function i(){this.reinitializeTransaction()}var r=n(9),o=n(27),s=n(2),a=n(7),l={initialize:a,close:function(){d.isBatchingUpdates=!1}},u={initialize:a,close:r.flushBatchedUpdates.bind(r)},c=[u,l];s(i.prototype,o.Mixin,{getTransactionWrappers:function(){return c}});var h=new i,d={isBatchingUpdates:!1,batchedUpdates:function(t,e,n,i,r,o){var s=d.isBatchingUpdates;d.isBatchingUpdates=!0,s?t(e,n,i,r,o):h.perform(t,null,e,n,i,r,o)}};t.exports=d},function(t,e,n){"use strict";function i(){S||(S=!0,v.EventEmitter.injectReactEventListener(m),v.EventPluginHub.injectEventPluginOrder(a),v.EventPluginHub.injectInstanceHandle(y),v.EventPluginHub.injectMount(_),v.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:C,EnterLeaveEventPlugin:l,ChangeEventPlugin:o,SelectEventPlugin:w,BeforeInputEventPlugin:r}),v.NativeComponent.injectGenericComponentClass(f),v.NativeComponent.injectTextComponentClass(g),v.Class.injectMixin(h),v.DOMProperty.injectDOMPropertyConfig(c),v.DOMProperty.injectDOMPropertyConfig(k),v.EmptyComponent.injectEmptyComponent("noscript"),v.Updates.injectReconcileTransaction(b),v.Updates.injectBatchingStrategy(p),v.RootIndex.injectCreateReactRootIndex(u.canUseDOM?s.createReactRootIndex:x.createReactRootIndex),v.Component.injectEnvironment(d))}var r=n(91),o=n(93),s=n(94),a=n(96),l=n(97),u=n(4),c=n(100),h=n(101),d=n(36),p=n(63),f=n(105),g=n(62),m=n(112),v=n(113),y=n(17),_=n(6),b=n(117),w=n(123),x=n(124),C=n(125),k=n(122),S=!1;t.exports={inject:i}},function(t,e,n){"use strict";function i(){if(h.current){var t=h.current.getName();if(t)return" Check the render method of `"+t+"`."}return""}function r(t,e){t._store&&!t._store.validated&&null==t.key&&(t._store.validated=!0,o("uniqueKey",t,e))}function o(t,e,n){var r=i();if(!r){var o="string"==typeof n?n:n.displayName||n.name;o&&(r=" Check the top-level render call using <"+o+">.")}var s=f[t]||(f[t]={});if(s[r])return null;s[r]=!0;var a={parentOrOwner:r,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};return e&&e._owner&&e._owner!==h.current&&(a.childOwner=" It was passed a child from "+e._owner.getName()+"."),a}function s(t,e){if("object"==typeof t)if(Array.isArray(t))for(var n=0;n<t.length;n++){var i=t[n];u.isValidElement(i)&&r(i,e)}else if(u.isValidElement(t))t._store&&(t._store.validated=!0);else if(t){var o=d(t);if(o&&o!==t.entries)for(var s,a=o.call(t);!(s=a.next()).done;)u.isValidElement(s.value)&&r(s.value,e)}}function a(t,e,n,r){for(var o in e)if(e.hasOwnProperty(o)){var s;try{"function"!=typeof e[o]?p(!1):void 0,s=e[o](n,o,t,r)}catch(a){s=a}s instanceof Error&&!(s.message in g)&&(g[s.message]=!0,i())}}function l(t){var e=t.type;if("function"==typeof e){var n=e.displayName||e.name;e.propTypes&&a(n,e.propTypes,t.props,c.prop),"function"==typeof e.getDefaultProps}}var u=n(5),c=n(25),h=(n(24),n(11)),d=(n(28),n(45)),p=n(1),f=(n(3),{}),g={},m={createElement:function(t,e,n){var i="string"==typeof t||"function"==typeof t,r=u.createElement.apply(this,arguments);if(null==r)return r;if(i)for(var o=2;o<arguments.length;o++)s(arguments[o],t);return l(r),r},createFactory:function(t){var e=m.createElement.bind(null,t);return e.type=t,e},cloneElement:function(t,e,n){for(var i=u.cloneElement.apply(this,arguments),r=2;r<arguments.length;r++)s(arguments[r],i.type);return l(i),i}};t.exports=m},function(t,e,n){"use strict";var i,r=n(5),o=n(67),s=n(14),a=n(2),l={injectEmptyComponent:function(t){i=r.createElement(t)}},u=function(t){this._currentElement=null,this._rootNodeID=null,this._renderedComponent=t(i)};a(u.prototype,{construct:function(t){},mountComponent:function(t,e,n){return o.registerNullComponentID(t),this._rootNodeID=t,s.mountComponent(this._renderedComponent,t,e,n)},receiveComponent:function(){},unmountComponent:function(t,e,n){s.unmountComponent(this._renderedComponent),o.deregisterNullComponentID(this._rootNodeID),this._rootNodeID=null,this._renderedComponent=null}}),u.injection=l,t.exports=u},function(t,e){"use strict";function n(t){return!!o[t]}function i(t){o[t]=!0}function r(t){delete o[t]}var o={},s={isNullComponentID:n,registerNullComponentID:i,deregisterNullComponentID:r};t.exports=s},function(t,e,n){"use strict";function i(t,e,n,i){try{return e(n,i)}catch(o){return void(null===r&&(r=o))}}var r=null,o={invokeGuardedCallback:i,invokeGuardedCallbackWithCatch:i,rethrowCaughtError:function(){if(r){var t=r;throw r=null,t}}};t.exports=o},function(t,e,n){"use strict";function i(t){return o(document.documentElement,t)}var r=n(109),o=n(82),s=n(83),a=n(84),l={hasSelectionCapabilities:function(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&"text"===t.type||"textarea"===e||"true"===t.contentEditable)},getSelectionInformation:function(){var t=a();return{focusedElem:t,selectionRange:l.hasSelectionCapabilities(t)?l.getSelection(t):null}},restoreSelection:function(t){var e=a(),n=t.focusedElem,r=t.selectionRange;e!==n&&i(n)&&(l.hasSelectionCapabilities(n)&&l.setSelection(n,r),s(n))},getSelection:function(t){var e;if("selectionStart"in t)e={start:t.selectionStart,end:t.selectionEnd};else if(document.selection&&t.nodeName&&"input"===t.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===t&&(e={start:-n.moveStart("character",-t.value.length),end:-n.moveEnd("character",-t.value.length)})}else e=r.getOffsets(t);return e||{start:0,end:0}},setSelection:function(t,e){var n=e.start,i=e.end;if("undefined"==typeof i&&(i=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(i,t.value.length);else if(document.selection&&t.nodeName&&"input"===t.nodeName.toLowerCase()){var o=t.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",i-n),o.select()}else r.setOffsets(t,e)}};t.exports=l},function(t,e,n){"use strict";var i=n(134),r=/\/?>/,o={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(t){var e=i(t);return t.replace(r," "+o.CHECKSUM_ATTR_NAME+'="'+e+'"$&')},canReuseMarkup:function(t,e){var n=e.getAttribute(o.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var r=i(t);return r===n}};t.exports=o},function(t,e,n){"use strict";var i=n(31),r=i({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});t.exports=r},function(t,e,n){"use strict";function i(t){if("function"==typeof t.type)return t.type;var e=t.type,n=h[e];return null==n&&(h[e]=n=u(e)),n}function r(t){return c?void 0:l(!1),new c(t.type,t.props)}function o(t){return new d(t)}function s(t){return t instanceof d}var a=n(2),l=n(1),u=null,c=null,h={},d=null,p={injectGenericComponentClass:function(t){c=t},injectTextComponentClass:function(t){d=t},injectComponentClasses:function(t){a(h,t)}},f={getComponentClassForElement:i,createInternalComponent:r,createInstanceForText:o,isTextComponent:s,injection:p};t.exports=f},function(t,e,n){"use strict";function i(t,e){}var r=(n(3),{isMounted:function(t){return!1},enqueueCallback:function(t,e){},enqueueForceUpdate:function(t){i(t,"forceUpdate")},enqueueReplaceState:function(t,e){i(t,"replaceState")},enqueueSetState:function(t,e){i(t,"setState")},enqueueSetProps:function(t,e){i(t,"setProps")},enqueueReplaceProps:function(t,e){i(t,"replaceProps")}});t.exports=r},function(t,e,n){"use strict";function i(t){function e(e,n,i,r,o,s){if(r=r||x,s=s||i,null==n[i]){var a=_[o];return e?new Error("Required "+a+" `"+s+"` was not specified in "+("`"+r+"`.")):null}return t(n,i,r,o,s)}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}function r(t){function e(e,n,i,r,o){var s=e[n],a=g(s);if(a!==t){var l=_[r],u=m(s);return new Error("Invalid "+l+" `"+o+"` of type "+("`"+u+"` supplied to `"+i+"`, expected ")+("`"+t+"`."))}return null}return i(e)}function o(){return i(b.thatReturns(null))}function s(t){function e(e,n,i,r,o){var s=e[n];if(!Array.isArray(s)){var a=_[r],l=g(s);return new Error("Invalid "+a+" `"+o+"` of type "+("`"+l+"` supplied to `"+i+"`, expected an array."))}for(var u=0;u<s.length;u++){var c=t(s,u,i,r,o+"["+u+"]");if(c instanceof Error)return c}return null}return i(e)}function a(){function t(t,e,n,i,r){if(!y.isValidElement(t[e])){var o=_[i];return new Error("Invalid "+o+" `"+r+"` supplied to "+("`"+n+"`, expected a single ReactElement."))}return null}return i(t)}function l(t){function e(e,n,i,r,o){if(!(e[n]instanceof t)){
var s=_[r],a=t.name||x,l=v(e[n]);return new Error("Invalid "+s+" `"+o+"` of type "+("`"+l+"` supplied to `"+i+"`, expected ")+("instance of `"+a+"`."))}return null}return i(e)}function u(t){function e(e,n,i,r,o){for(var s=e[n],a=0;a<t.length;a++)if(s===t[a])return null;var l=_[r],u=JSON.stringify(t);return new Error("Invalid "+l+" `"+o+"` of value `"+s+"` "+("supplied to `"+i+"`, expected one of "+u+"."))}return i(Array.isArray(t)?e:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function c(t){function e(e,n,i,r,o){var s=e[n],a=g(s);if("object"!==a){var l=_[r];return new Error("Invalid "+l+" `"+o+"` of type "+("`"+a+"` supplied to `"+i+"`, expected an object."))}for(var u in s)if(s.hasOwnProperty(u)){var c=t(s,u,i,r,o+"."+u);if(c instanceof Error)return c}return null}return i(e)}function h(t){function e(e,n,i,r,o){for(var s=0;s<t.length;s++){var a=t[s];if(null==a(e,n,i,r,o))return null}var l=_[r];return new Error("Invalid "+l+" `"+o+"` supplied to "+("`"+i+"`."))}return i(Array.isArray(t)?e:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function d(){function t(t,e,n,i,r){if(!f(t[e])){var o=_[i];return new Error("Invalid "+o+" `"+r+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return i(t)}function p(t){function e(e,n,i,r,o){var s=e[n],a=g(s);if("object"!==a){var l=_[r];return new Error("Invalid "+l+" `"+o+"` of type `"+a+"` "+("supplied to `"+i+"`, expected `object`."))}for(var u in t){var c=t[u];if(c){var h=c(s,u,i,r,o+"."+u);if(h)return h}}return null}return i(e)}function f(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(f);if(null===t||y.isValidElement(t))return!0;var e=w(t);if(!e)return!1;var n,i=e.call(t);if(e!==t.entries){for(;!(n=i.next()).done;)if(!f(n.value))return!1}else for(;!(n=i.next()).done;){var r=n.value;if(r&&!f(r[1]))return!1}return!0;default:return!1}}function g(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":e}function m(t){var e=g(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function v(t){return t.constructor&&t.constructor.name?t.constructor.name:"<<anonymous>>"}var y=n(5),_=n(24),b=n(7),w=n(45),x="<<anonymous>>",C={array:r("array"),bool:r("boolean"),func:r("function"),number:r("number"),object:r("object"),string:r("string"),any:o(),arrayOf:s,element:a(),instanceOf:l,node:d(),objectOf:c,oneOf:u,oneOfType:h,shape:p};t.exports=C},function(t,e){"use strict";var n={injectCreateReactRootIndex:function(t){i.createReactRootIndex=t}},i={createReactRootIndex:null,injection:n};t.exports=i},function(t,e){"use strict";var n={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(t){n.currentScrollLeft=t.x,n.currentScrollTop=t.y}};t.exports=n},function(t,e,n){"use strict";function i(t,e){if(null==e?r(!1):void 0,null==t)return e;var n=Array.isArray(t),i=Array.isArray(e);return n&&i?(t.push.apply(t,e),t):n?(t.push(e),t):i?[t].concat(e):[t,e]}var r=n(1);t.exports=i},function(t,e){"use strict";var n=function(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)};t.exports=n},function(t,e,n){"use strict";function i(){return!o&&r.canUseDOM&&(o="textContent"in document.documentElement?"textContent":"innerText"),o}var r=n(4),o=null;t.exports=i},function(t,e){"use strict";function n(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&i[t.type]||"textarea"===e)}var i={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=n},function(t,e,n){"use strict";var i=n(7),r={listen:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}}):t.attachEvent?(t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}):void 0},capture:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!0),{remove:function(){t.removeEventListener(e,n,!0)}}):{remove:i}},registerDefault:function(){}};t.exports=r},function(t,e,n){"use strict";function i(t,e){var n=!0;t:for(;n;){var i=t,o=e;if(n=!1,i&&o){if(i===o)return!0;if(r(i))return!1;if(r(o)){t=i,e=o.parentNode,n=!0;continue t}return i.contains?i.contains(o):i.compareDocumentPosition?!!(16&i.compareDocumentPosition(o)):!1}return!1}}var r=n(149);t.exports=i},function(t,e){"use strict";function n(t){try{t.focus()}catch(e){}}t.exports=n},function(t,e){"use strict";function n(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(t){return document.body}}t.exports=n},function(t,e,n){"use strict";function i(t){return s?void 0:o(!1),d.hasOwnProperty(t)||(t="*"),a.hasOwnProperty(t)||("*"===t?s.innerHTML="<link />":s.innerHTML="<"+t+"></"+t+">",a[t]=!s.firstChild),a[t]?d[t]:null}var r=n(4),o=n(1),s=r.canUseDOM?document.createElement("div"):null,a={},l=[1,'<select multiple="true">',"</select>"],u=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],h=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],d={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:l,option:l,caption:u,colgroup:u,tbody:u,tfoot:u,thead:u,td:c,th:c},p=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];p.forEach(function(t){d[t]=h,a[t]=!0}),t.exports=i},function(t,e,n){"use strict";var i=n(64),r=n(120),o=n(40);i.inject();var s={renderToString:r.renderToString,renderToStaticMarkup:r.renderToStaticMarkup,version:o};t.exports=s},function(t,e,n){"use strict";function i(t,e,n){var i=t,r=void 0===i[n];r&&null!=e&&(i[n]=e)}function r(t){if(null==t)return t;var e={};return o(t,i,e),e}var o=n(50);n(3),t.exports=r},function(t,e,n){"use strict";function i(t){return r.isValidElement(t)?void 0:o(!1),t}var r=n(5),o=n(1);t.exports=i},function(t,e,n){"use strict";t.exports=n(53)},function(t,e,n){"use strict";var i=n(6),r=n(41),o=n(83),s={componentDidMount:function(){this.props.autoFocus&&o(r(this))}},a={Mixin:s,focusDOMComponent:function(){o(i.getNode(this._rootNodeID))}};t.exports=a},function(t,e,n){"use strict";function i(){var t=window.opera;return"object"==typeof t&&"function"==typeof t.version&&parseInt(t.version(),10)<=12}function r(t){return(t.ctrlKey||t.altKey||t.metaKey)&&!(t.ctrlKey&&t.altKey)}function o(t){switch(t){case D.topCompositionStart:return A.compositionStart;case D.topCompositionEnd:return A.compositionEnd;case D.topCompositionUpdate:return A.compositionUpdate}}function s(t,e){return t===D.topKeyDown&&e.keyCode===w}function a(t,e){switch(t){case D.topKeyUp:return-1!==b.indexOf(e.keyCode);case D.topKeyDown:return e.keyCode!==w;case D.topKeyPress:case D.topMouseDown:case D.topBlur:return!0;default:return!1}}function l(t){var e=t.detail;return"object"==typeof e&&"data"in e?e.data:null}function u(t,e,n,i,r){var u,c;if(x?u=o(t):M?a(t,i)&&(u=A.compositionEnd):s(t,i)&&(u=A.compositionStart),!u)return null;S&&(M||u!==A.compositionStart?u===A.compositionEnd&&M&&(c=M.getData()):M=m.getPooled(e));var h=v.getPooled(u,n,i,r);if(c)h.data=c;else{var d=l(i);null!==d&&(h.data=d)}return f.accumulateTwoPhaseDispatches(h),h}function c(t,e){switch(t){case D.topCompositionEnd:return l(e);case D.topKeyPress:var n=e.which;return n!==E?null:(P=!0,T);case D.topTextInput:var i=e.data;return i===T&&P?null:i;default:return null}}function h(t,e){if(M){if(t===D.topCompositionEnd||a(t,e)){var n=M.getData();return m.release(M),M=null,n}return null}switch(t){case D.topPaste:return null;case D.topKeyPress:return e.which&&!r(e)?String.fromCharCode(e.which):null;case D.topCompositionEnd:return S?null:e.data;default:return null}}function d(t,e,n,i,r){var o;if(o=k?c(t,i):h(t,i),!o)return null;var s=y.getPooled(A.beforeInput,n,i,r);return s.data=o,f.accumulateTwoPhaseDispatches(s),s}var p=n(10),f=n(19),g=n(4),m=n(99),v=n(127),y=n(130),_=n(12),b=[9,13,27,32],w=229,x=g.canUseDOM&&"CompositionEvent"in window,C=null;g.canUseDOM&&"documentMode"in document&&(C=document.documentMode);var k=g.canUseDOM&&"TextEvent"in window&&!C&&!i(),S=g.canUseDOM&&(!x||C&&C>8&&11>=C),E=32,T=String.fromCharCode(E),D=p.topLevelTypes,A={beforeInput:{phasedRegistrationNames:{bubbled:_({onBeforeInput:null}),captured:_({onBeforeInputCapture:null})},dependencies:[D.topCompositionEnd,D.topKeyPress,D.topTextInput,D.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:_({onCompositionEnd:null}),captured:_({onCompositionEndCapture:null})},dependencies:[D.topBlur,D.topCompositionEnd,D.topKeyDown,D.topKeyPress,D.topKeyUp,D.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:_({onCompositionStart:null}),captured:_({onCompositionStartCapture:null})},dependencies:[D.topBlur,D.topCompositionStart,D.topKeyDown,D.topKeyPress,D.topKeyUp,D.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:_({onCompositionUpdate:null}),captured:_({onCompositionUpdateCapture:null})},dependencies:[D.topBlur,D.topCompositionUpdate,D.topKeyDown,D.topKeyPress,D.topKeyUp,D.topMouseDown]}},P=!1,M=null,O={eventTypes:A,extractEvents:function(t,e,n,i,r){return[u(t,e,n,i,r),d(t,e,n,i,r)]}};t.exports=O},function(t,e,n){"use strict";var i=n(55),r=n(4),o=n(8),s=(n(142),n(135)),a=n(147),l=n(151),u=(n(3),l(function(t){return a(t)})),c=!1,h="cssFloat";if(r.canUseDOM){var d=document.createElement("div").style;try{d.font=""}catch(p){c=!0}void 0===document.documentElement.style.cssFloat&&(h="styleFloat")}var f={createMarkupForStyles:function(t){var e="";for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];null!=i&&(e+=u(n)+":",e+=s(n,i)+";")}return e||null},setValueForStyles:function(t,e){var n=t.style;for(var r in e)if(e.hasOwnProperty(r)){var o=s(r,e[r]);if("float"===r&&(r=h),o)n[r]=o;else{var a=c&&i.shorthandPropertyExpansions[r];if(a)for(var l in a)n[l]="";else n[r]=""}}}};o.measureMethods(f,"CSSPropertyOperations",{setValueForStyles:"setValueForStyles"}),t.exports=f},function(t,e,n){"use strict";function i(t){var e=t.nodeName&&t.nodeName.toLowerCase();return"select"===e||"input"===e&&"file"===t.type}function r(t){var e=C.getPooled(A.change,M,t,k(t));b.accumulateTwoPhaseDispatches(e),x.batchedUpdates(o,e)}function o(t){_.enqueueEvents(t),_.processEventQueue(!1)}function s(t,e){P=t,M=e,P.attachEvent("onchange",r)}function a(){P&&(P.detachEvent("onchange",r),P=null,M=null)}function l(t,e,n){return t===D.topChange?n:void 0}function u(t,e,n){t===D.topFocus?(a(),s(e,n)):t===D.topBlur&&a()}function c(t,e){P=t,M=e,O=t.value,I=Object.getOwnPropertyDescriptor(t.constructor.prototype,"value"),Object.defineProperty(P,"value",L),P.attachEvent("onpropertychange",d)}function h(){P&&(delete P.value,P.detachEvent("onpropertychange",d),P=null,M=null,O=null,I=null)}function d(t){if("value"===t.propertyName){var e=t.srcElement.value;e!==O&&(O=e,r(t))}}function p(t,e,n){return t===D.topInput?n:void 0}function f(t,e,n){t===D.topFocus?(h(),c(e,n)):t===D.topBlur&&h()}function g(t,e,n){return t!==D.topSelectionChange&&t!==D.topKeyUp&&t!==D.topKeyDown||!P||P.value===O?void 0:(O=P.value,M)}function m(t){return t.nodeName&&"input"===t.nodeName.toLowerCase()&&("checkbox"===t.type||"radio"===t.type)}function v(t,e,n){return t===D.topClick?n:void 0}var y=n(10),_=n(18),b=n(19),w=n(4),x=n(9),C=n(15),k=n(44),S=n(47),E=n(80),T=n(12),D=y.topLevelTypes,A={change:{phasedRegistrationNames:{bubbled:T({onChange:null}),captured:T({onChangeCapture:null})},dependencies:[D.topBlur,D.topChange,D.topClick,D.topFocus,D.topInput,D.topKeyDown,D.topKeyUp,D.topSelectionChange]}},P=null,M=null,O=null,I=null,R=!1;w.canUseDOM&&(R=S("change")&&(!("documentMode"in document)||document.documentMode>8));var N=!1;w.canUseDOM&&(N=S("input")&&(!("documentMode"in document)||document.documentMode>9));var L={get:function(){return I.get.call(this)},set:function(t){O=""+t,I.set.call(this,t)}},$={eventTypes:A,extractEvents:function(t,e,n,r,o){var s,a;if(i(e)?R?s=l:a=u:E(e)?N?s=p:(s=g,a=f):m(e)&&(s=v),s){var c=s(t,e,n);if(c){var h=C.getPooled(A.change,c,r,o);return h.type="change",b.accumulateTwoPhaseDispatches(h),h}}a&&a(t,e,n)}};t.exports=$},function(t,e){"use strict";var n=0,i={createReactRootIndex:function(){return n++}};t.exports=i},function(t,e,n){"use strict";function i(t){return t.substring(1,t.indexOf(" "))}var r=n(4),o=n(144),s=n(7),a=n(85),l=n(1),u=/^(<[^ \/>]+)/,c="data-danger-index",h={dangerouslyRenderMarkup:function(t){r.canUseDOM?void 0:l(!1);for(var e,n={},h=0;h<t.length;h++)t[h]?void 0:l(!1),e=i(t[h]),e=a(e)?e:"*",n[e]=n[e]||[],n[e][h]=t[h];var d=[],p=0;for(e in n)if(n.hasOwnProperty(e)){var f,g=n[e];for(f in g)if(g.hasOwnProperty(f)){var m=g[f];g[f]=m.replace(u,"$1 "+c+'="'+f+'" ')}for(var v=o(g.join(""),s),y=0;y<v.length;++y){var _=v[y];_.hasAttribute&&_.hasAttribute(c)&&(f=+_.getAttribute(c),_.removeAttribute(c),d.hasOwnProperty(f)?l(!1):void 0,d[f]=_,p+=1)}}return p!==d.length?l(!1):void 0,d.length!==t.length?l(!1):void 0,d},dangerouslyReplaceNodeWithMarkup:function(t,e){r.canUseDOM?void 0:l(!1),e?void 0:l(!1),"html"===t.tagName.toLowerCase()?l(!1):void 0;var n;n="string"==typeof e?o(e,s)[0]:e,t.parentNode.replaceChild(n,t)}};t.exports=h},function(t,e,n){"use strict";var i=n(12),r=[i({ResponderEventPlugin:null}),i({SimpleEventPlugin:null}),i({TapEventPlugin:null}),i({EnterLeaveEventPlugin:null}),i({ChangeEventPlugin:null}),i({SelectEventPlugin:null}),i({BeforeInputEventPlugin:null})];t.exports=r},function(t,e,n){"use strict";var i=n(10),r=n(19),o=n(26),s=n(6),a=n(12),l=i.topLevelTypes,u=s.getFirstReactDOM,c={mouseEnter:{registrationName:a({onMouseEnter:null}),dependencies:[l.topMouseOut,l.topMouseOver]},mouseLeave:{registrationName:a({onMouseLeave:null}),dependencies:[l.topMouseOut,l.topMouseOver]}},h=[null,null],d={eventTypes:c,extractEvents:function(t,e,n,i,a){if(t===l.topMouseOver&&(i.relatedTarget||i.fromElement))return null;if(t!==l.topMouseOut&&t!==l.topMouseOver)return null;var d;if(e.window===e)d=e;else{var p=e.ownerDocument;d=p?p.defaultView||p.parentWindow:window}var f,g,m="",v="";if(t===l.topMouseOut?(f=e,m=n,g=u(i.relatedTarget||i.toElement),g?v=s.getID(g):g=d,g=g||d):(f=d,g=e,v=n),f===g)return null;var y=o.getPooled(c.mouseLeave,m,i,a);y.type="mouseleave",y.target=f,y.relatedTarget=g;var _=o.getPooled(c.mouseEnter,v,i,a);return _.type="mouseenter",_.target=g,_.relatedTarget=f,r.accumulateEnterLeaveDispatches(y,_,m,v),h[0]=y,h[1]=_,h}};t.exports=d},function(t,e,n){"use strict";function i(t){return t===m.topMouseUp||t===m.topTouchEnd||t===m.topTouchCancel}function r(t){return t===m.topMouseMove||t===m.topTouchMove}function o(t){return t===m.topMouseDown||t===m.topTouchStart}function s(t,e,n,i){var r=t.type||"unknown-event";t.currentTarget=g.Mount.getNode(i),e?p.invokeGuardedCallbackWithCatch(r,n,t,i):p.invokeGuardedCallback(r,n,t,i),t.currentTarget=null}function a(t,e){var n=t._dispatchListeners,i=t._dispatchIDs;if(Array.isArray(n))for(var r=0;r<n.length&&!t.isPropagationStopped();r++)s(t,e,n[r],i[r]);else n&&s(t,e,n,i);t._dispatchListeners=null,t._dispatchIDs=null}function l(t){var e=t._dispatchListeners,n=t._dispatchIDs;if(Array.isArray(e)){for(var i=0;i<e.length&&!t.isPropagationStopped();i++)if(e[i](t,n[i]))return n[i]}else if(e&&e(t,n))return n;return null}function u(t){var e=l(t);return t._dispatchIDs=null,t._dispatchListeners=null,e}function c(t){var e=t._dispatchListeners,n=t._dispatchIDs;Array.isArray(e)?f(!1):void 0;var i=e?e(t,n):null;return t._dispatchListeners=null,t._dispatchIDs=null,i}function h(t){return!!t._dispatchListeners}var d=n(10),p=n(68),f=n(1),g=(n(3),{Mount:null,injectMount:function(t){g.Mount=t}}),m=d.topLevelTypes,v={isEndish:i,isMoveish:r,isStartish:o,executeDirectDispatch:c,executeDispatchesInOrder:a,executeDispatchesInOrderStopAtTrue:u,hasDispatches:h,getNode:function(t){return g.Mount.getNode(t)},getID:function(t){return g.Mount.getID(t)},injection:g};t.exports=v},function(t,e,n){"use strict";function i(t){this._root=t,this._startText=this.getText(),this._fallbackText=null}var r=n(13),o=n(2),s=n(79);o(i.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[s()]},getData:function(){if(this._fallbackText)return this._fallbackText;var t,e,n=this._startText,i=n.length,r=this.getText(),o=r.length;for(t=0;i>t&&n[t]===r[t];t++);var s=i-t;for(e=1;s>=e&&n[i-e]===r[o-e];e++);var a=e>1?1-e:void 0;return this._fallbackText=r.slice(t,a),this._fallbackText}}),r.addPoolingTo(i),t.exports=i},function(t,e,n){"use strict";var i,r=n(16),o=n(4),s=r.injection.MUST_USE_ATTRIBUTE,a=r.injection.MUST_USE_PROPERTY,l=r.injection.HAS_BOOLEAN_VALUE,u=r.injection.HAS_SIDE_EFFECTS,c=r.injection.HAS_NUMERIC_VALUE,h=r.injection.HAS_POSITIVE_NUMERIC_VALUE,d=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(o.canUseDOM){var p=document.implementation;i=p&&p.hasFeature&&p.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var f={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:s|l,allowTransparency:s,alt:null,async:l,autoComplete:null,autoPlay:l,capture:s|l,cellPadding:null,cellSpacing:null,charSet:s,challenge:s,checked:a|l,classID:s,className:i?s:a,cols:s|h,colSpan:null,content:null,contentEditable:null,contextMenu:s,controls:a|l,coords:null,crossOrigin:null,data:null,dateTime:s,"default":l,defer:l,dir:null,disabled:s|l,download:d,draggable:null,encType:null,form:s,formAction:s,formEncType:s,formMethod:s,formNoValidate:l,formTarget:s,frameBorder:s,headers:null,height:s,hidden:s|l,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:a,inputMode:s,integrity:null,is:s,keyParams:s,keyType:s,kind:null,label:null,lang:null,list:s,loop:a|l,low:null,manifest:s,marginHeight:null,marginWidth:null,max:null,maxLength:s,media:s,mediaGroup:null,method:null,min:null,minLength:s,multiple:a|l,muted:a|l,name:null,nonce:s,noValidate:l,open:l,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:a|l,rel:null,required:l,reversed:l,role:s,rows:s|h,rowSpan:null,sandbox:null,scope:null,scoped:l,scrolling:null,seamless:s|l,selected:a|l,shape:null,size:s|h,sizes:s,span:h,spellCheck:null,src:null,srcDoc:a,srcLang:null,srcSet:s,start:c,step:null,style:null,summary:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:a|u,width:s,wmode:s,wrap:null,about:s,datatype:s,inlist:s,prefix:s,property:s,resource:s,"typeof":s,vocab:s,autoCapitalize:null,autoCorrect:null,autoSave:null,color:null,itemProp:s,itemScope:s|l,itemType:s,itemID:s,itemRef:s,results:null,security:s,unselectable:s},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",autoSave:"autosave",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};t.exports=f},function(t,e,n){"use strict";var i=(n(20),n(41)),r=(n(3),"_getDOMNodeDidWarn"),o={getDOMNode:function(){return this.constructor[r]=!0,i(this)}};t.exports=o},function(t,e,n){"use strict";function i(t,e,n){var i=void 0===t[n];null!=e&&i&&(t[n]=o(e,null))}var r=n(14),o=n(46),s=n(49),a=n(50),l=(n(3),{instantiateChildren:function(t,e,n){if(null==t)return null;var r={};return a(t,i,r),r},updateChildren:function(t,e,n,i){if(!e&&!t)return null;var a;for(a in e)if(e.hasOwnProperty(a)){var l=t&&t[a],u=l&&l._currentElement,c=e[a];if(null!=l&&s(u,c))r.receiveComponent(l,c,n,i),e[a]=l;else{l&&r.unmountComponent(l,a);var h=o(c,null);e[a]=h}}for(a in t)!t.hasOwnProperty(a)||e&&e.hasOwnProperty(a)||r.unmountComponent(t[a]);return e},unmountChildren:function(t){for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];r.unmountComponent(n)}}});t.exports=l},function(t,e,n){"use strict";function i(t){var e=t._currentElement._owner||null;if(e){var n=e.getName();if(n)return" Check the render method of `"+n+"`."}return""}function r(t){}var o=n(37),s=n(11),a=n(5),l=n(20),u=n(8),c=n(25),h=(n(24),n(14)),d=n(39),p=n(2),f=n(22),g=n(1),m=n(49);n(3),r.prototype.render=function(){var t=l.get(this)._currentElement.type;return t(this.props,this.context,this.updater)};var v=1,y={construct:function(t){this._currentElement=t,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null},mountComponent:function(t,e,n){this._context=n,this._mountOrder=v++,this._rootNodeID=t;var i,o,s=this._processProps(this._currentElement.props),u=this._processContext(n),c=this._currentElement.type,p="prototype"in c;p&&(i=new c(s,u,d)),(!p||null===i||i===!1||a.isValidElement(i))&&(o=i,i=new r(c)),i.props=s,i.context=u,i.refs=f,i.updater=d,this._instance=i,l.set(i,this);var m=i.state;void 0===m&&(i.state=m=null),"object"!=typeof m||Array.isArray(m)?g(!1):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,i.componentWillMount&&(i.componentWillMount(),this._pendingStateQueue&&(i.state=this._processPendingState(i.props,i.context))),void 0===o&&(o=this._renderValidatedComponent()),this._renderedComponent=this._instantiateReactComponent(o);var y=h.mountComponent(this._renderedComponent,t,e,this._processChildContext(n));return i.componentDidMount&&e.getReactMountReady().enqueue(i.componentDidMount,i),y},unmountComponent:function(){var t=this._instance;t.componentWillUnmount&&t.componentWillUnmount(),h.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._instance=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,l.remove(t)},_maskContext:function(t){var e=null,n=this._currentElement.type,i=n.contextTypes;if(!i)return f;e={};for(var r in i)e[r]=t[r];return e},_processContext:function(t){var e=this._maskContext(t);return e},_processChildContext:function(t){var e=this._currentElement.type,n=this._instance,i=n.getChildContext&&n.getChildContext();if(i){"object"!=typeof e.childContextTypes?g(!1):void 0;for(var r in i)r in e.childContextTypes?void 0:g(!1);return p({},t,i)}return t},_processProps:function(t){return t},_checkPropTypes:function(t,e,n){var r=this.getName();for(var o in t)if(t.hasOwnProperty(o)){var s;try{"function"!=typeof t[o]?g(!1):void 0,s=t[o](e,o,r,n)}catch(a){s=a}s instanceof Error&&(i(this),n===c.prop)}},receiveComponent:function(t,e,n){var i=this._currentElement,r=this._context;this._pendingElement=null,this.updateComponent(e,i,t,r,n)},performUpdateIfNecessary:function(t){null!=this._pendingElement&&h.receiveComponent(this,this._pendingElement||this._currentElement,t,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(t,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(t,e,n,i,r){var o,s=this._instance,a=this._context===r?s.context:this._processContext(r);e===n?o=n.props:(o=this._processProps(n.props),s.componentWillReceiveProps&&s.componentWillReceiveProps(o,a));var l=this._processPendingState(o,a),u=this._pendingForceUpdate||!s.shouldComponentUpdate||s.shouldComponentUpdate(o,l,a);u?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,o,l,a,t,r)):(this._currentElement=n,this._context=r,s.props=o,s.state=l,s.context=a)},_processPendingState:function(t,e){var n=this._instance,i=this._pendingStateQueue,r=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!i)return n.state;if(r&&1===i.length)return i[0];for(var o=p({},r?i[0]:n.state),s=r?1:0;s<i.length;s++){var a=i[s];p(o,"function"==typeof a?a.call(n,o,t,e):a)}return o},_performComponentUpdate:function(t,e,n,i,r,o){var s,a,l,u=this._instance,c=Boolean(u.componentDidUpdate);c&&(s=u.props,a=u.state,l=u.context),u.componentWillUpdate&&u.componentWillUpdate(e,n,i),this._currentElement=t,this._context=o,u.props=e,u.state=n,u.context=i,this._updateRenderedComponent(r,o),c&&r.getReactMountReady().enqueue(u.componentDidUpdate.bind(u,s,a,l),u)},_updateRenderedComponent:function(t,e){var n=this._renderedComponent,i=n._currentElement,r=this._renderValidatedComponent();if(m(i,r))h.receiveComponent(n,r,t,this._processChildContext(e));else{var o=this._rootNodeID,s=n._rootNodeID;h.unmountComponent(n),this._renderedComponent=this._instantiateReactComponent(r);var a=h.mountComponent(this._renderedComponent,o,t,this._processChildContext(e));this._replaceNodeWithMarkupByID(s,a)}},_replaceNodeWithMarkupByID:function(t,e){o.replaceNodeWithMarkupByID(t,e)},_renderValidatedComponentWithoutOwnerOrContext:function(){var t=this._instance,e=t.render();return e},_renderValidatedComponent:function(){var t;s.current=this;try{t=this._renderValidatedComponentWithoutOwnerOrContext()}finally{s.current=null}return null===t||t===!1||a.isValidElement(t)?void 0:g(!1),t},attachRef:function(t,e){var n=this.getPublicInstance();null==n?g(!1):void 0;var i=e.getPublicInstance(),r=n.refs===f?n.refs={}:n.refs;r[t]=i},detachRef:function(t){var e=this.getPublicInstance().refs;delete e[t]},getName:function(){var t=this._currentElement.type,e=this._instance&&this._instance.constructor;return t.displayName||e&&e.displayName||t.name||e&&e.name||null},getPublicInstance:function(){var t=this._instance;return t instanceof r?null:t},_instantiateReactComponent:null};u.measureMethods(y,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var _={Mixin:y};t.exports=_},function(t,e){"use strict";var n={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},i={getNativeProps:function(t,e,i){if(!e.disabled)return e;var r={};for(var o in e)e.hasOwnProperty(o)&&!n[o]&&(r[o]=e[o]);return r}};t.exports=i},function(t,e,n){"use strict";function i(){return this}function r(){var t=this._reactInternalComponent;return!!t}function o(){}function s(t,e){var n=this._reactInternalComponent;n&&(O.enqueueSetPropsInternal(n,t),e&&O.enqueueCallbackInternal(n,e))}function a(t,e){var n=this._reactInternalComponent;n&&(O.enqueueReplacePropsInternal(n,t),e&&O.enqueueCallbackInternal(n,e))}function l(t,e){e&&(null!=e.dangerouslySetInnerHTML&&(null!=e.children?L(!1):void 0,"object"==typeof e.dangerouslySetInnerHTML&&V in e.dangerouslySetInnerHTML?void 0:L(!1)),null!=e.style&&"object"!=typeof e.style?L(!1):void 0)}function u(t,e,n,i){var r=A.findReactContainerForID(t);if(r){var o=r.nodeType===U?r.ownerDocument:r;B(e,o)}i.getReactMountReady().enqueue(c,{id:t,registrationName:e,listener:n})}function c(){var t=this;x.putListener(t.id,t.registrationName,t.listener)}function h(){var t=this;t._rootNodeID?void 0:L(!1);var e=A.getNode(t._rootNodeID);switch(e?void 0:L(!1),t._tag){case"iframe":t._wrapperState.listeners=[x.trapBubbledEvent(w.topLevelTypes.topLoad,"load",e)];break;case"video":case"audio":t._wrapperState.listeners=[];for(var n in G)G.hasOwnProperty(n)&&t._wrapperState.listeners.push(x.trapBubbledEvent(w.topLevelTypes[n],G[n],e));break;case"img":t._wrapperState.listeners=[x.trapBubbledEvent(w.topLevelTypes.topError,"error",e),x.trapBubbledEvent(w.topLevelTypes.topLoad,"load",e)];break;case"form":t._wrapperState.listeners=[x.trapBubbledEvent(w.topLevelTypes.topReset,"reset",e),x.trapBubbledEvent(w.topLevelTypes.topSubmit,"submit",e)]}}function d(){S.mountReadyWrapper(this)}function p(){T.postUpdateWrapper(this)}function f(t){J.call(Q,t)||(Z.test(t)?void 0:L(!1),Q[t]=!0)}function g(t,e){return t.indexOf("-")>=0||null!=e.is}function m(t){f(t),this._tag=t.toLowerCase(),this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._rootNodeID=null,this._wrapperState=null,this._topLevelWrapper=null,this._nodeWithLegacyProperties=null}var v=n(90),y=n(92),_=n(16),b=n(33),w=n(10),x=n(23),C=n(36),k=n(104),S=n(107),E=n(108),T=n(61),D=n(110),A=n(6),P=n(115),M=n(8),O=n(39),I=n(2),R=n(28),N=n(29),L=n(1),$=(n(47),n(12)),j=n(30),F=n(48),z=(n(54),n(51),n(3),x.deleteListener),B=x.listenTo,H=x.registrationNameModules,W={string:!0,number:!0},q=$({children:null}),Y=$({style:null}),V=$({__html:null}),U=1,G={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},X={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},K={listing:!0,pre:!0,textarea:!0},Z=(I({menuitem:!0},X),/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/),Q={},J={}.hasOwnProperty;m.displayName="ReactDOMComponent",m.Mixin={construct:function(t){this._currentElement=t},mountComponent:function(t,e,n){this._rootNodeID=t;var i=this._currentElement.props;switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(h,this);break;case"button":i=k.getNativeProps(this,i,n);break;case"input":S.mountWrapper(this,i,n),i=S.getNativeProps(this,i,n);break;case"option":E.mountWrapper(this,i,n),i=E.getNativeProps(this,i,n);break;case"select":T.mountWrapper(this,i,n),i=T.getNativeProps(this,i,n),n=T.processChildContext(this,i,n);break;case"textarea":D.mountWrapper(this,i,n),i=D.getNativeProps(this,i,n)}l(this,i);var r;if(e.useCreateElement){var o=n[A.ownerDocumentContextKey],s=o.createElement(this._currentElement.type);b.setAttributeForID(s,this._rootNodeID),A.getID(s),this._updateDOMProperties({},i,e,s),this._createInitialChildren(e,i,n,s),r=s}else{var a=this._createOpenTagMarkupAndPutListeners(e,i),u=this._createContentMarkup(e,i,n);r=!u&&X[this._tag]?a+"/>":a+">"+u+"</"+this._currentElement.type+">"}switch(this._tag){case"input":e.getReactMountReady().enqueue(d,this);case"button":case"select":case"textarea":i.autoFocus&&e.getReactMountReady().enqueue(v.focusDOMComponent,this)}return r},_createOpenTagMarkupAndPutListeners:function(t,e){var n="<"+this._currentElement.type;for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];if(null!=r)if(H.hasOwnProperty(i))r&&u(this._rootNodeID,i,r,t);else{i===Y&&(r&&(r=this._previousStyleCopy=I({},e.style)),r=y.createMarkupForStyles(r));var o=null;null!=this._tag&&g(this._tag,e)?i!==q&&(o=b.createMarkupForCustomAttribute(i,r)):o=b.createMarkupForProperty(i,r),o&&(n+=" "+o)}}if(t.renderToStaticMarkup)return n;var s=b.createMarkupForID(this._rootNodeID);return n+" "+s},_createContentMarkup:function(t,e,n){var i="",r=e.dangerouslySetInnerHTML;if(null!=r)null!=r.__html&&(i=r.__html);else{var o=W[typeof e.children]?e.children:null,s=null!=o?null:e.children;if(null!=o)i=N(o);else if(null!=s){var a=this.mountChildren(s,t,n);i=a.join("")}}return K[this._tag]&&"\n"===i.charAt(0)?"\n"+i:i},_createInitialChildren:function(t,e,n,i){var r=e.dangerouslySetInnerHTML;if(null!=r)null!=r.__html&&j(i,r.__html);else{var o=W[typeof e.children]?e.children:null,s=null!=o?null:e.children;if(null!=o)F(i,o);else if(null!=s)for(var a=this.mountChildren(s,t,n),l=0;l<a.length;l++)i.appendChild(a[l])}},receiveComponent:function(t,e,n){var i=this._currentElement;this._currentElement=t,this.updateComponent(e,i,t,n)},updateComponent:function(t,e,n,i){var r=e.props,o=this._currentElement.props;switch(this._tag){case"button":r=k.getNativeProps(this,r),o=k.getNativeProps(this,o);break;case"input":S.updateWrapper(this),r=S.getNativeProps(this,r),o=S.getNativeProps(this,o);break;case"option":r=E.getNativeProps(this,r),o=E.getNativeProps(this,o);break;case"select":r=T.getNativeProps(this,r),o=T.getNativeProps(this,o);break;case"textarea":D.updateWrapper(this),r=D.getNativeProps(this,r),o=D.getNativeProps(this,o)}l(this,o),this._updateDOMProperties(r,o,t,null),this._updateDOMChildren(r,o,t,i),
!R&&this._nodeWithLegacyProperties&&(this._nodeWithLegacyProperties.props=o),"select"===this._tag&&t.getReactMountReady().enqueue(p,this)},_updateDOMProperties:function(t,e,n,i){var r,o,s;for(r in t)if(!e.hasOwnProperty(r)&&t.hasOwnProperty(r))if(r===Y){var a=this._previousStyleCopy;for(o in a)a.hasOwnProperty(o)&&(s=s||{},s[o]="");this._previousStyleCopy=null}else H.hasOwnProperty(r)?t[r]&&z(this._rootNodeID,r):(_.properties[r]||_.isCustomAttribute(r))&&(i||(i=A.getNode(this._rootNodeID)),b.deleteValueForProperty(i,r));for(r in e){var l=e[r],c=r===Y?this._previousStyleCopy:t[r];if(e.hasOwnProperty(r)&&l!==c)if(r===Y)if(l?l=this._previousStyleCopy=I({},l):this._previousStyleCopy=null,c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(s=s||{},s[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(s=s||{},s[o]=l[o])}else s=l;else H.hasOwnProperty(r)?l?u(this._rootNodeID,r,l,n):c&&z(this._rootNodeID,r):g(this._tag,e)?(i||(i=A.getNode(this._rootNodeID)),r===q&&(l=null),b.setValueForAttribute(i,r,l)):(_.properties[r]||_.isCustomAttribute(r))&&(i||(i=A.getNode(this._rootNodeID)),null!=l?b.setValueForProperty(i,r,l):b.deleteValueForProperty(i,r))}s&&(i||(i=A.getNode(this._rootNodeID)),y.setValueForStyles(i,s))},_updateDOMChildren:function(t,e,n,i){var r=W[typeof t.children]?t.children:null,o=W[typeof e.children]?e.children:null,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,l=null!=r?null:t.children,u=null!=o?null:e.children,c=null!=r||null!=s,h=null!=o||null!=a;null!=l&&null==u?this.updateChildren(null,n,i):c&&!h&&this.updateTextContent(""),null!=o?r!==o&&this.updateTextContent(""+o):null!=a?s!==a&&this.updateMarkup(""+a):null!=u&&this.updateChildren(u,n,i)},unmountComponent:function(){switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":var t=this._wrapperState.listeners;if(t)for(var e=0;e<t.length;e++)t[e].remove();break;case"input":S.unmountWrapper(this);break;case"html":case"head":case"body":L(!1)}if(this.unmountChildren(),x.deleteAllListeners(this._rootNodeID),C.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._wrapperState=null,this._nodeWithLegacyProperties){var n=this._nodeWithLegacyProperties;n._reactInternalComponent=null,this._nodeWithLegacyProperties=null}},getPublicInstance:function(){if(!this._nodeWithLegacyProperties){var t=A.getNode(this._rootNodeID);t._reactInternalComponent=this,t.getDOMNode=i,t.isMounted=r,t.setState=o,t.replaceState=o,t.forceUpdate=o,t.setProps=s,t.replaceProps=a,t.props=this._currentElement.props,this._nodeWithLegacyProperties=t}return this._nodeWithLegacyProperties}},M.measureMethods(m,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),I(m.prototype,m.Mixin,P.Mixin),t.exports=m},function(t,e,n){"use strict";function i(t){return r.createFactory(t)}var r=n(5),o=(n(65),n(150)),s=o({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},i);t.exports=s},function(t,e,n){"use strict";function i(){this._rootNodeID&&d.updateWrapper(this)}function r(t){var e=this._currentElement.props,n=s.executeOnChange(e,t);l.asap(i,this);var r=e.name;if("radio"===e.type&&null!=r){for(var o=a.getNode(this._rootNodeID),u=o;u.parentNode;)u=u.parentNode;for(var d=u.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),p=0;p<d.length;p++){var f=d[p];if(f!==o&&f.form===o.form){var g=a.getID(f);g?void 0:c(!1);var m=h[g];m?void 0:c(!1),l.asap(i,m)}}}return n}var o=n(38),s=n(34),a=n(6),l=n(9),u=n(2),c=n(1),h={},d={getNativeProps:function(t,e,n){var i=s.getValue(e),r=s.getChecked(e),o=u({},e,{defaultChecked:void 0,defaultValue:void 0,value:null!=i?i:t._wrapperState.initialValue,checked:null!=r?r:t._wrapperState.initialChecked,onChange:t._wrapperState.onChange});return o},mountWrapper:function(t,e){var n=e.defaultValue;t._wrapperState={initialChecked:e.defaultChecked||!1,initialValue:null!=n?n:null,onChange:r.bind(t)}},mountReadyWrapper:function(t){h[t._rootNodeID]=t},unmountWrapper:function(t){delete h[t._rootNodeID]},updateWrapper:function(t){var e=t._currentElement.props,n=e.checked;null!=n&&o.updatePropertyByID(t._rootNodeID,"checked",n||!1);var i=s.getValue(e);null!=i&&o.updatePropertyByID(t._rootNodeID,"value",""+i)}};t.exports=d},function(t,e,n){"use strict";var i=n(52),r=n(61),o=n(2),s=(n(3),r.valueContextKey),a={mountWrapper:function(t,e,n){var i=n[s],r=null;if(null!=i)if(r=!1,Array.isArray(i)){for(var o=0;o<i.length;o++)if(""+i[o]==""+e.value){r=!0;break}}else r=""+i==""+e.value;t._wrapperState={selected:r}},getNativeProps:function(t,e,n){var r=o({selected:void 0,children:void 0},e);null!=t._wrapperState.selected&&(r.selected=t._wrapperState.selected);var s="";return i.forEach(e.children,function(t){null!=t&&("string"==typeof t||"number"==typeof t)&&(s+=t)}),r.children=s,r}};t.exports=a},function(t,e,n){"use strict";function i(t,e,n,i){return t===n&&e===i}function r(t){var e=document.selection,n=e.createRange(),i=n.text.length,r=n.duplicate();r.moveToElementText(t),r.setEndPoint("EndToStart",n);var o=r.text.length,s=o+i;return{start:o,end:s}}function o(t){var e=window.getSelection&&window.getSelection();if(!e||0===e.rangeCount)return null;var n=e.anchorNode,r=e.anchorOffset,o=e.focusNode,s=e.focusOffset,a=e.getRangeAt(0);try{a.startContainer.nodeType,a.endContainer.nodeType}catch(l){return null}var u=i(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset),c=u?0:a.toString().length,h=a.cloneRange();h.selectNodeContents(t),h.setEnd(a.startContainer,a.startOffset);var d=i(h.startContainer,h.startOffset,h.endContainer,h.endOffset),p=d?0:h.toString().length,f=p+c,g=document.createRange();g.setStart(n,r),g.setEnd(o,s);var m=g.collapsed;return{start:m?f:p,end:m?p:f}}function s(t,e){var n,i,r=document.selection.createRange().duplicate();"undefined"==typeof e.end?(n=e.start,i=n):e.start>e.end?(n=e.end,i=e.start):(n=e.start,i=e.end),r.moveToElementText(t),r.moveStart("character",n),r.setEndPoint("EndToStart",r),r.moveEnd("character",i-n),r.select()}function a(t,e){if(window.getSelection){var n=window.getSelection(),i=t[c()].length,r=Math.min(e.start,i),o="undefined"==typeof e.end?r:Math.min(e.end,i);if(!n.extend&&r>o){var s=o;o=r,r=s}var a=u(t,r),l=u(t,o);if(a&&l){var h=document.createRange();h.setStart(a.node,a.offset),n.removeAllRanges(),r>o?(n.addRange(h),n.extend(l.node,l.offset)):(h.setEnd(l.node,l.offset),n.addRange(h))}}}var l=n(4),u=n(138),c=n(79),h=l.canUseDOM&&"selection"in document&&!("getSelection"in window),d={getOffsets:h?r:o,setOffsets:h?s:a};t.exports=d},function(t,e,n){"use strict";function i(){this._rootNodeID&&c.updateWrapper(this)}function r(t){var e=this._currentElement.props,n=o.executeOnChange(e,t);return a.asap(i,this),n}var o=n(34),s=n(38),a=n(9),l=n(2),u=n(1),c=(n(3),{getNativeProps:function(t,e,n){null!=e.dangerouslySetInnerHTML?u(!1):void 0;var i=l({},e,{defaultValue:void 0,value:void 0,children:t._wrapperState.initialValue,onChange:t._wrapperState.onChange});return i},mountWrapper:function(t,e){var n=e.defaultValue,i=e.children;null!=i&&(null!=n?u(!1):void 0,Array.isArray(i)&&(i.length<=1?void 0:u(!1),i=i[0]),n=""+i),null==n&&(n="");var s=o.getValue(e);t._wrapperState={initialValue:""+(null!=s?s:n),onChange:r.bind(t)}},updateWrapper:function(t){var e=t._currentElement.props,n=o.getValue(e);null!=n&&s.updatePropertyByID(t._rootNodeID,"value",""+n)}});t.exports=c},function(t,e,n){"use strict";function i(t){r.enqueueEvents(t),r.processEventQueue(!1)}var r=n(18),o={handleTopLevel:function(t,e,n,o,s){var a=r.extractEvents(t,e,n,o,s);i(a)}};t.exports=o},function(t,e,n){"use strict";function i(t){var e=d.getID(t),n=h.getReactRootIDFromNodeID(e),i=d.findReactContainerForID(n),r=d.getFirstReactDOM(i);return r}function r(t,e){this.topLevelType=t,this.nativeEvent=e,this.ancestors=[]}function o(t){s(t)}function s(t){for(var e=d.getFirstReactDOM(g(t.nativeEvent))||window,n=e;n;)t.ancestors.push(n),n=i(n);for(var r=0;r<t.ancestors.length;r++){e=t.ancestors[r];var o=d.getID(e)||"";v._handleTopLevel(t.topLevelType,e,o,t.nativeEvent,g(t.nativeEvent))}}function a(t){var e=m(window);t(e)}var l=n(81),u=n(4),c=n(13),h=n(17),d=n(6),p=n(9),f=n(2),g=n(44),m=n(145);f(r.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(r,c.twoArgumentPooler);var v={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:u.canUseDOM?window:null,setHandleTopLevel:function(t){v._handleTopLevel=t},setEnabled:function(t){v._enabled=!!t},isEnabled:function(){return v._enabled},trapBubbledEvent:function(t,e,n){var i=n;return i?l.listen(i,e,v.dispatchEvent.bind(null,t)):null},trapCapturedEvent:function(t,e,n){var i=n;return i?l.capture(i,e,v.dispatchEvent.bind(null,t)):null},monitorScrollValue:function(t){var e=a.bind(null,t);l.listen(window,"scroll",e)},dispatchEvent:function(t,e){if(v._enabled){var n=r.getPooled(t,e);try{p.batchedUpdates(o,n)}finally{r.release(n)}}}};t.exports=v},function(t,e,n){"use strict";var i=n(16),r=n(18),o=n(37),s=n(58),a=n(66),l=n(23),u=n(72),c=n(8),h=n(75),d=n(9),p={Component:o.injection,Class:s.injection,DOMProperty:i.injection,EmptyComponent:a.injection,EventPluginHub:r.injection,EventEmitter:l.injection,NativeComponent:u.injection,Perf:c.injection,RootIndex:h.injection,Updates:d.injection};t.exports=p},function(t,e,n){"use strict";var i=n(52),r=n(59),o=n(58),s=n(106),a=n(5),l=(n(65),n(74)),u=n(40),c=n(2),h=n(88),d=a.createElement,p=a.createFactory,f=a.cloneElement,g={Children:{map:i.map,forEach:i.forEach,count:i.count,toArray:i.toArray,only:h},Component:r,createElement:d,cloneElement:f,isValidElement:a.isValidElement,PropTypes:l,createClass:o.createClass,createFactory:p,createMixin:function(t){return t},DOM:s,version:u,__spread:c};t.exports=g},function(t,e,n){"use strict";function i(t,e,n){m.push({parentID:t,parentNode:null,type:h.INSERT_MARKUP,markupIndex:v.push(e)-1,content:null,fromIndex:null,toIndex:n})}function r(t,e,n){m.push({parentID:t,parentNode:null,type:h.MOVE_EXISTING,markupIndex:null,content:null,fromIndex:e,toIndex:n})}function o(t,e){m.push({parentID:t,parentNode:null,type:h.REMOVE_NODE,markupIndex:null,content:null,fromIndex:e,toIndex:null})}function s(t,e){m.push({parentID:t,parentNode:null,type:h.SET_MARKUP,markupIndex:null,content:e,fromIndex:null,toIndex:null})}function a(t,e){m.push({parentID:t,parentNode:null,type:h.TEXT_CONTENT,markupIndex:null,content:e,fromIndex:null,toIndex:null})}function l(){m.length&&(c.processChildrenUpdates(m,v),u())}function u(){m.length=0,v.length=0}var c=n(37),h=n(71),d=(n(11),n(14)),p=n(102),f=n(87),g=0,m=[],v=[],y={Mixin:{_reconcilerInstantiateChildren:function(t,e,n){return p.instantiateChildren(t,e,n)},_reconcilerUpdateChildren:function(t,e,n,i){var r;return r=f(e),p.updateChildren(t,r,n,i)},mountChildren:function(t,e,n){var i=this._reconcilerInstantiateChildren(t,e,n);this._renderedChildren=i;var r=[],o=0;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s],l=this._rootNodeID+s,u=d.mountComponent(a,l,e,n);a._mountIndex=o++,r.push(u)}return r},updateTextContent:function(t){g++;var e=!0;try{var n=this._renderedChildren;p.unmountChildren(n);for(var i in n)n.hasOwnProperty(i)&&this._unmountChild(n[i]);this.setTextContent(t),e=!1}finally{g--,g||(e?u():l())}},updateMarkup:function(t){g++;var e=!0;try{var n=this._renderedChildren;p.unmountChildren(n);for(var i in n)n.hasOwnProperty(i)&&this._unmountChildByName(n[i],i);this.setMarkup(t),e=!1}finally{g--,g||(e?u():l())}},updateChildren:function(t,e,n){g++;var i=!0;try{this._updateChildren(t,e,n),i=!1}finally{g--,g||(i?u():l())}},_updateChildren:function(t,e,n){var i=this._renderedChildren,r=this._reconcilerUpdateChildren(i,t,e,n);if(this._renderedChildren=r,r||i){var o,s=0,a=0;for(o in r)if(r.hasOwnProperty(o)){var l=i&&i[o],u=r[o];l===u?(this.moveChild(l,a,s),s=Math.max(l._mountIndex,s),l._mountIndex=a):(l&&(s=Math.max(l._mountIndex,s),this._unmountChild(l)),this._mountChildByNameAtIndex(u,o,a,e,n)),a++}for(o in i)!i.hasOwnProperty(o)||r&&r.hasOwnProperty(o)||this._unmountChild(i[o])}},unmountChildren:function(){var t=this._renderedChildren;p.unmountChildren(t),this._renderedChildren=null},moveChild:function(t,e,n){t._mountIndex<n&&r(this._rootNodeID,t._mountIndex,e)},createChild:function(t,e){i(this._rootNodeID,e,t._mountIndex)},removeChild:function(t){o(this._rootNodeID,t._mountIndex)},setTextContent:function(t){a(this._rootNodeID,t)},setMarkup:function(t){s(this._rootNodeID,t)},_mountChildByNameAtIndex:function(t,e,n,i,r){var o=this._rootNodeID+e,s=d.mountComponent(t,o,i,r);t._mountIndex=n,this.createChild(t,s)},_unmountChild:function(t){this.removeChild(t),t._mountIndex=null}}};t.exports=y},function(t,e,n){"use strict";var i=n(1),r={isValidOwner:function(t){return!(!t||"function"!=typeof t.attachRef||"function"!=typeof t.detachRef)},addComponentAsRefTo:function(t,e,n){r.isValidOwner(n)?void 0:i(!1),n.attachRef(e,t)},removeComponentAsRefFrom:function(t,e,n){r.isValidOwner(n)?void 0:i(!1),n.getPublicInstance().refs[e]===t.getPublicInstance()&&n.detachRef(e)}};t.exports=r},function(t,e,n){"use strict";function i(t){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=r.getPooled(null),this.useCreateElement=!t&&a.useCreateElement}var r=n(32),o=n(13),s=n(23),a=n(60),l=n(69),u=n(27),c=n(2),h={initialize:l.getSelectionInformation,close:l.restoreSelection},d={initialize:function(){var t=s.isEnabled();return s.setEnabled(!1),t},close:function(t){s.setEnabled(t)}},p={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},f=[h,d,p],g={getTransactionWrappers:function(){return f},getReactMountReady:function(){return this.reactMountReady},destructor:function(){r.release(this.reactMountReady),this.reactMountReady=null}};c(i.prototype,u.Mixin,g),o.addPoolingTo(i),t.exports=i},function(t,e,n){"use strict";function i(t,e,n){"function"==typeof t?t(e.getPublicInstance()):o.addComponentAsRefTo(e,t,n)}function r(t,e,n){"function"==typeof t?t(null):o.removeComponentAsRefFrom(e,t,n)}var o=n(116),s={};s.attachRefs=function(t,e){if(null!==e&&e!==!1){var n=e.ref;null!=n&&i(n,t,e._owner)}},s.shouldUpdateRefs=function(t,e){var n=null===t||t===!1,i=null===e||e===!1;return n||i||e._owner!==t._owner||e.ref!==t.ref},s.detachRefs=function(t,e){if(null!==e&&e!==!1){var n=e.ref;null!=n&&r(n,t,e._owner)}},t.exports=s},function(t,e){"use strict";var n={isBatchingUpdates:!1,batchedUpdates:function(t){}};t.exports=n},function(t,e,n){"use strict";function i(t){s.isValidElement(t)?void 0:f(!1);var e;try{h.injection.injectBatchingStrategy(u);var n=a.createReactRootID();return e=c.getPooled(!1),e.perform(function(){var i=p(t,null),r=i.mountComponent(n,e,d);return l.addChecksumToMarkup(r)},null)}finally{c.release(e),h.injection.injectBatchingStrategy(o)}}function r(t){s.isValidElement(t)?void 0:f(!1);var e;try{h.injection.injectBatchingStrategy(u);var n=a.createReactRootID();return e=c.getPooled(!0),e.perform(function(){var i=p(t,null);return i.mountComponent(n,e,d)},null)}finally{c.release(e),h.injection.injectBatchingStrategy(o)}}var o=n(63),s=n(5),a=n(17),l=n(70),u=n(119),c=n(121),h=n(9),d=n(22),p=n(46),f=n(1);t.exports={renderToString:i,renderToStaticMarkup:r}},function(t,e,n){"use strict";function i(t){this.reinitializeTransaction(),this.renderToStaticMarkup=t,this.reactMountReady=o.getPooled(null),this.useCreateElement=!1}var r=n(13),o=n(32),s=n(27),a=n(2),l=n(7),u={initialize:function(){this.reactMountReady.reset()},close:l},c=[u],h={getTransactionWrappers:function(){return c},getReactMountReady:function(){return this.reactMountReady},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null}};a(i.prototype,s.Mixin,h),r.addPoolingTo(i),t.exports=i},function(t,e,n){"use strict";var i=n(16),r=i.injection.MUST_USE_ATTRIBUTE,o={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},s={Properties:{clipPath:r,cx:r,cy:r,d:r,dx:r,dy:r,fill:r,fillOpacity:r,fontFamily:r,fontSize:r,fx:r,fy:r,gradientTransform:r,gradientUnits:r,markerEnd:r,markerMid:r,markerStart:r,offset:r,opacity:r,patternContentUnits:r,patternUnits:r,points:r,preserveAspectRatio:r,r:r,rx:r,ry:r,spreadMethod:r,stopColor:r,stopOpacity:r,stroke:r,strokeDasharray:r,strokeLinecap:r,strokeOpacity:r,strokeWidth:r,textAnchor:r,transform:r,version:r,viewBox:r,x1:r,x2:r,x:r,xlinkActuate:r,xlinkArcrole:r,xlinkHref:r,xlinkRole:r,xlinkShow:r,xlinkTitle:r,xlinkType:r,xmlBase:r,xmlLang:r,xmlSpace:r,y1:r,y2:r,y:r},DOMAttributeNamespaces:{xlinkActuate:o.xlink,xlinkArcrole:o.xlink,xlinkHref:o.xlink,xlinkRole:o.xlink,xlinkShow:o.xlink,xlinkTitle:o.xlink,xlinkType:o.xlink,xmlBase:o.xml,xmlLang:o.xml,xmlSpace:o.xml},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"}};t.exports=s},function(t,e,n){"use strict";function i(t){if("selectionStart"in t&&l.hasSelectionCapabilities(t))return{start:t.selectionStart,end:t.selectionEnd};if(window.getSelection){var e=window.getSelection();return{anchorNode:e.anchorNode,anchorOffset:e.anchorOffset,focusNode:e.focusNode,focusOffset:e.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function r(t,e){if(b||null==v||v!==c())return null;var n=i(v);if(!_||!p(_,n)){_=n;var r=u.getPooled(m.select,y,t,e);return r.type="select",r.target=v,s.accumulateTwoPhaseDispatches(r),r}return null}var o=n(10),s=n(19),a=n(4),l=n(69),u=n(15),c=n(84),h=n(80),d=n(12),p=n(54),f=o.topLevelTypes,g=a.canUseDOM&&"documentMode"in document&&document.documentMode<=11,m={select:{phasedRegistrationNames:{bubbled:d({onSelect:null}),captured:d({onSelectCapture:null})},dependencies:[f.topBlur,f.topContextMenu,f.topFocus,f.topKeyDown,f.topMouseDown,f.topMouseUp,f.topSelectionChange]}},v=null,y=null,_=null,b=!1,w=!1,x=d({onSelect:null}),C={eventTypes:m,extractEvents:function(t,e,n,i,o){if(!w)return null;switch(t){case f.topFocus:(h(e)||"true"===e.contentEditable)&&(v=e,y=n,_=null);break;case f.topBlur:v=null,y=null,_=null;break;case f.topMouseDown:b=!0;break;case f.topContextMenu:case f.topMouseUp:return b=!1,r(i,o);case f.topSelectionChange:if(g)break;case f.topKeyDown:case f.topKeyUp:return r(i,o)}return null},didPutListener:function(t,e,n){e===x&&(w=!0)}};t.exports=C},function(t,e){"use strict";var n=Math.pow(2,53),i={createReactRootIndex:function(){return Math.ceil(Math.random()*n)}};t.exports=i},function(t,e,n){"use strict";var i=n(10),r=n(81),o=n(19),s=n(6),a=n(126),l=n(15),u=n(129),c=n(131),h=n(26),d=n(128),p=n(132),f=n(21),g=n(133),m=n(7),v=n(42),y=n(1),_=n(12),b=i.topLevelTypes,w={abort:{phasedRegistrationNames:{bubbled:_({onAbort:!0}),captured:_({onAbortCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:_({onBlur:!0}),captured:_({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:_({onCanPlay:!0}),captured:_({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:_({onCanPlayThrough:!0}),captured:_({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:_({onClick:!0}),captured:_({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:_({onContextMenu:!0}),captured:_({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:_({onCopy:!0}),captured:_({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:_({onCut:!0}),captured:_({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:_({onDoubleClick:!0}),captured:_({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:_({onDrag:!0}),captured:_({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:_({onDragEnd:!0}),captured:_({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:_({onDragEnter:!0}),captured:_({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:_({onDragExit:!0}),captured:_({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:_({onDragLeave:!0}),captured:_({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:_({onDragOver:!0}),captured:_({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:_({onDragStart:!0}),captured:_({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:_({onDrop:!0}),captured:_({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:_({onDurationChange:!0}),captured:_({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:_({onEmptied:!0}),captured:_({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:_({onEncrypted:!0}),captured:_({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:_({onEnded:!0}),captured:_({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:_({onError:!0}),captured:_({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:_({onFocus:!0}),captured:_({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:_({onInput:!0}),captured:_({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:_({onKeyDown:!0}),captured:_({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:_({onKeyPress:!0}),captured:_({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:_({onKeyUp:!0}),captured:_({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:_({onLoad:!0}),captured:_({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:_({onLoadedData:!0}),captured:_({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:_({onLoadedMetadata:!0}),captured:_({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:_({onLoadStart:!0}),captured:_({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:_({onMouseDown:!0}),captured:_({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:_({onMouseMove:!0}),captured:_({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:_({onMouseOut:!0}),captured:_({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:_({onMouseOver:!0}),captured:_({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:_({onMouseUp:!0}),captured:_({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:_({onPaste:!0}),captured:_({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:_({onPause:!0}),captured:_({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:_({onPlay:!0}),captured:_({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:_({onPlaying:!0}),captured:_({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:_({onProgress:!0}),captured:_({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:_({onRateChange:!0}),captured:_({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:_({onReset:!0}),captured:_({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:_({onScroll:!0}),captured:_({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:_({onSeeked:!0}),captured:_({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:_({onSeeking:!0}),captured:_({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:_({onStalled:!0}),captured:_({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:_({onSubmit:!0}),captured:_({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:_({onSuspend:!0}),captured:_({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:_({onTimeUpdate:!0}),captured:_({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:_({onTouchCancel:!0}),captured:_({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:_({onTouchEnd:!0}),captured:_({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:_({onTouchMove:!0}),captured:_({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:_({onTouchStart:!0}),captured:_({onTouchStartCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:_({onVolumeChange:!0}),captured:_({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:_({onWaiting:!0}),captured:_({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:_({onWheel:!0}),captured:_({onWheelCapture:!0})}}},x={topAbort:w.abort,topBlur:w.blur,topCanPlay:w.canPlay,topCanPlayThrough:w.canPlayThrough,topClick:w.click,topContextMenu:w.contextMenu,topCopy:w.copy,topCut:w.cut,topDoubleClick:w.doubleClick,topDrag:w.drag,topDragEnd:w.dragEnd,topDragEnter:w.dragEnter,topDragExit:w.dragExit,topDragLeave:w.dragLeave,topDragOver:w.dragOver,topDragStart:w.dragStart,topDrop:w.drop,topDurationChange:w.durationChange,topEmptied:w.emptied,topEncrypted:w.encrypted,topEnded:w.ended,topError:w.error,topFocus:w.focus,topInput:w.input,topKeyDown:w.keyDown,topKeyPress:w.keyPress,topKeyUp:w.keyUp,topLoad:w.load,topLoadedData:w.loadedData,topLoadedMetadata:w.loadedMetadata,topLoadStart:w.loadStart,topMouseDown:w.mouseDown,topMouseMove:w.mouseMove,topMouseOut:w.mouseOut,topMouseOver:w.mouseOver,topMouseUp:w.mouseUp,topPaste:w.paste,topPause:w.pause,topPlay:w.play,topPlaying:w.playing,topProgress:w.progress,topRateChange:w.rateChange,topReset:w.reset,topScroll:w.scroll,topSeeked:w.seeked,topSeeking:w.seeking,topStalled:w.stalled,topSubmit:w.submit,topSuspend:w.suspend,topTimeUpdate:w.timeUpdate,topTouchCancel:w.touchCancel,topTouchEnd:w.touchEnd,topTouchMove:w.touchMove,topTouchStart:w.touchStart,topVolumeChange:w.volumeChange,topWaiting:w.waiting,topWheel:w.wheel};for(var C in x)x[C].dependencies=[C];var k=_({onClick:null}),S={},E={eventTypes:w,extractEvents:function(t,e,n,i,r){var s=x[t];if(!s)return null;var m;switch(t){case b.topAbort:case b.topCanPlay:case b.topCanPlayThrough:case b.topDurationChange:case b.topEmptied:case b.topEncrypted:case b.topEnded:case b.topError:case b.topInput:case b.topLoad:case b.topLoadedData:case b.topLoadedMetadata:case b.topLoadStart:case b.topPause:case b.topPlay:case b.topPlaying:case b.topProgress:case b.topRateChange:case b.topReset:case b.topSeeked:case b.topSeeking:case b.topStalled:case b.topSubmit:case b.topSuspend:case b.topTimeUpdate:case b.topVolumeChange:case b.topWaiting:m=l;break;case b.topKeyPress:if(0===v(i))return null;case b.topKeyDown:case b.topKeyUp:m=c;break;case b.topBlur:case b.topFocus:m=u;break;case b.topClick:if(2===i.button)return null;case b.topContextMenu:case b.topDoubleClick:case b.topMouseDown:case b.topMouseMove:case b.topMouseOut:case b.topMouseOver:case b.topMouseUp:m=h;break;case b.topDrag:case b.topDragEnd:case b.topDragEnter:case b.topDragExit:case b.topDragLeave:case b.topDragOver:case b.topDragStart:case b.topDrop:m=d;break;case b.topTouchCancel:case b.topTouchEnd:case b.topTouchMove:case b.topTouchStart:m=p;break;case b.topScroll:m=f;break;case b.topWheel:m=g;break;case b.topCopy:case b.topCut:case b.topPaste:m=a}m?void 0:y(!1);var _=m.getPooled(s,n,i,r);return o.accumulateTwoPhaseDispatches(_),_},didPutListener:function(t,e,n){if(e===k){var i=s.getNode(t);S[t]||(S[t]=r.listen(i,"click",m))}},willDeleteListener:function(t,e){e===k&&(S[t].remove(),delete S[t])}};t.exports=E},function(t,e,n){"use strict";function i(t,e,n,i){r.call(this,t,e,n,i)}var r=n(15),o={clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}};r.augmentClass(i,o),t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i){r.call(this,t,e,n,i)}var r=n(15),o={data:null};r.augmentClass(i,o),t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i){r.call(this,t,e,n,i)}var r=n(26),o={dataTransfer:null};r.augmentClass(i,o),t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i){r.call(this,t,e,n,i)}var r=n(21),o={relatedTarget:null};r.augmentClass(i,o),t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i){r.call(this,t,e,n,i)}var r=n(15),o={data:null};r.augmentClass(i,o),t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i){r.call(this,t,e,n,i)}var r=n(21),o=n(42),s=n(137),a=n(43),l={key:s,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:a,charCode:function(t){return"keypress"===t.type?o(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?o(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}};r.augmentClass(i,l),t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i){r.call(this,t,e,n,i)}var r=n(21),o=n(43),s={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:o};r.augmentClass(i,s),t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i){r.call(this,t,e,n,i)}var r=n(26),o={deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null};r.augmentClass(i,o),t.exports=i},function(t,e){"use strict";function n(t){for(var e=1,n=0,r=0,o=t.length,s=-4&o;s>r;){for(;r<Math.min(r+4096,s);r+=4)n+=(e+=t.charCodeAt(r))+(e+=t.charCodeAt(r+1))+(e+=t.charCodeAt(r+2))+(e+=t.charCodeAt(r+3));e%=i,n%=i}for(;o>r;r++)n+=e+=t.charCodeAt(r);return e%=i,n%=i,e|n<<16}var i=65521;t.exports=n},function(t,e,n){"use strict";function i(t,e){var n=null==e||"boolean"==typeof e||""===e;if(n)return"";var i=isNaN(e);return i||0===e||o.hasOwnProperty(t)&&o[t]?""+e:("string"==typeof e&&(e=e.trim()),e+"px")}var r=n(55),o=r.isUnitlessNumber;t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i,r){return r}n(2),n(3),t.exports=i},function(t,e,n){"use strict";function i(t){if(t.key){var e=o[t.key]||t.key;if("Unidentified"!==e)return e}if("keypress"===t.type){var n=r(t);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===t.type||"keyup"===t.type?s[t.keyCode]||"Unidentified":""}var r=n(42),o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",
117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=i},function(t,e){"use strict";function n(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function i(t){for(;t;){if(t.nextSibling)return t.nextSibling;t=t.parentNode}}function r(t,e){for(var r=n(t),o=0,s=0;r;){if(3===r.nodeType){if(s=o+r.textContent.length,e>=o&&s>=e)return{node:r,offset:e-o};o=s}r=n(i(r))}}t.exports=r},function(t,e,n){"use strict";function i(t){return'"'+r(t)+'"'}var r=n(29);t.exports=i},function(t,e,n){"use strict";var i=n(6);t.exports=i.renderSubtreeIntoContainer},function(t,e){"use strict";function n(t){return t.replace(i,function(t,e){return e.toUpperCase()})}var i=/-(.)/g;t.exports=n},function(t,e,n){"use strict";function i(t){return r(t.replace(o,"ms-"))}var r=n(141),o=/^-ms-/;t.exports=i},function(t,e,n){"use strict";function i(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"length"in t&&!("setInterval"in t)&&"number"!=typeof t.nodeType&&(Array.isArray(t)||"callee"in t||"item"in t)}function r(t){return i(t)?Array.isArray(t)?t.slice():o(t):[t]}var o=n(152);t.exports=r},function(t,e,n){"use strict";function i(t){var e=t.match(c);return e&&e[1].toLowerCase()}function r(t,e){var n=u;u?void 0:l(!1);var r=i(t),o=r&&a(r);if(o){n.innerHTML=o[1]+t+o[2];for(var c=o[0];c--;)n=n.lastChild}else n.innerHTML=t;var h=n.getElementsByTagName("script");h.length&&(e?void 0:l(!1),s(h).forEach(e));for(var d=s(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return d}var o=n(4),s=n(143),a=n(85),l=n(1),u=o.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;t.exports=r},function(t,e){"use strict";function n(t){return t===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:t.scrollLeft,y:t.scrollTop}}t.exports=n},function(t,e){"use strict";function n(t){return t.replace(i,"-$1").toLowerCase()}var i=/([A-Z])/g;t.exports=n},function(t,e,n){"use strict";function i(t){return r(t).replace(o,"-ms-")}var r=n(146),o=/^ms-/;t.exports=i},function(t,e){"use strict";function n(t){return!(!t||!("function"==typeof Node?t instanceof Node:"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName))}t.exports=n},function(t,e,n){"use strict";function i(t){return r(t)&&3==t.nodeType}var r=n(148);t.exports=i},function(t,e){"use strict";function n(t,e,n){if(!t)return null;var r={};for(var o in t)i.call(t,o)&&(r[o]=e.call(n,t[o],o,t));return r}var i=Object.prototype.hasOwnProperty;t.exports=n},function(t,e){"use strict";function n(t){var e={};return function(n){return e.hasOwnProperty(n)||(e[n]=t.call(this,n)),e[n]}}t.exports=n},function(t,e,n){"use strict";function i(t){var e=t.length;if(Array.isArray(t)||"object"!=typeof t&&"function"!=typeof t?r(!1):void 0,"number"!=typeof e?r(!1):void 0,0===e||e-1 in t?void 0:r(!1),t.hasOwnProperty)try{return Array.prototype.slice.call(t)}catch(n){}for(var i=Array(e),o=0;e>o;o++)i[o]=t[o];return i}var r=n(1);t.exports=i},function(t,e,n){"use strict";t.exports=n(35)}]),function(t,e){function n(){var n,i;n=r?function(e,n){r(t).on(e,n)}:function(e,n){t.addEventListener(e,n)},Turbolinks.EVENTS?i=Turbolinks.EVENTS.BEFORE_UNLOAD:(i="page:receive",Turbolinks.pagesCached(0),e.ReactRailsUJS.RAILS_ENV_DEVELOPMENT&&console.warn("The Turbolinks cache has been disabled (Turbolinks >= 2.4.0 is recommended). See https://github.com/reactjs/react-rails/issues/87 for more information.")),n("page:change",function(){e.ReactRailsUJS.mountComponents()}),n(i,function(){e.ReactRailsUJS.unmountComponents()})}function i(){r?r(function(){e.ReactRailsUJS.mountComponents()}):t.addEventListener("DOMContentLoaded",function(){e.ReactRailsUJS.mountComponents()})}var r="undefined"!=typeof e.jQuery&&e.jQuery;e.ReactRailsUJS={CLASS_NAME_ATTR:"data-react-class",PROPS_ATTR:"data-react-props",RAILS_ENV_DEVELOPMENT:!1,findDOMNodes:function(n){var i,o;switch(typeof n){case"undefined":i="["+e.ReactRailsUJS.CLASS_NAME_ATTR+"]",o=t;break;case"object":i="["+e.ReactRailsUJS.CLASS_NAME_ATTR+"]",o=n;break;case"string":i=n+" ["+e.ReactRailsUJS.CLASS_NAME_ATTR+"]",o=t}return r?r(i,o):o.querySelectorAll(i)},mountComponents:function(t){for(var n=e.ReactRailsUJS.findDOMNodes(t),i=0;i<n.length;++i){var r=n[i],o=r.getAttribute(e.ReactRailsUJS.CLASS_NAME_ATTR),s=e[o]||eval.call(e,o),a=r.getAttribute(e.ReactRailsUJS.PROPS_ATTR),l=a&&JSON.parse(a),u="object"==typeof ReactDOM?ReactDOM:React;u.render(React.createElement(s,l),r)}},unmountComponents:function(t){for(var n=e.ReactRailsUJS.findDOMNodes(t),i=0;i<n.length;++i){var r=n[i],o="object"==typeof ReactDOM?ReactDOM:React;o.unmountComponentAtNode(r)}}},"undefined"!=typeof Turbolinks&&Turbolinks.supported?n():i()}(document,window);var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,s=n;i=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var u=Object.getPrototypeOf(r);if(null===u)return void 0;t=u,e=o,n=s,i=!0,a=u=void 0}},ProjectFormSection=function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"render",value:function(){var t=this.props,e=t.title,n=t.nb,i=t.increment;return React.createElement("div",null,React.createElement("h3",{onClick:i},e),React.createElement("div",{className:"form-group"},React.createElement("label",{htmlFor:"nameInput"},"name"),React.createElement("input",{className:"form-control",id:"nameInput",value:n,onChange:this.props.onChange}),React.createElement("input",{type:"checkbox",checked:n>5?"checked":null})))}}]),e}(React.Component);ProjectFormSection.propTypes={title:React.PropTypes.string,nb:React.PropTypes.number,increment:React.PropTypes.func};var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,s=n;i=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var u=Object.getPrototypeOf(r);if(null===u)return void 0;t=u,e=o,n=s,i=!0,a=u=void 0}},ProjectFormAttachment=function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"render",value:function(){var t=this.props,e=t.name,n=t.kind,i=t.onDelete;return React.createElement("div",null,React.createElement("h3",null,"attachment"),React.createElement("h2",{onClick:i},"delete"),React.createElement("div",{className:"form-group"},React.createElement("label",{htmlFor:"nameInput"},"name"),React.createElement("input",{className:"form-control",id:"nameInput",value:e}),React.createElement("label",{htmlFor:"kindInput"},"kind"),React.createElement("input",{className:"form-control",id:"kindInput",value:n})))}}]),e}(React.Component);ProjectFormAttachment.propTypes={name:React.PropTypes.string,kind:React.PropTypes.string,onDelete:React.PropTypes.func};var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,s=n;i=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var u=Object.getPrototypeOf(r);if(null===u)return void 0;t=u,e=o,n=s,i=!0,a=u=void 0}},BaseForm=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.state={url:t.url||document.location.pathname.split("/").slice(0,-1).join("/"),model_name:t.model_name,data:t.data||{},errors:t.errors||{}},this.is_deleted=this.props._destroy||!1}return _inherits(e,t),_createClass(e,[{key:"nestedFields",value:function(){return["project_session"]}},{key:"nestedName",value:function(){return null}},{key:"setupDependencies",value:function(){var t=this,e=this.nestedFields(),n=this.state.data;_.each(e,function(e){void 0===n[pluralize(e)+"_attributes"]&&(n[pluralize(e)+"_attributes"]=[t.props[e]])}),this.setState({data:n})}},{key:"componentDidMount",value:function(){this.setupDependencies()}},{key:"valueChanged",value:function(t,e){console.log("Value changed: ",t,e),this.updateKey(t,e),this.props.valueChanged&&this.props.valueChanged(pluralize(this.nestedName())+"_attributes["+this.props.index+"]."+t,e)}},{key:"addNested",value:function(t){var e=_.first(this.state.data[pluralize(t)+"_attributes"]);e||console.warn("TODO:  faire quelque chose quand il n'y a pas de project session",e);var n=this.state.data;n[pluralize(t)+"_attributes"].push(e),this.setState({data:n})}},{key:"deleteNested",value:function(t,e){console.log("deleting item: ",t,e);var n=this.state.data;_.pullAt(n[pluralize(t)+"_attributes"],e),this.setState({data:n})}},{key:"delete",value:function(){this.props.id&&(this.is_deleted=!0),this.props.onDelete&&this.props.onDelete(this.nestedName(),this.props.index)}},{key:"renderDeleted",value:function(){return React.createElement("div",{className:"nested-form hide"},React.createElement(Input,{datatype:"hidden",name:"id",value:d.id}),React.createElement(Input,{datatype:"hidden",name:"_destroy",value:this.is_deleted}))}},{key:"renderForm",value:function(){return React.createElement("div",{className:"text-danger"},"You need to overload the ",React.createElement("code",null,"renderForm()")," method")}},{key:"renderNestedErrors",value:function(t){}},{key:"renderNested",value:function(t,e,n){var i=this;if(!this.state.data[pluralize(t)+"_attributes"])return console.warn("unable to find the field '"+pluralize(t)+"_attributes' in data"),null;var r=-1,o=this.state.data[pluralize(t)+"_attributes"].map(function(o){return r+=1,React.createElement(e,_extends({errors:_.get(i.state.errors,t)},o,n,{onDelete:i.deleteNested.bind(i),index:r,valueChanged:i.valueChanged.bind(i),key:r}))});return React.createElement("div",{className:"nested-form-wrapper"},React.createElement("span",{className:"help-block"}),o)}},{key:"render",value:function(){return this.is_deleted?this.renderDeleted():this.renderForm()}},{key:"updateKey",value:function(t,e){var n=this.state.data;_.set(n,t,e),this.setState({data:n})}},{key:"labelForOption",value:function(t,e){return e=e||[],"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]),e.map(function(e){return{value:e,label:_.filter(t,"value",e)[0].label}})}},{key:"dispatchErrors",value:function(t){var e=this.state.errors;e=e||{},_.each(e,function(t,n){e[n].errors=void 0}),t?(_.each(t,function(t,n){_.set(e,n,t)}),this.setState({errors:e})):console.log("tout est ok !")}}]),e}(React.Component),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,s=n;i=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var u=Object.getPrototypeOf(r);if(null===u)return void 0;t=u,e=o,n=s,i=!0,a=u=void 0}},BigCalendar=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t)}return _inherits(e,t),_createClass(e,[{key:"componentDidUpdate",value:function(t,e){if(t.data.events.length!=this.props.data.events.length){var n=$(this.refs.calendar);n.fullCalendar("removeEvents"),n.fullCalendar("addEventSource",this.props.data.events)}}},{key:"componentWillUnmount",value:function(){var t=$(this.refs.calendar);$(t).fullCalendar("destroy")}},{key:"componentDidMount",value:function(){var t=$(this.refs.calendar);t.fullCalendar(this._full_calendar_options())}},{key:"render",value:function(){return React.createElement("div",{id:"calendar",ref:"calendar"})}},{key:"_full_calendar_options",value:function(){return{header:{left:"",center:"title",right:"today prev next"},axisFormat:"h:mm a",defaultDate:moment(),allDaySlot:!1,slotEventOverlap:this.props.data.overlap||!1,slotDuration:"00:30:00",snapDuration:"00:15:00",editable:this.props.data.editable||!1,selectable:this.props.data.editable||!1,selectHelper:this.props.data.editable||!1,events:this.props.data.events,firstDay:1,eventClick:this.props.data.onClick||$.noop}}}]),e}(React.Component),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,s=n;i=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var u=Object.getPrototypeOf(r);if(null===u)return void 0;t=u,e=o,n=s,i=!0,a=u=void 0}},BigCalendarMonth=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t)}return _inherits(e,t),_createClass(e,[{key:"_full_calendar_options",value:function(){return Object.assign({},_get(Object.getPrototypeOf(e.prototype),"_full_calendar_options",this).call(this),{displayEventEnd:!0})}}]),e}(BigCalendar),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,s=n;i=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var u=Object.getPrototypeOf(r);if(null===u)return void 0;t=u,e=o,n=s,i=!0,a=u=void 0}},Modal=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t)}return _inherits(e,t),_createClass(e,[{key:"componentWillUnmount",value:function(){this.hide()}},{key:"componentDidMount",value:function(){this.hide()}},{key:"hide",value:function(){this.proxy("hide")}},{key:"show",value:function(){this.proxy("show")}},{key:"render",value:function(){return React.createElement("div",{ref:"modal",id:"smartModal",className:"modal fade",tabIndex:"-1",role:"dialog","aria-hidden":"true","aria-labelledby":"smartModalLabel"},React.createElement("div",{className:"modal-dialog"},React.createElement("div",{className:"modal-content"},React.createElement("div",{className:"modal-header"},React.createElement("button",{className:"close",type:"button","data-dismiss":"modal","aria-hidden":"true"},"x"),React.createElement("h3",{id:"smartModalLabel"},this.props.data.title)),React.createElement("div",{className:"modal-body",dangerouslySetInnerHTML:{__html:this.props.data.text}}),React.createElement("div",{className:"modal-footer"},React.createElement("a",{className:"btn btn-default","aria-hidden":"true","data-dismiss":"modal"},this.props.data.cancel_text||"Cancel"),React.createElement("a",{href:this.props.data.send_link,className:"send btn btn-primary"},this.props.data.send_text||"Send")))))}},{key:"proxy",value:function(t){var e=$(this.refs.modal);e.modal(t)}}]),e}(React.Component),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,s=n;i=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var u=Object.getPrototypeOf(r);if(null===u)return void 0;t=u,e=o,n=s,i=!0,a=u=void 0}},Association=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.multiple=t.multiple||!1,"_id"==this.props.name.slice(-3)||"_ids"==this.props.name.slice(-4)?this.input_name=this.props.name:this.input_name=this.props.name}return _inherits(e,t),_createClass(e,[{key:"inputChanged",value:function(t){console.log("Input changed !",t);var e=t?this.multiple?_.map(t,function(t){return t.value}):t.value:t;this.props.onChange(this.input_name,e)}},{key:"render",value:function(){return React.createElement("div",{className:this.props.errors?"form-group has-error":"form-group"},React.createElement("label",{className:"control-label col-sm-2"},_.capitalize(this.props.name)),React.createElement("div",{className:"col-sm-10"},React.createElement(Select,{multi:this.multiple?!0:!1,value:this.props.value,name:this.input_name,options:this.props.options,onChange:this.inputChanged.bind(this)}),React.createElement("span",{className:"help-block"},this.props.errors)))}}]),e}(React.Component),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,s=n;i=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var u=Object.getPrototypeOf(r);if(null===u)return void 0;t=u,e=o,n=s,i=!0,a=u=void 0}},BigCalendarByCursus=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.state={cursus_ids:[1],modal:{}},this.state.events=this.find_filtered_event()}return _inherits(e,t),_createClass(e,[{key:"find_filtered_event",value:function(){var t=this;return this.props.data.calendar_data.events.filter(function(e){return e.project_cursus_id.filter(function(e){return-1!=t.state.cursus_ids.indexOf(e)}).length>0})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return React.createElement("div",null,React.createElement(Select,{multi:!0,value:this.state.cursus_ids,name:"cursus",options:this.props.data.cursus,onChange:this.inputChanged.bind(this)}),React.createElement(Modal,{ref:"modal",data:this.state.modal}),React.createElement(BigCalendarMonth,{data:Object.assign({},this.props.data.calendar_data,{events:this.state.events,onClick:this.cellClicked.bind(this)})}))}},{key:"inputChanged",value:function(t){var e=this;this.setState({cursus_ids:Array.from(t||[],function(t){return t.value})},function(t){return e.setState({events:e.find_filtered_event()})})}},{key:"cellClicked",value:function(t){var e=this;this.setState({modal:{title:t.title,text:t.text,send_link:t.project_url,send_text:"Show"}},function(t){return e.refs.modal.show()})}}]),e}(React.Component),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,s=n;i=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var u=Object.getPrototypeOf(r);if(null===u)return void 0;t=u,e=o,n=s,i=!0,a=u=void 0}},DatetimeInput=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t)}return _inherits(e,t),_createClass(e,[{key:"componentDidMount",value:function(){var t=this,e=$(ReactDOM.findDOMNode(this).getElementsByClassName("datetimepicker")[0]);e.datetimepicker(),e.on("dp.change",function(){console.log("date changed !",t.props),t.props.onChange(t.props.name,e[0].value)})}},{key:"render",value:function(){return React.createElement("div",{className:this.props.errors?"form-group has-error":"form-group"},React.createElement("label",{className:"control-label col-sm-2"},_.capitalize(this.props.name)),React.createElement("div",{className:"col-sm-10"},React.createElement("div",{className:"input-group date"},React.createElement("input",{className:"datetimepicker optional form-control","data-date-format":"DD/MM/YYYY HH:mm",type:"text",name:this.props.name,value:this.props.value}),React.createElement("span",{className:"input-group-addon"},React.createElement("span",{className:"icon-calendar-2"}))),React.createElement("span",{className:"help-block"},this.props.errors)))}}]),e}(React.Component),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,s=n;i=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var u=Object.getPrototypeOf(r);if(null===u)return void 0;t=u,e=o,n=s,i=!0,a=u=void 0}},Input=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.datatype=t.datatype||"string"}return _inherits(e,t),_createClass(e,[{key:"inputChanged",value:function(t){console.log("Input changed !",this.props,t),this.props.onChange(this.props.name,t.target.value)}},{key:"stringInput",value:function(){return React.createElement("input",{className:"form-control",type:"text",onChange:this.inputChanged.bind(this),name:this.props.name,value:this.props.value})}},{key:"integerInput",value:function(){return React.createElement("input",{className:"form-control",type:"number",onChange:this.inputChanged.bind(this),name:this.props.name,value:this.props.value})}},{key:"booleanInputChanged",value:function(t){console.log("Input changed !",this.props,t),this.props.onChange(this.props.name,t.target.checked)}},{key:"booleanInput",value:function(){return React.createElement("input",{className:"form-control",type:"checkbox",onChange:this.booleanInputChanged.bind(this),name:this.props.name,checked:this.props.value,value:this.props.value})}},{key:"hiddenInput",value:function(){return React.createElement("input",{type:"hidden",onChange:this.inputChanged.bind(this),name:this.props.name,value:this.props.value})}},{key:"render",value:function(){var t=void 0;if("integer"==this.props.datatype)t=this.integerInput();else if("boolean"==this.props.datatype)t=this.booleanInput();else if("hidden"==this.props.datatype)t=this.hiddenInput();else{if("datetime"==this.props.datatype)return React.createElement(DatetimeInput,this.props);t=this.stringInput()}return"hidden"==this.props.datatype?t:React.createElement("div",{className:this.props.errors?"form-group has-error":"form-group"},React.createElement("label",{className:"control-label col-sm-2"},_.capitalize(this.props.name)),React.createElement("div",{className:"col-sm-10"},t,React.createElement("span",{className:"help-block"},this.props.errors)))}}]),e}(React.Component),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,s=n;i=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var u=Object.getPrototypeOf(r);if(null===u)return void 0;t=u,e=o,n=s,i=!0,a=u=void 0}},NestedForm=function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"componentDidMount",value:function(){console.log(this.props.children),console.log(Array.isArray(this.props.children)),console.log(this.props.children.length)}},{key:"render",value:function(){return React.createElement("div",{className:"nested-form"},this.props.children)}}]),e}(React.Component),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,s=n;i=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var u=Object.getPrototypeOf(r);if(null===u)return void 0;t=u,e=o,n=s,i=!0,a=u=void 0}},EvaluationForm=function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"nestedFields",value:function(){return[]}},{key:"nestedName",value:function(){return"evaluation"}},{key:"renderForm",value:function(){var t=this.props;return React.createElement("div",{className:"nested-form"},React.createElement(Input,{datatype:"hidden",name:"id",value:t.id,onChange:this.valueChanged.bind(this)}),React.createElement(Input,{datatype:"hidden",name:"_destroy",value:t._destroy,onChange:this.valueChanged.bind(this)}),React.createElement(Association,{options:t.evaluation_kind,name:"kind",errors:_.get(this.props.errors,"kind"),value:t.kind,onChange:this.valueChanged.bind(this)}),React.createElement("a",{onClick:this["delete"].bind(this),className:"text-danger"},"Delete"))}}]),e}(BaseForm),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,s=n;i=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var u=Object.getPrototypeOf(r);if(null===u)return void 0;t=u,e=o,n=s,i=!0,a=u=void 0}},ProjectForm=function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"nestedFields",value:function(){return["project_session"]}},{key:"save",value:function(){var t=this;console.log("Save !"),$.ajax({url:this.state.url,data:{project:this.state.data},dataType:"json",method:"POST"}).success(function(t){console.log("Wahouuuu !",t)}).error(function(e,n){console.log("Noooooo \ud83d\ude2d",e,n),t.dispatchErrors(e.responseJSON.errors)})}},{key:"renderForm",value:function(){var t=this,e=this.state.data,n=function(e){return t.addNested("project_sessions")};return React.createElement("form",{className:"form-horizontal react-projects-form"},React.createElement(Input,{datatype:"string",errors:_.get(this.state.errors,"name"),name:"name",value:e.name,onChange:this.valueChanged.bind(this)}),React.createElement(Input,{datatype:"string",errors:_.get(this.state.errors,"description"),name:"description",value:e.description,onChange:this.valueChanged.bind(this)}),React.createElement(Input,{datatype:"integer",errors:_.get(this.state.errors,"difficulty"),name:"difficulty",value:e.difficulty,onChange:this.valueChanged.bind(this)}),React.createElement(Input,{datatype:"boolean",errors:_.get(this.state.errors,"exam"),name:"exam",value:e.exam,onChange:this.valueChanged.bind(this)}),React.createElement(Input,{datatype:"boolean",errors:_.get(this.state.errors,"has_git"),name:"has_git",value:e.has_git,onChange:this.valueChanged.bind(this)}),React.createElement(Input,{datatype:"boolean",errors:_.get(this.state.errors,"has_mark"),name:"has_mark",value:e.has_mark,onChange:this.valueChanged.bind(this)}),React.createElement(Input,{datatype:"boolean",errors:_.get(this.state.errors,"inherited_team"),name:"inherited_team",value:e.inherited_team,onChange:this.valueChanged.bind(this)}),React.createElement(Input,{datatype:"string",errors:_.get(this.state.errors,"objectives"),name:"objectives",value:e.objectives,onChange:this.valueChanged.bind(this)}),React.createElement(Association,{options:this.props.parent_options,errors:_.get(this.state.errors,"parent_id"),name:"parent_id",value:e.parent_id,onChange:this.valueChanged.bind(this)}),React.createElement(Input,{datatype:"string",errors:_.get(this.state.errors,"position"),name:"position",value:e.position,onChange:this.valueChanged.bind(this)}),React.createElement(Input,{datatype:"string",errors:_.get(this.state.errors,"slug"),name:"slug",value:e.slug,onChange:this.valueChanged.bind(this)}),React.createElement(Input,{datatype:"boolean",errors:_.get(this.state.errors,"visible"),name:"visible",value:e.visible,onChange:this.valueChanged.bind(this)}),React.createElement(Association,{options:this.props.campus_options,errors:_.get(this.state.errors,"campus"),name:"campus_ids",value:e.campus_ids,multiple:"true",onChange:this.valueChanged.bind(this)}),React.createElement(Association,{options:this.props.cursus_options,errors:_.get(this.state.errors,"cursus"),name:"cursus_ids",value:e.cursus_ids,multiple:"true",onChange:this.valueChanged.bind(this)}),React.createElement("button",{type:"button",className:"btn btn-primary",onClick:n},"Add Project session"),this.renderNested("project_sessions",ProjectSessionForm,{cursus:this.labelForOption(this.props.cursus_options,e.cursus_ids),campus:this.labelForOption(this.props.campus_options,e.campus_ids),evaluations:this.props.evaluation,evaluation_kind:this.props.evaluation_kind,tb:this.props.team_behaviour_options}),React.createElement("button",{type:"button",onClick:this.save.bind(this),className:"btn btn-default"},"Save"))}}]),e}(BaseForm);ProjectForm.propTypes={title:React.PropTypes.string,nb:React.PropTypes.number,attachments:React.PropTypes.array};var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,s=n;i=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var u=Object.getPrototypeOf(r);if(null===u)return void 0;t=u,e=o,n=s,i=!0,a=u=void 0}},ProjectSessionForm=function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"nestedFields",value:function(){return["evaluation"]}},{key:"nestedName",value:function(){return"project_session"}},{key:"render",value:function(){var t=this,e=this.props,n=function(e){return t.addNested("evaluations")};return React.createElement("div",{className:"nested-form"},React.createElement(Association,{options:e.cursus,name:"cursus_id",errors:_.get(this.props.errors,"cursus_id"),value:e.cursus_id,onChange:this.valueChanged.bind(this)}),React.createElement(Association,{options:e.campus,name:"campus_id",errors:_.get(this.props.errors,"campus_id"),value:e.campus_id,onChange:this.valueChanged.bind(this)}),React.createElement(Input,{datatype:"integer",name:"estimated_time",errors:_.get(this.props.errors,"estimated_time"),value:e.estimated_time,onChange:this.valueChanged.bind(this)}),React.createElement(Input,{datatype:"integer",name:"max_people",errors:_.get(this.props.errors,"max_people"),value:e.max_people,onChange:this.valueChanged.bind(this)}),React.createElement(Association,{options:this.props.tb,name:"team_behaviour",errors:_.get(this.props.errors,"team_behaviour"),
value:e.team_behaviour,onChange:this.valueChanged.bind(this)}),React.createElement(Input,{datatype:"integer",name:"minimum_mark",errors:_.get(this.props.errors,"minimum_mark"),value:e.minimum_mark,onChange:this.valueChanged.bind(this)}),React.createElement(Input,{datatype:"datetime",name:"begin_at",errors:_.get(this.props.errors,"begin_at"),value:e.begin_at,onChange:this.valueChanged.bind(this)}),React.createElement(Input,{datatype:"datetime",name:"end_at",errors:_.get(this.props.errors,"end_at"),value:e.end_at,onChange:this.valueChanged.bind(this)}),React.createElement(Input,{datatype:"boolean",name:"solo",errors:_.get(this.props.errors,"solo"),value:e.solo,onChange:this.valueChanged.bind(this)}),React.createElement(Input,{datatype:"boolean",name:"is_subscriptable",errors:_.get(this.props.errors,"is_subscriptable"),value:e.is_subscriptable,onChange:this.valueChanged.bind(this)}),React.createElement(Input,{datatype:"integer",name:"terminating_after",errors:_.get(this.props.errors,"terminating_after"),value:e.terminating_after,onChange:this.valueChanged.bind(this)}),React.createElement("button",{type:"button",className:"btn btn-primary",onClick:n},"Add Evaluation"),this.renderNested("evaluations",EvaluationForm,{evaluation_kind:this.props.evaluation_kind}),React.createElement("a",{onClick:this["delete"].bind(this),className:"text-danger"},"Delete"))}}]),e}(BaseForm);/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";function t(){for(var n=[],i=0;i<arguments.length;i++){var r=arguments[i];if(r){var o=typeof r;if("string"===o||"number"===o)n.push(r);else if(Array.isArray(r))n.push(t.apply(null,r));else if("object"===o)for(var s in r)e.call(r,s)&&r[s]&&n.push(s)}}return n.join(" ")}var e={}.hasOwnProperty;"undefined"!=typeof module&&module.exports?module.exports=t:"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return t}):window.classNames=t}(),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.AutosizeInput=t()}}(function(){return function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return r(n?n:t)},c,c.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){(function(t){"use strict";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},i="undefined"!=typeof window?window.React:"undefined"!=typeof t?t.React:null,r={position:"absolute",visibility:"hidden",height:0,width:0,overflow:"scroll",whiteSpace:"pre"},o=("undefined"!=typeof window?function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}().bind(window):void 0,i.createClass({displayName:"AutosizeInput",propTypes:{value:i.PropTypes.any,defaultValue:i.PropTypes.any,onChange:i.PropTypes.func,style:i.PropTypes.object,className:i.PropTypes.string,minWidth:i.PropTypes.oneOfType([i.PropTypes.number,i.PropTypes.string]),inputStyle:i.PropTypes.object,inputClassName:i.PropTypes.string},getDefaultProps:function(){return{minWidth:1}},getInitialState:function(){return{inputWidth:this.props.minWidth}},componentDidMount:function(){this.copyInputStyles(),this.updateInputWidth()},componentDidUpdate:function(){this.updateInputWidth()},copyInputStyles:function(){if(this.isMounted()&&window.getComputedStyle){var t=window.getComputedStyle(this.refs.input);if(t){var e=this.refs.sizer;if(e.style.fontSize=t.fontSize,e.style.fontFamily=t.fontFamily,e.style.fontWeight=t.fontWeight,e.style.fontStyle=t.fontStyle,e.style.letterSpacing=t.letterSpacing,this.props.placeholder){var n=this.refs.placeholderSizer;n.style.fontSize=t.fontSize,n.style.fontFamily=t.fontFamily,n.style.fontWeight=t.fontWeight,n.style.fontStyle=t.fontStyle,n.style.letterSpacing=t.letterSpacing}}}},updateInputWidth:function(){if(this.isMounted()&&"undefined"!=typeof this.refs.sizer.scrollWidth){var t=void 0;t=this.props.placeholder?Math.max(this.refs.sizer.scrollWidth,this.refs.placeholderSizer.scrollWidth)+2:this.refs.sizer.scrollWidth+2,t<this.props.minWidth&&(t=this.props.minWidth),t!==this.state.inputWidth&&this.setState({inputWidth:t})}},getInput:function(){return this.refs.input},focus:function(){this.refs.input.focus()},blur:function(){this.refs.input.blur()},select:function(){this.refs.input.select()},render:function(){var t=this.props.defaultValue||this.props.value||"",e=this.props.style||{};e.display||(e.display="inline-block");var o=n({},this.props.inputStyle);o.width=this.state.inputWidth+"px",o.boxSizing="content-box";var s=this.props.placeholder?i.createElement("div",{ref:"placeholderSizer",style:r},this.props.placeholder):null;return i.createElement("div",{className:this.props.className,style:e},i.createElement("input",n({},this.props,{ref:"input",className:this.props.inputClassName,style:o})),i.createElement("div",{ref:"sizer",style:r},t),s)}}));e.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)}),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Select=t()}}(function(){return function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return r(n?n:t)},c,c.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){(function(n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){return t&&"object"!=typeof t&&(t={}),t?t:null}function o(t,e,n){t&&(t[e]=n)}function s(t,e){if(t)for(var n=e.length;n>=0;--n){var i=e.slice(0,n);if(t[i]&&(e===i||t[i].complete))return t[i]}}function a(t,e){return t&&"function"==typeof t.then?t.then(function(t){e(null,t)},function(t){e(t)}):void 0}var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},u="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,c=i(u),h=t("./Select"),d=i(h),p=t("./utils/stripDiacritics"),f=i(p),g=0,m=c["default"].PropTypes.oneOfType([c["default"].PropTypes.string,c["default"].PropTypes.node]),v=c["default"].createClass({displayName:"Async",propTypes:{cache:c["default"].PropTypes.any,ignoreAccents:c["default"].PropTypes.bool,ignoreCase:c["default"].PropTypes.bool,isLoading:c["default"].PropTypes.bool,loadOptions:c["default"].PropTypes.func.isRequired,loadingPlaceholder:c["default"].PropTypes.string,minimumInput:c["default"].PropTypes.number,noResultsText:c["default"].PropTypes.string,placeholder:m,searchPromptText:c["default"].PropTypes.string,searchingText:c["default"].PropTypes.string},getDefaultProps:function(){return{cache:!0,ignoreAccents:!0,ignoreCase:!0,loadingPlaceholder:"Loading...",minimumInput:0,searchingText:"Searching...",searchPromptText:"Type to search"}},getInitialState:function(){return{cache:r(this.props.cache),isLoading:!1,options:[]}},componentWillMount:function(){this._lastInput=""},componentDidMount:function(){this.loadOptions("")},componentWillReceiveProps:function(t){t.cache!==this.props.cache&&this.setState({cache:r(t.cache)})},focus:function(){this.refs.select.focus()},resetState:function(){this._currentRequestId=-1,this.setState({isLoading:!1,options:[]})},getResponseHandler:function(t){var e=this,n=this._currentRequestId=g++;return function(i,r){if(i)throw i;e.isMounted()&&(o(e.state.cache,t,r),n===e._currentRequestId&&e.setState({isLoading:!1,options:r&&r.options||[]}))}},loadOptions:function(t){if(this.props.ignoreAccents&&(t=f["default"](t)),this.props.ignoreCase&&(t=t.toLowerCase()),this._lastInput=t,t.length<this.props.minimumInput)return this.resetState();var e=s(this.state.cache,t);if(e)return this.setState({options:e.options});this.setState({isLoading:!0});var n=this.getResponseHandler(t);return a(this.props.loadOptions(t,n),n)},render:function(){var t=this.props.noResultsText,e=this.state,n=e.isLoading,i=e.options;this.props.isLoading&&(n=!0);var r=n?this.props.loadingPlaceholder:this.props.placeholder;return i.length||(this._lastInput.length<this.props.minimumInput&&(t=this.props.searchPromptText),n&&(t=this.props.searchingText)),c["default"].createElement(d["default"],l({},this.props,{ref:"select",isLoading:n,noResultsText:t,onInputChange:this.loadOptions,options:i,placeholder:r}))}});e.exports=v}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Select":5,"./utils/stripDiacritics":7}],2:[function(t,e,n){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var i="undefined"!=typeof window?window.React:"undefined"!=typeof t?t.React:null,r=n(i),o=r["default"].createClass({displayName:"Dropdown",propTypes:{children:r["default"].PropTypes.node},render:function(){return this.props.children}});e.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,e,n){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var i="undefined"!=typeof window?window.React:"undefined"!=typeof t?t.React:null,r=n(i),o="undefined"!=typeof window?window.classNames:"undefined"!=typeof t?t.classNames:null,s=n(o),a=r["default"].createClass({displayName:"Option",propTypes:{children:r["default"].PropTypes.node,className:r["default"].PropTypes.string,isDisabled:r["default"].PropTypes.bool,isFocused:r["default"].PropTypes.bool,isSelected:r["default"].PropTypes.bool,onFocus:r["default"].PropTypes.func,onSelect:r["default"].PropTypes.func,onUnfocus:r["default"].PropTypes.func,option:r["default"].PropTypes.object.isRequired},blockEvent:function(t){t.preventDefault(),t.stopPropagation(),"A"===t.target.tagName&&"href"in t.target&&(t.target.target?window.open(t.target.href,t.target.target):window.location.href=t.target.href)},handleMouseDown:function(t){t.preventDefault(),t.stopPropagation(),this.props.onSelect(this.props.option,t)},handleMouseEnter:function(t){this.onFocus(t)},handleMouseMove:function(t){this.onFocus(t)},handleTouchEnd:function(t){this.dragging||this.handleMouseDown(t)},handleTouchMove:function(t){this.dragging=!0},handleTouchStart:function(t){this.dragging=!1},onFocus:function(t){this.props.isFocused||this.props.onFocus(this.props.option,t)},render:function(){var t=this.props.option,e=s["default"](this.props.className,t.className);return t.disabled?r["default"].createElement("div",{className:e,onMouseDown:this.blockEvent,onClick:this.blockEvent},this.props.children):r["default"].createElement("div",{className:e,style:t.style,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,title:t.title},this.props.children)}});e.exports=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(t,e,n){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var i="undefined"!=typeof window?window.React:"undefined"!=typeof t?t.React:null,r=n(i),o="undefined"!=typeof window?window.classNames:"undefined"!=typeof t?t.classNames:null,s=n(o),a=r["default"].createClass({displayName:"OptionGroup",propTypes:{children:r["default"].PropTypes.any,className:r["default"].PropTypes.string,label:r["default"].PropTypes.node,option:r["default"].PropTypes.object.isRequired},blockEvent:function(t){t.preventDefault(),t.stopPropagation(),"A"===t.target.tagName&&"href"in t.target&&(t.target.target?window.open(t.target.href,t.target.target):window.location.href=t.target.href)},handleMouseDown:function(t){t.preventDefault(),t.stopPropagation()},handleTouchEnd:function(t){this.dragging||this.handleMouseDown(t)},handleTouchMove:function(t){this.dragging=!0},handleTouchStart:function(t){this.dragging=!1},render:function(){var t=this.props.option,e=s["default"](this.props.className,t.className);return t.disabled?r["default"].createElement("div",{className:e,onMouseDown:this.blockEvent,onClick:this.blockEvent},this.props.children):r["default"].createElement("div",{className:e,style:t.style,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,title:t.title},r["default"].createElement("div",{className:"Select-option-group-label"},this.props.label),this.props.children)}});e.exports=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(t,e,n){(function(i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function a(t){return"object"==typeof t?JSON.stringify(t):t}Object.defineProperty(n,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},u="undefined"!=typeof window?window.React:"undefined"!=typeof i?i.React:null,c=r(u),h="undefined"!=typeof window?window.ReactDOM:"undefined"!=typeof i?i.ReactDOM:null,d=r(h),p="undefined"!=typeof window?window.AutosizeInput:"undefined"!=typeof i?i.AutosizeInput:null,f=r(p),g="undefined"!=typeof window?window.classNames:"undefined"!=typeof i?i.classNames:null,m=r(g),v=t("./utils/stripDiacritics"),y=r(v),_=t("./Async"),b=r(_),w=t("./Dropdown"),x=r(w),C=t("./Option"),k=r(C),S=t("./OptionGroup"),E=r(S),T=t("./Value"),D=r(T),A=c["default"].PropTypes.oneOfType([c["default"].PropTypes.string,c["default"].PropTypes.node]),P=c["default"].createClass({displayName:"Select",propTypes:{addLabelText:c["default"].PropTypes.string,allowCreate:c["default"].PropTypes.bool,autoBlur:c["default"].PropTypes.bool,autofocus:c["default"].PropTypes.bool,autosize:c["default"].PropTypes.bool,backspaceRemoves:c["default"].PropTypes.bool,className:c["default"].PropTypes.string,clearAllText:A,clearValueText:A,clearable:c["default"].PropTypes.bool,delimiter:c["default"].PropTypes.string,disabled:c["default"].PropTypes.bool,dropdownComponent:c["default"].PropTypes.func,escapeClearsValue:c["default"].PropTypes.bool,filterOption:c["default"].PropTypes.func,filterOptions:c["default"].PropTypes.any,ignoreAccents:c["default"].PropTypes.bool,ignoreCase:c["default"].PropTypes.bool,inputProps:c["default"].PropTypes.object,isLoading:c["default"].PropTypes.bool,isOpen:c["default"].PropTypes.bool,joinValues:c["default"].PropTypes.bool,labelKey:c["default"].PropTypes.string,matchPos:c["default"].PropTypes.string,matchProp:c["default"].PropTypes.string,menuBuffer:c["default"].PropTypes.number,menuContainerStyle:c["default"].PropTypes.object,menuRenderer:c["default"].PropTypes.func,menuStyle:c["default"].PropTypes.object,multi:c["default"].PropTypes.bool,name:c["default"].PropTypes.string,newOptionCreator:c["default"].PropTypes.func,noResultsText:A,onBlur:c["default"].PropTypes.func,onBlurResetsInput:c["default"].PropTypes.bool,onChange:c["default"].PropTypes.func,onClose:c["default"].PropTypes.func,onFocus:c["default"].PropTypes.func,onInputChange:c["default"].PropTypes.func,onMenuScrollToBottom:c["default"].PropTypes.func,onOpen:c["default"].PropTypes.func,onValueClick:c["default"].PropTypes.func,openAfterFocus:c["default"].PropTypes.bool,optionClassName:c["default"].PropTypes.string,optionComponent:c["default"].PropTypes.func,optionGroupComponent:c["default"].PropTypes.func,optionRenderer:c["default"].PropTypes.func,options:c["default"].PropTypes.array,placeholder:A,renderInvalidValues:c["default"].PropTypes.bool,required:c["default"].PropTypes.bool,scrollMenuIntoView:c["default"].PropTypes.bool,searchable:c["default"].PropTypes.bool,simpleValue:c["default"].PropTypes.bool,style:c["default"].PropTypes.object,tabIndex:c["default"].PropTypes.string,value:c["default"].PropTypes.any,valueComponent:c["default"].PropTypes.func,valueKey:c["default"].PropTypes.string,valueRenderer:c["default"].PropTypes.func,wrapperStyle:c["default"].PropTypes.object},statics:{Async:b["default"]},getDefaultProps:function(){return{addLabelText:'Add "{label}"?',autosize:!0,allowCreate:!1,backspaceRemoves:!0,clearable:!0,clearAllText:"Clear all",clearValueText:"Clear value",delimiter:",",disabled:!1,dropdownComponent:x["default"],escapeClearsValue:!0,filterOptions:!0,ignoreAccents:!0,ignoreCase:!0,inputProps:{},isLoading:!1,joinValues:!1,labelKey:"label",matchPos:"any",matchProp:"any",menuBuffer:0,multi:!1,noResultsText:"No results found",onBlurResetsInput:!0,openAfterFocus:!1,optionComponent:k["default"],optionGroupComponent:E["default"],placeholder:"Select...",renderInvalidValues:!1,required:!1,scrollMenuIntoView:!0,searchable:!0,simpleValue:!1,valueComponent:D["default"],valueKey:"value"}},getInitialState:function(){return{inputValue:"",isFocused:!1,isLoading:!1,isOpen:!1,isPseudoFocused:!1,required:this.props.required&&this.handleRequired(this.props.value,this.props.multi)}},componentWillMount:function(){this._flatOptions=this.flattenOptions(this.props.options)},componentDidMount:function(){this.props.autofocus&&this.focus()},componentWillReceiveProps:function(t){t.options!==this.props.options&&(this._flatOptions=this.flattenOptions(t.options)),this.props.value!==t.value&&t.required&&this.setState({required:this.handleRequired(t.value,t.multi)})},componentWillUpdate:function(t,e){if(e.isOpen!==this.state.isOpen){var n=e.isOpen?t.onOpen:t.onClose;n&&n()}},componentDidUpdate:function(t,e){if(this.refs.menu&&this.refs.focused&&this.state.isOpen&&!this.hasScrolledToOption){var n=d["default"].findDOMNode(this.refs.focused),i=d["default"].findDOMNode(this.refs.menu);i.scrollTop=n.offsetTop,this.hasScrolledToOption=!0}else this.state.isOpen||(this.hasScrolledToOption=!1);if(e.inputValue!==this.state.inputValue&&this.props.onInputChange&&this.props.onInputChange(this.state.inputValue),this._scrollToFocusedOptionOnUpdate&&this.refs.focused&&this.refs.menu){this._scrollToFocusedOptionOnUpdate=!1;var r=d["default"].findDOMNode(this.refs.focused),o=d["default"].findDOMNode(this.refs.menu),s=r.getBoundingClientRect(),a=o.getBoundingClientRect();(s.bottom>a.bottom||s.top<a.top)&&(o.scrollTop=r.offsetTop+r.clientHeight-o.offsetHeight)}if(this.props.scrollMenuIntoView&&this.refs.menuContainer){var l=this.refs.menuContainer.getBoundingClientRect();window.innerHeight<l.bottom+this.props.menuBuffer&&window.scrollTo(0,window.scrollY+l.bottom+this.props.menuBuffer-window.innerHeight)}t.disabled!==this.props.disabled&&this.setState({isFocused:!1})},focus:function(){this.refs.input&&(this.refs.input.focus(),this.props.openAfterFocus&&this.setState({isOpen:!0}))},blurInput:function(){this.refs.input&&this.refs.input.blur()},handleTouchMove:function(t){this.dragging=!0},handleTouchStart:function(t){this.dragging=!1},handleTouchEnd:function(t){this.dragging||this.handleMouseDown(t)},handleTouchEndClearValue:function(t){this.dragging||this.clearValue(t)},handleMouseDown:function(t){return this.props.disabled||"mousedown"===t.type&&0!==t.button?void 0:(t.stopPropagation(),t.preventDefault(),this.props.searchable?void(this.state.isFocused?this.setState({isOpen:!0,isPseudoFocused:!1}):(this._openAfterFocus=!0,this.focus())):(this.focus(),this.setState({isOpen:!this.state.isOpen})))},handleMouseDownOnArrow:function(t){this.props.disabled||"mousedown"===t.type&&0!==t.button||this.state.isOpen&&(t.stopPropagation(),t.preventDefault(),this.closeMenu())},handleMouseDownOnMenu:function(t){this.props.disabled||"mousedown"===t.type&&0!==t.button||(t.stopPropagation(),t.preventDefault(),this._openAfterFocus=!0,this.focus())},closeMenu:function(){this.setState({isOpen:!1,isPseudoFocused:this.state.isFocused&&!this.props.multi,inputValue:""}),this.hasScrolledToOption=!1},handleInputFocus:function(t){var e=this.state.isOpen||this._openAfterFocus;this.props.onFocus&&this.props.onFocus(t),this.setState({isFocused:!0,isOpen:e}),this._openAfterFocus=!1},handleInputBlur:function(t){if(!this.refs.menu||!document.activeElement.isEqualNode(this.refs.menu)){this.props.onBlur&&this.props.onBlur(t);var e={isFocused:!1,isOpen:!1,isPseudoFocused:!1};this.props.onBlurResetsInput&&(e.inputValue=""),this.setState(e)}},handleInputChange:function(t){this.setState({isOpen:!0,isPseudoFocused:!1,inputValue:t.target.value})},handleKeyDown:function(t){if(!this.props.disabled){switch(t.keyCode){case 8:return void(!this.state.inputValue&&this.props.backspaceRemoves&&(t.preventDefault(),this.popValue()));case 9:if(t.shiftKey||!this.state.isOpen)return;return void this.selectFocusedOption();case 13:if(!this.state.isOpen)return;t.stopPropagation(),this.selectFocusedOption();break;case 27:this.state.isOpen?this.closeMenu():this.props.clearable&&this.props.escapeClearsValue&&this.clearValue(t);break;case 38:this.focusPreviousOption();break;case 40:this.focusNextOption();break;default:return}t.preventDefault()}},handleValueClick:function(t,e){this.props.onValueClick&&this.props.onValueClick(t,e)},handleMenuScroll:function(t){if(this.props.onMenuScrollToBottom){var e=t.target;e.scrollHeight>e.offsetHeight&&!(e.scrollHeight-e.offsetHeight-e.scrollTop)&&this.props.onMenuScrollToBottom()}},handleRequired:function(t,e){return t?e?0===t.length:0===Object.keys(t).length:!0},getOptionLabel:function(t){return t[this.props.labelKey]},getValueArray:function(){var t=this.props.value;if(this.props.multi){if("string"==typeof t&&(t=t.split(this.props.delimiter)),!Array.isArray(t)){if(null===t||void 0===t)return[];t=[t]}return t.map(this.expandValue).filter(function(t){return t})}var e=this.expandValue(t);return e?[e]:[]},expandValue:function(t){if("string"!=typeof t&&"number"!=typeof t)return t;var e=this.props,n=e.labelKey,i=e.valueKey,r=e.renderInvalidValues,s=this._flatOptions;if(s&&""!==t){for(var a=0;a<s.length;a++)if(s[a][i]===t)return s[a];if(r){var l;return l={invalid:!0},o(l,n,t),o(l,i,t),l}}},setValue:function(t){var e=this;if(this.props.autoBlur&&this.blurInput(),this.props.onChange){if(this.props.required){var n=this.handleRequired(t,this.props.multi);this.setState({required:n})}this.props.simpleValue&&t&&(t=this.props.multi?t.map(function(t){return t[e.props.valueKey]}).join(this.props.delimiter):t[this.props.valueKey]),this.props.onChange(t)}},selectValue:function(t){this.hasScrolledToOption=!1,this.props.multi?(this.addValue(t),this.setState({inputValue:""})):(this.setValue(t),this.setState({isOpen:!1,inputValue:"",isPseudoFocused:this.state.isFocused}))},addValue:function(t){var e=this.getValueArray();this.setValue(e.concat(t))},popValue:function(){var t=this.getValueArray();t.length&&t[t.length-1].clearableValue!==!1&&this.setValue(t.slice(0,t.length-1))},removeValue:function(t){var e=this.getValueArray();this.setValue(e.filter(function(e){return e!==t})),this.focus()},clearValue:function(t){t&&"mousedown"===t.type&&0!==t.button||(t.stopPropagation(),t.preventDefault(),this.setValue(null),this.setState({isOpen:!1,inputValue:""},this.focus))},focusOption:function(t){this.setState({focusedOption:t})},focusNextOption:function(){this.focusAdjacentOption("next")},focusPreviousOption:function(){this.focusAdjacentOption("previous")},focusAdjacentOption:function(t){var e=this._visibleOptions.filter(function(t){return!t.disabled});if(this._scrollToFocusedOptionOnUpdate=!0,!this.state.isOpen)return void this.setState({isOpen:!0,inputValue:"",focusedOption:this._focusedOption||e["next"===t?0:e.length-1]});if(e.length){for(var n=-1,i=0;i<e.length;i++)if(this._focusedOption===e[i]){n=i;break}var r=e[0];"next"===t&&n>-1&&n<e.length-1?r=e[n+1]:"previous"===t&&(r=n>0?e[n-1]:e[e.length-1]),this.setState({focusedOption:r})}},selectFocusedOption:function(){return this._focusedOption?this.selectValue(this._focusedOption):void 0},renderLoading:function(){return this.props.isLoading?c["default"].createElement("span",{className:"Select-loading-zone","aria-hidden":"true"},c["default"].createElement("span",{className:"Select-loading"})):void 0},renderValue:function(t,e){var n=this,i=this.props.valueRenderer||this.getOptionLabel,r=this.props.valueComponent;if(!t.length)return this.state.inputValue?null:c["default"].createElement("div",{className:"Select-placeholder"},this.props.placeholder);var o=this.props.onValueClick?this.handleValueClick:null;return this.props.multi?t.map(function(t,e){return c["default"].createElement(r,{disabled:n.props.disabled||t.clearableValue===!1,key:"value-"+e+"-"+t[n.props.valueKey],onClick:o,onRemove:n.removeValue,value:t},i(t))}):this.state.inputValue?void 0:(e&&(o=null),c["default"].createElement(r,{disabled:this.props.disabled,onClick:o,value:t[0]},i(t[0])))},renderInput:function(t){var e=m["default"]("Select-input",this.props.inputProps.className);return this.props.disabled||!this.props.searchable?c["default"].createElement("div",l({},this.props.inputProps,{className:e,tabIndex:this.props.tabIndex||0,onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,ref:"input",style:{border:0,width:1,display:"inline-block"}})):this.props.autosize?c["default"].createElement(f["default"],l({},this.props.inputProps,{className:e,tabIndex:this.props.tabIndex,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onFocus:this.handleInputFocus,minWidth:"5",ref:"input",required:this.state.required,value:this.state.inputValue})):c["default"].createElement("div",{className:e},c["default"].createElement("input",l({},this.props.inputProps,{tabIndex:this.props.tabIndex,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onFocus:this.handleInputFocus,ref:"input",required:this.state.required,value:this.state.inputValue})))},renderClear:function(){return!this.props.clearable||!this.props.value||this.props.multi&&!this.props.value.length||this.props.disabled||this.props.isLoading?void 0:c["default"].createElement("span",{className:"Select-clear-zone",title:this.props.multi?this.props.clearAllText:this.props.clearValueText,"aria-label":this.props.multi?this.props.clearAllText:this.props.clearValueText,onMouseDown:this.clearValue,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEndClearValue},c["default"].createElement("span",{className:"Select-clear",dangerouslySetInnerHTML:{__html:"&times;"}}))},renderArrow:function(){return c["default"].createElement("span",{className:"Select-arrow-zone",onMouseDown:this.handleMouseDownOnArrow},c["default"].createElement("span",{className:"Select-arrow",onMouseDown:this.handleMouseDownOnArrow}))},filterOptions:function(t,e){var n=this,i=null,r=this.state.inputValue;if("function"==typeof this.props.filterOptions)return this.props.filterOptions.call(this,t,r,e);if(!this.props.filterOptions)return t;var o=function(){n.props.ignoreAccents&&(r=y["default"](r)),n.props.ignoreCase&&(r=r.toLowerCase()),e&&(i=e.map(function(t){return t[n.props.valueKey]}));var o=function(t){if(i&&i.indexOf(t[n.props.valueKey])>-1)return!1;if(n.props.filterOption)return n.props.filterOption.call(n,t,r);if(!r)return!0;var e=String(t[n.props.valueKey]),o=String(t[n.props.labelKey]);return n.props.ignoreAccents&&("label"!==n.props.matchProp&&(e=y["default"](e)),"value"!==n.props.matchProp&&(o=y["default"](o))),n.props.ignoreCase&&("label"!==n.props.matchProp&&(e=e.toLowerCase()),"value"!==n.props.matchProp&&(o=o.toLowerCase())),"start"===n.props.matchPos?"label"!==n.props.matchProp&&e.substr(0,r.length)===r||"value"!==n.props.matchProp&&o.substr(0,r.length)===r:"label"!==n.props.matchProp&&e.indexOf(r)>=0||"value"!==n.props.matchProp&&o.indexOf(r)>=0},a=[];return t.forEach(function(t){if(n.isGroup(t)){var i=s(t);i.options=n.filterOptions(t.options,e),i.options.length&&a.push(i)}else o(t)&&a.push(t)}),{v:a}}();return"object"==typeof o?o.v:void 0},isGroup:function(t){return t&&Array.isArray(t.options)},flattenOptions:function(t){if(t){for(var e=[],n=0;n<t.length;n++)this.isGroup(t[n])?e=e.concat(this.flattenOptions(t[n].options)):e.push(t[n]);return e}},renderMenu:function(t,e,n){var i=this;if(!t||!t.length)return this.props.noResultsText?c["default"].createElement("div",{className:"Select-noresults"},this.props.noResultsText):null;if(this.props.menuRenderer)return this.props.menuRenderer({focusedOption:n,focusOption:this.focusOption,labelKey:this.props.labelKey,options:t,selectValue:this.selectValue,valueArray:e});var r=function(){var r=i.props.optionGroupComponent,o=i.props.optionComponent,s=i.props.optionRenderer||i.getOptionLabel;return{v:t.map(function(t,a){if(i.isGroup(t)){var l=m["default"]({"Select-option-group":!0});return c["default"].createElement(r,{className:l,key:"option-group-"+a,label:s(t),option:t},i.renderMenu(t.options,e,n))}var u=e&&e.indexOf(t)>-1,h=t===n,d=h?"focused":null,p=m["default"](i.props.optionClassName,{"Select-option":!0,"is-selected":u,"is-focused":h,"is-disabled":t.disabled});return c["default"].createElement(o,{className:p,isDisabled:t.disabled,isFocused:h,key:"option-"+a+"-"+t[i.props.valueKey],onSelect:i.selectValue,onFocus:i.focusOption,option:t,isSelected:u,ref:d},s(t))})}}();return"object"==typeof r?r.v:void 0},renderHiddenField:function(t){var e=this;if(this.props.name){if(this.props.joinValues){var n=t.map(function(t){return a(t[e.props.valueKey])}).join(this.props.delimiter);return c["default"].createElement("input",{type:"hidden",ref:"value",name:this.props.name,value:n,disabled:this.props.disabled})}return t.map(function(t,n){return c["default"].createElement("input",{key:"hidden."+n,type:"hidden",ref:"value"+n,name:e.props.name,value:a(t[e.props.valueKey]),disabled:e.props.disabled})})}},getFocusableOption:function(t){var e=this._visibleOptions;if(e.length){var n=this.state.focusedOption||t;if(n&&e.indexOf(n)>-1)return n;for(var i=0;i<e.length;i++)if(!e[i].disabled)return e[i]}},render:function(){var t=this.getValueArray(),e=this.filterOptions(this.props.options||[],this.props.multi?t:null);this._visibleOptions=this.flattenOptions(e);var n="boolean"==typeof this.props.isOpen?this.props.isOpen:this.state.isOpen;this.props.multi&&!e.length&&t.length&&!this.state.inputValue&&(n=!1);var i=this._focusedOption=this.getFocusableOption(t[0]),r=m["default"]("Select",this.props.className,{"Select--multi":this.props.multi,"is-disabled":this.props.disabled,"is-focused":this.state.isFocused,"is-loading":this.props.isLoading,"is-open":n,"is-pseudo-focused":this.state.isPseudoFocused,"is-searchable":this.props.searchable,"has-value":t.length}),o=this.props.dropdownComponent;return c["default"].createElement("div",{ref:"wrapper",className:r,style:this.props.wrapperStyle},this.renderHiddenField(t),c["default"].createElement("div",{ref:"control",className:"Select-control",style:this.props.style,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleTouchEnd,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove},this.renderValue(t,n),this.renderInput(t),this.renderLoading(),this.renderClear(),this.renderArrow()),n?c["default"].createElement(o,null,c["default"].createElement("div",{ref:"menuContainer",className:"Select-menu-outer",style:this.props.menuContainerStyle},c["default"].createElement("div",{ref:"menu",className:"Select-menu",style:this.props.menuStyle,onScroll:this.handleMenuScroll,onMouseDown:this.handleMouseDownOnMenu},this.renderMenu(e,this.props.multi?null:t,i)))):null)}});n["default"]=P,e.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Async":1,"./Dropdown":2,"./Option":3,"./OptionGroup":4,"./Value":6,"./utils/stripDiacritics":7}],6:[function(t,e,n){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var i="undefined"!=typeof window?window.React:"undefined"!=typeof t?t.React:null,r=n(i),o="undefined"!=typeof window?window.classNames:"undefined"!=typeof t?t.classNames:null,s=n(o),a=r["default"].createClass({displayName:"Value",propTypes:{children:r["default"].PropTypes.node,disabled:r["default"].PropTypes.bool,onClick:r["default"].PropTypes.func,onRemove:r["default"].PropTypes.func,value:r["default"].PropTypes.object.isRequired},handleMouseDown:function(t){return"mousedown"!==t.type||0===t.button?this.props.onClick?(t.stopPropagation(),void this.props.onClick(this.props.value,t)):void(this.props.value.href&&t.stopPropagation()):void 0},onRemove:function(t){t.preventDefault(),t.stopPropagation(),this.props.onRemove(this.props.value)},handleTouchEndRemove:function(t){this.dragging||this.onRemove(t)},handleTouchMove:function(t){this.dragging=!0},handleTouchStart:function(t){this.dragging=!1},renderRemoveIcon:function(){return!this.props.disabled&&this.props.onRemove?r["default"].createElement("span",{className:"Select-value-icon",onMouseDown:this.onRemove,onTouchEnd:this.handleTouchEndRemove,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove},"\xd7"):void 0},renderLabel:function(){var t="Select-value-label";return this.props.onClick||this.props.value.href?r["default"].createElement("a",{
className:t,href:this.props.value.href,target:this.props.value.target,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleMouseDown},this.props.children):r["default"].createElement("span",{className:t},this.props.children)},render:function(){return r["default"].createElement("div",{className:s["default"]("Select-value",this.props.value.className),style:this.props.value.style,title:this.props.value.title},this.renderRemoveIcon(),this.renderLabel())}});e.exports=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(t,e,n){"use strict";var i=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}];e.exports=function(t){for(var e=0;e<i.length;e++)t=t.replace(i[e].letters,i[e].base);return t}},{}]},{},[5])(5)});/*!
 * Paper.js v0.9.25 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2014, Juerg Lehni & Jonathan Puckey
 * http://scratchdisk.com/ & http://jonathanpuckey.com/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Sun Oct 25 11:23:38 2015 +0100
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2013 Juerg Lehni
 * http://scratchdisk.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * http://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */
var paper=new function(t){var e=new function(){function n(t,n,i,r,s){function a(o,a){a=a||(a=u(n,o))&&(a.get?a:a.value),"string"==typeof a&&"#"===a[0]&&(a=t[a.substring(1)]||a);var c,d="function"==typeof a,p=a,f=s||d&&!a.base?a&&a.get?o in t:t[o]:null;s&&f||(d&&f&&(a.base=f),d&&r!==!1&&(c=o.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(l[c[3].toLowerCase()+c[4]]=c[2]),p&&!d&&p.get&&"function"==typeof p.get&&e.isPlainObject(p)||(p={value:p,writable:!0}),(u(t,o)||{configurable:!0}).configurable&&(p.configurable=!0,p.enumerable=i),h(t,o,p))}var l={};if(n){for(var c in n)n.hasOwnProperty(c)&&!o.test(c)&&a(c);for(var c in l){var d=l[c],p=t["set"+d],f=t["get"+d]||p&&t["is"+d];!f||r!==!0&&0!==f.length||a(c,{get:f,set:p})}}return t}function i(t,e,n){return t&&("length"in t&&!t.getLength&&"number"==typeof t.length?s:a).call(t,e,n=n||t),n}function r(t,e,n){for(var i in e)!e.hasOwnProperty(i)||n&&n[i]||(t[i]=e[i]);return t}var o=/^(statics|enumerable|beans|preserve)$/,s=[].forEach||function(t,e){for(var n=0,i=this.length;i>n;n++)t.call(e,this[n],n,this)},a=function(t,e){for(var n in this)this.hasOwnProperty(n)&&t.call(e,this[n],n,this)},l=Object.create||function(t){return{__proto__:t}},u=Object.getOwnPropertyDescriptor||function(t,e){var n=t.__lookupGetter__&&t.__lookupGetter__(e);return n?{get:n,set:t.__lookupSetter__(e),enumerable:!0,configurable:!0}:t.hasOwnProperty(e)?{value:t[e],enumerable:!0,configurable:!0,writable:!0}:null},c=Object.defineProperty||function(t,e,n){return(n.get||n.set)&&t.__defineGetter__?(n.get&&t.__defineGetter__(e,n.get),n.set&&t.__defineSetter__(e,n.set)):t[e]=n.value,t},h=function(t,e,n){return delete t[e],c(t,e,n)};return n(function(){for(var t=0,e=arguments.length;e>t;t++)r(this,arguments[t])},{inject:function(t){if(t){var e=t.statics===!0?t:t.statics,i=t.beans,r=t.preserve;e!==t&&n(this.prototype,t,t.enumerable,i,r),n(this,e,!0,i,r)}for(var o=1,s=arguments.length;s>o;o++)this.inject(arguments[o]);return this},extend:function(){for(var t,e,i=this,r=0,o=arguments.length;o>r&&!(t=arguments[r].initialize);r++);return t=t||function(){i.apply(this,arguments)},e=t.prototype=l(this.prototype),h(e,"constructor",{value:t,writable:!0,configurable:!0}),n(t,this,!0),arguments.length&&this.inject.apply(t,arguments),t.base=i,t}},!0).inject({inject:function(){for(var t=0,e=arguments.length;e>t;t++){var i=arguments[t];i&&n(this,i,i.enumerable,i.beans,i.preserve)}return this},extend:function(){var t=l(this);return t.inject.apply(t,arguments)},each:function(t,e){return i(this,t,e)},set:function(t){return r(this,t)},clone:function(){return new this.constructor(this)},statics:{each:i,create:l,define:h,describe:u,set:r,clone:function(t){return r(new t.constructor,t)},isPlainObject:function(t){var n=null!=t&&t.constructor;return n&&(n===Object||n===e||"Object"===n.name)},pick:function(e,n){return e!==t?e:n}}})};"undefined"!=typeof module&&(module.exports=e),e.inject({toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+e.each(this,function(t,e){if(!/^_/.test(e)){var n=typeof t;this.push(e+": "+("number"===n?o.instance.number(t):"string"===n?"'"+t+"'":t))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},exportJSON:function(t){return e.exportJSON(this,t)},toJSON:function(){return e.serialize(this)},_set:function(n,i,r){if(n&&(r||e.isPlainObject(n))){for(var o=Object.keys(n._filtering||n),s=0,a=o.length;a>s;s++){var l=o[s];if(!i||!i[l]){var u=n[l];u!==t&&(this[l]=u)}}return!0}},statics:{exports:{enumerable:!0},extend:function et(){var t=et.base.apply(this,arguments),n=t.prototype._class;return n&&!e.exports[n]&&(e.exports[n]=t),t},equals:function(t,n){if(t===n)return!0;if(t&&t.equals)return t.equals(n);if(n&&n.equals)return n.equals(t);if(t&&n&&"object"==typeof t&&"object"==typeof n){if(Array.isArray(t)&&Array.isArray(n)){var i=t.length;if(i!==n.length)return!1;for(;i--;)if(!e.equals(t[i],n[i]))return!1}else{var r=Object.keys(t),i=r.length;if(i!==Object.keys(n).length)return!1;for(;i--;){var o=r[i];if(!n.hasOwnProperty(o)||!e.equals(t[o],n[o]))return!1}}return!0}return!1},read:function(n,i,r,o){if(this===e){var s=this.peek(n,i);return n.__index++,s}var a=this.prototype,l=a._readIndex,u=i||l&&n.__index||0;o||(o=n.length-u);var c=n[u];return c instanceof this||r&&r.readNull&&null==c&&1>=o?(l&&(n.__index=u+1),c&&r&&r.clone?c.clone():c):(c=e.create(this.prototype),l&&(c.__read=!0),c=c.initialize.apply(c,u>0||o<n.length?Array.prototype.slice.call(n,u,u+o):n)||c,l&&(n.__index=u+c.__read,c.__read=t),c)},peek:function(t,e){return t[t.__index=e||t.__index||0]},remain:function(t){return t.length-(t.__index||0)},readAll:function(t,e,n){for(var i,r=[],o=e||0,s=t.length;s>o;o++)r.push(Array.isArray(i=t[o])?this.read(i,0,n):this.read(t,o,n,1));return r},readNamed:function(n,i,r,o,s){var a=this.getNamed(n,i),l=a!==t;if(l){var u=n._filtered;u||(u=n._filtered=e.create(n[0]),u._filtering=n[0]),u[i]=t}return this.read(l?[a]:n,r,o,s)},getNamed:function(n,i){var r=n[0];return n._hasObject===t&&(n._hasObject=1===n.length&&e.isPlainObject(r)),n._hasObject?i?r[i]:n._filtered||r:void 0},hasNamed:function(t,e){return!!this.getNamed(t,e)},isPlainValue:function(t,e){return this.isPlainObject(t)||Array.isArray(t)||e&&"string"==typeof t},serialize:function(t,n,i,r){n=n||{};var s,a=!r;if(a&&(n.formatter=new o(n.precision),r={length:0,definitions:{},references:{},add:function(t,e){var n="#"+t._id,i=this.references[n];if(!i){this.length++;var r=e.call(t),o=t._class;o&&r[0]!==o&&r.unshift(o),this.definitions[n]=r,i=this.references[n]=[n]}return i}}),t&&t._serialize){s=t._serialize(n,r);var l=t._class;!l||i||s._compact||s[0]===l||s.unshift(l)}else if(Array.isArray(t)){s=[];for(var u=0,c=t.length;c>u;u++)s[u]=e.serialize(t[u],n,i,r);i&&(s._compact=!0)}else if(e.isPlainObject(t)){s={};for(var h=Object.keys(t),u=0,c=h.length;c>u;u++){var d=h[u];s[d]=e.serialize(t[d],n,i,r)}}else s="number"==typeof t?n.formatter.number(t,n.precision):t;return a&&r.length>0?[["dictionary",r.definitions],s]:s},deserialize:function(t,n,i,r){var o=t,s=!i;if(i=i||{},Array.isArray(t)){var a=t[0],l="dictionary"===a;if(1==t.length&&/^#/.test(a))return i.dictionary[a];a=e.exports[a],o=[],r&&(i.dictionary=o);for(var u=a?1:0,c=t.length;c>u;u++)o.push(e.deserialize(t[u],n,i,l));if(a){var h=o;n?o=n(a,h):(o=e.create(a.prototype),a.apply(o,h))}}else if(e.isPlainObject(t)){o={},r&&(i.dictionary=o);for(var d in t)o[d]=e.deserialize(t[d],n,i)}return s&&t&&t.length&&"dictionary"===t[0][0]?o[1]:o},exportJSON:function(t,n){var i=e.serialize(t,n);return n&&n.asString===!1?i:JSON.stringify(i)},importJSON:function(t,n){return e.deserialize("string"==typeof t?JSON.parse(t):t,function(t,i){var r=n&&n.constructor===t?n:e.create(t.prototype),o=r===n;if(1===i.length&&r instanceof y&&(o||!(r instanceof b))){var s=i[0];e.isPlainObject(s)&&(s.insert=!1)}return t.apply(r,i),o&&(n=null),r})},splice:function(e,n,i,r){var o=n&&n.length,s=i===t;i=s?e.length:i,i>e.length&&(i=e.length);for(var a=0;o>a;a++)n[a]._index=i+a;if(s)return e.push.apply(e,n),[];var l=[i,r];n&&l.push.apply(l,n);for(var u=e.splice.apply(e,l),a=0,c=u.length;c>a;a++)u[a]._index=t;for(var a=i+o,c=e.length;c>a;a++)e[a]._index=a;return u},capitalize:function(t){return t.replace(/\b[a-z]/g,function(t){return t.toUpperCase()})},camelize:function(t){return t.replace(/-(.)/g,function(t,e){return e.toUpperCase()})},hyphenate:function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var n={on:function(t,n){if("string"!=typeof t)e.each(t,function(t,e){this.on(e,t)},this);else{var i=this._eventTypes,r=i&&i[t],o=this._callbacks=this._callbacks||{};o=o[t]=o[t]||[],-1===o.indexOf(n)&&(o.push(n),r&&r.install&&1===o.length&&r.install.call(this,t))}return this},off:function(t,n){if("string"!=typeof t)return void e.each(t,function(t,e){this.off(e,t)},this);var i,r=this._eventTypes,o=r&&r[t],s=this._callbacks&&this._callbacks[t];return s&&(!n||-1!==(i=s.indexOf(n))&&1===s.length?(o&&o.uninstall&&o.uninstall.call(this,t),delete this._callbacks[t]):-1!==i&&s.splice(i,1)),this},once:function(t,e){return this.on(t,function(){e.apply(this,arguments),this.off(t,e)})},emit:function(t,e){var n=this._callbacks&&this._callbacks[t];if(!n)return!1;var i=[].slice.call(arguments,1);n=n.slice();for(var r=0,o=n.length;o>r;r++)if(n[r].apply(this,i)===!1){e&&e.stop&&e.stop();break}return!0},responds:function(t){return!(!this._callbacks||!this._callbacks[t])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(t){var e=this._callbacks,n=t?"install":"uninstall";for(var i in e)if(e[i].length>0){var r=this._eventTypes,o=r&&r[i],s=o&&o[n];s&&s.call(this,i)}},statics:{inject:function nt(t){var n=t._events;if(n){var i={};e.each(n,function(n,r){var o="string"==typeof n,s=o?n:r,a=e.capitalize(s),l=s.substring(2).toLowerCase();i[l]=o?{}:n,s="_"+s,t["get"+a]=function(){return this[s]},t["set"+a]=function(t){var e=this[s];e&&this.off(l,e),t&&this.on(l,t),this[s]=t}}),t._eventTypes=i}return nt.base.apply(this,arguments)}}},i=e.extend({_class:"PaperScope",initialize:function it(){paper=this,this.settings=new e({applyMatrix:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this.palettes=[],this._id=it._id++,it._scopes[this._id]=this;var t=it.prototype;if(!this.support){var n=Z.getContext(1,1);t.support={nativeDash:"setLineDash"in n||"mozDash"in n,nativeBlendModes:Q.nativeModes},Z.release(n)}if(!this.browser){var i=navigator.userAgent.toLowerCase(),r=(/(win)/.exec(i)||/(mac)/.exec(i)||/(linux)/.exec(i)||[])[0],o=t.browser={platform:r};r&&(o[r]=!0),i.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:([.\d]+))?/g,function(t,e,n,i,r){if(!o.chrome){var s="opera"===e?i:n;"trident"===e&&(s=r,e="msie"),o.version=s,o.versionNumber=parseFloat(s),o.name=e,o[e]=!0}}),o.chrome&&delete o.webkit,o.atom&&delete o.chrome}},version:"0.9.25",getView:function(){return this.project&&this.project.getView()},getPaper:function(){return this},execute:function(t,e,n){paper.PaperScript.execute(t,this,e,n),H.updateFocus()},install:function(t){var n=this;e.each(["project","view","tool"],function(i){e.define(t,i,{configurable:!0,get:function(){return n[i]}})});for(var i in this)!/^_/.test(i)&&this[i]&&(t[i]=this[i])},setup:function(t){return paper=this,this.project=new m(t),this},activate:function(){paper=this},clear:function(){for(var t=this.projects.length-1;t>=0;t--)this.projects[t].remove();for(var t=this.tools.length-1;t>=0;t--)this.tools[t].remove();for(var t=this.palettes.length-1;t>=0;t--)this.palettes[t].remove()},remove:function(){this.clear(),delete i._scopes[this._id]},statics:new function(){function t(t){return t+="Attribute",function(e,n){return e[t](n)||e[t]("data-paper-"+n)}}return{_scopes:{},_id:0,get:function(t){return this._scopes[t]||null},getAttribute:t("get"),hasAttribute:t("has")}}}),r=e.extend(n,{initialize:function(t){this._scope=paper,this._index=this._scope[this._list].push(this)-1,(t||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var t=this._scope[this._reference];return t&&t!==this&&t.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",t),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return null==this._index?!1:(e.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)}}),o=e.extend({initialize:function(t){this.precision=t||5,this.multiplier=Math.pow(10,this.precision)},number:function(t){return Math.round(t*this.multiplier)/this.multiplier},pair:function(t,e,n){return this.number(t)+(n||",")+this.number(e)},point:function(t,e){return this.number(t.x)+(e||",")+this.number(t.y)},size:function(t,e){return this.number(t.width)+(e||",")+this.number(t.height)},rectangle:function(t,e){return this.point(t,e)+(e||",")+this.size(t,e)}});o.instance=new o;var s=new function(){function t(t,e,n){return e>t?e:t>n?n:t}var e=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],n=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],i=Math.abs,r=Math.sqrt,o=Math.pow,a=1e-12,l=1.12e-16;return{TOLERANCE:1e-6,EPSILON:a,MACHINE_EPSILON:l,CURVETIME_EPSILON:4e-7,GEOMETRIC_EPSILON:2e-7,WINDING_EPSILON:2e-7,TRIGONOMETRIC_EPSILON:1e-7,CLIPPING_EPSILON:1e-7,KAPPA:4*(r(2)-1)/3,isZero:function(t){return t>=-a&&a>=t},integrate:function(t,i,r,o){for(var s=e[o-2],a=n[o-2],l=.5*(r-i),u=l+i,c=0,h=o+1>>1,d=1&o?a[c++]*t(u):0;h>c;){var p=l*s[c];d+=a[c++]*(t(u+p)+t(u-p))}return l*d},findRoot:function(t,e,n,r,o,s,a){for(var l=0;s>l;l++){var u=t(n),c=u/e(n),h=n-c;if(i(c)<a)return h;u>0?(o=n,n=r>=h?.5*(r+o):h):(r=n,n=h>=o?.5*(r+o):h)}return n},solveQuadratic:function(e,n,s,u,c,h){var d,p,f=0,g=c-a,m=h+a,v=1/0,y=n;if(n/=-2,p=n*n-e*s,0!==p&&i(p)<l){var _=o(i(e*n*s),1/3);if(1e-8>_){var b=o(10,i(Math.floor(Math.log(_)*Math.LOG10E)));isFinite(b)||(b=0),e*=b,n*=b,s*=b,p=n*n-e*s}}if(i(e)<a){if(i(y)<a)return i(s)<a?-1:0;d=-s/y}else if(p>=-l){var w=0>p?0:r(p),x=n+(0>n?-w:w);0===x?(d=s/e,v=-d):(d=x/e,v=s/x)}return isFinite(d)&&(null==c||d>g&&m>d)&&(u[f++]=null==c?d:t(d,c,h)),v!==d&&isFinite(v)&&(null==c||v>g&&m>v)&&(u[f++]=null==c?v:t(v,c,h)),f},solveCubic:function(e,n,u,c,h,d,p){var f,g,m,v=0;if(i(e)<a)e=n,g=u,m=c,f=1/0;else if(i(c)<a)g=n,m=u,f=0;else{var y,_,b,w,x,C,k,S=1+l;if(f=-(n/e)/3,k=e*f,g=k+n,m=g*f+u,b=(k+g)*f+m,_=m*f+c,w=_/e,x=o(i(w),1/3),C=0>w?-1:1,w=-b/e,x=w>0?1.3247179572*Math.max(x,r(w)):x,y=f-C*x,y!==f){do if(f=y,k=e*f,g=k+n,m=g*f+u,b=(k+g)*f+m,_=m*f+c,y=0===b?f:f-_/b/S,y===f){f=y;break}while(C*y>C*f);i(e)*f*f>i(c/f)&&(m=-c/f,g=(m-u)/f)}}var v=s.solveQuadratic(e,g,m,h,d,p);return isFinite(f)&&(0===v||f!==h[v-1])&&(null==d||f>d-a&&p+a>f)&&(h[v++]=null==d?f:t(f,d,p)),v}}},a={_id:1,_pools:{},get:function(t){if(t){var e=t._class,n=this._pools[e];return n||(n=this._pools[e]={_id:1}),n._id++}return this._id++}},l=e.extend({_class:"Point",_readIndex:!0,initialize:function(t,e){var n=typeof t;if("number"===n){var i="number"==typeof e;this.x=t,this.y=i?e:t,this.__read&&(this.__read=i?2:1)}else"undefined"===n||null===t?(this.x=this.y=0,this.__read&&(this.__read=null===t?1:0)):(Array.isArray(t)?(this.x=t[0],this.y=t.length>1?t[1]:t[0]):null!=t.x?(this.x=t.x,this.y=t.y):null!=t.width?(this.x=t.width,this.y=t.height):null!=t.angle?(this.x=t.length,this.y=0,this.setAngle(t.angle)):(this.x=this.y=0,this.__read&&(this.__read=0)),this.__read&&(this.__read=1))},set:function(t,e){return this.x=t,this.y=e,this},equals:function(t){return this===t||t&&(this.x===t.x&&this.y===t.y||Array.isArray(t)&&this.x===t[0]&&this.y===t[1])||!1},clone:function(){return new l(this.x,this.y)},toString:function(){var t=o.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(t){if(this.isZero()){var e=this._angle||0;this.set(Math.cos(e)*t,Math.sin(e)*t)}else{var n=t/this.getLength();s.isZero(n)&&this.getAngle(),this.set(this.x*n,this.y*n)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI},setAngle:function(t){this.setAngleInRadians.call(this,t*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var t=l.read(arguments),e=this.getLength()*t.getLength();if(s.isZero(e))return NaN;var n=this.dot(t)/e;return Math.acos(-1>n?-1:n>1?1:n)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(t){if(this._angle=t,!this.isZero()){var e=this.getLength();this.set(Math.cos(t)*e,Math.sin(t)*e)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var t=l.read(arguments);return 180*Math.atan2(this.cross(t),this.dot(t))/Math.PI},getDistance:function(){var t=l.read(arguments),n=t.x-this.x,i=t.y-this.y,r=n*n+i*i,o=e.read(arguments);return o?r:Math.sqrt(r)},normalize:function(e){e===t&&(e=1);var n=this.getLength(),i=0!==n?e/n:0,r=new l(this.x*i,this.y*i);return i>=0&&(r._angle=this._angle),r},rotate:function(t,e){if(0===t)return this.clone();t=t*Math.PI/180;var n=e?this.subtract(e):this,i=Math.sin(t),r=Math.cos(t);return n=new l(n.x*r-n.y*i,n.x*i+n.y*r),e?n.add(e):n},transform:function(t){return t?t._transformPoint(this):this},add:function(){var t=l.read(arguments);return new l(this.x+t.x,this.y+t.y)},subtract:function(){var t=l.read(arguments);return new l(this.x-t.x,this.y-t.y)},multiply:function(){var t=l.read(arguments);return new l(this.x*t.x,this.y*t.y)},divide:function(){var t=l.read(arguments);return new l(this.x/t.x,this.y/t.y)},modulo:function(){var t=l.read(arguments);return new l(this.x%t.x,this.y%t.y)},negate:function(){return new l(-this.x,-this.y)},isInside:function(){return d.read(arguments).contains(this)},isClose:function(){var t=l.read(arguments),n=e.read(arguments);return this.getDistance(t)<n},isCollinear:function(){var t=l.read(arguments);return l.isCollinear(this.x,this.y,t.x,t.y)},isColinear:"#isCollinear",isOrthogonal:function(){var t=l.read(arguments);return l.isOrthogonal(this.x,this.y,t.x,t.y)},isZero:function(){return s.isZero(this.x)&&s.isZero(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},dot:function(){var t=l.read(arguments);return this.x*t.x+this.y*t.y},cross:function(){var t=l.read(arguments);return this.x*t.y-this.y*t.x},project:function(){var t=l.read(arguments),e=t.isZero()?0:this.dot(t)/t.dot(t);return new l(t.x*e,t.y*e)},statics:{min:function(){var t=l.read(arguments),e=l.read(arguments);return new l(Math.min(t.x,e.x),Math.min(t.y,e.y))},max:function(){var t=l.read(arguments),e=l.read(arguments);return new l(Math.max(t.x,e.x),Math.max(t.y,e.y))},random:function(){return new l(Math.random(),Math.random())},isCollinear:function(t,e,n,i){return Math.abs(t*i-e*n)<=1e-7*Math.sqrt((t*t+e*e)*(n*n+i*i))},isOrthogonal:function(t,e,n,i){return Math.abs(t*n+e*i)<=1e-7*Math.sqrt((t*t+e*e)*(n*n+i*i))}}},e.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new l(e(this.x),e(this.y))}},{})),u=l.extend({initialize:function(t,e,n,i){this._x=t,this._y=e,this._owner=n,this._setter=i},set:function(t,e,n){return this._x=t,this._y=e,n||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner[this._setter](this)}}),c=e.extend({_class:"Size",_readIndex:!0,initialize:function(t,e){var n=typeof t;if("number"===n){var i="number"==typeof e;this.width=t,this.height=i?e:t,this.__read&&(this.__read=i?2:1)}else"undefined"===n||null===t?(this.width=this.height=0,this.__read&&(this.__read=null===t?1:0)):(Array.isArray(t)?(this.width=t[0],this.height=t.length>1?t[1]:t[0]):null!=t.width?(this.width=t.width,this.height=t.height):null!=t.x?(this.width=t.x,this.height=t.y):(this.width=this.height=0,this.__read&&(this.__read=0)),this.__read&&(this.__read=1))},set:function(t,e){return this.width=t,this.height=e,this},equals:function(t){return t===this||t&&(this.width===t.width&&this.height===t.height||Array.isArray(t)&&this.width===t[0]&&this.height===t[1])||!1},clone:function(){return new c(this.width,this.height)},toString:function(){var t=o.instance;return"{ width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.width),e.number(this.height)]},add:function(){var t=c.read(arguments);return new c(this.width+t.width,this.height+t.height)},subtract:function(){var t=c.read(arguments);return new c(this.width-t.width,this.height-t.height)},multiply:function(){var t=c.read(arguments);return new c(this.width*t.width,this.height*t.height)},divide:function(){var t=c.read(arguments);return new c(this.width/t.width,this.height/t.height)},modulo:function(){var t=c.read(arguments);return new c(this.width%t.width,this.height%t.height)},negate:function(){return new c(-this.width,-this.height)},isZero:function(){return s.isZero(this.width)&&s.isZero(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(t,e){return new c(Math.min(t.width,e.width),Math.min(t.height,e.height))},max:function(t,e){return new c(Math.max(t.width,e.width),Math.max(t.height,e.height))},random:function(){return new c(Math.random(),Math.random())}}},e.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new c(e(this.width),e(this.height))}},{})),h=c.extend({initialize:function(t,e,n,i){this._width=t,this._height=e,this._owner=n,this._setter=i},set:function(t,e,n){return this._width=t,this._height=e,n||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(t){this._width=t,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(t){this._height=t,this._owner[this._setter](this)}}),d=e.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(n,i,r,o){var s=typeof n,a=0;if("number"===s?(this.x=n,this.y=i,this.width=r,this.height=o,a=4):"undefined"===s||null===n?(this.x=this.y=this.width=this.height=0,a=null===n?1:0):1===arguments.length&&(Array.isArray(n)?(this.x=n[0],this.y=n[1],this.width=n[2],this.height=n[3],a=1):n.x!==t||n.width!==t?(this.x=n.x||0,this.y=n.y||0,this.width=n.width||0,this.height=n.height||0,a=1):n.from===t&&n.to===t&&(this.x=this.y=this.width=this.height=0,this._set(n),a=1)),!a){var u=l.readNamed(arguments,"from"),h=e.peek(arguments);if(this.x=u.x,this.y=u.y,h&&h.x!==t||e.hasNamed(arguments,"to")){var d=l.readNamed(arguments,"to");this.width=d.x-u.x,this.height=d.y-u.y,this.width<0&&(this.x=d.x,this.width=-this.width),this.height<0&&(this.y=d.y,this.height=-this.height)}else{var p=c.read(arguments);this.width=p.width,this.height=p.height}a=arguments.__index}this.__read&&(this.__read=a)},set:function(t,e,n,i){return this.x=t,this.y=e,this.width=n,this.height=i,this},clone:function(){return new d(this.x,this.y,this.width,this.height)},equals:function(t){var n=e.isPlainValue(t)?d.read(arguments):t;return n===this||n&&this.x===n.x&&this.y===n.y&&this.width===n.width&&this.height===n.height||!1},toString:function(){var t=o.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+", width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y),e.number(this.width),e.number(this.height)]},getPoint:function(t){var e=t?l:u;return new e(this.x,this.y,this,"setPoint")},setPoint:function(){var t=l.read(arguments);this.x=t.x,this.y=t.y},getSize:function(t){var e=t?c:h;return new e(this.width,this.height,this,"setSize")},setSize:function(){var t=c.read(arguments);this._fixX&&(this.x+=(this.width-t.width)*this._fixX),this._fixY&&(this.y+=(this.height-t.height)*this._fixY),this.width=t.width,this.height=t.height,this._fixW=1,this._fixH=1},getLeft:function(){return this.x},setLeft:function(t){this._fixW||(this.width-=t-this.x),this.x=t,this._fixX=0},getTop:function(){return this.y},setTop:function(t){this._fixH||(this.height-=t-this.y),this.y=t,this._fixY=0},getRight:function(){return this.x+this.width},setRight:function(e){this._fixX!==t&&1!==this._fixX&&(this._fixW=0),this._fixW?this.x=e-this.width:this.width=e-this.x,this._fixX=1},getBottom:function(){return this.y+this.height},setBottom:function(e){this._fixY!==t&&1!==this._fixY&&(this._fixH=0),this._fixH?this.y=e-this.height:this.height=e-this.y,this._fixY=1},getCenterX:function(){return this.x+.5*this.width},setCenterX:function(t){this.x=t-.5*this.width,this._fixX=.5},getCenterY:function(){return this.y+.5*this.height},setCenterY:function(t){this.y=t-.5*this.height,this._fixY=.5},getCenter:function(t){var e=t?l:u;return new e(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var t=l.read(arguments);return this.setCenterX(t.x),this.setCenterY(t.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height},contains:function(e){return e&&e.width!==t||4==(Array.isArray(e)?e:arguments).length?this._containsRectangle(d.read(arguments)):this._containsPoint(l.read(arguments))},_containsPoint:function(t){var e=t.x,n=t.y;return e>=this.x&&n>=this.y&&e<=this.x+this.width&&n<=this.y+this.height},_containsRectangle:function(t){var e=t.x,n=t.y;return e>=this.x&&n>=this.y&&e+t.width<=this.x+this.width&&n+t.height<=this.y+this.height},intersects:function(){var t=d.read(arguments);return t.x+t.width>this.x&&t.y+t.height>this.y&&t.x<this.x+this.width&&t.y<this.y+this.height},touches:function(){var t=d.read(arguments);return t.x+t.width>=this.x&&t.y+t.height>=this.y&&t.x<=this.x+this.width&&t.y<=this.y+this.height},intersect:function(){var t=d.read(arguments),e=Math.max(this.x,t.x),n=Math.max(this.y,t.y),i=Math.min(this.x+this.width,t.x+t.width),r=Math.min(this.y+this.height,t.y+t.height);return new d(e,n,i-e,r-n)},unite:function(){var t=d.read(arguments),e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),i=Math.max(this.x+this.width,t.x+t.width),r=Math.max(this.y+this.height,t.y+t.height);return new d(e,n,i-e,r-n)},include:function(){var t=l.read(arguments),e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),i=Math.max(this.x+this.width,t.x),r=Math.max(this.y+this.height,t.y);return new d(e,n,i-e,r-n)},expand:function(){var t=c.read(arguments),e=t.width,n=t.height;return new d(this.x-e/2,this.y-n/2,this.width+e,this.height+n)},scale:function(e,n){return this.expand(this.width*e-this.width,this.height*(n===t?e:n)-this.height)}},e.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(t,e){var n=t.join(""),i=/^[RL]/.test(n);e>=4&&(t[1]+=i?"Y":"X");var r=t[i?0:1],o=t[i?1:0],s="get"+r,a="get"+o,c="set"+r,h="set"+o,d="get"+n,p="set"+n;this[d]=function(t){var e=t?l:u;return new e(this[s](),this[a](),this,p)},this[p]=function(){var t=l.read(arguments);this[c](t.x),this[h](t.y)}},{beans:!0})),p=d.extend({initialize:function(t,e,n,i,r,o){this.set(t,e,n,i,!0),this._owner=r,this._setter=o},set:function(t,e,n,i,r){return this._x=t,this._y=e,this._width=n,this._height=i,r||this._owner[this._setter](this),this}},new function(){var t=d.prototype;return e.each(["x","y","width","height"],function(t){var n=e.capitalize(t),i="_"+t;this["get"+n]=function(){return this[i]},this["set"+n]=function(t){this[i]=t,this._dontNotify||this._owner[this._setter](this)}},e.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(e){var n="set"+e;this[n]=function(){this._dontNotify=!0,t[n].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return this._owner._boundsSelected},setSelected:function(t){var e=this._owner;e.setSelected&&(e._boundsSelected=t,e.setSelected(t||e._selectedSegmentState>0))}}))}),f=e.extend({_class:"Matrix",initialize:function rt(t){var e=arguments.length,n=!0;if(6===e?this.set.apply(this,arguments):1===e?t instanceof rt?this.set(t._a,t._c,t._b,t._d,t._tx,t._ty):Array.isArray(t)?this.set.apply(this,t):n=!1:0===e?this.reset():n=!1,!n)throw new Error("Unsupported matrix parameters")},set:function(t,e,n,i,r,o,s){return this._a=t,this._c=e,this._b=n,this._d=i,this._tx=r,this._ty=o,s||this._changed(),this},_serialize:function(t){return e.serialize(this.getValues(),t)},_changed:function(){var t=this._owner;t&&(t._applyMatrix?t.transform(null,!0):t._changed(9))},clone:function(){return new f(this._a,this._c,this._b,this._d,this._tx,this._ty)},equals:function(t){return t===this||t&&this._a===t._a&&this._b===t._b&&this._c===t._c&&this._d===t._d&&this._tx===t._tx&&this._ty===t._ty||!1},toString:function(){var t=o.instance;return"[["+[t.number(this._a),t.number(this._b),t.number(this._tx)].join(", ")+"], ["+[t.number(this._c),t.number(this._d),t.number(this._ty)].join(", ")+"]]"},reset:function(t){return this._a=this._d=1,this._c=this._b=this._tx=this._ty=0,t||this._changed(),this},apply:function(t,n){var i=this._owner;return i?(i.transform(null,!0,e.pick(t,!0),n),this.isIdentity()):!1},translate:function(){var t=l.read(arguments),e=t.x,n=t.y;return this._tx+=e*this._a+n*this._b,this._ty+=e*this._c+n*this._d,this._changed(),this},scale:function(){var t=l.read(arguments),e=l.read(arguments,0,{readNull:!0});return e&&this.translate(e),this._a*=t.x,this._c*=t.x,this._b*=t.y,this._d*=t.y,e&&this.translate(e.negate()),this._changed(),this},rotate:function(t){t*=Math.PI/180;var e=l.read(arguments,1),n=e.x,i=e.y,r=Math.cos(t),o=Math.sin(t),s=n-n*r+i*o,a=i-n*o-i*r,u=this._a,c=this._b,h=this._c,d=this._d;return this._a=r*u+o*c,this._b=-o*u+r*c,this._c=r*h+o*d,this._d=-o*h+r*d,this._tx+=s*u+a*c,this._ty+=s*h+a*d,this._changed(),this},shear:function(){var t=l.read(arguments),e=l.read(arguments,0,{readNull:!0});e&&this.translate(e);var n=this._a,i=this._c;return this._a+=t.y*this._b,this._c+=t.y*this._d,this._b+=t.x*n,this._d+=t.x*i,e&&this.translate(e.negate()),this._changed(),this},skew:function(){var t=l.read(arguments),e=l.read(arguments,0,{readNull:!0}),n=Math.PI/180,i=new l(Math.tan(t.x*n),Math.tan(t.y*n));return this.shear(i,e)},concatenate:function(t){var e=this._a,n=this._b,i=this._c,r=this._d,o=t._a,s=t._b,a=t._c,l=t._d,u=t._tx,c=t._ty;return this._a=o*e+a*n,this._b=s*e+l*n,this._c=o*i+a*r,this._d=s*i+l*r,this._tx+=u*e+c*n,this._ty+=u*i+c*r,this._changed(),this},preConcatenate:function(t){var e=this._a,n=this._b,i=this._c,r=this._d,o=this._tx,s=this._ty,a=t._a,l=t._b,u=t._c,c=t._d,h=t._tx,d=t._ty;return this._a=a*e+l*i,this._b=a*n+l*r,this._c=u*e+c*i,this._d=u*n+c*r,this._tx=a*o+l*s+h,this._ty=u*o+c*s+d,this._changed(),this},chain:function(t){var e=this._a,n=this._b,i=this._c,r=this._d,o=this._tx,s=this._ty,a=t._a,l=t._b,u=t._c,c=t._d,h=t._tx,d=t._ty;return new f(a*e+u*n,a*i+u*r,l*e+c*n,l*i+c*r,o+h*e+d*n,s+h*i+d*r)},isIdentity:function(){return 1===this._a&&0===this._c&&0===this._b&&1===this._d&&0===this._tx&&0===this._ty},orNullIfIdentity:function(){return this.isIdentity()?null:this;
},isInvertible:function(){return!!this._getDeterminant()},isSingular:function(){return!this._getDeterminant()},transform:function(t,e,n){return arguments.length<3?this._transformPoint(l.read(arguments)):this._transformCoordinates(t,e,n)},_transformPoint:function(t,e,n){var i=t.x,r=t.y;return e||(e=new l),e.set(i*this._a+r*this._b+this._tx,i*this._c+r*this._d+this._ty,n)},_transformCoordinates:function(t,e,n){for(var i=0,r=0,o=2*n;o>i;){var s=t[i++],a=t[i++];e[r++]=s*this._a+a*this._b+this._tx,e[r++]=s*this._c+a*this._d+this._ty}return e},_transformCorners:function(t){var e=t.x,n=t.y,i=e+t.width,r=n+t.height,o=[e,n,i,n,i,r,e,r];return this._transformCoordinates(o,o,4)},_transformBounds:function(t,e,n){for(var i=this._transformCorners(t),r=i.slice(0,2),o=r.slice(),s=2;8>s;s++){var a=i[s],l=1&s;a<r[l]?r[l]=a:a>o[l]&&(o[l]=a)}return e||(e=new d),e.set(r[0],r[1],o[0]-r[0],o[1]-r[1],n)},inverseTransform:function(){return this._inverseTransform(l.read(arguments))},_getDeterminant:function(){var t=this._a*this._d-this._b*this._c;return isFinite(t)&&!s.isZero(t)&&isFinite(this._tx)&&isFinite(this._ty)?t:null},_inverseTransform:function(t,e,n){var i=this._getDeterminant();if(!i)return null;var r=t.x-this._tx,o=t.y-this._ty;return e||(e=new l),e.set((r*this._d-o*this._b)/i,(o*this._a-r*this._c)/i,n)},decompose:function(){var t=this._a,e=this._b,n=this._c,i=this._d;if(s.isZero(t*i-e*n))return null;var r=Math.sqrt(t*t+e*e);t/=r,e/=r;var o=t*n+e*i;n-=t*o,i-=e*o;var a=Math.sqrt(n*n+i*i);return n/=a,i/=a,o/=a,e*n>t*i&&(t=-t,e=-e,o=-o,r=-r),{scaling:new l(r,a),rotation:180*-Math.atan2(e,t)/Math.PI,shearing:o}},getValues:function(){return[this._a,this._c,this._b,this._d,this._tx,this._ty]},getTranslation:function(){return new l(this._tx,this._ty)},getScaling:function(){return(this.decompose()||{}).scaling},getRotation:function(){return(this.decompose()||{}).rotation},inverted:function(){var t=this._getDeterminant();return t&&new f(this._d/t,-this._c/t,-this._b/t,this._a/t,(this._b*this._ty-this._d*this._tx)/t,(this._c*this._tx-this._a*this._ty)/t)},shiftless:function(){return new f(this._a,this._c,this._b,this._d,0,0)},applyToContext:function(t){t.transform(this._a,this._c,this._b,this._d,this._tx,this._ty)}},e.each(["a","c","b","d","tx","ty"],function(t){var n=e.capitalize(t),i="_"+t;this["get"+n]=function(){return this[i]},this["set"+n]=function(t){this[i]=t,this._changed()}},{})),g=e.extend({_class:"Line",initialize:function(t,e,n,i,r){var o=!1;arguments.length>=4?(this._px=t,this._py=e,this._vx=n,this._vy=i,o=r):(this._px=t.x,this._py=t.y,this._vx=e.x,this._vy=e.y,o=n),o||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new l(this._px,this._py)},getVector:function(){return new l(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(t,e){return g.intersect(this._px,this._py,this._vx,this._vy,t._px,t._py,t._vx,t._vy,!0,e)},getSide:function(t,e){return g.getSide(this._px,this._py,this._vx,this._vy,t.x,t.y,!0,e)},getDistance:function(t){return Math.abs(g.getSignedDistance(this._px,this._py,this._vx,this._vy,t.x,t.y,!0))},isCollinear:function(t){return l.isCollinear(this._vx,this._vy,t._vx,t._vy)},isOrthogonal:function(t){return l.isOrthogonal(this._vx,this._vy,t._vx,t._vy)},statics:{intersect:function(t,e,n,i,r,o,a,u,c,h){c||(n-=t,i-=e,a-=r,u-=o);var d=n*u-i*a;if(!s.isZero(d)){var p=t-r,f=e-o,g=(a*f-u*p)/d,m=(n*f-i*p)/d,v=1e-12,y=-v,_=1+v;if(h||g>y&&_>g&&m>y&&_>m)return h||(g=0>=g?0:g>=1?1:g),new l(t+g*n,e+g*i)}},getSide:function(t,e,n,i,r,o,s,a){s||(n-=t,i-=e);var l=r-t,u=o-e,c=l*i-u*n;return 0!==c||a||(c=(l*n+l*n)/(n*n+i*i),c>=0&&1>=c&&(c=0)),0>c?-1:c>0?1:0},getSignedDistance:function(t,e,n,i,r,o,s){return s||(n-=t,i-=e),0===n?i>0?r-t:t-r:0===i?0>n?o-e:e-o:((r-t)*i-(o-e)*n)/Math.sqrt(n*n+i*i)}}}),m=r.extend({_class:"Project",_list:"projects",_reference:"project",initialize:function(t){r.call(this,!0),this.layers=[],this._activeLayer=null,this.symbols=[],this._currentStyle=new F(null,null,this),this._view=H.create(this,t||Z.getCanvas(1,1)),this._selectedItems={},this._selectedItemCount=0,this._updateVersion=0},_serialize:function(t,n){return e.serialize(this.layers,t,!0,n)},clear:function(){for(var t=this.layers.length-1;t>=0;t--)this.layers[t].remove();this.symbols=[]},isEmpty:function(){return 0===this.layers.length},remove:function ot(){return ot.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(t){this._currentStyle.initialize(t)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getActiveLayer:function(){return this._activeLayer||new b({project:this})},getSelectedItems:function(){var t=[];for(var e in this._selectedItems){var n=this._selectedItems[e];n.isInserted()&&t.push(n)}return t},insertChild:function(t,n,i){return n instanceof b?(n._remove(!1,!0),e.splice(this.layers,[n],t,0),n._setProject(this,!0),this._changes&&n._changed(5),this._activeLayer||(this._activeLayer=n)):n instanceof y?(this._activeLayer||this.insertChild(t,new b(y.NO_INSERT))).insertChild(t,n,i):n=null,n},addChild:function(e,n){return this.insertChild(t,e,n)},_updateSelection:function(t){var e=t._id,n=this._selectedItems;t._selected?n[e]!==t&&(this._selectedItemCount++,n[e]=t):n[e]===t&&(this._selectedItemCount--,delete n[e])},selectAll:function(){for(var t=this.layers,e=0,n=t.length;n>e;e++)t[e].setFullySelected(!0)},deselectAll:function(){var t=this._selectedItems;for(var e in t)t[e].setFullySelected(!1)},hitTest:function(){for(var t=l.read(arguments),n=k.getOptions(e.read(arguments)),i=this.layers.length-1;i>=0;i--){var r=this.layers[i]._hitTest(t,n);if(r)return r}return null},getItems:function(t){return y._getItems(this.layers,t)},getItem:function(t){return y._getItems(this.layers,t,null,null,!0)[0]||null},importJSON:function(t){this.activate();var n=this._activeLayer;return e.importJSON(t,n&&n.isEmpty()&&n)},draw:function(t,n,i){this._updateVersion++,t.save(),n.applyToContext(t);for(var r=new e({offset:new l(0,0),pixelRatio:i,viewMatrix:n.isIdentity()?null:n,matrices:[new f],updateMatrix:!0}),o=0,s=this.layers,a=s.length;a>o;o++)s[o].draw(t,r);if(t.restore(),this._selectedItemCount>0){t.save(),t.strokeWidth=1;var u=this._selectedItems,c=this._scope.settings.handleSize,h=this._updateVersion;for(var d in u)u[d]._drawSelection(t,n,c,u,h);t.restore()}}}),v=e.extend({_class:"Symbol",initialize:function(t,e){this._id=a.get(),this.project=paper.project,this.project.symbols.push(this),t&&this.setDefinition(t,e)},_serialize:function(t,n){return n.add(this,function(){return e.serialize([this._class,this._definition],t,!1,n)})},_changed:function(t){8&t&&y._clearBoundsCache(this),1&t&&(this.project._needsUpdate=!0)},getDefinition:function(){return this._definition},setDefinition:function(t,e){t._parentSymbol&&(t=t.clone()),this._definition&&(this._definition._parentSymbol=null),this._definition=t,t.remove(),t.setSelected(!1),e||t.setPosition(new l),t._parentSymbol=this,this._changed(9)},place:function(t){return new C(this,t)},clone:function(){return new v(this._definition.clone(!1))},equals:function(t){return t===this||t&&this.definition.equals(t.definition)||!1}}),y=e.extend(n,{statics:{extend:function st(t){return t._serializeFields&&(t._serializeFields=new e(this.prototype._serializeFields,t._serializeFields)),st.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_applyMatrix:!0,_canApplyMatrix:!0,_boundsSelected:!1,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new f,pivot:null,locked:!1,visible:!0,blendMode:"normal",opacity:1,guide:!1,selected:!1,clipMask:!1,data:{}},initialize:function(){},_initialize:function(t,n){var i=t&&e.isPlainObject(t),r=i&&t.internal===!0,o=this._matrix=new f,s=i&&t.project||paper.project;return r||(this._id=a.get()),this._applyMatrix=this._canApplyMatrix&&paper.settings.applyMatrix,n&&o.translate(n),o._owner=this,this._style=new F(s._currentStyle,this,s),this._project||(r||i&&t.insert===!1?this._setProject(s):i&&t.parent?this.setParent(t.parent):(s._activeLayer||new b).addChild(this)),i&&t!==y.NO_INSERT&&this._set(t,{insert:!0,project:!0,parent:!0},!0),i},_events:e.each(["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"],function(t){this[t]={install:function(t){this.getView()._installEvent(t)},uninstall:function(t){this.getView()._uninstallEvent(t)}}},{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{}}),_serialize:function(t,n){function i(i){for(var s in i){var a=o[s];e.equals(a,"leading"===s?1.2*i.fontSize:i[s])||(r[s]=e.serialize(a,t,"data"!==s,n))}}var r={},o=this;return i(this._serializeFields),this instanceof _||i(this._style._defaults),[this._class,r]},_changed:function(e){var n=this._parentSymbol,i=this._parent||n,r=this._project;if(8&e&&(this._bounds=this._position=this._decomposed=this._globalMatrix=this._currentPath=t),i&&40&e&&y._clearBoundsCache(i),2&e&&y._clearBoundsCache(this),r&&(1&e&&(r._needsUpdate=!0),r._changes)){var o=r._changesById[this._id];o?o.flags|=e:(o={item:this,flags:e},r._changesById[this._id]=o,r._changes.push(o))}n&&n._changed(e)},set:function(t){return t&&this._set(t),this},getId:function(){return this._id},getName:function(){return this._name},setName:function(e,n){if(this._name&&this._removeNamed(),e===+e+"")throw new Error("Names consisting only of numbers are not supported.");var i=this._parent;if(e&&i){for(var r=i._children,o=i._namedChildren,s=e,a=1;n&&r[e];)e=s+" "+a++;(o[e]=o[e]||[]).push(this),r[e]=this}this._name=e||t,this._changed(128)},getStyle:function(){return this._style},setStyle:function(t){this.getStyle().set(t)}},e.each(["locked","visible","blendMode","opacity","guide"],function(t){var n=e.capitalize(t),t="_"+t;this["get"+n]=function(){return this[t]},this["set"+n]=function(e){e!=this[t]&&(this[t]=e,this._changed("_locked"===t?128:129))}},{}),{beans:!0,_locked:!1,_visible:!0,_blendMode:"normal",_opacity:1,_guide:!1,isSelected:function(){if(this._selectChildren)for(var t=this._children,e=0,n=t.length;n>e;e++)if(t[e].isSelected())return!0;return this._selected},setSelected:function(t,e){if(!e&&this._selectChildren)for(var n=this._children,i=0,r=n.length;r>i;i++)n[i].setSelected(t);(t=!!t)^this._selected&&(this._selected=t,this._project._updateSelection(this),this._changed(129))},_selected:!1,isFullySelected:function(){var t=this._children;if(t&&this._selected){for(var e=0,n=t.length;n>e;e++)if(!t[e].isFullySelected())return!1;return!0}return this._selected},setFullySelected:function(t){var e=this._children;if(e)for(var n=0,i=e.length;i>n;n++)e[n].setFullySelected(t);this.setSelected(t,!0)},isClipMask:function(){return this._clipMask},setClipMask:function(t){this._clipMask!=(t=!!t)&&(this._clipMask=t,t&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(129),this._parent&&this._parent._changed(1024))},_clipMask:!1,getData:function(){return this._data||(this._data={}),this._data},setData:function(t){this._data=t},getPosition:function(t){var e=this._position,n=t?l:u;if(!e){var i=this._pivot;e=this._position=i?this._matrix._transformPoint(i):this.getBounds().getCenter(!0)}return new n(e.x,e.y,this,"setPosition")},setPosition:function(){this.translate(l.read(arguments).subtract(this.getPosition(!0)))},getPivot:function(t){var e=this._pivot;if(e){var n=t?l:u;e=new n(e.x,e.y,this,"setPivot")}return e},setPivot:function(){this._pivot=l.read(arguments,0,{clone:!0,readNull:!0}),this._position=t},_pivot:null},e.each(["bounds","strokeBounds","handleBounds","roughBounds","internalBounds","internalRoughBounds"],function(t){var n="get"+e.capitalize(t),i=t.match(/^internal(.*)$/),r=i?"get"+i[1]:null;this[n]=function(e){var i=this._boundsGetter,o=!r&&("string"==typeof i?i:i&&i[n])||n,s=this._getCachedBounds(o,e,this,r);return"bounds"===t?new p(s.x,s.y,s.width,s.height,this,"setBounds"):s}},{beans:!0,_getBounds:function(t,e,n){var i=this._children;if(!i||0==i.length)return new d;y._updateBoundsCache(this,n);for(var r=1/0,o=-r,s=r,a=o,l=0,u=i.length;u>l;l++){var c=i[l];if(c._visible&&!c.isEmpty()){var h=c._getCachedBounds(t,e&&e.chain(c._matrix),n);r=Math.min(h.x,r),s=Math.min(h.y,s),o=Math.max(h.x+h.width,o),a=Math.max(h.y+h.height,a)}}return isFinite(r)?new d(r,s,o-r,a-s):new d},setBounds:function(){var t=d.read(arguments),e=this.getBounds(),n=new f,i=t.getCenter();n.translate(i),(t.width!=e.width||t.height!=e.height)&&n.scale(0!=e.width?t.width/e.width:1,0!=e.height?t.height/e.height:1),i=e.getCenter(),n.translate(-i.x,-i.y),this.transform(n)},_getCachedBounds:function(t,e,n,i){e=e&&e.orNullIfIdentity();var r=i?null:this._matrix.orNullIfIdentity(),o=(!e||e.equals(r))&&t;if(y._updateBoundsCache(this._parent||this._parentSymbol,n),o&&this._bounds&&this._bounds[o])return this._bounds[o].clone();var s=this._getBounds(i||t,e||r,n);if(o){this._bounds||(this._bounds={});var a=this._bounds[o]=s.clone();a._internal=!!i}return s},statics:{_updateBoundsCache:function(t,e){if(t){var n=e._id,i=t._boundsCache=t._boundsCache||{ids:{},list:[]};i.ids[n]||(i.list.push(e),i.ids[n]=e)}},_clearBoundsCache:function(e){var n=e._boundsCache;if(n){e._bounds=e._position=e._boundsCache=t;for(var i=0,r=n.list,o=r.length;o>i;i++){var s=r[i];s!==e&&(s._bounds=s._position=t,s._boundsCache&&y._clearBoundsCache(s))}}}}}),{beans:!0,_decompose:function(){return this._decomposed=this._matrix.decompose()},getRotation:function(){var t=this._decomposed||this._decompose();return t&&t.rotation},setRotation:function(t){var e=this.getRotation();if(null!=e&&null!=t){var n=this._decomposed;this.rotate(t-e),n.rotation=t,this._decomposed=n}},getScaling:function(t){var e=this._decomposed||this._decompose(),n=e&&e.scaling,i=t?l:u;return n&&new i(n.x,n.y,this,"setScaling")},setScaling:function(){var t=this.getScaling();if(t){var e=l.read(arguments,0,{clone:!0}),n=this._decomposed;this.scale(e.x/t.x,e.y/t.y),n.scaling=e,this._decomposed=n}},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.initialize.apply(t,arguments),this._applyMatrix?this.transform(null,!0):this._changed(9)},getGlobalMatrix:function(t){var e=this._globalMatrix,n=this._project._updateVersion;if(e&&e._updateVersion!==n&&(e=null),!e){e=this._globalMatrix=this._matrix.clone();var i=this._parent;i&&e.preConcatenate(i.getGlobalMatrix(!0)),e._updateVersion=n}return t?e:e.clone()},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(t){(this._applyMatrix=this._canApplyMatrix&&!!t)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(t,e){if(this._project!==t){this._project&&this._installEvents(!1),this._project=t;for(var n=this._children,i=0,r=n&&n.length;r>i;i++)n[i]._setProject(t);e=!0}e&&this._installEvents(!0)},getView:function(){return this._project.getView()},_installEvents:function at(t){at.base.call(this,t);for(var e=this._children,n=0,i=e&&e.length;i>n;n++)e[n]._installEvents(t)},getLayer:function(){for(var t=this;t=t._parent;)if(t instanceof b)return t;return null},getParent:function(){return this._parent},setParent:function(t){return t.addChild(this)},getChildren:function(){return this._children},setChildren:function(t){this.removeChildren(),this.addChildren(t)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){return this._parent&&this._parent._children[this._index+1]||null},getPreviousSibling:function(){return this._parent&&this._parent._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(t){return t===this||t&&this._class===t._class&&this._style.equals(t._style)&&this._matrix.equals(t._matrix)&&this._locked===t._locked&&this._visible===t._visible&&this._blendMode===t._blendMode&&this._opacity===t._opacity&&this._clipMask===t._clipMask&&this._guide===t._guide&&this._equals(t)||!1},_equals:function(t){return e.equals(this._children,t._children)},clone:function(t){return this._clone(new this.constructor(y.NO_INSERT),t)},_clone:function(n,i,r){var o=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],s=this._children;n.setStyle(this._style);for(var a=0,l=s&&s.length;l>a;a++)n.addChild(s[a].clone(!1),!0);for(var a=0,l=o.length;l>a;a++){var u=o[a];this.hasOwnProperty(u)&&(n[u]=this[u])}return r!==!1&&n._matrix.initialize(this._matrix),n.setApplyMatrix(this._applyMatrix),n.setPivot(this._pivot),n.setSelected(this._selected),n._data=this._data?e.clone(this._data):null,(i||i===t)&&n.insertAbove(this),this._name&&n.setName(this._name,!0),n},copyTo:function(t){return t.addChild(this.clone(!1))},rasterize:function(t){var n=this.getStrokeBounds(),i=(t||this.getView().getResolution())/72,r=n.getTopLeft().floor(),o=n.getBottomRight().ceil(),s=new c(o.subtract(r)),a=Z.getCanvas(s.multiply(i)),l=a.getContext("2d"),u=(new f).scale(i).translate(r.negate());l.save(),u.applyToContext(l),this.draw(l,new e({matrices:[u]})),l.restore();var h=new x(y.NO_INSERT);return h.setCanvas(a),h.transform((new f).translate(r.add(s.divide(2))).scale(1/i)),h.insertAbove(this),h},contains:function(){return!!this._contains(this._matrix._inverseTransform(l.read(arguments)))},_contains:function(t){if(this._children){for(var e=this._children.length-1;e>=0;e--)if(this._children[e].contains(t))return!0;return!1}return t.isInside(this.getInternalBounds())},isInside:function(){return d.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new P.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(t,e){return t instanceof y?this._asPathItem().getIntersections(t._asPathItem(),null,e||t._matrix,!0).length>0:!1},hitTest:function(){return this._hitTest(l.read(arguments),k.getOptions(e.read(arguments)))},_hitTest:function(t,n){function i(n,i){var r=p["get"+i]();return t.subtract(r).divide(l).length<=1?new k(n,d,{name:e.hyphenate(i),point:r}):void 0}if(this._locked||!this._visible||this._guide&&!n.guides||this.isEmpty())return null;var r=this._matrix,o=n._totalMatrix,s=this.getView(),a=n._totalMatrix=o?o.chain(r):this.getGlobalMatrix().preConcatenate(s._matrix),l=n._tolerancePadding=new c(P._getPenPadding(1,a.inverted())).multiply(Math.max(n.tolerance,1e-6));if(t=r._inverseTransform(t),!this._children&&!this.getInternalRoughBounds().expand(l.multiply(2))._containsPoint(t))return null;var u,h=!(n.guides&&!this._guide||n.selected&&!this._selected||n.type&&n.type!==e.hyphenate(this._class)||n["class"]&&!(this instanceof n["class"])),d=this;if(h&&(n.center||n.bounds)&&this._parent){var p=this.getInternalBounds();if(n.center&&(u=i("center","Center")),!u&&n.bounds)for(var f=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],g=0;8>g&&!u;g++)u=i("bounds",f[g])}var m=!u&&this._children;if(m)for(var v=this._getChildHitTestOptions(n),g=m.length-1;g>=0&&!u;g--)u=m[g]._hitTest(t,v);return!u&&h&&(u=this._hitTestSelf(t,n)),u&&u.point&&(u.point=r.transform(u.point)),n._totalMatrix=o,u},_getChildHitTestOptions:function(t){return t},_hitTestSelf:function(t,e){return e.fill&&this.hasFill()&&this._contains(t)?new k("fill",this):void 0},matches:function(t,n){function i(t,n){for(var r in t)if(t.hasOwnProperty(r)){var o=t[r],s=n[r];if(e.isPlainObject(o)&&e.isPlainObject(s)){if(!i(o,s))return!1}else if(!e.equals(o,s))return!1}return!0}var r=typeof t;if("object"===r){for(var o in t)if(t.hasOwnProperty(o)&&!this.matches(o,t[o]))return!1}else{if("function"===r)return t(this);var s=/^(empty|editable)$/.test(t)?this["is"+e.capitalize(t)]():"type"===t?e.hyphenate(this._class):this[t];if(/^(constructor|class)$/.test(t)){if(!(this instanceof n))return!1}else if(n instanceof RegExp){if(!n.test(s))return!1}else if("function"==typeof n){if(!n(s))return!1}else if(e.isPlainObject(n)){if(!i(n,s))return!1}else if(!e.equals(s,n))return!1}return!0},getItems:function(t){return y._getItems(this._children,t,this._matrix)},getItem:function(t){return y._getItems(this._children,t,this._matrix,null,!0)[0]||null},statics:{_getItems:function lt(t,n,i,r,o){if(!r&&"object"==typeof n){var s=n.overlapping,a=n.inside,l=s||a,u=l&&d.read([l]);r={items:[],inside:!!a,overlapping:!!s,rect:u,path:s&&new P.Rectangle({rectangle:u,insert:!1})},l&&(n=e.set({},n,{inside:!0,overlapping:!0}))}var c=r&&r.items,u=r&&r.rect;i=u&&(i||new f);for(var h=0,p=t&&t.length;p>h;h++){var g=t[h],m=i&&i.chain(g._matrix),v=!0;if(u){var l=g.getBounds(m);if(!u.intersects(l))continue;r.inside&&u.contains(l)||r.overlapping&&(l.contains(u)||r.path.intersects(g,m))||(v=!1)}if(v&&g.matches(n)&&(c.push(g),o))break;if(lt(g._children,n,m,r,o),o&&c.length>0)break}return c}}},{importJSON:function(t){var n=e.importJSON(t,this);return n!==this?this.addChild(n):n},addChild:function(e,n){return this.insertChild(t,e,n)},insertChild:function(t,e,n){var i=e?this.insertChildren(t,[e],n):null;return i&&i[0]},addChildren:function(t,e){return this.insertChildren(this._children.length,t,e)},insertChildren:function(t,n,i,r){var o=this._children;if(o&&n&&n.length>0){n=Array.prototype.slice.apply(n);for(var s=n.length-1;s>=0;s--){var a=n[s];if(!r||a instanceof r){var l=a._parent===this&&a._index<t;a._remove(!1,!0)&&l&&t--}else n.splice(s,1)}e.splice(o,n,t,0);for(var u=this._project,c=u&&u._changes,s=0,h=n.length;h>s;s++){var a=n[s];a._parent=this,a._setProject(this._project,!0),a._name&&a.setName(a._name),c&&this._changed(5)}this._changed(11)}else n=null;return n},_insertSibling:function(t,e,n){return this._parent?this._parent.insertChild(t,e,n):null},insertAbove:function(t,e){return t._insertSibling(t._index+1,this,e)},insertBelow:function(t,e){return t._insertSibling(t._index,this,e)},sendToBack:function(){return(this._parent||this instanceof b&&this._project).insertChild(0,this)},bringToFront:function(){return(this._parent||this instanceof b&&this._project).addChild(this)},appendTop:"#addChild",appendBottom:function(t){return this.insertChild(0,t)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",reduce:function(){if(this._children&&1===this._children.length){var t=this._children[0].reduce();return t.insertAbove(this),t.setStyle(this._style),this.remove(),t}return this},_removeNamed:function(){var t=this._parent;if(t){var e=t._children,n=t._namedChildren,i=this._name,r=n[i],o=r?r.indexOf(this):-1;-1!==o&&(e[i]==this&&delete e[i],r.splice(o,1),r.length?e[i]=r[r.length-1]:delete n[i])}},_remove:function(t,n){var i=this._parent;if(i){if(this._name&&this._removeNamed(),null!=this._index&&e.splice(i._children,null,this._index,1),this._installEvents(!1),t){var r=this._project;r&&r._changes&&this._changed(5)}return n&&i._changed(11),this._parent=null,!0}return!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(t){var e=t&&t.insertBelow(this);return e&&this.remove(),e},removeChildren:function(t,n){if(!this._children)return null;t=t||0,n=e.pick(n,this._children.length);for(var i=e.splice(this._children,null,t,n-t),r=i.length-1;r>=0;r--)i[r]._remove(!0,!1);return i.length>0&&this._changed(11),i},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var t=0,e=this._children.length;e>t;t++)this._children[t]._index=t;this._changed(11)}},isEmpty:function(){return!this._children||0===this._children.length},isEditable:function(){for(var t=this;t;){if(!t._visible||t._locked)return!1;t=t._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(t){function e(t){var e=[];do e.unshift(t);while(t=t._parent);return e}for(var n=e(this),i=e(t),r=0,o=Math.min(n.length,i.length);o>r;r++)if(n[r]!=i[r])return n[r]._index<i[r]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(t){return-1===this._getOrder(t)},isBelow:function(t){return 1===this._getOrder(t)},isParent:function(t){return this._parent===t},isChild:function(t){return t&&t._parent===this},isDescendant:function(t){for(var e=this;e=e._parent;)if(e==t)return!0;return!1},isAncestor:function(t){return t?t.isDescendant(this):!1},isSibling:function(t){return this._parent===t._parent},isGroupedWith:function(t){for(var e=this._parent;e;){if(e._parent&&/^(Group|Layer|CompoundPath)$/.test(e._class)&&t.isDescendant(e))return!0;e=e._parent}return!1},translate:function(){var t=new f;return this.transform(t.translate.apply(t,arguments))},rotate:function(t){return this.transform((new f).rotate(t,l.read(arguments,1,{readNull:!0})||this.getPosition(!0)))}},e.each(["scale","shear","skew"],function(t){this[t]=function(){var e=l.read(arguments),n=l.read(arguments,0,{readNull:!0});return this.transform((new f)[t](e,n||this.getPosition(!0)))}},{}),{transform:function(t,e,n,i){t&&t.isIdentity()&&(t=null);var r=this._matrix,o=(e||this._applyMatrix)&&(!r.isIdentity()||t||e&&n&&this._children);if(!t&&!o)return this;if(t&&r.preConcatenate(t),o=o&&this._transformContent(r,n,i)){var s=this._pivot,a=this._style,l=a.getFillColor(!0),u=a.getStrokeColor(!0);s&&r._transformPoint(s,s,!0),l&&l.transform(r),u&&u.transform(r),r.reset(!0),i&&this._canApplyMatrix&&(this._applyMatrix=!0)}var c=this._bounds,h=this._position;this._changed(9);var d=c&&t&&t.decompose();if(d&&!d.shearing&&d.rotation%90===0){for(var p in c){var f=c[p];(o||!f._internal)&&t._transformBounds(f,f)}var g=this._boundsGetter,f=c[g&&g.getBounds||g||"getBounds"];f&&(this._position=f.getCenter(!0)),this._bounds=c}else t&&h&&(this._position=t._transformPoint(h,h));return this},_transformContent:function(t,e,n){var i=this._children;if(i){for(var r=0,o=i.length;o>r;r++)i[r].transform(t,!0,e,n);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(l.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(l.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(l.read(arguments))},localToParent:function(){return this._matrix._transformPoint(l.read(arguments))},fitBounds:function(t,e){t=d.read(arguments);var n=this.getBounds(),i=n.height/n.width,r=t.height/t.width,o=(e?i>r:r>i)?t.width/n.width:t.height/n.height,s=new d(new l,new c(n.width*o,n.height*o));s.setCenter(t.getCenter()),this.setBounds(s)},_setStyles:function(t){var e=this._style,n=e.getFillColor(),i=e.getStrokeColor(),r=e.getShadowColor();if(n&&(t.fillStyle=n.toCanvasStyle(t)),i){var o=e.getStrokeWidth();if(o>0){t.strokeStyle=i.toCanvasStyle(t),t.lineWidth=o;var s=e.getStrokeJoin(),a=e.getStrokeCap(),l=e.getMiterLimit();if(s&&(t.lineJoin=s),a&&(t.lineCap=a),l&&(t.miterLimit=l),paper.support.nativeDash){var u=e.getDashArray(),c=e.getDashOffset();u&&u.length&&("setLineDash"in t?(t.setLineDash(u),t.lineDashOffset=c):(t.mozDash=u,t.mozDashOffset=c))}}}if(r){var h=e.getShadowBlur();if(h>0){t.shadowColor=r.toCanvasStyle(t),t.shadowBlur=h;var d=this.getShadowOffset();t.shadowOffsetX=d.x,t.shadowOffsetY=d.y}}},draw:function(t,e,n){function i(t){return s?s.chain(t):t}var r=this._updateVersion=this._project._updateVersion;if(this._visible&&0!==this._opacity){var o=e.matrices,s=e.viewMatrix,a=this._matrix,l=o[o.length-1].chain(a);if(l.isInvertible()){o.push(l),e.updateMatrix&&(l._updateVersion=r,this._globalMatrix=l);var u,c,h,d=this._blendMode,p=this._opacity,f="normal"===d,g=Q.nativeModes[d],m=f&&1===p||e.dontStart||e.clip||(g||f&&1>p)&&this._canComposite(),v=e.pixelRatio||1;if(!m){var y=this.getStrokeBounds(i(l));if(!y.width||!y.height)return;h=e.offset,c=e.offset=y.getTopLeft().floor(),u=t,t=Z.getContext(y.getSize().ceil().add(1).multiply(v)),1!==v&&t.scale(v,v)}t.save();var _=n?n.chain(a):!this.getStrokeScaling(!0)&&i(l),b=!m&&e.clipItem,w=!_||b;if(m?(t.globalAlpha=p,g&&(t.globalCompositeOperation=d)):w&&t.translate(-c.x,-c.y),w&&(m?a:i(l)).applyToContext(t),b&&e.clipItem.draw(t,e.extend({clip:!0})),_){t.setTransform(v,0,0,v,0,0);var x=e.offset;x&&t.translate(-x.x,-x.y)}this._draw(t,e,_),t.restore(),o.pop(),e.clip&&!e.dontFinish&&t.clip(),m||(Q.process(d,t,u,p,c.subtract(h).multiply(v)),Z.release(t),e.offset=h)}}},_isUpdated:function(t){var e=this._parent;if(e instanceof M)return e._isUpdated(t);var n=this._updateVersion===t;return!n&&e&&e._visible&&e._isUpdated(t)&&(this._updateVersion=t,n=!0),n},_drawSelection:function(t,e,n,i,r){if((this._drawSelected||this._boundsSelected)&&this._isUpdated(r)){var o=this.getSelectedColor(!0)||this.getLayer().getSelectedColor(!0),s=e.chain(this.getGlobalMatrix(!0));if(t.strokeStyle=t.fillStyle=o?o.toCanvasStyle(t):"#009dec",this._drawSelected&&this._drawSelected(t,s,i),this._boundsSelected){var a=n/2,l=s._transformCorners(this.getInternalBounds());t.beginPath();for(var u=0;8>u;u++)t[0===u?"moveTo":"lineTo"](l[u],l[++u]);t.closePath(),t.stroke();for(var u=0;8>u;u++)t.fillRect(l[u]-a,l[++u]-a,n,n)}}},_canComposite:function(){return!1}},e.each(["down","drag","up","move"],function(t){this["removeOn"+e.capitalize(t)]=function(){var e={};return e[t]=!0,this.removeOn(e)}},{removeOn:function(t){for(var e in t)if(t[e]){var n="mouse"+e,i=this._project,r=i._removeSets=i._removeSets||{};r[n]=r[n]||{},r[n][this._id]=this}return this}})),_=y.extend({_class:"Group",_selectChildren:!0,_serializeFields:{children:[]},initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||this.addChildren(Array.isArray(t)?t:arguments)},_changed:function ut(e){ut.base.call(this,e),1026&e&&(this._clipItem=t)},_getClipItem:function(){var e=this._clipItem;if(e===t){e=null;for(var n=0,i=this._children.length;i>n;n++){var r=this._children[n];if(r._clipMask){e=r;break}}this._clipItem=e}return e},isClipped:function(){return!!this._getClipItem()},setClipped:function(t){var e=this.getFirstChild();e&&e.setClipMask(t)},_draw:function(t,e){var n=e.clip,i=!n&&this._getClipItem(),r=!0;if(e=e.extend({clipItem:i,clip:!1}),n?this._currentPath?(t.currentPath=this._currentPath,r=!1):(t.beginPath(),e.dontStart=e.dontFinish=!0):i&&i.draw(t,e.extend({clip:!0})),r)for(var o=0,s=this._children.length;s>o;o++){var a=this._children[o];a!==i&&a.draw(t,e)}n&&(this._currentPath=t.currentPath)}}),b=_.extend({_class:"Layer",initialize:function(n){var i=e.isPlainObject(n)?new e(n):{children:Array.isArray(n)?n:arguments},r=i.insert;i.insert=!1,_.call(this,i),(r||r===t)&&(this._project.addChild(this),this.activate())},_remove:function ct(t,n){if(this._parent)return ct.base.call(this,t,n);if(null!=this._index){var i=this._project;return i._activeLayer===this&&(i._activeLayer=this.getNextSibling()||this.getPreviousSibling()),e.splice(i.layers,null,this._index,1),this._installEvents(!1),t&&i._changes&&this._changed(5),n&&(i._needsUpdate=!0),!0}return!1},getNextSibling:function ht(){return this._parent?ht.base.call(this):this._project.layers[this._index+1]||null},getPreviousSibling:function dt(){return this._parent?dt.base.call(this):this._project.layers[this._index-1]||null},isInserted:function pt(){return this._parent?pt.base.call(this):null!=this._index},activate:function(){this._project._activeLayer=this},_insertSibling:function ft(t,e,n){return this._parent?ft.base.call(this,t,e,n):this._project.insertChild(t,e,n)}}),w=y.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_boundsSelected:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(t){this._initialize(t)},_equals:function(t){return this._type===t._type&&this._size.equals(t._size)&&e.equals(this._radius,t._radius)},clone:function(t){var e=new w(y.NO_INSERT);return e.setType(this._type),e.setSize(this._size),e.setRadius(this._radius),this._clone(e,t)},getType:function(){return this._type},setType:function(t){this._type=t},getShape:"#getType",setShape:"#setType",getSize:function(){var t=this._size;return new h(t.width,t.height,this,"setSize")},setSize:function(){var t=c.read(arguments);if(this._size){if(!this._size.equals(t)){var e=this._type,n=t.width,i=t.height;if("rectangle"===e){var r=c.min(this._radius,t.divide(2));this._radius.set(r.width,r.height)}else"circle"===e?(n=i=(n+i)/2,this._radius=n/2):"ellipse"===e&&this._radius.set(n/2,i/2);this._size.set(n,i),this._changed(9)}}else this._size=t.clone()},getRadius:function(){var t=this._radius;return"circle"===this._type?t:new h(t.width,t.height,this,"setRadius")},setRadius:function(t){var e=this._type;if("circle"===e){if(t===this._radius)return;var n=2*t;this._radius=t,this._size.set(n,n)}else if(t=c.read(arguments),
this._radius){if(this._radius.equals(t))return;if(this._radius.set(t.width,t.height),"rectangle"===e){var n=c.max(this._size,t.multiply(2));this._size.set(n.width,n.height)}else"ellipse"===e&&this._size.set(2*t.width,2*t.height)}else this._radius=t.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(t){var n=this._clone(new(P[e.capitalize(this._type)])({center:new l,size:this._size,radius:this._radius,insert:!1}),t);return paper.settings.applyMatrix&&n.setApplyMatrix(!0),n},_draw:function(t,e,n){var i=this._style,r=i.hasFill(),o=i.hasStroke(),s=e.dontFinish||e.clip,a=!n;if(r||o||s){var l=this._type,u=this._radius,c="circle"===l;if(e.dontStart||t.beginPath(),a&&c)t.arc(0,0,u,0,2*Math.PI,!0);else{var h=c?u:u.width,d=c?u:u.height,p=this._size,f=p.width,g=p.height;if(a&&"rectangle"===l&&0===h&&0===d)t.rect(-f/2,-g/2,f,g);else{var m=f/2,v=g/2,y=.44771525016920644,_=h*y,b=d*y,w=[-m,-v+d,-m,-v+b,-m+_,-v,-m+h,-v,m-h,-v,m-_,-v,m,-v+b,m,-v+d,m,v-d,m,v-b,m-_,v,m-h,v,-m+h,v,-m+_,v,-m,v-b,-m,v-d];n&&n.transform(w,w,32),t.moveTo(w[0],w[1]),t.bezierCurveTo(w[2],w[3],w[4],w[5],w[6],w[7]),m!==h&&t.lineTo(w[8],w[9]),t.bezierCurveTo(w[10],w[11],w[12],w[13],w[14],w[15]),v!==d&&t.lineTo(w[16],w[17]),t.bezierCurveTo(w[18],w[19],w[20],w[21],w[22],w[23]),m!==h&&t.lineTo(w[24],w[25]),t.bezierCurveTo(w[26],w[27],w[28],w[29],w[30],w[31])}}t.closePath()}s||!r&&!o||(this._setStyles(t),r&&(t.fill(i.getWindingRule()),t.shadowColor="rgba(0,0,0,0)"),o&&t.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(t,e){var n=new d(this._size).setCenter(0,0);return"getBounds"!==t&&this.hasStroke()&&(n=n.expand(this.getStrokeWidth())),e?e._transformBounds(n):n}},new function(){function t(t,e,n){var i=t._radius;if(!i.isZero())for(var r=t._size.divide(2),o=0;4>o;o++){var s=new l(1&o?1:-1,o>1?1:-1),a=s.multiply(r),u=a.subtract(s.multiply(i)),c=new d(a,u);if((n?c.expand(n):c).contains(e))return u}}function e(t,e){var n=t.getAngleInRadians(),i=2*e.width,r=2*e.height,o=i*Math.sin(n),s=r*Math.cos(n);return i*r/(2*Math.sqrt(o*o+s*s))}return{_contains:function n(e){if("rectangle"===this._type){var i=t(this,e);return i?e.subtract(i).divide(this._radius).getLength()<=1:n.base.call(this,e)}return e.divide(this.size).getLength()<=.5},_hitTestSelf:function i(n,r){var o=!1;if(this.hasStroke()){var s=this._type,a=this._radius,l=this.getStrokeWidth()+2*r.tolerance;if("rectangle"===s){var u=t(this,n,l);if(u){var c=n.subtract(u);o=2*Math.abs(c.getLength()-e(c,a))<=l}else{var h=new d(this._size).setCenter(0,0),p=h.expand(l),f=h.expand(-l);o=p._containsPoint(n)&&!f._containsPoint(n)}}else"ellipse"===s&&(a=e(n,a)),o=2*Math.abs(n.getLength()-a)<=l}return o?new k("stroke",this):i.base.apply(this,arguments)}}},{statics:new function(){function t(t,n,i,r,o){var s=new w(e.getNamed(o));return s._type=t,s._size=i,s._radius=r,s.translate(n)}return{Circle:function(){var n=l.readNamed(arguments,"center"),i=e.readNamed(arguments,"radius");return t("circle",n,new c(2*i),i,arguments)},Rectangle:function(){var e=d.readNamed(arguments,"rectangle"),n=c.min(c.readNamed(arguments,"radius"),e.getSize(!0).divide(2));return t("rectangle",e.getCenter(!0),e.getSize(!0),n,arguments)},Ellipse:function(){var e=w._readEllipse(arguments),n=e.radius;return t("ellipse",e.center,n.multiply(2),n,arguments)},_readEllipse:function(t){var n,i;if(e.hasNamed(t,"radius"))n=l.readNamed(t,"center"),i=c.readNamed(t,"radius");else{var r=d.readNamed(t,"rectangle");n=r.getCenter(!0),i=r.getSize(!0).divide(2)}return{center:n,radius:i}}}}}),x=y.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsGetter:"getBounds",_boundsSelected:!0,_serializeFields:{crossOrigin:null,source:null},initialize:function(e,n){this._initialize(e,n!==t&&l.read(arguments,1))||("string"==typeof e?this.setSource(e):this.setImage(e)),this._size||(this._size=new c,this._loaded=!1)},_equals:function(t){return this.getSource()===t.getSource()},clone:function(t){var e=new x(y.NO_INSERT),n=this._image,i=this._canvas;if(n)e.setImage(n);else if(i){var r=Z.getCanvas(this._size);r.getContext("2d").drawImage(i,0,0),e.setImage(r)}return e._crossOrigin=this._crossOrigin,this._clone(e,t)},getSize:function(){var t=this._size;return new h(t?t.width:0,t?t.height:0,this,"setSize")},setSize:function(){var t=c.read(arguments);if(!t.equals(this._size))if(t.width>0&&t.height>0){var e=this.getElement();this.setImage(Z.getCanvas(t)),e&&this.getContext(!0).drawImage(e,0,0,t.width,t.height)}else this._canvas&&Z.release(this._canvas),this._size=t.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(t){this.setSize(t,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(t){this.setSize(this.getWidth(),t)},isEmpty:function(){var t=this._size;return!t||0===t.width&&0===t.height},getResolution:function(){var t=this._matrix,e=new l(0,0).transform(t),n=new l(1,0).transform(t).subtract(e),i=new l(0,1).transform(t).subtract(e);return new c(72/n.getLength(),72/i.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(t){this._canvas&&Z.release(this._canvas),t&&t.getContext?(this._image=null,this._canvas=t,this._loaded=!0):(this._image=t,this._canvas=null,this._loaded=t&&t.complete),this._size=new c(t?t.naturalWidth||t.width:0,t?t.naturalHeight||t.height:0),this._context=null,this._changed(521)},getCanvas:function(){if(!this._canvas){var t=Z.getContext(this._size);try{this._image&&t.drawImage(this._image,0,0),this._canvas=t.canvas}catch(e){Z.release(t)}}return this._canvas},setCanvas:"#setImage",getContext:function(t){return this._context||(this._context=this.getCanvas().getContext("2d")),t&&(this._image=null,this._changed(513)),this._context},setContext:function(t){this._context=t},getSource:function(){return this._image&&this._image.src||this.toDataURL()},setSource:function(t){function e(){var t=i.getView();t&&(paper=t._scope,i.setImage(n),i.emit("load"),t.update())}var n,i=this,r=this._crossOrigin;n=document.getElementById(t)||new Image,r&&(n.crossOrigin=r),n.naturalWidth&&n.naturalHeight?setTimeout(e,0):(B.add(n,{load:e}),n.src||(n.src=t)),this.setImage(n)},getCrossOrigin:function(){return this._image&&this._image.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(t){this._crossOrigin=t,this._image&&(this._image.crossOrigin=t)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var t=d.read(arguments),e=Z.getContext(t.getSize());return e.drawImage(this.getCanvas(),t.x,t.y,t.width,t.height,0,0,t.width,t.height),e.canvas},getSubRaster:function(){var t=d.read(arguments),e=new x(y.NO_INSERT);return e.setImage(this.getSubCanvas(t)),e.translate(t.getCenter().subtract(this.getSize().divide(2))),e._matrix.preConcatenate(this._matrix),e.insertAbove(this),e},toDataURL:function(){var t=this._image&&this._image.src;if(/^data:/.test(t))return t;var e=this.getCanvas();return e?e.toDataURL.apply(e,arguments):null},drawImage:function(t){var e=l.read(arguments,1);this.getContext(!0).drawImage(t,e.x,e.y)},getAverageColor:function(t){var n,i;t?t instanceof A?(i=t,n=t.getBounds()):t.width?n=new d(t):t.x&&(n=new d(t.x-.5,t.y-.5,1,1)):n=this.getBounds();var r=32,o=Math.min(n.width,r),s=Math.min(n.height,r),a=x._sampleContext;a?a.clearRect(0,0,r+1,r+1):a=x._sampleContext=Z.getContext(new c(r)),a.save();var l=(new f).scale(o/n.width,s/n.height).translate(-n.x,-n.y);l.applyToContext(a),i&&i.draw(a,new e({clip:!0,matrices:[l]})),this._matrix.applyToContext(a);var u=this.getElement(),h=this._size;u&&a.drawImage(u,-h.width/2,-h.height/2),a.restore();for(var p=a.getImageData(.5,.5,Math.ceil(o),Math.ceil(s)).data,g=[0,0,0],m=0,v=0,y=p.length;y>v;v+=4){var _=p[v+3];m+=_,_/=255,g[0]+=p[v]*_,g[1]+=p[v+1]*_,g[2]+=p[v+2]*_}for(var v=0;3>v;v++)g[v]/=m;return m?L.read(g):null},getPixel:function(){var t=l.read(arguments),e=this.getContext().getImageData(t.x,t.y,1,1).data;return new L("rgb",[e[0]/255,e[1]/255,e[2]/255],e[3]/255)},setPixel:function(){var t=l.read(arguments),e=L.read(arguments),n=e._convert("rgb"),i=e._alpha,r=this.getContext(!0),o=r.createImageData(1,1),s=o.data;s[0]=255*n[0],s[1]=255*n[1],s[2]=255*n[2],s[3]=null!=i?255*i:255,r.putImageData(o,t.x,t.y)},createImageData:function(){var t=c.read(arguments);return this.getContext().createImageData(t.width,t.height)},getImageData:function(){var t=d.read(arguments);return t.isEmpty()&&(t=new d(this._size)),this.getContext().getImageData(t.x,t.y,t.width,t.height)},setImageData:function(t){var e=l.read(arguments,1);this.getContext(!0).putImageData(t,e.x,e.y)},_getBounds:function(t,e){var n=new d(this._size).setCenter(0,0);return e?e._transformBounds(n):n},_hitTestSelf:function(t){if(this._contains(t)){var e=this;return new k("pixel",e,{offset:t.add(e._size.divide(2)).round(),color:{get:function(){return e.getPixel(this.offset)}}})}},_draw:function(t){var e=this.getElement();e&&(t.globalAlpha=this._opacity,t.drawImage(e,-this._size.width/2,-this._size.height/2))},_canComposite:function(){return!0}}),C=y.extend({_class:"PlacedSymbol",_applyMatrix:!1,_canApplyMatrix:!1,_boundsGetter:{getBounds:"getStrokeBounds"},_boundsSelected:!0,_serializeFields:{symbol:null},initialize:function(e,n){this._initialize(e,n!==t&&l.read(arguments,1))||this.setSymbol(e instanceof v?e:new v(e))},_equals:function(t){return this._symbol===t._symbol},getSymbol:function(){return this._symbol},setSymbol:function(t){this._symbol=t,this._changed(9)},clone:function(t){var e=new C(y.NO_INSERT);return e.setSymbol(this._symbol),this._clone(e,t)},isEmpty:function(){return this._symbol._definition.isEmpty()},_getBounds:function(t,e,n){var i=this.symbol._definition;return i._getCachedBounds(t,e&&e.chain(i._matrix),n)},_hitTestSelf:function(t,e){var n=this._symbol._definition._hitTest(t,e);return n&&(n.item=this),n},_draw:function(t,e){this.symbol._definition.draw(t,e)}}),k=e.extend({_class:"HitResult",initialize:function(t,e,n){this.type=t,this.item=e,n&&(n.enumerable=!0,this.inject(n))},statics:{getOptions:function(t){return new e({type:null,tolerance:paper.settings.hitTolerance,fill:!t,stroke:!t,segments:!t,handles:!1,ends:!1,center:!1,bounds:!1,guides:!1,selected:!1},t)}}}),S=e.extend({_class:"Segment",beans:!0,initialize:function(e,n,i,r,o,s){var a,l,u,c=arguments.length;0===c||(1===c?"point"in e?(a=e.point,l=e.handleIn,u=e.handleOut):a=e:2===c&&"number"==typeof e?a=arguments:3>=c?(a=e,l=n,u=i):(a=e!==t?[e,n]:null,l=i!==t?[i,r]:null,u=o!==t?[o,s]:null)),new E(a,this,"_point"),new E(l,this,"_handleIn"),new E(u,this,"_handleOut")},_serialize:function(t){return e.serialize(this.hasHandles()?[this._point,this._handleIn,this._handleOut]:this._point,t,!0)},_changed:function(t){var e=this._path;if(e){var n,i=e._curves,r=this._index;i&&(t&&t!==this._point&&t!==this._handleIn||!(n=r>0?i[r-1]:e._closed?i[i.length-1]:null)||n._changed(),t&&t!==this._point&&t!==this._handleOut||!(n=i[r])||n._changed()),e._changed(25)}},getPoint:function(){return this._point},setPoint:function(){var t=l.read(arguments);this._point.set(t.x,t.y)},getHandleIn:function(){return this._handleIn},setHandleIn:function(){var t=l.read(arguments);this._handleIn.set(t.x,t.y)},getHandleOut:function(){return this._handleOut},setHandleOut:function(){var t=l.read(arguments);this._handleOut.set(t.x,t.y)},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},clearHandles:function(){this._handleIn.set(0,0),this._handleOut.set(0,0)},_selectionState:0,isSelected:function(t){var e=this._selectionState;return t?t===this._point?!!(4&e):t===this._handleIn?!!(1&e):t===this._handleOut?!!(2&e):!1:!!(7&e)},setSelected:function(t,e){var n=this._path,t=!!t,i=this._selectionState,r=i,o=e?e===this._point?4:e===this._handleIn?1:e===this._handleOut?2:0:7;t?i|=o:i&=~o,this._selectionState=i,n&&i!==r&&(n._updateSelection(this,r,i),n._changed(129))},getIndex:function(){return this._index!==t?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var t=this._path,e=this._index;return t?(e>0&&!t._closed&&e===t._segments.length-1&&e--,t.getCurves()[e]||null):null},getLocation:function(){var t=this.getCurve();return t?new D(t,this===t._segment1?0:1):null},getNext:function(){var t=this._path&&this._path._segments;return t&&(t[this._index+1]||this._path._closed&&t[0])||null},getPrevious:function(){var t=this._path&&this._path._segments;return t&&(t[this._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return 0===this._index},isLast:function(){var t=this._path;return t&&this._index===t._segments.length-1||!1},reverse:function(){var t=this._handleIn,e=this._handleOut,n=t._x,i=t._y;t.set(e._x,e._y),e.set(n,i)},reversed:function(){return new S(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new S(this._point,this._handleIn,this._handleOut)},equals:function(t){return t===this||t&&this._class===t._class&&this._point.equals(t._point)&&this._handleIn.equals(t._handleIn)&&this._handleOut.equals(t._handleOut)||!1},toString:function(){var t=["point: "+this._point];return this._handleIn.isZero()||t.push("handleIn: "+this._handleIn),this._handleOut.isZero()||t.push("handleOut: "+this._handleOut),"{ "+t.join(", ")+" }"},transform:function(t){this._transformCoordinates(t,new Array(6),!0),this._changed()},_transformCoordinates:function(t,e,n){var i=this._point,r=n&&this._handleIn.isZero()?null:this._handleIn,o=n&&this._handleOut.isZero()?null:this._handleOut,s=i._x,a=i._y,l=2;return e[0]=s,e[1]=a,r&&(e[l++]=r._x+s,e[l++]=r._y+a),o&&(e[l++]=o._x+s,e[l++]=o._y+a),t&&(t._transformCoordinates(e,e,l/2),s=e[0],a=e[1],n?(i._x=s,i._y=a,l=2,r&&(r._x=e[l++]-s,r._y=e[l++]-a),o&&(o._x=e[l++]-s,o._y=e[l++]-a)):(r||(e[l++]=s,e[l++]=a),o||(e[l++]=s,e[l++]=a))),e}}),E=l.extend({initialize:function(e,n,i){var r,o,s;if(e)if((r=e[0])!==t)o=e[1];else{var a=e;(r=a.x)===t&&(a=l.read(arguments),r=a.x),o=a.y,s=a.selected}else r=o=0;this._x=r,this._y=o,this._owner=n,n[i]=this,s&&this.setSelected(!0)},set:function(t,e){return this._x=t,this._y=e,this._owner._changed(this),this},_serialize:function(t){var e=t.formatter,n=e.number(this._x),i=e.number(this._y);return this.isSelected()?{x:n,y:i,selected:!0}:[n,i]},getX:function(){return this._x},setX:function(t){this._x=t,this._owner._changed(this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner._changed(this)},isZero:function(){return s.isZero(this._x)&&s.isZero(this._y)},setSelected:function(t){this._owner.setSelected(t,this)},isSelected:function(){return this._owner.isSelected(this)}}),T=e.extend({_class:"Curve",initialize:function(t,e,n,i,r,o,s,a){var l,u,c,h,d,p,f=arguments.length;3===f?(this._path=t,l=e,u=n):0===f?(l=new S,u=new S):1===f?"segment1"in t?(l=new S(t.segment1),u=new S(t.segment2)):"point1"in t?(c=t.point1,d=t.handle1,p=t.handle2,h=t.point2):Array.isArray(t)&&(c=[t[0],t[1]],h=[t[6],t[7]],d=[t[2]-t[0],t[3]-t[1]],p=[t[4]-t[6],t[5]-t[7]]):2===f?(l=new S(t),u=new S(e)):4===f?(c=t,d=e,p=n,h=i):8===f&&(c=[t,e],h=[s,a],d=[n-t,i-e],p=[r-s,o-a]),this._segment1=l||new S(c,null,d),this._segment2=u||new S(h,p,null)},_serialize:function(t){return e.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],t,!0)},_changed:function(){this._length=this._bounds=t},clone:function(){return new T(this._segment1,this._segment2)},toString:function(){var t=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||t.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||t.push("handle2: "+this._segment2._handleIn),t.push("point2: "+this._segment2._point),"{ "+t.join(", ")+" }"},remove:function(){var t=!1;if(this._path){var e=this._segment2,n=e._handleOut;t=e.remove(),t&&this._segment1._handleOut.set(n.x,n.y)}return t},getPoint1:function(){return this._segment1._point},setPoint1:function(){var t=l.read(arguments);this._segment1._point.set(t.x,t.y)},getPoint2:function(){return this._segment2._point},setPoint2:function(){var t=l.read(arguments);this._segment2._point.set(t.x,t.y)},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){var t=l.read(arguments);this._segment1._handleOut.set(t.x,t.y)},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){var t=l.read(arguments);this._segment2._handleIn.set(t.x,t.y)},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index+1]||this._path._closed&&t[0])||null},getPrevious:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return 0===this._segment1._index},isLast:function(){var t=this._path;return t&&this._segment1._index===t._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle2().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(t){this.getPoint1().setSelected(t),this.getHandle1().setSelected(t),this.getHandle2().setSelected(t),this.getPoint2().setSelected(t)},getValues:function(t){return T.getValues(this._segment1,this._segment2,t)},getPoints:function(){for(var t=this.getValues(),e=[],n=0;8>n;n+=2)e.push(new l(t[n],t[n+1]));return e},getLength:function(){return null==this._length&&(this._length=T.getLength(this.getValues(),0,1)),this._length},getArea:function(){return T.getArea(this.getValues())},getLine:function(){return new g(this._segment1._point,this._segment2._point)},getPart:function(t,e){return new T(T.getPart(this.getValues(),t,e))},getPartLength:function(t,e){return T.getLength(this.getValues(),t,e)},getIntersections:function(t){return T._getIntersections(this.getValues(),t&&t!==this?t.getValues():null,this,t,[],{})},_getParameter:function(e,n){return n?e:e&&e.curve===this?e.parameter:e===t&&n===t?.5:this.getParameterAt(e,0)},divide:function(t,e,n){var i=this._getParameter(t,e),r=4e-7,o=1-r,s=null;if(i>=r&&o>=i){var a=T.subdivide(this.getValues(),i),u=a[0],c=a[1],h=n||this.hasHandles(),d=this._segment1,p=this._segment2,f=this._path;h&&(d._handleOut.set(u[2]-u[0],u[3]-u[1]),p._handleIn.set(c[4]-c[6],c[5]-c[7]));var g=u[6],m=u[7],v=new S(new l(g,m),h&&new l(u[4]-g,u[5]-m),h&&new l(c[2]-g,c[3]-m));f?(f.insert(d._index+1,v),s=this.getNext()):(this._segment2=v,s=new T(v,p))}return s},split:function(t,e){return this._path?this._path.split(this._segment1._index,this._getParameter(t,e)):null},reversed:function(){return new T(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut.set(0,0),this._segment2._handleIn.set(0,0)},statics:{getValues:function(t,e,n){var i=t._point,r=t._handleOut,o=e._handleIn,s=e._point,a=[i._x,i._y,i._x+r._x,i._y+r._y,s._x+o._x,s._y+o._y,s._x,s._y];return n&&n._transformCoordinates(a,a,4),a},subdivide:function(e,n){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],l=e[5],u=e[6],c=e[7];n===t&&(n=.5);var h=1-n,d=h*i+n*o,p=h*r+n*s,f=h*o+n*a,g=h*s+n*l,m=h*a+n*u,v=h*l+n*c,y=h*d+n*f,_=h*p+n*g,b=h*f+n*m,w=h*g+n*v,x=h*y+n*b,C=h*_+n*w;return[[i,r,d,p,y,_,x,C],[x,C,b,w,m,v,u,c]]},solveCubic:function(t,e,n,i,r,o){var a=t[e],l=t[e+2],u=t[e+4],c=t[e+6],h=3*(l-a),d=3*(u-l)-h,p=c-a-h-d;return s.solveCubic(p,d,h,a-n,i,r,o)},getParameterOf:function(t,e){var n=new l(t[0],t[1]),i=new l(t[6],t[7]),r=1e-12,o=e.isClose(n,r)?0:e.isClose(i,r)?1:null;if(null!==o)return o;for(var s=[e.x,e.y],a=[],u=2e-7,c=0;2>c;c++)for(var h=T.solveCubic(t,c,s[c],a,0,1),d=0;h>d;d++)if(o=a[d],e.isClose(T.getPoint(t,o),u))return o;return e.isClose(n,u)?0:e.isClose(i,u)?1:null},getNearestParameter:function(t,e){function n(n){if(n>=0&&1>=n){var i=e.getDistance(T.getPoint(t,n),!0);if(p>i)return p=i,f=n,!0}}if(T.isStraight(t)){var i=t[0],r=t[1],o=t[6],s=t[7],a=o-i,u=s-r,c=a*a+u*u;if(0===c)return 0;var h=((e.x-i)*a+(e.y-r)*u)/c;return 1e-12>h?0:h>.999999999999?1:T.getParameterOf(t,new l(i+h*a,r+h*u))}for(var d=100,p=1/0,f=0,g=0;d>=g;g++)n(g/d);for(var m=1/(2*d);m>4e-7;)n(f-m)||n(f+m)||(m/=2);return f},getPart:function(t,e,n){var i=e>n;if(i){var r=e;e=n,n=r}return e>0&&(t=T.subdivide(t,e)[1]),1>n&&(t=T.subdivide(t,(n-e)/(1-e))[0]),i?[t[6],t[7],t[4],t[5],t[2],t[3],t[0],t[1]]:t},hasHandles:function(t){var e=s.isZero;return!(e(t[0]-t[2])&&e(t[1]-t[3])&&e(t[4]-t[6])&&e(t[5]-t[7]))},isFlatEnough:function(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],s=t[4],a=t[5],l=t[6],u=t[7],c=3*r-2*n-l,h=3*o-2*i-u,d=3*s-2*l-n,p=3*a-2*u-i;return Math.max(c*c,d*d)+Math.max(h*h,p*p)<10*e*e},getArea:function(t){var e=t[0],n=t[1],i=t[6],r=t[7],o=(t[2]+e)/2,s=(t[3]+n)/2,a=(t[4]+t[6])/2,l=(t[5]+t[7])/2;return 6*((e-o)*(s+n)+(o-a)*(l+s)+(a-i)*(r+l))/10},getBounds:function(t){for(var e=t.slice(0,2),n=e.slice(),i=[0,0],r=0;2>r;r++)T._addBounds(t[r],t[r+2],t[r+4],t[r+6],r,0,e,n,i);return new d(e[0],e[1],n[0]-e[0],n[1]-e[1])},_addBounds:function(t,e,n,i,r,o,a,l,u){function c(t,e){var n=t-e,i=t+e;n<a[r]&&(a[r]=n),i>l[r]&&(l[r]=i)}var h=3*(e-n)-t+i,d=2*(t+n)-4*e,p=e-t,f=s.solveQuadratic(h,d,p,u),g=4e-7,m=1-g;c(i,0);for(var v=0;f>v;v++){var y=u[v],_=1-y;y>g&&m>y&&c(_*_*_*t+3*_*_*y*e+3*_*y*y*n+y*y*y*i,o)}}}},e.each(["getBounds","getStrokeBounds","getHandleBounds","getRoughBounds"],function(t){this[t]=function(){this._bounds||(this._bounds={});var e=this._bounds[t];if(!e){var n=this._path;e=this._bounds[t]=P[t]([this._segment1,this._segment2],!1,n&&n.getStyle())}return e.clone()}},{}),e.each({isStraight:function(t,e,n){if(e.isZero()&&n.isZero())return!0;if(t.isZero())return!1;if(e.isCollinear(t)&&n.isCollinear(t)){var i=t.dot(t),r=t.dot(e)/i,o=t.dot(n)/i;return r>=0&&1>=r&&0>=o&&o>=-1}return!1},isLinear:function(t,e,n){var i=t.divide(3);return e.equals(i)&&n.negate().equals(i)}},function(t,e){this[e]=function(){var e=this._segment1,n=this._segment2;return t(n._point.subtract(e._point),e._handleOut,n._handleIn)},this.statics[e]=function(e){var n=e[0],i=e[1],r=e[6],o=e[7];return t(new l(r-n,o-i),new l(e[2]-n,e[3]-i),new l(e[4]-r,e[5]-o))}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},isCollinear:function(t){return t&&this.isStraight()&&t.isStraight()&&this.getLine().isCollinear(t.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAt(.5,!0).y)<1e-7},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAt(.5,!0).x)<1e-7}}),{beans:!1,getParameterAt:function(t,e){return T.getParameterAt(this.getValues(),t,e)},getParameterOf:function(){return T.getParameterOf(this.getValues(),l.read(arguments))},getLocationAt:function(t,e){var n=e?t:this.getParameterAt(t);return null!=n&&n>=0&&1>=n?new D(this,n):null},getLocationOf:function(){return this.getLocationAt(this.getParameterOf(l.read(arguments)),!0)},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getNearestLocation:function(){var t=l.read(arguments),e=this.getValues(),n=T.getNearestParameter(e,t),i=T.getPoint(e,n);return new D(this,n,i,null,t.getDistance(i))},getNearestPoint:function(){return this.getNearestLocation.apply(this,arguments).getPoint()}},new function(){var t=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return e.each(t,function(t){this[t+"At"]=function(e,n){var i=this.getValues();return T[t](i,n?e:T.getParameterAt(i,e,0))}},{statics:{evaluateMethods:t}})},new function(){function e(t){var e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],s=t[5],a=t[6],l=t[7],u=9*(i-o)+3*(a-e),c=6*(e+o)-12*i,h=3*(i-e),d=9*(r-s)+3*(l-n),p=6*(n+s)-12*r,f=3*(r-n);return function(t){var e=(u*t+c)*t+h,n=(d*t+p)*t+f;return Math.sqrt(e*e+n*n)}}function n(t,e){return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(e-t))))}function i(t,e,n,i){if(null==e||0>e||e>1)return null;var r,o,s=t[0],a=t[1],u=t[2],c=t[3],h=t[4],d=t[5],p=t[6],f=t[7],g=4e-7,m=1-g;if(0===n&&(g>e||e>m)){var v=g>e;r=v?s:p,o=v?a:f}else{var y=3*(u-s),_=3*(h-u)-y,b=p-s-y-_,w=3*(c-a),x=3*(d-c)-w,C=f-a-w-x;if(0===n)r=((b*e+_)*e+y)*e+s,o=((C*e+x)*e+w)*e+a;else{if(g>e?(r=y,o=w):e>m?(r=3*(p-h),o=3*(f-d)):(r=(3*b*e+2*_)*e+y,o=(3*C*e+2*x)*e+w),i){0===r&&0===o&&(g>e||e>m)&&(r=h-u,o=d-c);var k=Math.sqrt(r*r+o*o);k&&(r/=k,o/=k)}if(3===n){var S=6*b*e+2*_,E=6*C*e+2*x,T=Math.pow(r*r+o*o,1.5);r=0!==T?(r*E-o*S)/T:0,o=0}}}return 2===n?new l(o,-r):new l(r,o)}return{statics:{getLength:function(i,r,o){if(r===t&&(r=0),o===t&&(o=1),0===r&&1===o&&T.isStraight(i)){var a=i[6]-i[0],l=i[7]-i[1];return Math.sqrt(a*a+l*l)}var u=e(i);return s.integrate(u,r,o,n(r,o))},getParameterAt:function(i,r,o){function a(t){return g+=s.integrate(d,o,t,n(o,t)),o=t,g-r}if(o===t&&(o=0>r?1:0),0===r)return o;var l=Math.abs,u=r>0,c=u?o:0,h=u?1:o,d=e(i),p=s.integrate(d,c,h,n(c,h));if(l(r-p)<1e-12)return u?h:c;if(l(r)>p)return null;var f=r/p,g=0;return s.findRoot(a,d,o+f,c,h,32,1e-12)},getPoint:function(t,e){return i(t,e,0,!1)},getTangent:function(t,e){return i(t,e,1,!0)},getWeightedTangent:function(t,e){return i(t,e,1,!1)},getNormal:function(t,e){return i(t,e,2,!0)},getWeightedNormal:function(t,e){return i(t,e,2,!1)},getCurvature:function(t,e){return i(t,e,3,!1).x}}}},new function(){function t(t,e,n,i,r,o,s,a,l,u,c){var h=e.startConnected,d=e.endConnected,p=4e-7,f=1-p;if(null==r&&(r=T.getParameterOf(n,o)),null!==r&&r>=(h?p:0)&&(d?f:1)>=r&&(null==l&&(l=T.getParameterOf(s,u)),null!==l&&l>=(d?p:0)&&(h?f:1)>=l)){var g=e.renormalize;if(g){var m=g(r,l);r=m[0],l=m[1]}var v=new D(i,r,o||T.getPoint(n,r),c),y=new D(a,l,u||T.getPoint(s,l),c),_=v.getPath()===y.getPath()&&v.getIndex()>y.getIndex(),b=_?y:v,w=e.include;v._intersection=y,y._intersection=v,(!w||w(b))&&D.insert(t,b,!0)}}function e(r,o,s,a,l,u,c,h,d,p,f,m,v){if(!(++v>=24)){var y,_,b=o[0],w=o[1],x=o[6],C=o[7],k=g.getSignedDistance,S=k(b,w,x,C,o[2],o[3]),E=k(b,w,x,C,o[4],o[5]),D=S*E>0?.75:4/9,A=D*Math.min(0,S,E),P=D*Math.max(0,S,E),M=k(b,w,x,C,r[0],r[1]),O=k(b,w,x,C,r[2],r[3]),I=k(b,w,x,C,r[4],r[5]),R=k(b,w,x,C,r[6],r[7]),N=n(M,O,I,R),L=N[0],$=N[1];if(null!=(y=i(L,$,A,P))&&null!=(_=i(L.reverse(),$.reverse(),A,P))){r=T.getPart(r,y,_);var j=_-y,F=c+(h-c)*y,z=c+(h-c)*_;if(f>.5&&j>.5)if(z-F>p-d){var B=T.subdivide(r,.5),H=F+(z-F)/2;e(o,B[0],a,s,l,u,d,p,F,H,j,!m,v),e(o,B[1],a,s,l,u,d,p,H,z,j,!m,v)}else{var B=T.subdivide(o,.5),H=d+(p-d)/2;e(B[0],r,a,s,l,u,d,H,F,z,j,!m,v),e(B[1],r,a,s,l,u,H,p,F,z,j,!m,v)}else if(Math.max(p-d,z-F)<1e-7){var W=F+(z-F)/2,q=d+(p-d)/2;r=s.getValues(),o=a.getValues(),t(l,u,m?o:r,m?a:s,m?q:W,null,m?r:o,m?s:a,m?W:q,null)}else j>1e-12&&e(o,r,a,s,l,u,d,p,F,z,j,!m,v)}}}function n(t,e,n,i){var r,o=[0,t],s=[1/3,e],a=[2/3,n],l=[1,i],u=e-(2*t+i)/3,c=n-(t+2*i)/3;if(0>u*c)r=[[o,s,l],[o,a,l]];else{var h=u/c;r=[h>=2?[o,s,l]:.5>=h?[o,a,l]:[o,s,a,l],[o,l]]}return 0>(u||c)?r.reverse():r}function i(t,e,n,i){return t[0][1]<n?r(t,!0,n):e[0][1]>i?r(e,!1,i):t[0][0]}function r(t,e,n){for(var i=t[0][0],r=t[0][1],o=1,s=t.length;s>o;o++){var a=t[o][0],l=t[o][1];if(e?l>=n:n>=l)return l===n?a:i+(n-r)*(a-i)/(l-r);i=a,r=l}return null}function o(e,n,i,r,o,a){for(var l=T.isStraight(e),u=l?n:e,c=l?e:n,h=c[0],d=c[1],p=c[6],f=c[7],g=p-h,m=f-d,v=Math.atan2(-m,g),y=Math.sin(v),_=Math.cos(v),b=[],w=0;8>w;w+=2){var x=u[w]-h,C=u[w+1]-d;b.push(x*_-C*y,x*y+C*_)}for(var k=[],S=T.solveCubic(b,1,0,k,0,1),w=0;S>w;w++){var E=k[w],D=T.getPoint(u,E),A=T.getParameterOf(c,D);if(null!==A){var P=T.getPoint(c,A),M=l?A:E,O=l?E:A;(!a.endConnected||O>s.CURVETIME_EPSILON)&&t(o,a,e,i,M,l?P:D,n,r,O,l?D:P)}}}function a(e,n,i,r,o,s){var a=g.intersect(e[0],e[1],e[6],e[7],n[0],n[1],n[6],n[7]);a&&t(o,s,e,i,null,a,n,r,null,a)}return{statics:{_getIntersections:function(n,i,r,s,u,c){if(!i)return T._getSelfIntersection(n,r,u,c);var h=n[0],d=n[1],p=n[6],f=n[7],g=i[0],m=i[1],v=i[6],y=i[7],_=(3*n[2]+h)/4,b=(3*n[3]+d)/4,w=(3*n[4]+p)/4,x=(3*n[5]+f)/4,C=(3*i[2]+g)/4,k=(3*i[3]+m)/4,S=(3*i[4]+v)/4,E=(3*i[5]+y)/4,D=Math.min,A=Math.max;if(!(A(h,_,w,p)>=D(g,C,S,v)&&D(h,_,w,p)<=A(g,C,S,v)&&A(d,b,x,f)>=D(m,k,E,y)&&D(d,b,x,f)<=A(m,k,E,y)))return u;if(!c.startConnected&&!c.endConnected){var P=T.getOverlaps(n,i);if(P){for(var M=0;2>M;M++){var O=P[M];t(u,c,n,r,O[0],null,i,s,O[1],null,!0)}return u}}var I=T.isStraight(n),R=T.isStraight(i),N=I&&R,L=1e-12,$=u.length;if((N?a:I||R?o:e)(n,i,r,s,u,c,0,1,0,1,0,!1,0),N&&u.length>$)return u;var j=new l(h,d),F=new l(p,f),z=new l(g,m),B=new l(v,y);return j.isClose(z,L)&&t(u,c,n,r,0,j,i,s,0,z),!c.startConnected&&j.isClose(B,L)&&t(u,c,n,r,0,j,i,s,1,B),!c.endConnected&&F.isClose(z,L)&&t(u,c,n,r,1,F,i,s,0,z),F.isClose(B,L)&&t(u,c,n,r,1,F,i,s,1,B),u},_getSelfIntersection:function(t,e,n,i){var r=t[0],o=t[1],a=t[2],u=t[3],c=t[4],h=t[5],d=t[6],p=t[7],f=new g(r,o,d,p,!1),m=f.getSide(new l(a,u),!0),v=f.getSide(new l(c,h),!0);if(m===v){var y=(r-c)*(u-p)+(a-d)*(h-o);if(y*m>0)return n}var _=d-3*c+3*a-r,b=c-2*a+r,w=a-r,x=p-3*h+3*u-o,C=h-2*u+o,k=u-o,S=x*w-_*k,E=x*b-_*C,D=C*w-b*k;if(0>S*S-4*E*D){var A,P=[],M=s.solveCubic(_*_+x*x,3*(_*b+x*C),2*(b*b+C*C)+_*w+x*k,b*w+C*k,P,0,1);if(M>0){for(var O=0,I=0;M>O;O++){var R=Math.abs(e.getCurvatureAt(P[O],!0));R>I&&(I=R,A=P[O])}var N=T.subdivide(t,A);i.endConnected=!0,i.renormalize=function(t,e){return[t*A,e*(1-A)+A]},T._getIntersections(N[0],N[1],e,e,n,i)}}return n},getOverlaps:function(t,e){function n(t){var e=t[6]-t[0],n=t[7]-t[1];return e*e+n*n}var i=Math.abs,r=4e-7,o=2e-7,s=T.isStraight(t),a=T.isStraight(e),u=s&&a;if(u){var c=n(t)<n(e),h=c?e:t,d=c?t:e,p=new g(h[0],h[1],h[6],h[7]);if(p.getDistance(new l(d[0],d[1]))>o||p.getDistance(new l(d[6],d[7]))>o)return null}else if(s^a)return null;for(var f=[t,e],m=[],v=0,y=0;2>v&&m.length<2;v+=0===y?0:1,y=1^y){var _=T.getParameterOf(f[1^v],new l(f[v][0===y?0:6],f[v][0===y?1:7]));if(null!=_){var b=0===v?[y,_]:[_,y];(0===m.length||i(b[0]-m[0][0])>r&&i(b[1]-m[0][1])>r)&&m.push(b)}if(1===v&&0===m.length)break}if(2!==m.length)m=null;else if(!u){var w=T.getPart(t,m[0][0],m[1][0]),x=T.getPart(e,m[0][1],m[1][1]);(i(x[2]-w[2])>o||i(x[3]-w[3])>o||i(x[4]-w[4])>o||i(x[5]-w[5])>o)&&(m=null)}return m}}}}),D=e.extend({_class:"CurveLocation",beans:!0,initialize:function gt(t,e,n,i,r){if(e>.9999996){var o=t.getNext();o&&(e=0,t=o)}this._id=a.get(gt),this._setCurve(t),this._parameter=e,this._point=n||t.getPointAt(e,!0),this._overlap=i,this._distance=r,this._intersection=this._next=this._prev=null},_setCurve:function(t){var e=t._path;this._version=e?e._version:0,this._curve=t,this._segment=null,this._segment1=t._segment1,this._segment2=t._segment2},_setSegment:function(t){this._setCurve(t.getCurve()),this._segment=t,this._parameter=t===this._segment1?0:1,this._point=t._point.clone()},getSegment:function(){var t=this.getCurve(),e=this._segment;if(!e){var n=this.getParameter();0===n?e=t._segment1:1===n?e=t._segment2:null!=n&&(e=t.getPartLength(0,n)<t.getPartLength(n,1)?t._segment1:t._segment2),this._segment=e}return e},getCurve:function(){function t(t){var e=t&&t.getCurve();return e&&null!=(i._parameter=e.getParameterOf(i._point))?(i._setCurve(e),i._segment=t,e):void 0}var e=this._curve,n=e&&e._path,i=this;return n&&n._version!==this._version&&(e=this._parameter=this._curve=this._offset=null),e||t(this._segment)||t(this._segment1)||t(this._segment2.getPrevious())},getPath:function(){var t=this.getCurve();return t&&t._path},getIndex:function(){var t=this.getCurve();return t&&t.getIndex()},getParameter:function(){var t=this.getCurve(),e=this._parameter;return t&&null==e?this._parameter=t.getParameterOf(this._point):e},getPoint:function(){return this._point},getOffset:function(){var t=this._offset;if(null==t){t=0;var e=this.getPath(),n=this.getIndex();if(e&&null!=n)for(var i=e.getCurves(),r=0;n>r;r++)t+=i[r].getLength();this._offset=t+=this.getCurveOffset()}return t},getCurveOffset:function(){var t=this.getCurve(),e=this.getParameter();return null!=e&&t&&t.getPartLength(0,e)},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var t=this.getCurve(),e=null;return t&&(e=t.divide(this.getParameter(),!0),e&&this._setSegment(e._segment1)),e},split:function(){var t=this.getCurve();return t?t.split(this.getParameter(),!0):null},equals:function(t,e){var n=this===t,i=2e-7;if(!n&&t instanceof D&&this.getPath()===t.getPath()&&this.getPoint().isClose(t.getPoint(),i)){var r=this.getCurve(),o=t.getCurve(),s=Math.abs,a=s((r.isLast()&&o.isFirst()?-1:r.getIndex())+this.getParameter()-((o.isLast()&&r.isFirst()?-1:o.getIndex())+t.getParameter()));n=(4e-7>a||(a=s(this.getOffset()-t.getOffset()))<i||s(this.getPath().getLength()-a)<i)&&(e||!this._intersection&&!t._intersection||this._intersection&&this._intersection.equals(t._intersection,!0));
}return n},toString:function(){var t=[],e=this.getPoint(),n=o.instance;e&&t.push("point: "+e);var i=this.getIndex();null!=i&&t.push("index: "+i);var r=this.getParameter();return null!=r&&t.push("parameter: "+n.number(r)),null!=this._distance&&t.push("distance: "+n.number(this._distance)),"{ "+t.join(", ")+" }"},isTouching:function(){var t=this._intersection;if(t&&this.getTangent().isCollinear(t.getTangent())){var e=this.getCurve(),n=t.getCurve();return!(e.isStraight()&&n.isStraight()&&e.getLine().intersect(n.getLine()))}return!1},isCrossing:function(){function t(t,e,n){return n>e?t>e&&n>t:t>e&&c>=t||t>=-c&&n>t}var e=this._intersection;if(!e)return!1;var n=this.getParameter(),i=e.getParameter(),r=4e-7,o=1-r;if(n>=r&&o>=n||i>=r&&o>=i)return!this.isTouching();var s=this.getCurve(),a=s.getPrevious(),l=e.getCurve(),u=l.getPrevious(),c=Math.PI;if(!a||!u)return!1;var h=a.getTangentAt(o,!0).negate().getAngleInRadians(),d=s.getTangentAt(r,!0).getAngleInRadians(),p=u.getTangentAt(o,!0).negate().getAngleInRadians(),f=l.getTangentAt(r,!0).getAngleInRadians();return t(p,h,d)^t(f,h,d)&&t(p,d,h)^t(f,d,h)},isOverlap:function(){return!!this._overlap}},e.each(T.evaluateMethods,function(t){var e=t+"At";this[t]=function(){var t=this.getParameter(),n=this.getCurve();return null!=t&&n&&n[e](t,!0)}},{preserve:!0}),new function(){function t(t,e,n){function i(n,i){for(var o=n+i;o>=-1&&r>=o;o+=i){var s=t[(o%r+r)%r];if(!e.getPoint().isClose(s.getPoint(),2e-7))break;if(e.equals(s))return s}return null}for(var r=t.length,o=0,s=r-1;s>=o;){var a,l=o+s>>>1,u=t[l];if(n&&(a=e.equals(u)?u:i(l,-1)||i(l,1)))return e._overlap&&(a._overlap=a._intersection._overlap=!0),a;var c=e.getPath(),h=u.getPath(),d=c===h?e.getIndex()+e.getParameter()-(u.getIndex()+u.getParameter()):c._id-h._id;0>d?s=l-1:o=l+1}return t.splice(o,0,e),e}return{statics:{insert:t,expand:function(e){for(var n=e.slice(),i=0,r=e.length;r>i;i++)t(n,e[i]._intersection,!1);return n}}}}),A=y.extend({_class:"PathItem",initialize:function(){},getIntersections:function(t,e,n,i){var r=this===t||!t,o=this._matrix.orNullIfIdentity(),s=r?o:(n||t._matrix).orNullIfIdentity();if(!r&&!this.getBounds(o).touches(t.getBounds(s)))return[];for(var a,t,l=this.getCurves(),u=r?l:t.getCurves(),c=l.length,h=r?c:u.length,d=[],p=[],f=0;h>f;f++)d[f]=u[f].getValues(s);for(var f=0;c>f;f++){var g=l[f],m=r?d[f]:g.getValues(o),v=g.getPath();v!==t&&(t=v,a=[],p.push(a)),r&&T._getSelfIntersection(m,g,a,{include:e,startConnected:1===c&&g.getPoint1().equals(g.getPoint2())});for(var y=r?f+1:0;h>y;y++){if(i&&a.length)return a;var _=u[y];T._getIntersections(m,d[y],g,_,a,{include:e,startConnected:r&&g.getPrevious()===_,endConnected:r&&g.getNext()===_})}}a=[];for(var f=0,b=p.length;b>f;f++)a.push.apply(a,p[f]);return a},getCrossings:function(t){return this.getIntersections(t,function(t){return t.isCrossing()})},_asPathItem:function(){return this},setPathData:function(t){function e(t,e){var n=+i[t];return a&&(n+=u[e]),n}function n(t){return new l(e(t,"x"),e(t+1,"y"))}var i,r,o,s=t.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),a=!1,u=new l,h=new l;this.clear();for(var d=0,p=s&&s.length;p>d;d++){var f=s[d],g=f[0],m=g.toLowerCase();i=f.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var v=i&&i.length;switch(a=g===m,"z"!==r||/[mz]/.test(m)||this.moveTo(u=h),m){case"m":case"l":for(var y="m"===m,_=0;v>_;_+=2)this[0===_&&y?"moveTo":"lineTo"](u=n(_));o=u,y&&(h=u);break;case"h":case"v":for(var b="h"===m?"x":"y",_=0;v>_;_++)u[b]=e(_,b),this.lineTo(u);o=u;break;case"c":for(var _=0;v>_;_+=6)this.cubicCurveTo(n(_),o=n(_+2),u=n(_+4));break;case"s":for(var _=0;v>_;_+=4)this.cubicCurveTo(/[cs]/.test(r)?u.multiply(2).subtract(o):u,o=n(_),u=n(_+2)),r=m;break;case"q":for(var _=0;v>_;_+=4)this.quadraticCurveTo(o=n(_),u=n(_+2));break;case"t":for(var _=0;v>_;_+=2)this.quadraticCurveTo(o=/[qt]/.test(r)?u.multiply(2).subtract(o):u,u=n(_)),r=m;break;case"a":for(var _=0;v>_;_+=7)this.arcTo(u=n(_+5),new c(+i[_],+i[_+1]),+i[_+2],+i[_+4],+i[_+3]);break;case"z":this.closePath(!0)}r=m}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(t){var e=this._getWinding(t,!1,!0);return!!("evenodd"===this.getWindingRule()?1&e:e)}}),P=A.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(e){this._closed=!1,this._segments=[],this._version=0;var n=Array.isArray(e)?"object"==typeof e[0]?e:arguments:!e||e.size!==t||e.x===t&&e.point===t?null:arguments;n&&n.length>0?this.setSegments(n):(this._curves=t,this._selectedSegmentState=0,n||"string"!=typeof e||(this.setPathData(e),e=null)),this._initialize(!n&&e)},_equals:function(t){return this._closed===t._closed&&e.equals(this._segments,t._segments)},clone:function(e){var n=new P(y.NO_INSERT);return n.setSegments(this._segments),n._closed=this._closed,this._clockwise!==t&&(n._clockwise=this._clockwise),this._clone(n,e)},_changed:function mt(e){if(mt.base.call(this,e),8&e){var n=this._parent;if(n&&(n._currentPath=t),this._length=this._area=this._clockwise=this._monoCurves=t,16&e)this._version++;else if(this._curves)for(var i=0,r=this._curves.length;r>i;i++)this._curves[i]._changed()}else 32&e&&(this._bounds=t)},getStyle:function(){var t=this._parent;return(t instanceof M?t:this)._style},getSegments:function(){return this._segments},setSegments:function(e){var n=this.isFullySelected();this._segments.length=0,this._selectedSegmentState=0,this._curves=t,e&&e.length>0&&this._add(S.readAll(e)),n&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var t=this._curves,e=this._segments;if(!t){var n=this._countCurves();t=this._curves=new Array(n);for(var i=0;n>i;i++)t[i]=new T(this,e[i],e[i+1]||e[0])}return t},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var t=this.getCurves();return t[t.length-1]},isClosed:function(){return this._closed},setClosed:function(t){if(this._closed!=(t=!!t)){if(this._closed=t,this._curves){var e=this._curves.length=this._countCurves();t&&(this._curves[e-1]=new T(this,this._segments[e-1],this._segments[0]))}this._changed(25)}}},{beans:!0,getPathData:function(t,e){function n(e,n){e._transformCoordinates(t,g,!1),i=g[0],r=g[1],m?(v.push("M"+f.pair(i,r)),m=!1):(l=g[2],u=g[3],l===i&&u===r&&c===s&&h===a?n||v.push("l"+f.pair(i-s,r-a)):v.push("c"+f.pair(c-s,h-a)+" "+f.pair(l-s,u-a)+" "+f.pair(i-s,r-a))),s=i,a=r,c=g[4],h=g[5]}var i,r,s,a,l,u,c,h,d=this._segments,p=d.length,f=new o(e),g=new Array(6),m=!0,v=[];if(0===p)return"";for(var y=0;p>y;y++)n(d[y]);return this._closed&&p>0&&(n(d[0],!0),v.push("z")),v.join("")}},{isEmpty:function(){return 0===this._segments.length},_transformContent:function(t){for(var e=new Array(6),n=0,i=this._segments.length;i>n;n++)this._segments[n]._transformCoordinates(t,e,!0);return!0},_add:function(t,e){for(var n=this._segments,i=this._curves,r=t.length,o=null==e,e=o?n.length:e,s=0;r>s;s++){var a=t[s];a._path&&(a=t[s]=a.clone()),a._path=this,a._index=e+s,a._selectionState&&this._updateSelection(a,0,a._selectionState)}if(o)n.push.apply(n,t);else{n.splice.apply(n,[e,0].concat(t));for(var s=e+r,l=n.length;l>s;s++)n[s]._index=s}if(i){var u=this._countCurves(),c=e+r-1===u?e-1:e,h=c,d=Math.min(c+r,u);t._curves&&(i.splice.apply(i,[c,0].concat(t._curves)),h+=t._curves.length);for(var s=h;d>s;s++)i.splice(s,0,new T(this,null,null));this._adjustCurves(c,d)}return this._changed(25),t},_adjustCurves:function(t,e){for(var n,i=this._segments,r=this._curves,o=t;e>o;o++)n=r[o],n._path=this,n._segment1=i[o],n._segment2=i[o+1]||i[0],n._changed();(n=r[this._closed&&0===t?i.length-1:t-1])&&(n._segment2=i[t]||i[0],n._changed()),(n=r[e])&&(n._segment1=i[e],n._changed())},_countCurves:function(){var t=this._segments.length;return!this._closed&&t>0?t-1:t},add:function(t){return arguments.length>1&&"number"!=typeof t?this._add(S.readAll(arguments)):this._add([S.read(arguments)])[0]},insert:function(t,e){return arguments.length>2&&"number"!=typeof e?this._add(S.readAll(arguments,1),t):this._add([S.read(arguments,1)],t)[0]},addSegment:function(){return this._add([S.read(arguments)])[0]},insertSegment:function(t){return this._add([S.read(arguments,1)],t)[0]},addSegments:function(t){return this._add(S.readAll(t))},insertSegments:function(t,e){return this._add(S.readAll(e),t)},removeSegment:function(t){return this.removeSegments(t,t+1)[0]||null},removeSegments:function(t,n,i){t=t||0,n=e.pick(n,this._segments.length);var r=this._segments,o=this._curves,s=r.length,a=r.splice(t,n-t),l=a.length;if(!l)return a;for(var u=0;l>u;u++){var c=a[u];c._selectionState&&this._updateSelection(c,c._selectionState,0),c._index=c._path=null}for(var u=t,h=r.length;h>u;u++)r[u]._index=u;if(o){var d=t>0&&n===s+(this._closed?1:0)?t-1:t,o=o.splice(d,l);i&&(a._curves=o.slice(1)),this._adjustCurves(d,d)}return this._changed(25),a},clear:"#removeSegments",hasHandles:function(){for(var t=this._segments,e=0,n=t.length;n>e;e++)if(t[e].hasHandles())return!0;return!1},clearHandles:function(){for(var t=this._segments,e=0,n=t.length;n>e;e++)t[e].clearHandles()},getLength:function(){if(null==this._length){for(var t=this.getCurves(),e=0,n=0,i=t.length;i>n;n++)e+=t[n].getLength();this._length=e}return this._length},getArea:function(){if(null==this._area){for(var t=this._segments,e=t.length,n=e-1,i=0,r=0,o=this._closed?e:n;o>r;r++)i+=T.getArea(T.getValues(t[r],t[n>r?r+1:0]));this._area=i}return this._area},isClockwise:function(){return this._clockwise!==t?this._clockwise:this.getArea()>=0},setClockwise:function(t){this.isClockwise()!=(t=!!t)&&this.reverse(),this._clockwise=t},isFullySelected:function(){var t=this._segments.length;return this._selected&&t>0&&this._selectedSegmentState===7*t},setFullySelected:function(t){t&&this._selectSegments(!0),this.setSelected(t)},setSelected:function vt(t){t||this._selectSegments(!1),vt.base.call(this,t)},_selectSegments:function(t){var e=this._segments.length;this._selectedSegmentState=t?7*e:0;for(var n=0;e>n;n++)this._segments[n]._selectionState=t?7:0},_updateSelection:function(t,e,n){t._selectionState=n;var i=this._selectedSegmentState+=n-e;i>0&&this.setSelected(!0)},flatten:function(t){for(var e=new O(this,64,.1),n=0,i=e.length/Math.ceil(e.length/t),r=e.length+(this._closed?-i:i)/2,o=[];r>=n;)o.push(new S(e.getPointAt(n))),n+=i;this.setSegments(o)},reduce:function(){for(var t=this.getCurves(),e=t.length-1;e>=0;e--){var n=t[e];n.hasHandles()||0!==n.getLength()&&!n.isCollinear(n.getNext())||n.remove()}return this},simplify:function(t){if(this._segments.length>2){var e=new I(this,t||2.5);this.setSegments(e.fit())}},split:function(t,e){if(null===e)return null;if(1===arguments.length){var n=t;if("number"==typeof n&&(n=this.getLocationAt(n)),!n)return null;t=n.index,e=n.parameter}var i=4e-7,r=1-i;e>=r&&(t++,e--);var o=this.getCurves();if(t>=0&&t<o.length){e>=i&&o[t++].divide(e,!0);var s,a=this.removeSegments(t,this._segments.length,!0);return this._closed?(this.setClosed(!1),s=this):(s=new P(y.NO_INSERT),s.insertAbove(this,!0),this._clone(s)),s._add(a,0),this.addSegment(a[0]),s}return null},reverse:function(){this._segments.reverse();for(var e=0,n=this._segments.length;n>e;e++){var i=this._segments[e],r=i._handleIn;i._handleIn=i._handleOut,i._handleOut=r,i._index=e}this._curves=null,this._clockwise!==t&&(this._clockwise=!this._clockwise),this._changed(9)},join:function(t){if(t){var e=t._segments,n=this.getLastSegment(),i=t.getLastSegment();if(!i)return this;n&&n._point.equals(i._point)&&t.reverse();var r=t.getFirstSegment();if(n&&n._point.equals(r._point))n.setHandleOut(r._handleOut),this._add(e.slice(1));else{var o=this.getFirstSegment();o&&o._point.equals(r._point)&&t.reverse(),i=t.getLastSegment(),o&&o._point.equals(i._point)?(o.setHandleIn(i._handleIn),this._add(e.slice(0,e.length-1),0)):this._add(e.slice())}t._closed&&this._add([e[0]]),t.remove()}var s=this.getFirstSegment(),a=this.getLastSegment();return s!==a&&s._point.equals(a._point)&&(s.setHandleIn(a._handleIn),a.remove(),this.setClosed(!0)),this},toShape:function(t){function e(t,e){var n=h[t],i=n.getNext(),r=h[e],o=r.getNext();return n._handleOut.isZero()&&i._handleIn.isZero()&&r._handleOut.isZero()&&o._handleIn.isZero()&&i._point.subtract(n._point).isCollinear(o._point.subtract(r._point))}function n(t){var e=h[t],n=e.getPrevious(),i=e.getNext();return n._handleOut.isZero()&&e._handleIn.isZero()&&e._handleOut.isZero()&&i._handleIn.isZero()&&e._point.subtract(n._point).isOrthogonal(i._point.subtract(e._point))}function i(t){var e=h[t],n=e.getNext(),i=e._handleOut,r=n._handleIn,o=.5522847498307936;if(i.isOrthogonal(r)){var a=e._point,l=n._point,u=new g(a,i,!0).intersect(new g(l,r,!0),!0);return u&&s.isZero(i.getLength()/u.subtract(a).getLength()-o)&&s.isZero(r.getLength()/u.subtract(l).getLength()-o)}return!1}function r(t,e){return h[t]._point.getDistance(h[e]._point)}if(!this._closed)return null;var o,a,l,u,h=this._segments;if(!this.hasHandles()&&4===h.length&&e(0,2)&&e(1,3)&&n(1)?(o=w.Rectangle,a=new c(r(0,3),r(0,1)),u=h[1]._point.add(h[2]._point).divide(2)):8===h.length&&i(0)&&i(2)&&i(4)&&i(6)&&e(1,5)&&e(3,7)?(o=w.Rectangle,a=new c(r(1,6),r(0,3)),l=a.subtract(new c(r(0,7),r(1,2))).divide(2),u=h[3]._point.add(h[4]._point).divide(2)):4===h.length&&i(0)&&i(1)&&i(2)&&i(3)&&(s.isZero(r(0,2)-r(1,3))?(o=w.Circle,l=r(0,2)/2):(o=w.Ellipse,l=new c(r(2,0)/2,r(3,1)/2)),u=h[1]._point),o){var d=this.getPosition(!0),p=this._clone(new o({center:d,size:a,radius:l,insert:!1}),t,!1);return p.rotate(u.subtract(d).getAngle()+90),p}return null},_hitTestSelf:function(t,e){function n(e,n){return t.subtract(e).divide(n).length<=1}function i(t,i,r){if(!e.selected||i.isSelected()){var o=t._point;if(i!==o&&(i=i.add(o)),n(i,b))return new k(r,f,{segment:t,point:i})}}function r(t,n){return(n||e.segments)&&i(t,t._point,"segment")||!n&&e.handles&&(i(t,t._handleIn,"handle-in")||i(t,t._handleOut,"handle-out"))}function o(t){h.add(t)}function s(e){if(("round"!==a||"round"!==u)&&(h=new P({internal:!0,closed:!0}),y||e._index>0&&e._index<v-1?"round"!==a&&(e._handleIn.isZero()||e._handleOut.isZero())&&P._addBevelJoin(e,a,S,c,o,!0):"round"!==u&&P._addSquareCap(e,u,S,o,!0),!h.isEmpty())){var i;return h.contains(t)||(i=h.getNearestLocation(t))&&n(i.getPoint(),_)}return n(e._point,b)}var a,u,c,h,d,p,f=this,g=this.getStyle(),m=this._segments,v=m.length,y=this._closed,_=e._tolerancePadding,b=_,w=e.stroke&&g.hasStroke(),x=e.fill&&g.hasFill(),C=e.curves,S=w?g.getStrokeWidth()/2:x&&e.tolerance>0||C?0:null;if(null!==S&&(S>0?(a=g.getStrokeJoin(),u=g.getStrokeCap(),c=S*g.getMiterLimit(),b=_.add(new l(S,S))):a=u="round"),!e.ends||e.segments||y){if(e.segments||e.handles)for(var E=0;v>E;E++)if(p=r(m[E]))return p}else if(p=r(m[0],!0)||r(m[v-1],!0))return p;if(null!==S){if(d=this.getNearestLocation(t)){var T=d.getParameter();0===T||1===T&&v>1?s(d.getSegment())||(d=null):n(d.getPoint(),b)||(d=null)}if(!d&&"miter"===a&&v>1)for(var E=0;v>E;E++){var D=m[E];if(t.getDistance(D._point)<=c&&s(D)){d=D.getLocation();break}}}return!d&&x&&this._contains(t)||d&&!w&&!C?new k("fill",this):d?new k(w?"stroke":"curve",this,{location:d,point:d.getPoint()}):null}},e.each(T.evaluateMethods,function(t){this[t+"At"]=function(e,n){var i=this.getLocationAt(e,n);return i&&i[t]()}},{beans:!1,getLocationOf:function(){for(var t=l.read(arguments),e=this.getCurves(),n=0,i=e.length;i>n;n++){var r=e[n].getLocationOf(t);if(r)return r}return null},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getLocationAt:function(t,e){var n=this.getCurves(),i=0;if(e){var r=~~t,o=n[r];return o?o.getLocationAt(t-r,!0):null}for(var s=0,a=n.length;a>s;s++){var l=i,o=n[s];if(i+=o.getLength(),i>t)return o.getLocationAt(t-l)}return n.length>0&&t<=this.getLength()?new D(n[n.length-1],1):null},getNearestLocation:function(){for(var t=l.read(arguments),e=this.getCurves(),n=1/0,i=null,r=0,o=e.length;o>r;r++){var s=e[r].getNearestLocation(t);s._distance<n&&(n=s._distance,i=s)}return i},getNearestPoint:function(){return this.getNearestLocation.apply(this,arguments).getPoint()}}),new function(){function t(t,e,n,i){function r(e){var n=s[e],i=s[e+1];(h!=n||d!=i)&&(t.beginPath(),t.moveTo(h,d),t.lineTo(n,i),t.stroke(),t.beginPath(),t.arc(n,i,o,0,2*Math.PI,!0),t.fill())}for(var o=i/2,s=new Array(6),a=0,l=e.length;l>a;a++){var u=e[a];u._transformCoordinates(n,s,!1);var c=u._selectionState,h=s[0],d=s[1];if(1&c&&r(2),2&c&&r(4),t.fillRect(h-o,d-o,i,i),!(4&c)){var p=t.fillStyle;t.fillStyle="#ffffff",t.fillRect(h-o+1,d-o+1,i-2,i-2),t.fillStyle=p}}}function e(t,e,n){function i(e){if(n)e._transformCoordinates(n,f,!1),r=f[0],o=f[1];else{var i=e._point;r=i._x,o=i._y}if(g)t.moveTo(r,o),g=!1;else{if(n)l=f[2],u=f[3];else{var d=e._handleIn;l=r+d._x,u=o+d._y}l===r&&u===o&&c===s&&h===a?t.lineTo(r,o):t.bezierCurveTo(c,h,l,u,r,o)}if(s=r,a=o,n)c=f[4],h=f[5];else{var d=e._handleOut;c=s+d._x,h=a+d._y}}for(var r,o,s,a,l,u,c,h,d=e._segments,p=d.length,f=new Array(6),g=!0,m=0;p>m;m++)i(d[m]);e._closed&&p>0&&i(d[0])}return{_draw:function(t,n,i){function r(t){return c[(t%h+h)%h]}var o=n.dontStart,s=n.dontFinish||n.clip,a=this.getStyle(),l=a.hasFill(),u=a.hasStroke(),c=a.getDashArray(),h=!paper.support.nativeDash&&u&&c&&c.length;if(o||t.beginPath(),!o&&this._currentPath?t.currentPath=this._currentPath:(l||u&&!h||s)&&(e(t,this,i),this._closed&&t.closePath(),o||(this._currentPath=t.currentPath)),!s&&(l||u)&&(this._setStyles(t),l&&(t.fill(a.getWindingRule()),t.shadowColor="rgba(0,0,0,0)"),u)){if(h){o||t.beginPath();var d,p=new O(this,32,.25,i),f=p.length,g=-a.getDashOffset(),m=0;for(g%=f;g>0;)g-=r(m--)+r(m--);for(;f>g;)d=g+r(m++),(g>0||d>0)&&p.drawPart(t,Math.max(g,0),Math.max(d,0)),g=d+r(m++)}t.stroke()}},_drawSelected:function(n,i){n.beginPath(),e(n,this,i),n.stroke(),t(n,this._segments,i,paper.settings.handleSize)}}},new function(){function t(t){var e=t.length,n=[],i=[],r=2;n[0]=t[0]/r;for(var o=1;e>o;o++)i[o]=1/r,r=(e-1>o?4:2)-i[o],n[o]=(t[o]-n[o-1])/r;for(var o=1;e>o;o++)n[e-o-1]-=i[e-o]*n[e-o];return n}return{smooth:function(){var e=this._segments,n=e.length,i=this._closed,r=n,o=0;if(!(2>=n)){i&&(o=Math.min(n,4),r+=2*Math.min(n,o));for(var s=[],a=0;n>a;a++)s[a+o]=e[a]._point;if(i)for(var a=0;o>a;a++)s[a]=e[a+n-o]._point,s[a+n+o]=e[a]._point;else r--;for(var u=[],a=1;r-1>a;a++)u[a]=4*s[a]._x+2*s[a+1]._x;u[0]=s[0]._x+2*s[1]._x,u[r-1]=3*s[r-1]._x;for(var c=t(u),a=1;r-1>a;a++)u[a]=4*s[a]._y+2*s[a+1]._y;u[0]=s[0]._y+2*s[1]._y,u[r-1]=3*s[r-1]._y;var h=t(u);if(i){for(var a=0,d=n;o>a;a++,d++){var p=a/o,f=1-p,g=a+o,m=d+o;c[d]=c[a]*p+c[d]*f,h[d]=h[a]*p+h[d]*f,c[m]=c[g]*f+c[m]*p,h[m]=h[g]*f+h[m]*p}r--}for(var v=null,a=o;r-o>=a;a++){var y=e[a-o];v&&y.setHandleIn(v.subtract(y._point)),r>a&&(y.setHandleOut(new l(c[a],h[a]).subtract(y._point)),v=r-1>a?new l(2*s[a+1]._x-c[a+1],2*s[a+1]._y-h[a+1]):new l((s[r]._x+c[r-1])/2,(s[r]._y+h[r-1])/2))}if(i&&v){var y=this._segments[0];y.setHandleIn(v.subtract(y._point))}}}}},new function(){function t(t){var e=t._segments;if(0===e.length)throw new Error("Use a moveTo() command first");return e[e.length-1]}return{moveTo:function(){var t=this._segments;1===t.length&&this.removeSegment(0),t.length||this._add([new S(l.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new S(l.read(arguments))])},cubicCurveTo:function(){var e=l.read(arguments),n=l.read(arguments),i=l.read(arguments),r=t(this);r.setHandleOut(e.subtract(r._point)),this._add([new S(i,n.subtract(i))])},quadraticCurveTo:function(){var e=l.read(arguments),n=l.read(arguments),i=t(this)._point;this.cubicCurveTo(e.add(i.subtract(e).multiply(1/3)),e.add(n.subtract(e).multiply(1/3)),n)},curveTo:function(){var n=l.read(arguments),i=l.read(arguments),r=e.pick(e.read(arguments),.5),o=1-r,s=t(this)._point,a=n.subtract(s.multiply(o*o)).subtract(i.multiply(r*r)).divide(2*r*o);if(a.isNaN())throw new Error("Cannot put a curve through points with parameter = "+r);this.quadraticCurveTo(a,i)},arcTo:function(){var n,i,r,o,s,a=t(this),u=a._point,h=l.read(arguments),d=e.peek(arguments),p=e.pick(d,!0);if("boolean"==typeof p)var m=u.add(h).divide(2),n=m.add(m.subtract(u).rotate(p?-90:90));else if(e.remain(arguments)<=2)n=h,h=l.read(arguments);else{var v=c.read(arguments);if(v.isZero())return this.lineTo(h);var y=e.read(arguments),p=!!e.read(arguments),_=!!e.read(arguments),m=u.add(h).divide(2),b=u.subtract(m).rotate(-y),w=b.x,x=b.y,C=Math.abs,k=C(v.width),E=C(v.height),T=k*k,D=E*E,A=w*w,P=x*x,M=Math.sqrt(A/T+P/D);if(M>1&&(k*=M,E*=M,T=k*k,D=E*E),M=(T*D-T*P-D*A)/(T*P+D*A),C(M)<1e-12&&(M=0),0>M)throw new Error("Cannot create an arc with the given arguments");i=new l(k*x/E,-E*w/k).multiply((_===p?-1:1)*Math.sqrt(M)).rotate(y).add(m),s=(new f).translate(i).rotate(y).scale(k,E),o=s._inverseTransform(u),r=o.getDirectedAngle(s._inverseTransform(h)),!p&&r>0?r-=360:p&&0>r&&(r+=360)}if(n){var O=new g(u.add(n).divide(2),n.subtract(u).rotate(90),!0),I=new g(n.add(h).divide(2),h.subtract(n).rotate(90),!0),R=new g(u,h),N=R.getSide(n);if(i=O.intersect(I,!0),!i){if(!N)return this.lineTo(h);throw new Error("Cannot create an arc with the given arguments")}o=u.subtract(i),r=o.getDirectedAngle(h.subtract(i));var L=R.getSide(i);0===L?r=N*Math.abs(r):N===L&&(r+=0>r?360:-360)}for(var $=Math.abs(r),j=$>=360?4:Math.ceil($/90),F=r/j,z=F*Math.PI/360,B=4/3*Math.sin(z)/(1+Math.cos(z)),H=[],W=0;j>=W;W++){var b=h,q=null;if(j>W&&(q=o.rotate(90).multiply(B),s?(b=s._transformPoint(o),q=s._transformPoint(o.add(q)).subtract(b)):b=i.add(o)),0===W)a.setHandleOut(q);else{var Y=o.rotate(-90).multiply(B);s&&(Y=s._transformPoint(o.add(Y)).subtract(b)),H.push(new S(b,Y,q))}o=o.rotate(F)}this._add(H)},lineBy:function(){var e=l.read(arguments),n=t(this)._point;this.lineTo(n.add(e))},curveBy:function(){var n=l.read(arguments),i=l.read(arguments),r=e.read(arguments),o=t(this)._point;this.curveTo(o.add(n),o.add(i),r)},cubicCurveBy:function(){var e=l.read(arguments),n=l.read(arguments),i=l.read(arguments),r=t(this)._point;this.cubicCurveTo(r.add(e),r.add(n),r.add(i))},quadraticCurveBy:function(){var e=l.read(arguments),n=l.read(arguments),i=t(this)._point;this.quadraticCurveTo(i.add(e),i.add(n))},arcBy:function(){var n=t(this)._point,i=n.add(l.read(arguments)),r=e.pick(e.peek(arguments),!0);"boolean"==typeof r?this.arcTo(i,r):this.arcTo(i,n.add(l.read(arguments)))},closePath:function(t){this.setClosed(!0),t&&this.join()}}},{_getBounds:function(t,e){return P[t](this._segments,this._closed,this.getStyle(),e)},statics:{getBounds:function(t,e,n,i,r){function o(t){t._transformCoordinates(i,a,!1);for(var e=0;2>e;e++)T._addBounds(l[e],l[e+4],a[e+2],a[e],e,r?r[e]:0,u,c,h);var n=l;l=a,a=n}var s=t[0];if(!s)return new d;for(var a=new Array(6),l=s._transformCoordinates(i,new Array(6),!1),u=l.slice(0,2),c=u.slice(),h=new Array(2),p=1,f=t.length;f>p;p++)o(t[p]);return e&&o(s),new d(u[0],u[1],c[0]-u[0],c[1]-u[1])},getStrokeBounds:function(t,e,n,i){function r(t){p=p.include(i?i._transformPoint(t,t):t)}function o(t){p=p.unite(v.setCenter(i?i._transformPoint(t._point):t._point))}function s(t,e){var n=t._handleIn,i=t._handleOut;"round"===e||!n.isZero()&&!i.isZero()&&n.isCollinear(i)?o(t):P._addBevelJoin(t,e,u,m,r)}function a(t,e){"round"===e?o(t):P._addSquareCap(t,e,u,r)}if(!n.hasStroke())return P.getBounds(t,e,n,i);for(var l=t.length-(e?0:1),u=n.getStrokeWidth()/2,h=P._getPenPadding(u,i),p=P.getBounds(t,e,n,i,h),f=n.getStrokeJoin(),g=n.getStrokeCap(),m=u*n.getMiterLimit(),v=new d(new c(h).multiply(2)),y=1;l>y;y++)s(t[y],f);return e?s(t[0],f):l>0&&(a(t[0],g),a(t[t.length-1],g)),p},_getPenPadding:function(t,e){if(!e)return[t,t];var n=e.shiftless(),i=n.transform(new l(t,0)),r=n.transform(new l(0,t)),o=i.getAngleInRadians(),s=i.getLength(),a=r.getLength(),u=Math.sin(o),c=Math.cos(o),h=Math.tan(o),d=-Math.atan(a*h/s),p=Math.atan(a/(h*s));return[Math.abs(s*Math.cos(d)*c-a*Math.sin(d)*u),Math.abs(a*Math.sin(p)*c+s*Math.cos(p)*u)]},_addBevelJoin:function(t,e,n,i,r,o){var s=t.getCurve(),a=s.getPrevious(),u=s.getPointAt(0,!0),c=a.getNormalAt(1,!0),h=s.getNormalAt(0,!0),d=c.getDirectedAngle(h)<0?-n:n;if(c.setLength(d),h.setLength(d),o&&(r(u),r(u.add(c))),"miter"===e){var p=new g(u.add(c),new l(-c.y,c.x),!0).intersect(new g(u.add(h),new l(-h.y,h.x),!0),!0);if(p&&u.getDistance(p)<=i&&(r(p),!o))return}o||r(u.add(c)),r(u.add(h))},_addSquareCap:function(t,e,n,i,r){var o=t._point,s=t.getLocation(),a=s.getNormal().multiply(n);r&&(i(o.subtract(a)),i(o.add(a))),"square"===e&&(o=o.add(a.rotate(0===s.getParameter()?-90:90))),i(o.add(a)),i(o.subtract(a))},getHandleBounds:function(t,e,n,i,r,o){for(var s=new Array(6),a=1/0,l=-a,u=a,c=l,h=0,p=t.length;p>h;h++){var f=t[h];f._transformCoordinates(i,s,!1);for(var g=0;6>g;g+=2){var m=0===g?o:r,v=m?m[0]:0,y=m?m[1]:0,_=s[g],b=s[g+1],w=_-v,x=_+v,C=b-y,k=b+y;a>w&&(a=w),x>l&&(l=x),u>C&&(u=C),k>c&&(c=k)}}return new d(a,u,l-a,c-u)},getRoughBounds:function(t,e,n,i){var r=n.hasStroke()?n.getStrokeWidth()/2:0,o=r;return r>0&&("miter"===n.getStrokeJoin()&&(o=r*n.getMiterLimit()),"square"===n.getStrokeCap()&&(o=Math.max(o,r*Math.sqrt(2)))),P.getHandleBounds(t,e,n,i,P._getPenPadding(r,i),P._getPenPadding(o,i))}}});P.inject({statics:new function(){function t(t,n,i){var r=e.getNamed(i),o=new P(r&&r.insert===!1&&y.NO_INSERT);return o._add(t),o._closed=n,o.set(r)}function n(e,n,i){for(var o=new Array(4),s=0;4>s;s++){var a=r[s];o[s]=new S(a._point.multiply(n).add(e),a._handleIn.multiply(n),a._handleOut.multiply(n))}return t(o,!0,i)}var i=.5522847498307936,r=[new S([-1,0],[0,i],[0,-i]),new S([0,-1],[-i,0],[i,0]),new S([1,0],[0,-i],[0,i]),new S([0,1],[i,0],[-i,0])];return{Line:function(){return t([new S(l.readNamed(arguments,"from")),new S(l.readNamed(arguments,"to"))],!1,arguments)},Circle:function(){var t=l.readNamed(arguments,"center"),i=e.readNamed(arguments,"radius");return n(t,new c(i),arguments)},Rectangle:function(){var e,n=d.readNamed(arguments,"rectangle"),r=c.readNamed(arguments,"radius",0,{readNull:!0}),o=n.getBottomLeft(!0),s=n.getTopLeft(!0),a=n.getTopRight(!0),l=n.getBottomRight(!0);if(!r||r.isZero())e=[new S(o),new S(s),new S(a),new S(l)];else{r=c.min(r,n.getSize(!0).divide(2));var u=r.width,h=r.height,p=u*i,f=h*i;e=[new S(o.add(u,0),null,[-p,0]),new S(o.subtract(0,h),[0,f]),new S(s.add(0,h),null,[0,-f]),new S(s.add(u,0),[-p,0],null),new S(a.subtract(u,0),null,[p,0]),new S(a.add(0,h),[0,-f],null),new S(l.subtract(0,h),null,[0,f]),new S(l.subtract(u,0),[p,0])]}return t(e,!0,arguments)},RoundRectangle:"#Rectangle",Ellipse:function(){var t=w._readEllipse(arguments);return n(t.center,t.radius,arguments)},Oval:"#Ellipse",Arc:function(){var t=l.readNamed(arguments,"from"),n=l.readNamed(arguments,"through"),i=l.readNamed(arguments,"to"),r=e.getNamed(arguments),o=new P(r&&r.insert===!1&&y.NO_INSERT);return o.moveTo(t),o.arcTo(n,i),o.set(r)},RegularPolygon:function(){for(var n=l.readNamed(arguments,"center"),i=e.readNamed(arguments,"sides"),r=e.readNamed(arguments,"radius"),o=360/i,s=!(i%3),a=new l(0,s?-r:r),u=s?-1:.5,c=new Array(i),h=0;i>h;h++)c[h]=new S(n.add(a.rotate((h+u)*o)));return t(c,!0,arguments)},Star:function(){for(var n=l.readNamed(arguments,"center"),i=2*e.readNamed(arguments,"points"),r=e.readNamed(arguments,"radius1"),o=e.readNamed(arguments,"radius2"),s=360/i,a=new l(0,-1),u=new Array(i),c=0;i>c;c++)u[c]=new S(n.add(a.rotate(s*c).multiply(c%2?o:r)));return t(u,!0,arguments)}}}});var M=A.extend({_class:"CompoundPath",_serializeFields:{children:[]},initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||("string"==typeof t?this.setPathData(t):this.addChildren(Array.isArray(t)?t:arguments))},insertChildren:function yt(e,n,i){for(var r=n.length-1;r>=0;r--){var o=n[r];o instanceof M&&(n.splice.apply(n,[r,1].concat(o.removeChildren())),o.remove())}n=yt.base.call(this,e,n,i,P);for(var r=0,s=!i&&n&&n.length;s>r;r++){var o=n[r];o._clockwise===t&&o.setClockwise(0===o._index)}return n},reverse:function(){for(var t=this._children,e=0,n=t.length;n>e;e++)t[e].reverse()},smooth:function(){for(var t=0,e=this._children.length;e>t;t++)this._children[t].smooth()},reduce:function _t(){for(var t=this._children,e=t.length-1;e>=0;e--){var n=t[e].reduce();n.isEmpty()&&t.splice(e,1)}if(0===t.length){var n=new P(y.NO_INSERT);return n.insertAbove(this),n.setStyle(this._style),this.remove(),n}return _t.base.call(this)},isClockwise:function(){var t=this.getFirstChild();return t&&t.isClockwise()},setClockwise:function(t){this.isClockwise()!==!!t&&this.reverse()},getFirstSegment:function(){var t=this.getFirstChild();return t&&t.getFirstSegment()},getLastSegment:function(){var t=this.getLastChild();return t&&t.getLastSegment()},getCurves:function(){for(var t=this._children,e=[],n=0,i=t.length;i>n;n++)e.push.apply(e,t[n].getCurves());return e},getFirstCurve:function(){var t=this.getFirstChild();return t&&t.getFirstCurve()},getLastCurve:function(){var t=this.getLastChild();return t&&t.getFirstCurve()},getArea:function(){for(var t=this._children,e=0,n=0,i=t.length;i>n;n++)e+=t[n].getArea();return e}},{beans:!0,getPathData:function(t,e){for(var n=this._children,i=[],r=0,o=n.length;o>r;r++){var s=n[r],a=s._matrix;i.push(s.getPathData(t&&!a.isIdentity()?t.chain(a):t,e))}return i.join(" ")}},{_getChildHitTestOptions:function(t){return t["class"]===P||"path"===t.type?t:new e(t,{fill:!1})},_draw:function(t,e,n){var i=this._children;if(0!==i.length){if(this._currentPath)t.currentPath=this._currentPath;else{e=e.extend({dontStart:!0,dontFinish:!0}),t.beginPath();for(var r=0,o=i.length;o>r;r++)i[r].draw(t,e,n);this._currentPath=t.currentPath}if(!e.clip){this._setStyles(t);var s=this._style;s.hasFill()&&(t.fill(s.getWindingRule()),t.shadowColor="rgba(0,0,0,0)"),s.hasStroke()&&t.stroke()}}},_drawSelected:function(t,e,n){for(var i=this._children,r=0,o=i.length;o>r;r++){var s=i[r],a=s._matrix;n[s._id]||s._drawSelected(t,a.isIdentity()?e:e.chain(a))}}},new function(){function t(t,e){var n=t._children;if(e&&0===n.length)throw new Error("Use a moveTo() command first");return n[n.length-1]}var n={moveTo:function(){var e=t(this),n=e&&e.isEmpty()?e:new P(y.NO_INSERT);n!==e&&this.addChild(n),n.moveTo.apply(n,arguments)},moveBy:function(){var e=t(this,!0),n=e&&e.getLastSegment(),i=l.read(arguments);this.moveTo(n?i.add(n._point):i)},closePath:function(e){t(this,!0).closePath(e)}};return e.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(e){n[e]=function(){var n=t(this,!0);n[e].apply(n,arguments)}}),n});A.inject(new function(){function t(t,e){var n=t.clone(!1).reduce().transform(null,!0,!0);return e?n.resolveCrossings().reorient():n}function e(t,e,n,i,r){var o=new t(y.NO_INSERT);return o.addChildren(e,!0),r&&(o=o.reduce()),o.insertAbove(i&&n.isSibling(i)&&n.getIndex()<i.getIndex()?i:n),o.setStyle(n._style),o}function n(n,r,s){function a(t){for(var e=0,n=t.length;n>e;e++){var i=t[e];p.push.apply(p,i._segments),f.push.apply(f,i._getMonoCurves())}}if(!n._children&&!n._closed)return i(n,r,s);var l=t(n,!0),h=r&&n!==r&&t(r,!0);h&&/^(subtract|exclude)$/.test(s)^h.isClockwise()!==l.isClockwise()&&h.reverse();var d=D.expand(l.getIntersections(h,function(t){return h&&t.isOverlap()||t.isCrossing()}));o(d);var p=[],f=[];a(l._children||[l]),h&&a(h._children||[h]);for(var g=0,m=d.length;m>g;g++)u(d[g]._segment,l,h,f,s);for(var g=0,m=p.length;m>g;g++){var v=p[g];null==v._winding&&u(v,l,h,f,s)}return e(M,c(p,s),n,r,!0)}function i(n,i,r){function o(t){return a.contains(t.getPointAt(t.getLength()/2))^u?(c.unshift(t),!0):void 0}if(!i||!i._children&&!i._closed||!/^(subtract|intersect)$/.test(r))return null;for(var s=t(n,!1),a=t(i,!1),l=s.getIntersections(a,function(t){return t.isOverlap()||t.isCrossing()}),u="subtract"===r,c=[],h=l.length-1;h>=0;h--){var d=l[h].split();d&&(o(d)&&d.getFirstSegment().setHandleIn(0,0),s.getLastSegment().setHandleOut(0,0))}return o(s),e(_,c,n,i)}function r(t,e){for(var n=t;n;){if(n===e)return;n=n._prev}for(;t._next&&t._next!==e;)t=t._next;if(!t._next){for(;e._prev;)e=e._prev;t._next=e,e._prev=t}}function o(t){for(var e,n,i=4e-7,o=1-i,s=!1,a=[],l=t.length-1;l>=0;l--){var u=t[l],c=u._curve,h=u._parameter,d=h;c!==e?s=!c.hasHandles():n>0&&(h/=n);var p;i>h?p=c._segment1:h>o?p=c._segment2:(p=c.divide(h,!0,!0)._segment1,s&&a.push(p)),u._setSegment(p);var f=p._intersection,g=u._intersection;if(f){r(f,g);for(var m=f;m;)r(m._intersection,f),m=m._next}else p._intersection=g;e=c,n=d}for(var l=0,v=a.length;v>l;l++)a[l].clearHandles()}function a(t,e,n,i){var r=2e-7,o=4e-7,u=1-o,c=t.x,h=t.y,d=0,p=0,f=[],g=Math.abs;if(n){for(var m=-(1/0),v=1/0,y=h-r,_=h+r,b=0,w=e.length;w>b;b++){var x=e[b].values;if(T.solveCubic(x,0,c,f,0,1)>0)for(var C=f.length-1;C>=0;C--){var k=T.getPoint(x,f[C]).y;y>k&&k>m?m=k:k>_&&v>k&&(v=k)}}m=(m+h)/2,v=(v+h)/2,
m>-(1/0)&&(d=a(new l(c,m),e,!1,i)),1/0>v&&(p=a(new l(c,v),e,!1,i))}else for(var S,E,D=c-r,A=c+r,P=!1,b=0,w=e.length;w>b;b++){var M=e[b],x=M.values,O=M.winding;if(O&&(1===O&&h>=x[1]&&h<=x[7]||h>=x[7]&&h<=x[1])&&1===T.solveCubic(x,1,h,f,0,1)){var I=f[0];if(!(I>u&&P&&M.next!==e[b+1]||o>I&&E>u&&M.previous===S)){var R=T.getPoint(x,I).x,N=T.getTangent(x,I).y,L=!1;s.isZero(N)&&!T.isStraight(x)||o>I&&N*T.getTangent(M.previous.values,1).y<0||I>u&&N*T.getTangent(M.next.values,0).y<0?i&&R>=D&&A>=R&&(++d,++p,L=!0):D>=R?(d+=O,L=!0):R>=A&&(p+=O,L=!0),M.previous!==e[b-1]&&(P=o>I&&L)}S=M,E=I}}return Math.max(g(d),g(p))}function u(t,e,n,i,r){var o=2e-7,s=[],l=t,u=0,c=0;do{var h=t.getCurve(),d=h.getLength();s.push({segment:t,curve:h,length:d}),u+=d,t=t.getNext()}while(t&&!t._intersection&&t!==l);for(var p=0;3>p;p++)for(var d=u*(p+1)/4,f=0,g=s.length;g>f;f++){var m=s[f],v=m.length;if(v>=d){(o>d||o>v-d)&&(d=v/2);var h=m.curve,y=h._path,_=y._parent,b=h.getPointAt(d),w=h.isHorizontal();_ instanceof M&&(y=_),c+="subtract"===r&&n&&(y===e&&n._getWinding(b,w)||y===n&&!e._getWinding(b,w))?0:a(b,i,w);break}d-=v}for(var x=Math.round(c/3),C=s.length-1;C>=0;C--)s[C].segment._winding=x}function c(t,e){function n(t,e){if(t._visited)return!1;if(!c)return!0;var n=t._winding,i=t._intersection;return i&&e&&d&&i.isOverlap()&&(n=d[n]||n),c(n)}function i(t){return t===a||t===l}function r(t,e){if(!t._next)return t;for(;t;){var r=t._segment,o=r.getNext(),s=o._intersection;if(i(o)||!r._visited&&!o._visited&&(!c||(!e||n(r))&&(!(e&&s&&s.isOverlap())&&n(o)||!e&&s&&n(s._segment))))return t;t=t._next}return null}function o(t,e){for(;t;){var n=t._segment;if(i(n))return n;t=t[e?"_next":"_prev"]}}for(var a,l,u=[],c=h[e],d={unite:{1:2},intersect:{2:1}}[e],p=0,f=t.length;f>p;p++){var g=t[p],m=null,v=!1;if(n(g,!0)){for(a=l=null;!v;){var _=g._intersection,b=m&&g._handleIn;_=_&&(r(_,!0)||r(_,!1))||_;var w=_&&_._segment;if(w&&n(w)&&(g=w),g._visited){if(v=i(g),!v&&_){var x=o(_,!0)||o(_,!1);x&&(g=x,v=!0)}break}m||(m=new P(y.NO_INSERT),a=g,l=w),m.add(new S(g._point,b,g._handleOut)),g._visited=!0,g=g.getNext(),v=i(g)}v?(m.firstSegment.setHandleIn(g._handleIn),m.setClosed(!0)):m&&(console.error("Boolean operation resulted in open path","segments =",m._segments.length,"length =",m.getLength()),m=null),m&&(m._segments.length>8||!s.isZero(m.getArea()))&&(u.push(m),m=null)}}return u}var h={unite:function(t){return 1===t||0===t},intersect:function(t){return 2===t},subtract:function(t){return 1===t},exclude:function(t){return 1===t}};return{_getWinding:function(t,e,n){return a(t,this._getMonoCurves(),e,n)},unite:function(t){return n(this,t,"unite")},intersect:function(t){return n(this,t,"intersect")},subtract:function(t){return n(this,t,"subtract")},exclude:function(t){return n(this,t,"exclude")},divide:function(t){return e(_,[this.subtract(t),this.intersect(t)],this,t,!0)},resolveCrossings:function(){var t=this.getCrossings();if(!t.length)return this;o(D.expand(t));for(var n=this._children||[this],i=[],r=0,s=n.length;s>r;r++)i.push.apply(i,n[r]._segments);return e(M,c(i),this,null,!1)}}}),P.inject({_getMonoCurves:function(){function t(t){var e=t[1],r=t[7],o={values:t,winding:e===r?0:e>r?-1:1,previous:n,next:null};n&&(n.next=o),i.push(o),n=o}function e(e){if(0!==T.getLength(e)){var n=e[1],i=e[3],r=e[5],o=e[7];if(T.isStraight(e))t(e);else{var a=3*(i-r)-n+o,l=2*(n+r)-4*i,u=i-n,c=4e-7,h=1-c,d=[],p=s.solveQuadratic(a,l,u,d,c,h);if(0===p)t(e);else{d.sort();var f=d[0],g=T.subdivide(e,f);t(g[0]),p>1&&(f=(d[1]-f)/(1-f),g=T.subdivide(g[1],f),t(g[0])),t(g[1])}}}}var n,i=this._monoCurves;if(!i){i=this._monoCurves=[];for(var r=this.getCurves(),o=this._segments,a=0,l=r.length;l>a;a++)e(r[a].getValues());if(!this._closed&&o.length>1){var u=o[o.length-1]._point,c=o[0]._point,h=u._x,d=u._y,p=c._x,f=c._y;e([h,d,h,d,p,f,p,f])}if(i.length>0){var g=i[0],m=i[i.length-1];g.previous=m,m.next=g}}return i},getInteriorPoint:function(){var t=this.getBounds(),e=t.getCenter(!0);if(!this.contains(e)){for(var n=this._getMonoCurves(),i=[],r=e.y,o=[],s=0,a=n.length;a>s;s++){var l=n[s].values;if((1===n[s].winding&&r>=l[1]&&r<=l[7]||r>=l[7]&&r<=l[1])&&T.solveCubic(l,1,r,i,0,1)>0)for(var u=i.length-1;u>=0;u--)o.push(T.getPoint(l,i[u]).x);if(o.length>1)break}e.x=(o[0]+o[1])/2}return e},reorient:function(){return this.setClockwise(!0),this}}),M.inject({_getMonoCurves:function(){for(var t=this._children,e=[],n=0,i=t.length;i>n;n++)e.push.apply(e,t[n]._getMonoCurves());return e},reorient:function(){var t=this.removeChildren().sort(function(t,e){return e.getBounds().getArea()-t.getBounds().getArea()});if(t.length>0){this.addChildren(t);for(var e=t[0].isClockwise(),n=1,i=t.length;i>n;n++){for(var r=t[n].getInteriorPoint(),o=0,s=n-1;s>=0;s--)t[s].contains(r)&&o++;t[n].setClockwise(o%2===0&&e)}}return this}});var O=e.extend({_class:"PathIterator",initialize:function(t,e,n,i){function r(t,e){var n=T.getValues(t,e,i);a.push(n),o(n,t._index,0,1)}function o(t,e,i,r){if(r-i>c&&!T.isFlatEnough(t,n||.25)){var s=T.subdivide(t,.5),a=(i+r)/2;o(s[0],e,i,a),o(s[1],e,a,r)}else{var h=t[6]-t[0],d=t[7]-t[1],p=Math.sqrt(h*h+d*d);p>1e-6&&(u+=p,l.push({offset:u,value:r,index:e}))}}for(var s,a=[],l=[],u=0,c=1/(e||32),h=t._segments,d=h[0],p=1,f=h.length;f>p;p++)s=h[p],r(d,s),d=s;t._closed&&r(s,h[0]),this.curves=a,this.parts=l,this.length=u,this.index=0},getParameterAt:function(t){for(var e,n=this.index;e=n,!(0==n||this.parts[--n].offset<t););for(var i=this.parts.length;i>e;e++){var r=this.parts[e];if(r.offset>=t){this.index=e;var o=this.parts[e-1],s=o&&o.index==r.index?o.value:0,a=o?o.offset:0;return{value:s+(r.value-s)*(t-a)/(r.offset-a),index:r.index}}}var r=this.parts[this.parts.length-1];return{value:1,index:r.index}},drawPart:function(t,e,n){e=this.getParameterAt(e),n=this.getParameterAt(n);for(var i=e.index;i<=n.index;i++){var r=T.getPart(this.curves[i],i==e.index?e.value:0,i==n.index?n.value:1);i==e.index&&t.moveTo(r[0],r[1]),t.bezierCurveTo.apply(t,r.slice(2))}}},e.each(T.evaluateMethods,function(t){this[t+"At"]=function(e,n){var i=this.getParameterAt(e);return T[t](this.curves[i.index],i.value,n)}},{})),I=e.extend({initialize:function(t,e){for(var n,i=this.points=[],r=t._segments,o=0,s=r.length;s>o;o++){var a=r[o].point.clone();n&&n.equals(a)||(i.push(a),n=a)}t._closed&&(this.closed=!0,i.unshift(i[i.length-1]),i.push(i[1])),this.error=e},fit:function(){var t=this.points,e=t.length,n=this.segments=e>0?[new S(t[0])]:[];return e>1&&this.fitCubic(0,e-1,t[1].subtract(t[0]).normalize(),t[e-2].subtract(t[e-1]).normalize()),this.closed&&(n.shift(),n.pop()),n},fitCubic:function(t,e,n,i){if(e-t==1){var r=this.points[t],o=this.points[e],s=r.getDistance(o)/3;return void this.addCurve([r,r.add(n.normalize(s)),o.add(i.normalize(s)),o])}for(var a,l=this.chordLengthParameterize(t,e),u=Math.max(this.error,this.error*this.error),c=!0,h=0;4>=h;h++){var d=this.generateBezier(t,e,l,n,i),p=this.findMaxError(t,e,d,l);if(p.error<this.error&&c)return void this.addCurve(d);if(a=p.index,p.error>=u)break;c=this.reparameterize(t,e,l,d),u=p.error}var f=this.points[a-1].subtract(this.points[a]),g=this.points[a].subtract(this.points[a+1]),m=f.add(g).divide(2).normalize();this.fitCubic(t,a,n,m),this.fitCubic(a,e,m.negate(),i)},addCurve:function(t){var e=this.segments[this.segments.length-1];e.setHandleOut(t[1].subtract(t[0])),this.segments.push(new S(t[3],t[2].subtract(t[3])))},generateBezier:function(t,e,n,i,r){for(var o=1e-12,s=this.points[t],a=this.points[e],l=[[0,0],[0,0]],u=[0,0],c=0,h=e-t+1;h>c;c++){var d=n[c],p=1-d,f=3*d*p,g=p*p*p,m=f*p,v=f*d,y=d*d*d,_=i.normalize(m),b=r.normalize(v),w=this.points[t+c].subtract(s.multiply(g+m)).subtract(a.multiply(v+y));l[0][0]+=_.dot(_),l[0][1]+=_.dot(b),l[1][0]=l[0][1],l[1][1]+=b.dot(b),u[0]+=_.dot(w),u[1]+=b.dot(w)}var x,C,k=l[0][0]*l[1][1]-l[1][0]*l[0][1];if(Math.abs(k)>o){var S=l[0][0]*u[1]-l[1][0]*u[0],E=u[0]*l[1][1]-u[1]*l[0][1];x=E/k,C=S/k}else{var T=l[0][0]+l[0][1],D=l[1][0]+l[1][1];x=C=Math.abs(T)>o?u[0]/T:Math.abs(D)>o?u[1]/D:0}var A,P,M=a.getDistance(s),O=o*M;if(O>x||O>C)x=C=M/3;else{var I=a.subtract(s);A=i.normalize(x),P=r.normalize(C),A.dot(I)-P.dot(I)>M*M&&(x=C=M/3,A=P=null)}return[s,s.add(A||i.normalize(x)),a.add(P||r.normalize(C)),a]},reparameterize:function(t,e,n,i){for(var r=t;e>=r;r++)n[r-t]=this.findRoot(i,this.points[r],n[r-t]);for(var r=1,o=n.length;o>r;r++)if(n[r]<=n[r-1])return!1;return!0},findRoot:function(t,e,n){for(var i=[],r=[],o=0;2>=o;o++)i[o]=t[o+1].subtract(t[o]).multiply(3);for(var o=0;1>=o;o++)r[o]=i[o+1].subtract(i[o]).multiply(2);var s=this.evaluate(3,t,n),a=this.evaluate(2,i,n),l=this.evaluate(1,r,n),u=s.subtract(e),c=a.dot(a)+u.dot(l);return Math.abs(c)<1e-6?n:n-u.dot(a)/c},evaluate:function(t,e,n){for(var i=e.slice(),r=1;t>=r;r++)for(var o=0;t-r>=o;o++)i[o]=i[o].multiply(1-n).add(i[o+1].multiply(n));return i[0]},chordLengthParameterize:function(t,e){for(var n=[0],i=t+1;e>=i;i++)n[i-t]=n[i-t-1]+this.points[i].getDistance(this.points[i-1]);for(var i=1,r=e-t;r>=i;i++)n[i]/=n[r];return n},findMaxError:function(t,e,n,i){for(var r=Math.floor((e-t+1)/2),o=0,s=t+1;e>s;s++){var a=this.evaluate(3,n,i[s-t]),l=a.subtract(this.points[s]),u=l.x*l.x+l.y*l.y;u>=o&&(o=u,r=s)}return{error:o,index:r}}}),R=y.extend({_class:"TextItem",_boundsSelected:!0,_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsGetter:"getBounds",initialize:function(n){this._content="",this._lines=[];var i=n&&e.isPlainObject(n)&&n.x===t&&n.y===t;this._initialize(i&&n,!i&&l.read(arguments))},_equals:function(t){return this._content===t._content},_clone:function bt(t,e,n){return t.setContent(this._content),bt.base.call(this,t,e,n)},getContent:function(){return this._content},setContent:function(t){this._content=""+t,this._lines=this._content.split(/\r\n|\n|\r/gm),this._changed(265)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),N=R.extend({_class:"PointText",initialize:function(){R.apply(this,arguments)},clone:function(t){return this._clone(new N(y.NO_INSERT),t)},getPoint:function(){var t=this._matrix.getTranslation();return new u(t.x,t.y,this,"setPoint")},setPoint:function(){var t=l.read(arguments);this.translate(t.subtract(this._matrix.getTranslation()))},_draw:function(t){if(this._content){this._setStyles(t);var e=this._style,n=this._lines,i=e.getLeading(),r=t.shadowColor;t.font=e.getFontStyle(),t.textAlign=e.getJustification();for(var o=0,s=n.length;s>o;o++){t.shadowColor=r;var a=n[o];e.hasFill()&&(t.fillText(a,0,0),t.shadowColor="rgba(0,0,0,0)"),e.hasStroke()&&t.strokeText(a,0,0),t.translate(0,i)}}},_getBounds:function(t,e){var n=this._style,i=this._lines,r=i.length,o=n.getJustification(),s=n.getLeading(),a=this.getView().getTextWidth(n.getFontStyle(),i),l=0;"left"!==o&&(l-=a/("center"===o?2:1));var u=new d(l,r?-.75*s:0,a,r*s);return e?e._transformBounds(u,u):u}}),L=e.extend(new function(){function t(t){var e,i=t.match(/^#(\w{1,2})(\w{1,2})(\w{1,2})$/);if(i){e=[0,0,0];for(var r=0;3>r;r++){var o=i[r+1];e[r]=parseInt(1==o.length?o+o:o,16)/255}}else if(i=t.match(/^rgba?\((.*)\)$/)){e=i[1].split(",");for(var r=0,a=e.length;a>r;r++){var o=+e[r];e[r]=3>r?o/255:o}}else{var l=s[t];if(!l){n||(n=Z.getContext(1,1),n.globalCompositeOperation="copy"),n.fillStyle="rgba(0,0,0,0)",n.fillStyle=t,n.fillRect(0,0,1,1);var u=n.getImageData(0,0,1,1).data;l=s[t]=[u[0]/255,u[1]/255,u[2]/255]}e=l.slice()}return e}var n,i={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},r={},s={},u=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],c={"rgb-hsb":function(t,e,n){var i=Math.max(t,e,n),r=Math.min(t,e,n),o=i-r,s=0===o?0:60*(i==t?(e-n)/o+(n>e?6:0):i==e?(n-t)/o+2:(t-e)/o+4);return[s,0===i?0:o/i,i]},"hsb-rgb":function(t,e,n){t=(t/60%6+6)%6;var i=Math.floor(t),r=t-i,i=u[i],o=[n,n*(1-e),n*(1-e*r),n*(1-e*(1-r))];return[o[i[0]],o[i[1]],o[i[2]]]},"rgb-hsl":function(t,e,n){var i=Math.max(t,e,n),r=Math.min(t,e,n),o=i-r,s=0===o,a=s?0:60*(i==t?(e-n)/o+(n>e?6:0):i==e?(n-t)/o+2:(t-e)/o+4),l=(i+r)/2,u=s?0:.5>l?o/(i+r):o/(2-i-r);return[a,u,l]},"hsl-rgb":function(t,e,n){if(t=(t/360%1+1)%1,0===e)return[n,n,n];for(var i=[t+1/3,t,t-1/3],r=.5>n?n*(1+e):n+e-n*e,o=2*n-r,s=[],a=0;3>a;a++){var l=i[a];0>l&&(l+=1),l>1&&(l-=1),s[a]=1>6*l?o+6*(r-o)*l:1>2*l?r:2>3*l?o+(r-o)*(2/3-l)*6:o}return s},"rgb-gray":function(t,e,n){return[.2989*t+.587*e+.114*n]},"gray-rgb":function(t){return[t,t,t]},"gray-hsb":function(t){return[0,0,t]},"gray-hsl":function(t){return[0,0,t]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return e.each(i,function(t,n){r[n]=[],e.each(t,function(t,o){var s=e.capitalize(t),a=/^(hue|saturation)$/.test(t),u=r[n][o]="gradient"===t?function(t){var e=this._components[0];return t=$.read(Array.isArray(t)?t:arguments,0,{readNull:!0}),e!==t&&(e&&e._removeOwner(this),t&&t._addOwner(this)),t}:"gradient"===n?function(){return l.read(arguments,0,{readNull:"highlight"===t,clone:!0})}:function(t){return null==t||isNaN(t)?0:t};this["get"+s]=function(){return this._type===n||a&&/^hs[bl]$/.test(this._type)?this._components[o]:this._convert(n)[o]},this["set"+s]=function(t){this._type===n||a&&/^hs[bl]$/.test(this._type)||(this._components=this._convert(n),this._properties=i[n],this._type=n),this._components[o]=u.call(this,t),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function h(e){var n,o,s,l,u=Array.prototype.slice,c=arguments,d=0;Array.isArray(e)&&(c=e,e=c[0]);var p=null!=e&&typeof e;if("string"===p&&e in i&&(n=e,e=c[1],Array.isArray(e)?(o=e,s=c[2]):(this.__read&&(d=1),c=u.call(c,1),p=typeof e)),!o){if(l="number"===p?c:"object"===p&&null!=e.length?e:null){n||(n=l.length>=3?"rgb":"gray");var f=i[n].length;s=l[f],this.__read&&(d+=l===arguments?f+(null!=s?1:0):1),l.length>f&&(l=u.call(l,0,f))}else if("string"===p)n="rgb",o=t(e),4===o.length&&(s=o[3],o.length--);else if("object"===p)if(e.constructor===h){if(n=e._type,o=e._components.slice(),s=e._alpha,"gradient"===n)for(var g=1,m=o.length;m>g;g++){var v=o[g];v&&(o[g]=v.clone())}}else if(e.constructor===$)n="gradient",l=c;else{n="hue"in e?"lightness"in e?"hsl":"hsb":"gradient"in e||"stops"in e||"radial"in e?"gradient":"gray"in e?"gray":"rgb";var y=i[n],_=r[n];this._components=o=[];for(var g=0,m=y.length;m>g;g++){var b=e[y[g]];null==b&&0===g&&"gradient"===n&&"stops"in e&&(b={stops:e.stops,radial:e.radial}),b=_[g].call(this,b),null!=b&&(o[g]=b)}s=e.alpha}this.__read&&n&&(d=1)}if(this._type=n||"rgb",this._id=a.get(h),!o){this._components=o=[];for(var _=r[this._type],g=0,m=_.length;m>g;g++){var b=_[g].call(this,l&&l[g]);null!=b&&(o[g]=b)}}this._components=o,this._properties=i[this._type],this._alpha=s,this.__read&&(this.__read=d)},_serialize:function(t,n){var i=this.getComponents();return e.serialize(/^(gray|rgb)$/.test(this._type)?i:[this._type].concat(i),t,!0,n)},_changed:function(){this._canvasStyle=null,this._owner&&this._owner._changed(65)},_convert:function(t){var e;return this._type===t?this._components.slice():(e=c[this._type+"-"+t])?e.apply(this,this._components):c["rgb-"+t].apply(this,c[this._type+"-rgb"].apply(this,this._components))},convert:function(t){return new L(t,this._convert(t),this._alpha)},getType:function(){return this._type},setType:function(t){this._components=this._convert(t),this._properties=i[t],this._type=t},getComponents:function(){var t=this._components.slice();return null!=this._alpha&&t.push(this._alpha),t},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(t){this._alpha=null==t?null:Math.min(Math.max(t,0),1),this._changed()},hasAlpha:function(){return null!=this._alpha},equals:function(t){var n=e.isPlainValue(t,!0)?L.read(arguments):t;return n===this||n&&this._class===n._class&&this._type===n._type&&this._alpha===n._alpha&&e.equals(this._components,n._components)||!1},toString:function(){for(var t=this._properties,e=[],n="gradient"===this._type,i=o.instance,r=0,s=t.length;s>r;r++){var a=this._components[r];null!=a&&e.push(t[r]+": "+(n?a:i.number(a)))}return null!=this._alpha&&e.push("alpha: "+i.number(this._alpha)),"{ "+e.join(", ")+" }"},toCSS:function(t){function e(t){return Math.round(255*(0>t?0:t>1?1:t))}var n=this._convert("rgb"),i=t||null==this._alpha?1:this._alpha;return n=[e(n[0]),e(n[1]),e(n[2])],1>i&&n.push(0>i?0:i),t?"#"+((1<<24)+(n[0]<<16)+(n[1]<<8)+n[2]).toString(16).slice(1):(4==n.length?"rgba(":"rgb(")+n.join(",")+")"},toCanvasStyle:function(t){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();var e,n=this._components,i=n[0],r=i._stops,o=n[1],s=n[2];if(i._radial){var a=s.getDistance(o),l=n[3];if(l){var u=l.subtract(o);u.getLength()>a&&(l=o.add(u.normalize(a-.1)))}var c=l||o;e=t.createRadialGradient(c.x,c.y,0,o.x,o.y,a)}else e=t.createLinearGradient(o.x,o.y,s.x,s.y);for(var h=0,d=r.length;d>h;h++){var p=r[h];e.addColorStop(p._rampPoint,p._color.toCanvasStyle())}return this._canvasStyle=e},transform:function(t){if("gradient"===this._type){for(var e=this._components,n=1,i=e.length;i>n;n++){var r=e[n];t._transformPoint(r,r,!0)}this._changed()}},statics:{_types:i,random:function(){var t=Math.random;return new L(t(),t(),t())}}})},new function(){var t={add:function(t,e){return t+e},subtract:function(t,e){return t-e},multiply:function(t,e){return t*e},divide:function(t,e){return t/e}};return e.each(t,function(t,e){this[e]=function(e){e=L.read(arguments);for(var n=this._type,i=this._components,r=e._convert(n),o=0,s=i.length;s>o;o++)r[o]=t(i[o],r[o]);return new L(n,r,null!=this._alpha?t(this._alpha,e.getAlpha()):null)}},{})}),$=e.extend({_class:"Gradient",initialize:function(t,e){this._id=a.get(),t&&this._set(t)&&(t=e=null),this._stops||this.setStops(t||["white","black"]),null==this._radial&&this.setRadial("string"==typeof e&&"radial"===e||e||!1)},_serialize:function(t,n){return n.add(this,function(){return e.serialize([this._stops,this._radial],t,!0,n)})},_changed:function(){for(var t=0,e=this._owners&&this._owners.length;e>t;t++)this._owners[t]._changed()},_addOwner:function(t){this._owners||(this._owners=[]),this._owners.push(t)},_removeOwner:function(e){var n=this._owners?this._owners.indexOf(e):-1;-1!=n&&(this._owners.splice(n,1),0===this._owners.length&&(this._owners=t))},clone:function(){for(var t=[],e=0,n=this._stops.length;n>e;e++)t[e]=this._stops[e].clone();return new $(t,this._radial)},getStops:function(){return this._stops},setStops:function(e){if(this.stops)for(var n=0,i=this._stops.length;i>n;n++)this._stops[n]._owner=t;if(e.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");this._stops=j.readAll(e,0,{clone:!0});for(var n=0,i=this._stops.length;i>n;n++){var r=this._stops[n];r._owner=this,r._defaultRamp&&r.setRampPoint(n/(i-1))}this._changed()},getRadial:function(){return this._radial},setRadial:function(t){this._radial=t,this._changed()},equals:function(t){if(t===this)return!0;if(t&&this._class===t._class&&this._stops.length===t._stops.length){for(var e=0,n=this._stops.length;n>e;e++)if(!this._stops[e].equals(t._stops[e]))return!1;return!0}return!1}}),j=e.extend({_class:"GradientStop",initialize:function(e,n){if(e){var i,r;n===t&&Array.isArray(e)?(i=e[0],r=e[1]):e.color?(i=e.color,r=e.rampPoint):(i=e,r=n),this.setColor(i),this.setRampPoint(r)}},clone:function(){return new j(this._color.clone(),this._rampPoint)},_serialize:function(t,n){return e.serialize([this._color,this._rampPoint],t,!0,n)},_changed:function(){this._owner&&this._owner._changed(65)},getRampPoint:function(){return this._rampPoint},setRampPoint:function(t){this._defaultRamp=null==t,this._rampPoint=t||0,this._changed()},getColor:function(){return this._color},setColor:function(t){this._color=L.read(arguments),this._color===t&&(this._color=t.clone()),this._color._owner=this,this._changed()},equals:function(t){return t===this||t&&this._class===t._class&&this._color.equals(t._color)&&this._rampPoint==t._rampPoint||!1}}),F=e.extend(new function(){var n={fillColor:t,strokeColor:t,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],windingRule:"nonzero",shadowColor:t,shadowBlur:0,shadowOffset:new l,selectedColor:t,fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,font:"sans-serif",leading:null,justification:"left"},i={strokeWidth:97,strokeCap:97,strokeJoin:97,strokeScaling:105,miterLimit:97,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},r={beans:!0},o={_defaults:n,_textDefaults:new e(n,{fillColor:new L}),beans:!0};return e.each(n,function(n,s){var a=/Color$/.test(s),u="shadowOffset"===s,c=e.capitalize(s),h=i[s],d="set"+c,p="get"+c;o[d]=function(e){var n=this._owner,i=n&&n._children;if(i&&i.length>0&&!(n instanceof M))for(var r=0,o=i.length;o>r;r++)i[r]._style[d](e);else{var l=this._values[s];l!==e&&(a&&(l&&(l._owner=t),e&&e.constructor===L&&(e._owner&&(e=e.clone()),e._owner=n)),this._values[s]=e,n&&n._changed(h||65))}},o[p]=function(n){var i,r=this._owner,o=r&&r._children;if(!o||0===o.length||n||r instanceof M){var i=this._values[s];if(i===t)i=this._defaults[s],i&&i.clone&&(i=i.clone());else{var c=a?L:u?l:null;!c||i&&i.constructor===c||(this._values[s]=i=c.read([i],0,{readNull:!0,clone:!0}),i&&a&&(i._owner=r))}return i}for(var h=0,d=o.length;d>h;h++){var f=o[h]._style[p]();if(0===h)i=f;else if(!e.equals(i,f))return t}return i},r[p]=function(t){return this._style[p](t)},r[d]=function(t){this._style[d](t)}}),y.inject(r),o},{_class:"Style",initialize:function(t,e,n){this._values={},this._owner=e,this._project=e&&e._project||n||paper.project,e instanceof R&&(this._defaults=this._textDefaults),t&&this.set(t)},set:function(t){var e=t instanceof F,n=e?t._values:t;if(n)for(var i in n)if(i in this._defaults){var r=n[i];this[i]=r&&e&&r.clone?r.clone():r}},equals:function(t){return t===this||t&&this._class===t._class&&e.equals(this._values,t._values)||!1},hasFill:function(){return!!this.getFillColor()},hasStroke:function(){return!!this.getStrokeColor()&&this.getStrokeWidth()>0},hasShadow:function(){return!!this.getShadowColor()&&this.getShadowBlur()>0},getView:function(){return this._project.getView()},getFontStyle:function(){var t=this.getFontSize();return this.getFontWeight()+" "+t+(/[a-z]/i.test(t+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function wt(){var t=wt.base.call(this),e=this.getFontSize();return/pt|em|%|px/.test(e)&&(e=this.getView().getPixelSize(e)),null!=t?t:1.2*e}}),z=new function(){function t(t,e,n,i){for(var r=["","webkit","moz","Moz","ms","o"],o=e[0].toUpperCase()+e.substring(1),s=0;6>s;s++){var a=r[s],l=a?a+o:e;if(l in t){if(!n)return t[l];t[l]=i;break}}}return{getStyles:function(t){var e=t&&9!==t.nodeType?t.ownerDocument:t,n=e&&e.defaultView;return n&&n.getComputedStyle(t,"")},getBounds:function(t,e){var n,i=t.ownerDocument,r=i.body,o=i.documentElement;try{n=t.getBoundingClientRect()}catch(s){n={left:0,top:0,width:0,height:0}}var a=n.left-(o.clientLeft||r.clientLeft||0),l=n.top-(o.clientTop||r.clientTop||0);if(!e){var u=i.defaultView;a+=u.pageXOffset||o.scrollLeft||r.scrollLeft,l+=u.pageYOffset||o.scrollTop||r.scrollTop}return new d(a,l,n.width,n.height)},getViewportBounds:function(t){var e=t.ownerDocument,n=e.defaultView,i=e.documentElement;return new d(0,0,n.innerWidth||i.clientWidth,n.innerHeight||i.clientHeight)},getOffset:function(t,e){return z.getBounds(t,e).getPoint()},getSize:function(t){return z.getBounds(t,!0).getSize()},isInvisible:function(t){return z.getSize(t).equals(new c(0,0))},isInView:function(t){return!z.isInvisible(t)&&z.getViewportBounds(t).intersects(z.getBounds(t,!0))},getPrefixed:function(e,n){return t(e,n)},setPrefixed:function(e,n,i){if("object"==typeof n)for(var r in n)t(e,r,!0,n[r]);else t(e,n,!0,i)}}},B={add:function(t,e){for(var n in e)for(var i=e[n],r=n.split(/[\s,]+/g),o=0,s=r.length;s>o;o++)t.addEventListener(r[o],i,!1)},remove:function(t,e){for(var n in e)for(var i=e[n],r=n.split(/[\s,]+/g),o=0,s=r.length;s>o;o++)t.removeEventListener(r[o],i,!1)},getPoint:function(t){var e=t.targetTouches?t.targetTouches.length?t.targetTouches[0]:t.changedTouches[0]:t;return new l(e.pageX||e.clientX+document.documentElement.scrollLeft,e.pageY||e.clientY+document.documentElement.scrollTop)},getTarget:function(t){return t.target||t.srcElement},getRelatedTarget:function(t){return t.relatedTarget||t.toElement},getOffset:function(t,e){return B.getPoint(t).subtract(z.getOffset(e||B.getTarget(t)))},stop:function(t){t.stopPropagation(),t.preventDefault()}};B.requestAnimationFrame=new function(){function t(){for(var e=o.length-1;e>=0;e--){var a=o[e],l=a[0],u=a[1];(!u||("true"==i.getAttribute(u,"keepalive")||s)&&z.isInView(u))&&(o.splice(e,1),l())}n&&(o.length?n(t):r=!1)}var e,n=z.getPrefixed(window,"requestAnimationFrame"),r=!1,o=[],s=!0;return B.add(window,{focus:function(){s=!0},blur:function(){s=!1}}),function(i,s){o.push([i,s]),n?r||(n(t),r=!0):e||(e=setInterval(t,1e3/60))}};var H=e.extend(n,{_class:"View",initialize:function xt(t,e){function n(t){return e[t]||parseInt(e.getAttribute(t),10)}function r(){var t=z.getSize(e);return t.isNaN()||t.isZero()?new c(n("width"),n("height")):t}this._project=t,this._scope=t._scope,this._element=e;var o;this._pixelRatio||(this._pixelRatio=window.devicePixelRatio||1),this._id=e.getAttribute("id"),null==this._id&&e.setAttribute("id",this._id="view-"+xt._id++),B.add(e,this._viewEvents);var s="none";if(z.setPrefixed(e.style,{userSelect:s,touchAction:s,touchCallout:s,contentZooming:s,userDrag:s,tapHighlightColor:"rgba(0,0,0,0)"}),i.hasAttribute(e,"resize")){var a=this;B.add(window,this._windowEvents={resize:function(){a.setViewSize(r())}})}if(this._setViewSize(o=r()),i.hasAttribute(e,"stats")&&"undefined"!=typeof Stats){this._stats=new Stats;var l=this._stats.domElement,u=l.style,h=z.getOffset(e);u.position="absolute",u.left=h.x+"px",u.top=h.y+"px",document.body.appendChild(l)}xt._views.push(this),xt._viewsById[this._id]=this,this._viewSize=o,(this._matrix=new f)._owner=this,this._zoom=1,xt._focused||(xt._focused=this),this._frameItems={},this._frameItemCount=0},remove:function(){return this._project?(H._focused===this&&(H._focused=null),H._views.splice(H._views.indexOf(this),1),delete H._viewsById[this._id],this._project._view===this&&(this._project._view=null),B.remove(this._element,this._viewEvents),B.remove(window,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0):!1},_events:e.each(["onResize","onMouseDown","onMouseUp","onMouseMove"],function(t){this[t]={install:function(t){this._installEvent(t)},uninstall:function(t){this._uninstallEvent(t)}}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,_requestFrame:function(){var t=this;B.requestAnimationFrame(function(){t._requested=!1,t._animate&&(t._requestFrame(),t._handleFrame())},this._element),this._requested=!0},_handleFrame:function(){paper=this._scope;var t=Date.now()/1e3,n=this._before?t-this._before:0;this._before=t,this._handlingFrame=!0,this.emit("frame",new e({delta:n,time:this._time+=n,count:this._count++})),this._stats&&this._stats.update(),this._handlingFrame=!1,this.update()},_animateItem:function(t,e){var n=this._frameItems;e?(n[t._id]={item:t,time:0,count:0},1===++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete n[t._id],0===--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(t){for(var n in this._frameItems){var i=this._frameItems[n];i.item.emit("frame",new e(t,{time:i.time+=t.delta,count:i.count++}))}},_update:function(){this._project._needsUpdate=!0,this._handlingFrame||(this._animate?this._handleFrame():this.update())},_changed:function(t){1&t&&(this._project._needsUpdate=!0)},_transform:function(t){this._matrix.concatenate(t),this._bounds=null,this._update()},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio},getViewSize:function(){var t=this._viewSize;return new h(t.width,t.height,this,"setViewSize")},setViewSize:function(){var t=c.read(arguments),e=t.subtract(this._viewSize);e.isZero()||(this._viewSize.set(t.width,t.height),this._setViewSize(t),this._bounds=null,this.emit("resize",{size:t,delta:e}),this._update())},_setViewSize:function(t){var e=this._element;e.width=t.width,e.height=t.height},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new d(new l,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var t=l.read(arguments);this.scrollBy(t.subtract(this.getCenter()))},getZoom:function(){return this._zoom},setZoom:function(t){this._transform((new f).scale(t/this._zoom,this.getCenter())),this._zoom=t},isVisible:function(){return z.isInView(this._element)},scrollBy:function(){this._transform((new f).translate(l.read(arguments).negate()))},play:function(){this._animate=!0,this._requested||this._requestFrame()},pause:function(){this._animate=!1},draw:function(){this.update()},projectToView:function(){return this._matrix._transformPoint(l.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(l.read(arguments))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(t,e){return"string"==typeof e&&(e=document.getElementById(e)),new W(t,e)}}},new function(){function t(t){var e=B.getTarget(t);return e.getAttribute&&H._viewsById[e.getAttribute("id")]}function e(t,e){return t.viewToProject(B.getOffset(e,t._element))}function n(){if(!H._focused||!H._focused.isVisible())for(var t=0,e=H._views.length;e>t;t++){var n=H._views[t];if(n&&n.isVisible()){H._focused=s=n;break}}}function i(t,e,n){t._handleEvent("mousemove",e,n);var i=t._scope.tool;return i&&i._handleEvent(c&&i.responds("mousedrag")?"mousedrag":"mousemove",e,n),t.update(),i}var r,o,s,a,l,u,c=!1,h=window.navigator;h.pointerEnabled||h.msPointerEnabled?(a="pointerdown MSPointerDown",l="pointermove MSPointerMove",u="pointerup pointercancel MSPointerUp MSPointerCancel"):(a="touchstart",l="touchmove",u="touchend touchcancel","ontouchstart"in window&&h.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(a+=" mousedown",l+=" mousemove",u+=" mouseup"));var d={"selectstart dragstart":function(t){c&&t.preventDefault()}},p={mouseout:function(t){var n=H._focused,r=B.getRelatedTarget(t);!n||r&&"HTML"!==r.nodeName||i(n,e(n,t),t)},scroll:n};d[a]=function(n){var i=H._focused=t(n),o=e(i,n);c=!0,i._handleEvent("mousedown",o,n),(r=i._scope.tool)&&r._handleEvent("mousedown",o,n),i.update()},p[l]=function(a){var l=H._focused;if(!c){var u=t(a);u?(l!==u&&i(l,e(l,a),a),o=l,l=H._focused=s=u):s&&s===l&&(l=H._focused=o,n())}if(l){var h=e(l,a);(c||l.getBounds().contains(h))&&(r=i(l,h,a))}},p[u]=function(t){var n=H._focused;if(n&&c){var i=e(n,t);c=!1,n._handleEvent("mouseup",i,t),r&&r._handleEvent("mouseup",i,t),n.update()}},B.add(document,p),B.add(window,{load:n});var f={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:d,_handleEvent:function(){},_installEvent:function(t){var e=this._eventCounters;if(e)for(var n in f)e[n]=(e[n]||0)+(f[n][t]||0)},_uninstallEvent:function(t){var e=this._eventCounters;if(e)for(var n in f)e[n]-=f[n][t]||0},statics:{updateFocus:n}}}),W=H.extend({_class:"CanvasView",initialize:function(t,e){if(!(e instanceof HTMLCanvasElement)){var n=c.read(arguments,1);if(n.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+[].slice.call(arguments,1));e=Z.getCanvas(n)}if(this._context=e.getContext("2d"),this._eventCounters={},this._pixelRatio=1,!/^off|false$/.test(i.getAttribute(e,"hidpi"))){var r=window.devicePixelRatio||1,o=z.getPrefixed(this._context,"backingStorePixelRatio")||1;this._pixelRatio=r/o}H.call(this,t,e)},_setViewSize:function(t){var e=this._element,n=this._pixelRatio,r=t.width,o=t.height;if(e.width=r*n,e.height=o*n,1!==n){if(!i.hasAttribute(e,"resize")){var s=e.style;s.width=r+"px",s.height=o+"px"}this._context.scale(n,n)}},getPixelSize:function(t){var e,n=paper.browser;if(n&&n.firefox){var i=this._element.parentNode,r=document.createElement("div");r.style.fontSize=t,i.appendChild(r),e=parseFloat(z.getStyles(r).fontSize),i.removeChild(r)}else{var o=this._context,s=o.font;o.font=t+" serif",e=parseFloat(o.font),o.font=s}return e},getTextWidth:function(t,e){var n=this._context,i=n.font,r=0;n.font=t;for(var o=0,s=e.length;s>o;o++)r=Math.max(r,n.measureText(e[o]).width);return n.font=i,
r},update:function(t){var e=this._project;if(!e||!t&&!e._needsUpdate)return!1;var n=this._context,i=this._viewSize;return n.clearRect(0,0,i.width+1,i.height+1),e.draw(n,this._matrix,this._pixelRatio),e._needsUpdate=!1,!0}},new function(){function t(t,e,n,i,r,o){function s(t){return t.responds(e)&&(a||(a=new U(e,n,i,r,o?i.subtract(o):null)),t.emit(e,a)&&a.isStopped)?(n.preventDefault(),!0):void 0}for(var a,l=r;l;){if(s(l))return!0;l=l.getParent()}return s(t)?!0:!1}var e,n,i,r,o,s,a,l,u;return{_handleEvent:function(c,h,d){if(this._eventCounters[c]){var p=this._project,f=p.hitTest(h,{tolerance:0,fill:!0,stroke:!0}),g=f&&f.item,m=!1;switch(c){case"mousedown":for(m=t(this,c,d,h,g),l=o==g&&Date.now()-u<300,r=o=g,e=n=i=h,a=!m&&g;a&&!a.responds("mousedrag");)a=a._parent;break;case"mouseup":m=t(this,c,d,h,g,e),a&&(n&&!n.equals(h)&&t(this,"mousedrag",d,h,a,n),g!==a&&(i=h,t(this,"mousemove",d,h,g,i))),!m&&g&&g===r&&(u=Date.now(),t(this,l&&r.responds("doubleclick")?"doubleclick":"click",d,e,g),l=!1),r=a=null;break;case"mousemove":a&&(m=t(this,"mousedrag",d,h,a,n)),m||(g!==s&&(i=h),m=t(this,c,d,h,g,i)),n=i=h,g!==s&&(t(this,"mouseleave",d,h,s),s=g,t(this,"mouseenter",d,h,g))}return m}}}}),q=e.extend({_class:"Event",initialize:function(t){this.event=t},isPrevented:!1,isStopped:!1,preventDefault:function(){this.isPrevented=!0,this.event.preventDefault()},stopPropagation:function(){this.isStopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getModifiers:function(){return V.modifiers}}),Y=q.extend({_class:"KeyEvent",initialize:function(t,e,n,i){q.call(this,i),this.type=t?"keydown":"keyup",this.key=e,this.character=n},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),V=new function(){function t(i,o,u,c){var h,d=u?String.fromCharCode(u):"",p=r[o],f=p||d.toLowerCase(),g=i?"keydown":"keyup",m=H._focused,v=m&&m.isVisible()&&m._scope,y=v&&v.tool;if(l[f]=i,i?a[o]=u:delete a[o],p&&(h=e.camelize(p))in s){s[h]=i;var _=paper.browser;if("command"===h&&_&&_.mac)if(i)n={};else{for(var b in n)b in a&&t(!1,b,n[b],c);n=null}}else i&&n&&(n[o]=u);y&&y.responds(g)&&(paper=v,y.emit(g,new Y(i,f,d,c)),m&&m.update())}var n,i,r={8:"backspace",9:"tab",13:"enter",16:"shift",17:"control",18:"option",19:"pause",20:"caps-lock",27:"escape",32:"space",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",46:"delete",91:"command",93:"command",224:"command"},o={9:!0,13:!0,32:!0},s=new e({shift:!1,control:!1,option:!1,command:!1,capsLock:!1,space:!1}),a={},l={};return B.add(document,{keydown:function(e){var n=e.which||e.keyCode;n in r||s.command?t(!0,n,n in o||s.command?n:0,e):i=n},keypress:function(e){null!=i&&(t(!0,i,e.which||e.keyCode,e),i=null)},keyup:function(e){var n=e.which||e.keyCode;n in a&&t(!1,n,a[n],e)}}),B.add(window,{blur:function(e){for(var n in a)t(!1,n,a[n],e)}}),{modifiers:s,isDown:function(t){return!!l[t]}}},U=q.extend({_class:"MouseEvent",initialize:function(t,e,n,i,r){q.call(this,e),this.type=t,this.point=n,this.target=i,this.delta=r},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),G=q.extend({_class:"ToolEvent",_item:null,initialize:function(t,e,n){this.tool=t,this.type=e,this.event=n},_choosePoint:function(t,e){return t?t:e?e.clone():null},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(t){this._point=t},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(t){this._lastPoint=t},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(t){this._downPoint=t},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(t){this._middlePoint=t},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(t){this._delta=t},getCount:function(){return/^mouse(down|up)$/.test(this.type)?this.tool._downCount:this.tool._count},setCount:function(t){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=t},getItem:function(){if(!this._item){var t=this.tool._scope.project.hitTest(this.getPoint());if(t){for(var e=t.item,n=e._parent;/^(Group|CompoundPath)$/.test(n._class);)e=n,n=n._parent;this._item=e}}return this._item},setItem:function(t){this._item=t},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),X=r.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onActivate","onDeactivate","onEditOptions","onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onKeyDown","onKeyUp"],initialize:function(t){r.call(this),this._firstMove=!0,this._count=0,this._downCount=0,this._set(t)},getMinDistance:function(){return this._minDistance},setMinDistance:function(t){this._minDistance=t,null!=t&&null!=this._maxDistance&&t>this._maxDistance&&(this._maxDistance=t)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(t){this._maxDistance=t,null!=this._minDistance&&null!=t&&t<this._minDistance&&(this._minDistance=t)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(t){this._minDistance=this._maxDistance=t},_updateEvent:function(t,e,n,i,r,o,s){if(!r){if(null!=n||null!=i){var a=null!=n?n:0,l=e.subtract(this._point),u=l.getLength();if(a>u)return!1;if(null!=i&&0!=i)if(u>i)e=this._point.add(l.normalize(i));else if(s)return!1}if(o&&e.equals(this._point))return!1}switch(this._lastPoint=r&&"mousemove"==t?e:this._point,this._point=e,t){case"mousedown":this._lastPoint=this._downPoint,this._downPoint=this._point,this._downCount++;break;case"mouseup":this._lastPoint=this._downPoint}return this._count=r?0:this._count+1,!0},_fireEvent:function(t,e){var n=paper.project._removeSets;if(n){"mouseup"===t&&(n.mousedrag=null);var i=n[t];if(i){for(var r in i){var o=i[r];for(var s in n){var a=n[s];a&&a!=i&&delete a[o._id]}o.remove()}n[t]=null}}return this.responds(t)&&this.emit(t,new G(this,t,e))},_handleEvent:function(t,e,n){paper=this._scope;var i=!1;switch(t){case"mousedown":this._updateEvent(t,e,null,null,!0,!1,!1),i=this._fireEvent(t,n);break;case"mousedrag":for(var r=!1,o=!1;this._updateEvent(t,e,this.minDistance,this.maxDistance,!1,r,o);)i=this._fireEvent(t,n)||i,r=!0,o=!0;break;case"mouseup":!e.equals(this._point)&&this._updateEvent("mousedrag",e,this.minDistance,this.maxDistance,!1,!1,!1)&&(i=this._fireEvent("mousedrag",n)),this._updateEvent(t,e,null,this.maxDistance,!1,!1,!1),i=this._fireEvent(t,n)||i,this._updateEvent(t,e,null,null,!0,!1,!1),this._firstMove=!0;break;case"mousemove":for(;this._updateEvent(t,e,this.minDistance,this.maxDistance,this._firstMove,!0,!1);)i=this._fireEvent(t,n)||i,this._firstMove=!1}return i&&n.preventDefault(),i}}),K={request:function(e,n,i,r){r=r===t?!0:r;var o=new(window.ActiveXObject||XMLHttpRequest)("Microsoft.XMLHTTP");return o.open(e.toUpperCase(),n,r),"overrideMimeType"in o&&o.overrideMimeType("text/plain"),o.onreadystatechange=function(){if(4===o.readyState){var t=o.status;if(0!==t&&200!==t)throw new Error("Could not load "+n+" (Error "+t+")");i.call(o,o.responseText)}},o.send(null)}},Z={canvases:[],getCanvas:function(t,e){var n,i=!0;"object"==typeof t&&(e=t.height,t=t.width),n=this.canvases.length?this.canvases.pop():document.createElement("canvas");var r=n.getContext("2d");return n.width===t&&n.height===e?i&&r.clearRect(0,0,t+1,e+1):(n.width=t,n.height=e),r.save(),n},getContext:function(t,e){return this.getCanvas(t,e).getContext("2d")},release:function(t){var e=t.canvas?t.canvas:t;e.getContext("2d").restore(),this.canvases.push(e)}},Q=new function(){function t(t,e,n){return.2989*t+.587*e+.114*n}function n(e,n,i,r){var o=r-t(e,n,i);p=e+o,f=n+o,g=i+o;var r=t(p,f,g),s=m(p,f,g),a=v(p,f,g);if(0>s){var l=r-s;p=r+(p-r)*r/l,f=r+(f-r)*r/l,g=r+(g-r)*r/l}if(a>255){var u=255-r,c=a-r;p=r+(p-r)*u/c,f=r+(f-r)*u/c,g=r+(g-r)*u/c}}function i(t,e,n){return v(t,e,n)-m(t,e,n)}function r(t,e,n,i){var r,o=[t,e,n],s=v(t,e,n),a=m(t,e,n);a=a===t?0:a===e?1:2,s=s===t?0:s===e?1:2,r=0===m(a,s)?1===v(a,s)?2:1:0,o[s]>o[a]?(o[r]=(o[r]-o[a])*i/(o[s]-o[a]),o[s]=i):o[r]=o[s]=0,o[a]=0,p=o[0],f=o[1],g=o[2]}var o,s,a,l,u,c,h,d,p,f,g,m=Math.min,v=Math.max,y=Math.abs,_={multiply:function(){p=u*o/255,f=c*s/255,g=h*a/255},screen:function(){p=u+o-u*o/255,f=c+s-c*s/255,g=h+a-h*a/255},overlay:function(){p=128>u?2*u*o/255:255-2*(255-u)*(255-o)/255,f=128>c?2*c*s/255:255-2*(255-c)*(255-s)/255,g=128>h?2*h*a/255:255-2*(255-h)*(255-a)/255},"soft-light":function(){var t=o*u/255;p=t+u*(255-(255-u)*(255-o)/255-t)/255,t=s*c/255,f=t+c*(255-(255-c)*(255-s)/255-t)/255,t=a*h/255,g=t+h*(255-(255-h)*(255-a)/255-t)/255},"hard-light":function(){p=128>o?2*o*u/255:255-2*(255-o)*(255-u)/255,f=128>s?2*s*c/255:255-2*(255-s)*(255-c)/255,g=128>a?2*a*h/255:255-2*(255-a)*(255-h)/255},"color-dodge":function(){p=0===u?0:255===o?255:m(255,255*u/(255-o)),f=0===c?0:255===s?255:m(255,255*c/(255-s)),g=0===h?0:255===a?255:m(255,255*h/(255-a))},"color-burn":function(){p=255===u?255:0===o?0:v(0,255-255*(255-u)/o),f=255===c?255:0===s?0:v(0,255-255*(255-c)/s),g=255===h?255:0===a?0:v(0,255-255*(255-h)/a)},darken:function(){p=o>u?u:o,f=s>c?c:s,g=a>h?h:a},lighten:function(){p=u>o?u:o,f=c>s?c:s,g=h>a?h:a},difference:function(){p=u-o,0>p&&(p=-p),f=c-s,0>f&&(f=-f),g=h-a,0>g&&(g=-g)},exclusion:function(){p=u+o*(255-u-u)/255,f=c+s*(255-c-c)/255,g=h+a*(255-h-h)/255},hue:function(){r(o,s,a,i(u,c,h)),n(p,f,g,t(u,c,h))},saturation:function(){r(u,c,h,i(o,s,a)),n(p,f,g,t(u,c,h))},luminosity:function(){n(u,c,h,t(o,s,a))},color:function(){n(o,s,a,t(u,c,h))},add:function(){p=m(u+o,255),f=m(c+s,255),g=m(h+a,255)},subtract:function(){p=v(u-o,0),f=v(c-s,0),g=v(h-a,0)},average:function(){p=(u+o)/2,f=(c+s)/2,g=(h+a)/2},negation:function(){p=255-y(255-o-u),f=255-y(255-s-c),g=255-y(255-a-h)}},b=this.nativeModes=e.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(t){this[t]=!0},{}),w=Z.getContext(1,1);e.each(_,function(t,e){var n="darken"===e,i=!1;w.save();try{w.fillStyle=n?"#300":"#a00",w.fillRect(0,0,1,1),w.globalCompositeOperation=e,w.globalCompositeOperation===e&&(w.fillStyle=n?"#a00":"#300",w.fillRect(0,0,1,1),i=w.getImageData(0,0,1,1).data[0]!==n?170:51)}catch(r){}w.restore(),b[e]=i}),Z.release(w),this.process=function(t,e,n,i,r){var m=e.canvas,v="normal"===t;if(v||b[t])n.save(),n.setTransform(1,0,0,1,0,0),n.globalAlpha=i,v||(n.globalCompositeOperation=t),n.drawImage(m,r.x,r.y),n.restore();else{var y=_[t];if(!y)return;for(var w=n.getImageData(r.x,r.y,m.width,m.height),x=w.data,C=e.getImageData(0,0,m.width,m.height).data,k=0,S=x.length;S>k;k+=4){o=C[k],u=x[k],s=C[k+1],c=x[k+1],a=C[k+2],h=x[k+2],l=C[k+3],d=x[k+3],y();var E=l*i/255,T=1-E;x[k]=E*p+T*u,x[k+1]=E*f+T*c,x[k+2]=E*g+T*h,x[k+3]=l*i+T*d}n.putImageData(w,r.x,r.y)}}},J=e.each({fillColor:["fill","color"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{"true":"none","false":"non-scaling-stroke"},function(t,e){return!e&&(t instanceof A||t instanceof w||t instanceof R)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","string"]},function(t,n){var i=e.capitalize(n),r=t[2];this[n]={type:t[1],property:n,attribute:t[0],toSVG:r,fromSVG:r&&e.each(r,function(t,e){this[t]=e},{}),exportFilter:t[3],get:"get"+i,set:"set"+i}},{}),tt={href:"http://www.w3.org/1999/xlink",xlink:"http://www.w3.org/2000/xmlns"};return new function(){function t(t,e){for(var n in e){var i=e[n],r=tt[n];"number"==typeof i&&(i=x.number(i)),r?t.setAttributeNS(r,n,i):t.setAttribute(n,i)}return t}function n(e,n){return t(document.createElementNS("http://www.w3.org/2000/svg",e),n)}function i(t,n,i){var r=new e,o=t.getTranslation();if(n){t=t.shiftless();var a=t._inverseTransform(o);r[i?"cx":"x"]=a.x,r[i?"cy":"y"]=a.y,o=null}if(!t.isIdentity()){var l=t.decompose();if(l&&!l.shearing){var u=[],c=l.rotation,h=l.scaling;o&&!o.isZero()&&u.push("translate("+x.point(o)+")"),s.isZero(h.x-1)&&s.isZero(h.y-1)||u.push("scale("+x.point(h)+")"),c&&u.push("rotate("+x.number(c)+")"),r.transform=u.join(" ")}else r.transform="matrix("+t.getValues().join(",")+")"}return r}function r(e,r){for(var o=i(e._matrix),s=e._children,a=n("g",o),l=0,u=s.length;u>l;l++){var c=s[l],h=b(c,r);if(h)if(c.isClipMask()){var d=n("clipPath");d.appendChild(h),v(c,d,"clip"),t(a,{"clip-path":"url(#"+d.id+")"})}else a.appendChild(h)}return a}function a(t,e){var r=i(t._matrix,!0),o=t.getSize(),s=t.getImage();return r.x-=o.width/2,r.y-=o.height/2,r.width=o.width,r.height=o.height,r.href=e.embedImages===!1&&s&&s.src||t.toDataURL(),n("image",r)}function l(t,e){var r=e.matchShapes;if(r){var o=t.toShape(!1);if(o)return u(o,e)}var s,a=t._segments,l=i(t._matrix);if(0===a.length)return null;if(r&&!t.hasHandles())if(a.length>=3){s=t._closed?"polygon":"polyline";for(var c=[],h=0,d=a.length;d>h;h++)c.push(x.point(a[h]._point));l.points=c.join(" ")}else{s="line";var p=a[0]._point,f=a[a.length-1]._point;l.set({x1:p.x,y1:p.y,x2:f.x,y2:f.y})}else s="path",l.d=t.getPathData(null,e.precision);return n(s,l)}function u(t){var e=t._type,r=t._radius,o=i(t._matrix,!0,"rectangle"!==e);if("rectangle"===e){e="rect";var s=t._size,a=s.width,l=s.height;o.x-=a/2,o.y-=l/2,o.width=a,o.height=l,r.isZero()&&(r=null)}return r&&("circle"===e?o.r=r:(o.rx=r.width,o.ry=r.height)),n(e,o)}function c(t,e){var r=i(t._matrix),o=t.getPathData(null,e.precision);return o&&(r.d=o),n("path",r)}function h(t,e){var r=i(t._matrix,!0),o=t.getSymbol(),s=g(o,"symbol"),a=o.getDefinition(),l=a.getBounds();return s||(s=n("symbol",{viewBox:x.rectangle(l)}),s.appendChild(b(a,e)),v(o,s,"symbol")),r.href="#"+s.id,r.x+=l.x,r.y+=l.y,r.width=x.number(l.width),r.height=x.number(l.height),r.overflow="visible",n("use",r)}function d(t){var e=g(t,"color");if(!e){var i,r=t.getGradient(),o=r._radial,s=t.getOrigin().transform(),a=t.getDestination().transform();if(o){i={cx:s.x,cy:s.y,r:s.getDistance(a)};var l=t.getHighlight();l&&(l=l.transform(),i.fx=l.x,i.fy=l.y)}else i={x1:s.x,y1:s.y,x2:a.x,y2:a.y};i.gradientUnits="userSpaceOnUse",e=n((o?"radial":"linear")+"Gradient",i);for(var u=r._stops,c=0,h=u.length;h>c;c++){var d=u[c],p=d._color,f=p.getAlpha();i={offset:d._rampPoint,"stop-color":p.toCSS(!0)},1>f&&(i["stop-opacity"]=f),e.appendChild(n("stop",i))}v(t,e,"color")}return"url(#"+e.id+")"}function p(t){var e=n("text",i(t._matrix,!0));return e.textContent=t._content,e}function f(n,i,r){var o={},s=!r&&n.getParent();return null!=n._name&&(o.id=n._name),e.each(J,function(t){var i=t.get,r=t.type,a=n[i]();if(t.exportFilter?t.exportFilter(n,a):!s||!e.equals(s[i](),a)){if("color"===r&&null!=a){var l=a.getAlpha();1>l&&(o[t.attribute+"-opacity"]=l)}o[t.attribute]=null==a?"none":"number"===r?x.number(a):"color"===r?a.gradient?d(a,n):a.toCSS(!0):"array"===r?a.join(","):"lookup"===r?t.toSVG[a]:a}}),1===o.opacity&&delete o.opacity,n._visible||(o.visibility="hidden"),t(i,o)}function g(t,e){return C||(C={ids:{},svgs:{}}),t&&C.svgs[e+"-"+t._id]}function v(t,e,n){C||g();var i=C.ids[n]=(C.ids[n]||0)+1;e.id=n+"-"+i,C.svgs[n+"-"+t._id]=e}function _(t,e){var i=t,r=null;if(C){i="svg"===t.nodeName.toLowerCase()&&t;for(var o in C.svgs)r||(i||(i=n("svg"),i.appendChild(t)),r=i.insertBefore(n("defs"),i.firstChild)),r.appendChild(C.svgs[o]);C=null}return e.asString?(new XMLSerializer).serializeToString(i):i}function b(t,e,n){var i=k[t._class],r=i&&i(t,e);if(r){var o=e.onExport;o&&(r=o(t,r,e)||r);var s=JSON.stringify(t._data);s&&"{}"!==s&&"null"!==s&&r.setAttribute("data-paper-data",s)}return r&&f(t,r,n)}function w(t){return t||(t={}),x=new o(t.precision),t}var x,C,k={Group:r,Layer:r,Raster:a,Path:l,Shape:u,CompoundPath:c,PlacedSymbol:h,PointText:p};y.inject({exportSVG:function(t){return t=w(t),_(b(this,t,!0),t)}}),m.inject({exportSVG:function(t){t=w(t);var e=this.layers,r=this.getView(),o=r.getViewSize(),s=n("svg",{x:0,y:0,width:o.width,height:o.height,version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),a=s,l=r._matrix;l.isIdentity()||(a=s.appendChild(n("g",i(l))));for(var u=0,c=e.length;c>u;u++)a.appendChild(b(e[u],t,!0));return _(s,t)}})},new function(){function n(t,e,n,i){var r=tt[e],o=r?t.getAttributeNS(r,e):t.getAttribute(e);return"null"===o&&(o=null),null==o?i?null:n?"":0:n?o:parseFloat(o)}function i(t,e,i,r){return e=n(t,e,!1,r),i=n(t,i,!1,r),!r||null!=e&&null!=i?new l(e,i):null}function r(t,e,i,r){return e=n(t,e,!1,r),i=n(t,i,!1,r),!r||null!=e&&null!=i?new c(e,i):null}function o(t,e,n){return"none"===t?null:"number"===e?parseFloat(t):"array"===e?t?t.split(/[\s,]+/g).map(parseFloat):[]:"color"===e?k(t)||t:"lookup"===e?n[t]:t}function s(t,e,n,i){var r=t.childNodes,o="clippath"===e,s=new _,a=s._project,l=a._currentStyle,u=[];if(o||(s=C(s,t,i),a._currentStyle=s._style.clone()),i)for(var c=t.querySelectorAll("defs"),h=0,d=c.length;d>h;h++)S(c[h],n,!1);for(var h=0,d=r.length;d>h;h++){var p,f=r[h];1!==f.nodeType||"defs"===f.nodeName.toLowerCase()||!(p=S(f,n,!1))||p instanceof v||u.push(p)}return s.addChildren(u),o&&(s=C(s.reduce(),t,i)),a._currentStyle=l,(o||"defs"===e)&&(s.remove(),s=null),s}function a(t,e){for(var n=t.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),i=[],r=0,o=n.length;o>r;r+=2)i.push(new l(parseFloat(n[r]),parseFloat(n[r+1])));var s=new P(i);return"polygon"===e&&s.closePath(),s}function u(t){var e=t.getAttribute("d"),n={pathData:e};return(e.match(/m/gi)||[]).length>1||/z\S+/i.test(e)?new M(n):new P(n)}function h(t,e){var r,o=(n(t,"href",!0)||"").substring(1),s="radialgradient"===e;if(o)r=D[o].getGradient();else{for(var a=t.childNodes,l=[],u=0,c=a.length;c>u;u++){var h=a[u];1===h.nodeType&&l.push(C(new j,h))}r=new $(l,s)}var d,p,f;return s?(d=i(t,"cx","cy"),p=d.add(n(t,"r"),0),f=i(t,"fx","fy",!0)):(d=i(t,"x1","y1"),p=i(t,"x2","y2")),C(new L(r,d,p,f),t),null}function p(t,e,n,i){for(var r=(i.getAttribute(n)||"").split(/\)\s*/g),o=new f,s=0,a=r.length;a>s;s++){var l=r[s];if(!l)break;for(var u=l.split(/\(\s*/),c=u[0],h=u[1].split(/[\s,]+/g),d=0,p=h.length;p>d;d++)h[d]=parseFloat(h[d]);switch(c){case"matrix":o.concatenate(new f(h[0],h[1],h[2],h[3],h[4],h[5]));break;case"rotate":o.rotate(h[0],h[1],h[2]);break;case"translate":o.translate(h[0],h[1]);break;case"scale":o.scale(h);break;case"skewX":o.skew(h[0],0);break;case"skewY":o.skew(0,h[0])}}t.transform(o)}function g(t,e,n){var i=t["fill-opacity"===n?"getFillColor":"getStrokeColor"]();i&&i.setAlpha(parseFloat(e))}function b(n,i,r){var o=n.attributes[i],s=o&&o.value;if(!s){var a=e.camelize(i);s=n.style[a],s||r.node[a]===r.parent[a]||(s=r.node[a])}return s?"none"===s?null:s:t}function C(n,i,r){var o={node:z.getStyles(i)||{},parent:!r&&z.getStyles(i.parentNode)||{}};return e.each(T,function(r,s){var a=b(i,s,o);a!==t&&(n=e.pick(r(n,a,s,i,o),n))}),n}function k(t){var e=t&&t.match(/\((?:#|)([^)']+)/);return e&&D[e[1]]}function S(t,n,i){function r(t){paper=s;var e=S(t,n,i),r=n.onLoad,o=s.project&&s.getView();r&&r.call(this,e),o.update()}if(!t)return null;n?"function"==typeof n&&(n={onLoad:n}):n={};var o=t,s=paper;if(i)if("string"!=typeof t||/^.*</.test(t)){if("undefined"!=typeof File&&t instanceof File){var a=new FileReader;return a.onload=function(){r(a.result)},a.readAsText(t)}}else{if(o=document.getElementById(t),!o)return K.request("get",t,r);t=null}if("string"==typeof t&&(o=(new DOMParser).parseFromString(t,"image/svg+xml")),!o.nodeName)throw new Error("Unsupported SVG source: "+t);var l,u=o.nodeName.toLowerCase(),c=E[u],h=o.getAttribute&&o.getAttribute("data-paper-data"),d=s.settings,p=d.applyMatrix;if(d.applyMatrix=!1,l=c&&c(o,u,n,i)||null,d.applyMatrix=p,l){"#document"===u||l instanceof _||(l=C(l,o,i));var f=n.onImport;f&&(l=f(o,l,n)||l),n.expandShapes&&l instanceof w&&(l.remove(),l=l.toPath()),h&&(l._data=JSON.parse(h))}return i&&(D={},l&&e.pick(n.applyMatrix,p)&&l.matrix.apply(!0,!0)),l}var E={"#document":function(t,e,n,i){for(var r=t.childNodes,o=0,s=r.length;s>o;o++){var a=r[o];if(1===a.nodeType){var l=a.nextSibling;document.body.appendChild(a);var u=S(a,n,i);return l?t.insertBefore(a,l):t.appendChild(a),u}}},g:s,svg:s,clippath:s,polygon:a,polyline:a,path:u,lineargradient:h,radialgradient:h,image:function(t){var e=new x(n(t,"href",!0));return e.on("load",function(){var e=r(t,"width","height");this.setSize(e);var n=this._matrix._transformPoint(i(t,"x","y").add(e.divide(2)));this.translate(n)}),e},symbol:function(t,e,n,i){return new v(s(t,e,n,i),!0)},defs:s,use:function(t){var e=(n(t,"href",!0)||"").substring(1),r=D[e],o=i(t,"x","y");return r?r instanceof v?r.place(o):r.clone().translate(o):null},circle:function(t){return new w.Circle(i(t,"cx","cy"),n(t,"r"))},ellipse:function(t){return new w.Ellipse({center:i(t,"cx","cy"),radius:r(t,"rx","ry")})},rect:function(t){var e=i(t,"x","y"),n=r(t,"width","height"),o=r(t,"rx","ry");return new w.Rectangle(new d(e,n),o)},line:function(t){return new P.Line(i(t,"x1","y1"),i(t,"x2","y2"))},text:function(t){var e=new N(i(t,"x","y").add(i(t,"dx","dy")));return e.setContent(t.textContent.trim()||""),e}},T=e.set(e.each(J,function(t){this[t.attribute]=function(e,n){if(e[t.set](o(n,t.type,t.fromSVG)),"color"===t.type&&e instanceof w){var i=e[t.get]();i&&i.transform((new f).translate(e.getPosition(!0).negate()))}}},{}),{id:function(t,e){D[e]=t,t.setName&&t.setName(e)},"clip-path":function(t,e){var n=k(e);if(n){if(n=n.clone(),n.setClipMask(!0),!(t instanceof _))return new _(n,t);t.insertChild(0,n)}},gradientTransform:p,transform:p,"fill-opacity":g,"stroke-opacity":g,visibility:function(t,e){t.setVisible("visible"===e)},display:function(t,e){t.setVisible(null!==e)},"stop-color":function(t,e){t.setColor&&t.setColor(e)},"stop-opacity":function(t,e){t._color&&t._color.setAlpha(parseFloat(e))},offset:function(t,e){var n=e.match(/(.*)%$/);t.setRampPoint(n?n[1]/100:parseFloat(e))},viewBox:function(t,e,n,i,s){var a=new d(o(e,"array")),l=r(i,"width","height",!0);if(t instanceof _){var u=l?a.getSize().divide(l):1,c=(new f).translate(a.getPoint()).scale(u);t.transform(c.inverted())}else if(t instanceof v){l&&a.setSize(l);var h="visible"!=b(i,"overflow",s),p=t._definition;h&&!a.contains(p.getBounds())&&(h=new w.Rectangle(a).transform(p._matrix),h.setClipMask(!0),p.addChild(h))}}}),D={};y.inject({importSVG:function(t,e){return this.addChild(S(t,e,!0))}}),m.inject({importSVG:function(t,e){return this.activate(),S(t,e,!0)}})},e.exports.PaperScript=function(){function t(t,e,n){var i=g[e];if(t&&t[i]){var r=t[i](n);return"!="===e?!r:r}switch(e){case"+":return t+n;case"-":return t-n;case"*":return t*n;case"/":return t/n;case"%":return t%n;case"==":return t==n;case"!=":return t!=n}}function n(t,e){var n=m[t];if(n&&e&&e[n])return e[n]();switch(t){case"+":return+e;case"-":return-e}}function r(t,e){return f.acorn.parse(t,e)}function o(t,e,n){function i(t){for(var e=0,n=u.length;n>e;e++){var i=u[e];if(i[0]>=t)break;t+=i[1]}return t}function o(e){return t.substring(i(e.range[0]),i(e.range[1]))}function s(e,n){return t.substring(i(e.range[1]),i(n.range[0]))}function a(e,n){for(var r=i(e.range[0]),o=i(e.range[1]),s=0,a=u.length-1;a>=0;a--)if(r>u[a][0]){s=a+1;break}u.splice(s,0,[r,n.length-o+r]),t=t.substring(0,r)+n+t.substring(o)}function l(t,e){if(t){for(var n in t)if("range"!==n&&"loc"!==n){var i=t[n];if(Array.isArray(i))for(var r=0,u=i.length;u>r;r++)l(i[r],t);else i&&"object"==typeof i&&l(i,t)}switch(t.type){case"UnaryExpression":if(t.operator in m&&"Literal"!==t.argument.type){var c=o(t.argument);a(t,'$__("'+t.operator+'", '+c+")")}break;case"BinaryExpression":if(t.operator in g&&"Literal"!==t.left.type){var h=o(t.left),d=o(t.right),p=s(t.left,t.right),f=t.operator;a(t,"__$__("+h+","+p.replace(new RegExp("\\"+f),'"'+f+'"')+", "+d+")")}break;case"UpdateExpression":case"AssignmentExpression":var v=e&&e.type;if(!("ForStatement"===v||"BinaryExpression"===v&&/^[=!<>]/.test(e.operator)||"MemberExpression"===v&&e.computed))if("UpdateExpression"===t.type){var c=o(t.argument),y="__$__("+c+', "'+t.operator[0]+'", 1)',_=c+" = "+y;t.prefix||"AssignmentExpression"!==v&&"VariableDeclarator"!==v||(o(e.left||e.id)===c&&(_=y),_=c+"; "+_),a(t,_)}else if(/^.=$/.test(t.operator)&&"Literal"!==t.left.type){var h=o(t.left),d=o(t.right);a(t,h+" = __$__("+h+', "'+t.operator[0]+'", '+d+")")}}}}if(!t)return"";n=n||{},e=e||"";var u=[],c=null,h=paper.browser,d=h.versionNumber,p=/\r\n|\n|\r/gm;if(h.chrome&&d>=30||h.webkit&&d>=537.76||h.firefox&&d>=23){var f=0;if(0===window.location.href.indexOf(e)){var v=document.getElementsByTagName("html")[0].innerHTML;f=v.substr(0,v.indexOf(t)+1).match(p).length+1}var y=["AAAA"];y.length=(t.match(p)||[]).length+1+f,c={version:3,file:e,names:[],mappings:y.join(";AACA"),sourceRoot:"",sources:[e]};var _=n.source||!e&&t;_&&(c.sourcesContent=[_])}return l(r(t,{ranges:!0})),c&&(t=new Array(f+1).join("\n")+t+"\n//# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(c))))+"\n//# sourceURL="+(e||"paperscript")),t}function s(i,r,s,a){function u(t,e){for(var n in t)!e&&/^_/.test(n)||!new RegExp("([\\b\\s\\W]|^)"+n.replace(/\$/g,"\\$")+"\\b").test(i)||(g.push(n),m.push(t[n]))}paper=r;var c,h=r.getView(),d=/\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(i)?new X:null,p=d?d._events:[],f=["onFrame","onResize"].concat(p),g=[],m=[];i=o(i,s,a),u({__$__:t,$__:n,paper:r,view:h,tool:d},!0),u(r),f=e.each(f,function(t){new RegExp("\\s+"+t+"\\b").test(i)&&(g.push(t),this.push(t+": "+t))},[]).join(", "),f&&(i+="\nreturn { "+f+" };");var v=paper.browser;if(v.chrome||v.firefox){var y=document.createElement("script"),_=document.head||document.getElementsByTagName("head")[0];v.firefox&&(i="\n"+i),y.appendChild(document.createTextNode("paper._execute = function("+g+") {"+i+"\n}")),_.appendChild(y),c=paper._execute,delete paper._execute,_.removeChild(y)}else c=Function(g,i);var b=c.apply(r,m)||{};e.each(p,function(t){var e=b[t];e&&(d[t]=e)}),h&&(b.onResize&&h.setOnResize(b.onResize),h.emit("resize",{size:h.size,delta:new l}),b.onFrame&&h.setOnFrame(b.onFrame),h.update())}function a(t){if(/^text\/(?:x-|)paperscript$/.test(t.type)&&"true"!==i.getAttribute(t,"ignore")){var e=i.getAttribute(t,"canvas"),n=document.getElementById(e),r=t.src||t.getAttribute("data-src"),o=i.hasAttribute(t,"async"),a="data-paper-scope";if(!n)throw new Error('Unable to find canvas with id "'+e+'"');var l=i.get(n.getAttribute(a))||(new i).setup(n);return n.setAttribute(a,l._id),r?K.request("get",r,function(t){s(t,l,r)},o):s(t.innerHTML,l,t.baseURI),t.setAttribute("data-paper-ignore","true"),l}}function u(){e.each(document.getElementsByTagName("script"),a)}function h(t){return t?a(t):u()}var d,p,f=this;!function(t,e){return"object"==typeof d&&"object"==typeof module?e(d):"function"==typeof p&&p.amd?p(["exports"],e):void e(t.acorn||(t.acorn={}))}(this,function(t){"use strict";function e(t){ht=t||{};for(var e in gt)Object.prototype.hasOwnProperty.call(ht,e)||(ht[e]=gt[e]);ft=ht.sourceFile||null}function n(t,e){var n=mt(dt,t);e+=" ("+n.line+":"+n.column+")";var i=new SyntaxError(e);throw i.pos=t,i.loc=n,i.raisedAt=vt,i}function i(t){function e(t){if(1==t.length)return n+="return str === "+JSON.stringify(t[0])+";";n+="switch(str){";for(var e=0;e<t.length;++e)n+="case "+JSON.stringify(t[e])+":";n+="return true}return false;"}t=t.split(" ");var n="",i=[];t:for(var r=0;r<t.length;++r){for(var o=0;o<i.length;++o)if(i[o][0].length==t[r].length){i[o].push(t[r]);continue t}i.push([t[r]])}if(i.length>3){i.sort(function(t,e){return e.length-t.length}),n+="switch(str.length){";for(var r=0;r<i.length;++r){var s=i[r];n+="case "+s[0].length+":",e(s)}n+="}"}else e(t);return new Function("str",n)}function r(){this.line=St,this.column=vt-Et}function o(){St=1,vt=Et=0,kt=!0,u()}function s(t,e){_t=vt,ht.locations&&(wt=new r),xt=t,u(),Ct=e,kt=t.beforeExpr}function a(){var t=ht.onComment&&ht.locations&&new r,e=vt,i=dt.indexOf("*/",vt+=2);if(-1===i&&n(vt-2,"Unterminated comment"),vt=i+2,ht.locations){Ke.lastIndex=e;for(var o;(o=Ke.exec(dt))&&o.index<vt;)++St,Et=o.index+o[0].length}ht.onComment&&ht.onComment(!0,dt.slice(e+2,i),e,vt,t,ht.locations&&new r)}function l(){for(var t=vt,e=ht.onComment&&ht.locations&&new r,n=dt.charCodeAt(vt+=2);pt>vt&&10!==n&&13!==n&&8232!==n&&8233!==n;)++vt,n=dt.charCodeAt(vt);ht.onComment&&ht.onComment(!1,dt.slice(t+2,vt),t,vt,e,ht.locations&&new r)}function u(){for(;pt>vt;){var t=dt.charCodeAt(vt);if(32===t)++vt;else if(13===t){++vt;var e=dt.charCodeAt(vt);10===e&&++vt,ht.locations&&(++St,Et=vt)}else if(10===t||8232===t||8233===t)++vt,ht.locations&&(++St,Et=vt);else if(t>8&&14>t)++vt;else if(47===t){var e=dt.charCodeAt(vt+1);if(42===e)a();else{if(47!==e)break;l()}}else if(160===t)++vt;else{if(!(t>=5760&&qe.test(String.fromCharCode(t))))break;++vt}}}function c(){var t=dt.charCodeAt(vt+1);return t>=48&&57>=t?k(!0):(++vt,s(be))}function h(){var t=dt.charCodeAt(vt+1);return kt?(++vt,w()):61===t?b(ke,2):b(xe,1)}function d(){var t=dt.charCodeAt(vt+1);return 61===t?b(ke,2):b(Le,1)}function p(t){var e=dt.charCodeAt(vt+1);return e===t?b(124===t?De:Ae,2):61===e?b(ke,2):b(124===t?Pe:Oe,1)}function f(){var t=dt.charCodeAt(vt+1);return 61===t?b(ke,2):b(Me,1)}function g(t){var e=dt.charCodeAt(vt+1);return e===t?45==e&&62==dt.charCodeAt(vt+2)&&Xe.test(dt.slice(Dt,vt))?(vt+=3,l(),u(),_()):b(Ee,2):61===e?b(ke,2):b(Se,1)}function m(t){var e=dt.charCodeAt(vt+1),n=1;return e===t?(n=62===t&&62===dt.charCodeAt(vt+2)?3:2,61===dt.charCodeAt(vt+n)?b(ke,n+1):b(Ne,n)):33==e&&60==t&&45==dt.charCodeAt(vt+2)&&45==dt.charCodeAt(vt+3)?(vt+=4,l(),u(),_()):(61===e&&(n=61===dt.charCodeAt(vt+2)?3:2),b(Re,n))}function v(t){var e=dt.charCodeAt(vt+1);return 61===e?b(Ie,61===dt.charCodeAt(vt+2)?3:2):b(61===t?Ce:Te,1)}function y(t){switch(t){case 46:return c();case 40:return++vt,s(ge);case 41:return++vt,s(me);case 59:return++vt,s(ye);case 44:return++vt,s(ve);case 91:return++vt,s(he);case 93:return++vt,s(de);case 123:return++vt,s(pe);case 125:return++vt,s(fe);case 58:return++vt,s(_e);case 63:return++vt,s(we);case 48:var e=dt.charCodeAt(vt+1);if(120===e||88===e)return C();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return k(!1);case 34:case 39:return S(t);case 47:return h(t);case 37:case 42:return d();case 124:case 38:return p(t);case 94:return f();case 43:case 45:return g(t);case 60:case 62:return m(t);case 61:case 33:return v(t);case 126:return b(Te,1)}return!1}function _(t){if(t?vt=yt+1:yt=vt,ht.locations&&(bt=new r),t)return w();if(vt>=pt)return s(jt);var e=dt.charCodeAt(vt);if(Ze(e)||92===e)return D();var i=y(e);if(i===!1){var o=String.fromCharCode(e);if("\\"===o||Ue.test(o))return D();n(vt,"Unexpected character '"+o+"'")}return i}function b(t,e){var n=dt.slice(vt,vt+e);vt+=e,s(t,n)}function w(){for(var t,e,i="",r=vt;;){vt>=pt&&n(r,"Unterminated regular expression");var o=dt.charAt(vt);if(Xe.test(o)&&n(r,"Unterminated regular expression"),t)t=!1;else{if("["===o)e=!0;else if("]"===o&&e)e=!1;else if("/"===o&&!e)break;t="\\"===o}++vt}var i=dt.slice(r,vt);++vt;var a=T();return a&&!/^[gmsiy]*$/.test(a)&&n(r,"Invalid regexp flag"),s(Nt,new RegExp(i,a))}function x(t,e){for(var n=vt,i=0,r=0,o=null==e?1/0:e;o>r;++r){var s,a=dt.charCodeAt(vt);if(s=a>=97?a-97+10:a>=65?a-65+10:a>=48&&57>=a?a-48:1/0,s>=t)break;++vt,i=i*t+s}return vt===n||null!=e&&vt-n!==e?null:i}function C(){vt+=2;var t=x(16);return null==t&&n(yt+2,"Expected hexadecimal number"),Ze(dt.charCodeAt(vt))&&n(vt,"Identifier directly after number"),s(Rt,t)}function k(t){var e=vt,i=!1,r=48===dt.charCodeAt(vt);t||null!==x(10)||n(e,"Invalid number"),46===dt.charCodeAt(vt)&&(++vt,x(10),i=!0);var o=dt.charCodeAt(vt);(69===o||101===o)&&(o=dt.charCodeAt(++vt),(43===o||45===o)&&++vt,null===x(10)&&n(e,"Invalid number"),i=!0),Ze(dt.charCodeAt(vt))&&n(vt,"Identifier directly after number");var a,l=dt.slice(e,vt);return i?a=parseFloat(l):r&&1!==l.length?/[89]/.test(l)||Ot?n(e,"Invalid number"):a=parseInt(l,8):a=parseInt(l,10),s(Rt,a)}function S(t){vt++;for(var e="";;){vt>=pt&&n(yt,"Unterminated string constant");var i=dt.charCodeAt(vt);if(i===t)return++vt,
s(Lt,e);if(92===i){i=dt.charCodeAt(++vt);var r=/^[0-7]+/.exec(dt.slice(vt,vt+3));for(r&&(r=r[0]);r&&parseInt(r,8)>255;)r=r.slice(0,r.length-1);if("0"===r&&(r=null),++vt,r)Ot&&n(vt-2,"Octal literal in strict mode"),e+=String.fromCharCode(parseInt(r,8)),vt+=r.length-1;else switch(i){case 110:e+="\n";break;case 114:e+="\r";break;case 120:e+=String.fromCharCode(E(2));break;case 117:e+=String.fromCharCode(E(4));break;case 85:e+=String.fromCharCode(E(8));break;case 116:e+="	";break;case 98:e+="\b";break;case 118:e+="";break;case 102:e+="\f";break;case 48:e+="\x00";break;case 13:10===dt.charCodeAt(vt)&&++vt;case 10:ht.locations&&(Et=vt,++St);break;default:e+=String.fromCharCode(i)}}else(13===i||10===i||8232===i||8233===i)&&n(yt,"Unterminated string constant"),e+=String.fromCharCode(i),++vt}}function E(t){var e=x(16,t);return null===e&&n(yt,"Bad character escape sequence"),e}function T(){je=!1;for(var t,e=!0,i=vt;;){var r=dt.charCodeAt(vt);if(Qe(r))je&&(t+=dt.charAt(vt)),++vt;else{if(92!==r)break;je||(t=dt.slice(i,vt)),je=!0,117!=dt.charCodeAt(++vt)&&n(vt,"Expecting Unicode escape sequence \\uXXXX"),++vt;var o=E(4),s=String.fromCharCode(o);s||n(vt-1,"Invalid Unicode escape"),(e?Ze(o):Qe(o))||n(vt-4,"Invalid Unicode escape"),t+=s}e=!1}return je?t:dt.slice(i,vt)}function D(){var t=T(),e=$t;return je||(We(t)?e=ce[t]:(ht.forbidReserved&&(3===ht.ecmaVersion?Fe:ze)(t)||Ot&&Be(t))&&n(yt,"The keyword '"+t+"' is reserved")),s(e,t)}function A(){Tt=yt,Dt=_t,At=wt,_()}function P(t){if(Ot=t,vt=Dt,ht.locations)for(;Et>vt;)Et=dt.lastIndexOf("\n",Et-2)+1,--St;u(),_()}function M(){this.type=null,this.start=yt,this.end=null}function O(){this.start=bt,this.end=null,null!==ft&&(this.source=ft)}function I(){var t=new M;return ht.locations&&(t.loc=new O),ht.ranges&&(t.range=[yt,0]),t}function R(t){var e=new M;return e.start=t.start,ht.locations&&(e.loc=new O,e.loc.start=t.loc.start),ht.ranges&&(e.range=[t.range[0],0]),e}function N(t,e){return t.type=e,t.end=Dt,ht.locations&&(t.loc.end=At),ht.ranges&&(t.range[1]=Dt),t}function L(t){return ht.ecmaVersion>=5&&"ExpressionStatement"===t.type&&"Literal"===t.expression.type&&"use strict"===t.expression.value}function $(t){return xt===t?(A(),!0):void 0}function j(){return!ht.strictSemicolons&&(xt===jt||xt===fe||Xe.test(dt.slice(Dt,yt)))}function F(){$(ye)||j()||B()}function z(t){xt===t?A():B()}function B(){n(yt,"Unexpected token")}function H(t){"Identifier"!==t.type&&"MemberExpression"!==t.type&&n(t.start,"Assigning to rvalue"),Ot&&"Identifier"===t.type&&He(t.name)&&n(t.start,"Assigning to "+t.name+" in strict mode")}function W(t){Tt=Dt=vt,ht.locations&&(At=new r),Pt=Ot=null,Mt=[],_();var e=t||I(),n=!0;for(t||(e.body=[]);xt!==jt;){var i=q();e.body.push(i),n&&L(i)&&P(!0),n=!1}return N(e,"Program")}function q(){(xt===xe||xt===ke&&"/="==Ct)&&_(!0);var t=xt,e=I();switch(t){case Ft:case Ht:A();var i=t===Ft;$(ye)||j()?e.label=null:xt!==$t?B():(e.label=ct(),F());for(var r=0;r<Mt.length;++r){var o=Mt[r];if(null==e.label||o.name===e.label.name){if(null!=o.kind&&(i||"loop"===o.kind))break;if(e.label&&i)break}}return r===Mt.length&&n(e.start,"Unsyntactic "+t.keyword),N(e,i?"BreakStatement":"ContinueStatement");case Wt:return A(),F(),N(e,"DebuggerStatement");case Yt:return A(),Mt.push(Je),e.body=q(),Mt.pop(),z(ne),e.test=Y(),F(),N(e,"DoWhileStatement");case Gt:if(A(),Mt.push(Je),z(ge),xt===ye)return U(e,null);if(xt===ee){var s=I();return A(),X(s,!0),N(s,"VariableDeclaration"),1===s.declarations.length&&$(ue)?G(e,s):U(e,s)}var s=K(!1,!0);return $(ue)?(H(s),G(e,s)):U(e,s);case Xt:return A(),lt(e,!0);case Kt:return A(),e.test=Y(),e.consequent=q(),e.alternate=$(Vt)?q():null,N(e,"IfStatement");case Zt:return Pt||n(yt,"'return' outside of function"),A(),$(ye)||j()?e.argument=null:(e.argument=K(),F()),N(e,"ReturnStatement");case Qt:A(),e.discriminant=Y(),e.cases=[],z(pe),Mt.push(tn);for(var a,l;xt!=fe;)if(xt===zt||xt===qt){var u=xt===zt;a&&N(a,"SwitchCase"),e.cases.push(a=I()),a.consequent=[],A(),u?a.test=K():(l&&n(Tt,"Multiple default clauses"),l=!0,a.test=null),z(_e)}else a||B(),a.consequent.push(q());return a&&N(a,"SwitchCase"),A(),Mt.pop(),N(e,"SwitchStatement");case Jt:return A(),Xe.test(dt.slice(Dt,yt))&&n(Dt,"Illegal newline after throw"),e.argument=K(),F(),N(e,"ThrowStatement");case te:if(A(),e.block=V(),e.handler=null,xt===Bt){var c=I();A(),z(ge),c.param=ct(),Ot&&He(c.param.name)&&n(c.param.start,"Binding "+c.param.name+" in strict mode"),z(me),c.guard=null,c.body=V(),e.handler=N(c,"CatchClause")}return e.guardedHandlers=It,e.finalizer=$(Ut)?V():null,e.handler||e.finalizer||n(e.start,"Missing catch or finally clause"),N(e,"TryStatement");case ee:return A(),X(e),F(),N(e,"VariableDeclaration");case ne:return A(),e.test=Y(),Mt.push(Je),e.body=q(),Mt.pop(),N(e,"WhileStatement");case ie:return Ot&&n(yt,"'with' in strict mode"),A(),e.object=Y(),e.body=q(),N(e,"WithStatement");case pe:return V();case ye:return A(),N(e,"EmptyStatement");default:var h=Ct,d=K();if(t===$t&&"Identifier"===d.type&&$(_e)){for(var r=0;r<Mt.length;++r)Mt[r].name===h&&n(d.start,"Label '"+h+"' is already declared");var p=xt.isLoop?"loop":xt===Qt?"switch":null;return Mt.push({name:h,kind:p}),e.body=q(),Mt.pop(),e.label=d,N(e,"LabeledStatement")}return e.expression=d,F(),N(e,"ExpressionStatement")}}function Y(){z(ge);var t=K();return z(me),t}function V(t){var e,n=I(),i=!0,r=!1;for(n.body=[],z(pe);!$(fe);){var o=q();n.body.push(o),i&&t&&L(o)&&(e=r,P(r=!0)),i=!1}return r&&!e&&P(!1),N(n,"BlockStatement")}function U(t,e){return t.init=e,z(ye),t.test=xt===ye?null:K(),z(ye),t.update=xt===me?null:K(),z(me),t.body=q(),Mt.pop(),N(t,"ForStatement")}function G(t,e){return t.left=e,t.right=K(),z(me),t.body=q(),Mt.pop(),N(t,"ForInStatement")}function X(t,e){for(t.declarations=[],t.kind="var";;){var i=I();if(i.id=ct(),Ot&&He(i.id.name)&&n(i.id.start,"Binding "+i.id.name+" in strict mode"),i.init=$(Ce)?K(!0,e):null,t.declarations.push(N(i,"VariableDeclarator")),!$(ve))break}return t}function K(t,e){var n=Z(e);if(!t&&xt===ve){var i=R(n);for(i.expressions=[n];$(ve);)i.expressions.push(Z(e));return N(i,"SequenceExpression")}return n}function Z(t){var e=Q(t);if(xt.isAssign){var n=R(e);return n.operator=Ct,n.left=e,A(),n.right=Z(t),H(e),N(n,"AssignmentExpression")}return e}function Q(t){var e=J(t);if($(we)){var n=R(e);return n.test=e,n.consequent=K(!0),z(_e),n.alternate=K(!0,t),N(n,"ConditionalExpression")}return e}function J(t){return tt(et(),-1,t)}function tt(t,e,n){var i=xt.binop;if(null!=i&&(!n||xt!==ue)&&i>e){var r=R(t);r.left=t,r.operator=Ct,A(),r.right=tt(et(),i,n);var o=N(r,/&&|\|\|/.test(r.operator)?"LogicalExpression":"BinaryExpression");return tt(o,e,n)}return t}function et(){if(xt.prefix){var t=I(),e=xt.isUpdate;return t.operator=Ct,t.prefix=!0,kt=!0,A(),t.argument=et(),e?H(t.argument):Ot&&"delete"===t.operator&&"Identifier"===t.argument.type&&n(t.start,"Deleting local variable in strict mode"),N(t,e?"UpdateExpression":"UnaryExpression")}for(var i=nt();xt.postfix&&!j();){var t=R(i);t.operator=Ct,t.prefix=!1,t.argument=i,H(i),A(),i=N(t,"UpdateExpression")}return i}function nt(){return it(rt())}function it(t,e){if($(be)){var n=R(t);return n.object=t,n.property=ct(!0),n.computed=!1,it(N(n,"MemberExpression"),e)}if($(he)){var n=R(t);return n.object=t,n.property=K(),n.computed=!0,z(de),it(N(n,"MemberExpression"),e)}if(!e&&$(ge)){var n=R(t);return n.callee=t,n.arguments=ut(me,!1),it(N(n,"CallExpression"),e)}return t}function rt(){switch(xt){case oe:var t=I();return A(),N(t,"ThisExpression");case $t:return ct();case Rt:case Lt:case Nt:var t=I();return t.value=Ct,t.raw=dt.slice(yt,_t),A(),N(t,"Literal");case se:case ae:case le:var t=I();return t.value=xt.atomValue,t.raw=xt.keyword,A(),N(t,"Literal");case ge:var e=bt,n=yt;A();var i=K();return i.start=n,i.end=_t,ht.locations&&(i.loc.start=e,i.loc.end=wt),ht.ranges&&(i.range=[n,_t]),z(me),i;case he:var t=I();return A(),t.elements=ut(de,!0,!0),N(t,"ArrayExpression");case pe:return st();case Xt:var t=I();return A(),lt(t,!1);case re:return ot();default:B()}}function ot(){var t=I();return A(),t.callee=it(rt(),!0),t.arguments=$(ge)?ut(me,!1):It,N(t,"NewExpression")}function st(){var t=I(),e=!0,i=!1;for(t.properties=[],A();!$(fe);){if(e)e=!1;else if(z(ve),ht.allowTrailingCommas&&$(fe))break;var r,o={key:at()},s=!1;if($(_e)?(o.value=K(!0),r=o.kind="init"):ht.ecmaVersion>=5&&"Identifier"===o.key.type&&("get"===o.key.name||"set"===o.key.name)?(s=i=!0,r=o.kind=o.key.name,o.key=at(),xt!==ge&&B(),o.value=lt(I(),!1)):B(),"Identifier"===o.key.type&&(Ot||i))for(var a=0;a<t.properties.length;++a){var l=t.properties[a];if(l.key.name===o.key.name){var u=r==l.kind||s&&"init"===l.kind||"init"===r&&("get"===l.kind||"set"===l.kind);u&&!Ot&&"init"===r&&"init"===l.kind&&(u=!1),u&&n(o.key.start,"Redefinition of property")}}t.properties.push(o)}return N(t,"ObjectExpression")}function at(){return xt===Rt||xt===Lt?rt():ct(!0)}function lt(t,e){xt===$t?t.id=ct():e?B():t.id=null,t.params=[];var i=!0;for(z(ge);!$(me);)i?i=!1:z(ve),t.params.push(ct());var r=Pt,o=Mt;if(Pt=!0,Mt=[],t.body=V(!0),Pt=r,Mt=o,Ot||t.body.body.length&&L(t.body.body[0]))for(var s=t.id?-1:0;s<t.params.length;++s){var a=0>s?t.id:t.params[s];if((Be(a.name)||He(a.name))&&n(a.start,"Defining '"+a.name+"' in strict mode"),s>=0)for(var l=0;s>l;++l)a.name===t.params[l].name&&n(a.start,"Argument name clash in strict mode")}return N(t,e?"FunctionDeclaration":"FunctionExpression")}function ut(t,e,n){for(var i=[],r=!0;!$(t);){if(r)r=!1;else if(z(ve),e&&ht.allowTrailingCommas&&$(t))break;n&&xt===ve?i.push(null):i.push(K(!0))}return i}function ct(t){var e=I();return e.name=xt===$t?Ct:t&&!ht.forbidReserved&&xt.keyword||B(),kt=!1,A(),N(e,"Identifier")}t.version="0.4.0";var ht,dt,pt,ft;t.parse=function(t,n){return dt=String(t),pt=dt.length,e(n),o(),W(ht.program)};var gt=t.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null},mt=t.getLineInfo=function(t,e){for(var n=1,i=0;;){Ke.lastIndex=i;var r=Ke.exec(t);if(!(r&&r.index<e))break;++n,i=r.index+r[0].length}return{line:n,column:e-i}};t.tokenize=function(t,n){function i(t){return _(t),r.start=yt,r.end=_t,r.startLoc=bt,r.endLoc=wt,r.type=xt,r.value=Ct,r}dt=String(t),pt=dt.length,e(n),o();var r={};return i.jumpTo=function(t,e){if(vt=t,ht.locations){St=1,Et=Ke.lastIndex=0;for(var n;(n=Ke.exec(dt))&&n.index<t;)++St,Et=n.index+n[0].length}kt=e,u()},i};var vt,yt,_t,bt,wt,xt,Ct,kt,St,Et,Tt,Dt,At,Pt,Mt,Ot,It=[],Rt={type:"num"},Nt={type:"regexp"},Lt={type:"string"},$t={type:"name"},jt={type:"eof"},Ft={keyword:"break"},zt={keyword:"case",beforeExpr:!0},Bt={keyword:"catch"},Ht={keyword:"continue"},Wt={keyword:"debugger"},qt={keyword:"default"},Yt={keyword:"do",isLoop:!0},Vt={keyword:"else",beforeExpr:!0},Ut={keyword:"finally"},Gt={keyword:"for",isLoop:!0},Xt={keyword:"function"},Kt={keyword:"if"},Zt={keyword:"return",beforeExpr:!0},Qt={keyword:"switch"},Jt={keyword:"throw",beforeExpr:!0},te={keyword:"try"},ee={keyword:"var"},ne={keyword:"while",isLoop:!0},ie={keyword:"with"},re={keyword:"new",beforeExpr:!0},oe={keyword:"this"},se={keyword:"null",atomValue:null},ae={keyword:"true",atomValue:!0},le={keyword:"false",atomValue:!1},ue={keyword:"in",binop:7,beforeExpr:!0},ce={"break":Ft,"case":zt,"catch":Bt,"continue":Ht,"debugger":Wt,"default":qt,"do":Yt,"else":Vt,"finally":Ut,"for":Gt,"function":Xt,"if":Kt,"return":Zt,"switch":Qt,"throw":Jt,"try":te,"var":ee,"while":ne,"with":ie,"null":se,"true":ae,"false":le,"new":re,"in":ue,"instanceof":{keyword:"instanceof",binop:7,beforeExpr:!0},"this":oe,"typeof":{keyword:"typeof",prefix:!0,beforeExpr:!0},"void":{keyword:"void",prefix:!0,beforeExpr:!0},"delete":{keyword:"delete",prefix:!0,beforeExpr:!0}},he={type:"[",beforeExpr:!0},de={type:"]"},pe={type:"{",beforeExpr:!0},fe={type:"}"},ge={type:"(",beforeExpr:!0},me={type:")"},ve={type:",",beforeExpr:!0},ye={type:";",beforeExpr:!0},_e={type:":",beforeExpr:!0},be={type:"."},we={type:"?",beforeExpr:!0},xe={binop:10,beforeExpr:!0},Ce={isAssign:!0,beforeExpr:!0},ke={isAssign:!0,beforeExpr:!0},Se={binop:9,prefix:!0,beforeExpr:!0},Ee={postfix:!0,prefix:!0,isUpdate:!0},Te={prefix:!0,beforeExpr:!0},De={binop:1,beforeExpr:!0},Ae={binop:2,beforeExpr:!0},Pe={binop:3,beforeExpr:!0},Me={binop:4,beforeExpr:!0},Oe={binop:5,beforeExpr:!0},Ie={binop:6,beforeExpr:!0},Re={binop:7,beforeExpr:!0},Ne={binop:8,beforeExpr:!0},Le={binop:10,beforeExpr:!0};t.tokTypes={bracketL:he,bracketR:de,braceL:pe,braceR:fe,parenL:ge,parenR:me,comma:ve,semi:ye,colon:_e,dot:be,question:we,slash:xe,eq:Ce,name:$t,eof:jt,num:Rt,regexp:Nt,string:Lt};for(var $e in ce)t.tokTypes["_"+$e]=ce[$e];var je,Fe=i("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),ze=i("class enum extends super const export import"),Be=i("implements interface let package private protected public static yield"),He=i("eval arguments"),We=i("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),qe=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Ye="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",Ve="\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u0620-\u0649\u0672-\u06d3\u06e7-\u06e8\u06fb-\u06fc\u0730-\u074a\u0800-\u0814\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0840-\u0857\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962-\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09d7\u09df-\u09e0\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5f-\u0b60\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2-\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d46-\u0d48\u0d57\u0d62-\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e34-\u0e3a\u0e40-\u0e45\u0e50-\u0e59\u0eb4-\u0eb9\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f41-\u0f47\u0f71-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1029\u1040-\u1049\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u170e-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17b2\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1920-\u192b\u1930-\u193b\u1951-\u196d\u19b0-\u19c0\u19c8-\u19c9\u19d0-\u19d9\u1a00-\u1a15\u1a20-\u1a53\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b46-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1bb0-\u1bb9\u1be6-\u1bf3\u1c00-\u1c22\u1c40-\u1c49\u1c5b-\u1c7d\u1cd0-\u1cd2\u1d00-\u1dbe\u1e01-\u1f15\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2d81-\u2d96\u2de0-\u2dff\u3021-\u3028\u3099\u309a\ua640-\ua66d\ua674-\ua67d\ua69f\ua6f0-\ua6f1\ua7f8-\ua800\ua806\ua80b\ua823-\ua827\ua880-\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8f3-\ua8f7\ua900-\ua909\ua926-\ua92d\ua930-\ua945\ua980-\ua983\ua9b3-\ua9c0\uaa00-\uaa27\uaa40-\uaa41\uaa4c-\uaa4d\uaa50-\uaa59\uaa7b\uaae0-\uaae9\uaaf2-\uaaf3\uabc0-\uabe1\uabec\uabed\uabf0-\uabf9\ufb20-\ufb28\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f",Ue=new RegExp("["+Ye+"]"),Ge=new RegExp("["+Ye+Ve+"]"),Xe=/[\n\r\u2028\u2029]/,Ke=/\r\n|[\n\r\u2028\u2029]/g,Ze=t.isIdentifierStart=function(t){return 65>t?36===t:91>t?!0:97>t?95===t:123>t?!0:t>=170&&Ue.test(String.fromCharCode(t))},Qe=t.isIdentifierChar=function(t){return 48>t?36===t:58>t?!0:65>t?!1:91>t?!0:97>t?95===t:123>t?!0:t>=170&&Ge.test(String.fromCharCode(t))},Je={kind:"loop"},tn={kind:"switch"}});var g={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"equals","!=":"equals"},m={"-":"__negate","+":null},v=e.each(["add","subtract","multiply","divide","modulo","negate"],function(t){this["__"+t]="#"+t},{});return l.inject(v),c.inject(v),L.inject(v),"complete"===document.readyState?setTimeout(u):B.add(window,{load:u}),{compile:o,execute:s,load:h,parse:r}}.call(this),paper=new(i.inject(e.exports,{enumerable:!0,Base:e,Numerical:s,Key:V})),"function"==typeof define&&define.amd?define("paper",paper):"object"==typeof module&&module&&(module.exports=paper),paper};!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(t.jQuery)}(this,function(t){/*!
 @package noty - jQuery Notification Plugin
 @version version: 2.3.8
 @contributors https://github.com/needim/noty/graphs/contributors

 @documentation Examples and Documentation - http://needim.github.com/noty/

 @license Licensed under the MIT licenses: http://www.opensource.org/licenses/mit-license.php
 */
"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e});var e={init:function(e){return this.options=t.extend({},t.noty.defaults,e),this.options.layout=this.options.custom?t.noty.layouts.inline:t.noty.layouts[this.options.layout],t.noty.themes[this.options.theme]?this.options.theme=t.noty.themes[this.options.theme]:this.options.themeClassName=this.options.theme,this.options=t.extend({},this.options,this.options.layout.options),this.options.id="noty_"+(new Date).getTime()*Math.floor(1e6*Math.random()),this._build(),this},_build:function(){var e=t('<div class="noty_bar noty_type_'+this.options.type+'"></div>').attr("id",this.options.id);if(e.append(this.options.template).find(".noty_text").html(this.options.text),this.$bar=null!==this.options.layout.parent.object?t(this.options.layout.parent.object).css(this.options.layout.parent.css).append(e):e,this.options.themeClassName&&this.$bar.addClass(this.options.themeClassName).addClass("noty_container_type_"+this.options.type),this.options.buttons){this.options.closeWith=[],this.options.timeout=!1;var n=t("<div/>").addClass("noty_buttons");null!==this.options.layout.parent.object?this.$bar.find(".noty_bar").append(n):this.$bar.append(n);var i=this;t.each(this.options.buttons,function(e,n){var r=t("<button/>").addClass(n.addClass?n.addClass:"gray").html(n.text).attr("id",n.id?n.id:"button-"+e).attr("title",n.title).appendTo(i.$bar.find(".noty_buttons")).on("click",function(e){t.isFunction(n.onClick)&&n.onClick.call(r,i,e)})})}this.$message=this.$bar.find(".noty_message"),this.$closeButton=this.$bar.find(".noty_close"),this.$buttons=this.$bar.find(".noty_buttons"),t.noty.store[this.options.id]=this},show:function(){var e=this;return e.options.custom?e.options.custom.find(e.options.layout.container.selector).append(e.$bar):t(e.options.layout.container.selector).append(e.$bar),e.options.theme&&e.options.theme.style&&e.options.theme.style.apply(e),"function"===t.type(e.options.layout.css)?this.options.layout.css.apply(e.$bar):e.$bar.css(this.options.layout.css||{}),e.$bar.addClass(e.options.layout.addClass),e.options.layout.container.style.apply(t(e.options.layout.container.selector),[e.options.within]),e.showing=!0,e.options.theme&&e.options.theme.style&&e.options.theme.callback.onShow.apply(this),t.inArray("click",e.options.closeWith)>-1&&e.$bar.css("cursor","pointer").one("click",function(t){e.stopPropagation(t),e.options.callback.onCloseClick&&e.options.callback.onCloseClick.apply(e),e.close()}),t.inArray("hover",e.options.closeWith)>-1&&e.$bar.one("mouseenter",function(){e.close()}),t.inArray("button",e.options.closeWith)>-1&&e.$closeButton.one("click",function(t){e.stopPropagation(t),e.close()}),-1==t.inArray("button",e.options.closeWith)&&e.$closeButton.remove(),e.options.callback.onShow&&e.options.callback.onShow.apply(e),"string"==typeof e.options.animation.open?(e.$bar.css("height",e.$bar.innerHeight()),e.$bar.on("click",function(t){e.wasClicked=!0}),e.$bar.show().addClass(e.options.animation.open).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){e.options.callback.afterShow&&e.options.callback.afterShow.apply(e),e.showing=!1,e.shown=!0,e.hasOwnProperty("wasClicked")&&(e.$bar.off("click",function(t){e.wasClicked=!0}),e.close())})):e.$bar.animate(e.options.animation.open,e.options.animation.speed,e.options.animation.easing,function(){e.options.callback.afterShow&&e.options.callback.afterShow.apply(e),e.showing=!1,e.shown=!0}),e.options.timeout&&e.$bar.delay(e.options.timeout).promise().done(function(){e.close()}),this},close:function(){if(!(this.closed||this.$bar&&this.$bar.hasClass("i-am-closing-now"))){var e=this;if(this.showing)return void e.$bar.queue(function(){e.close.apply(e)});if(!this.shown&&!this.showing){var n=[];return t.each(t.noty.queue,function(t,i){i.options.id!=e.options.id&&n.push(i)}),void(t.noty.queue=n)}e.$bar.addClass("i-am-closing-now"),e.options.callback.onClose&&e.options.callback.onClose.apply(e),"string"==typeof e.options.animation.close?e.$bar.addClass(e.options.animation.close).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){e.options.callback.afterClose&&e.options.callback.afterClose.apply(e),e.closeCleanUp()}):e.$bar.clearQueue().stop().animate(e.options.animation.close,e.options.animation.speed,e.options.animation.easing,function(){e.options.callback.afterClose&&e.options.callback.afterClose.apply(e)}).promise().done(function(){e.closeCleanUp()})}},closeCleanUp:function(){var e=this;e.options.modal&&(t.notyRenderer.setModalCount(-1),0==t.notyRenderer.getModalCount()&&t(".noty_modal").fadeOut(e.options.animation.fadeSpeed,function(){t(this).remove()})),t.notyRenderer.setLayoutCountFor(e,-1),0==t.notyRenderer.getLayoutCountFor(e)&&t(e.options.layout.container.selector).remove(),"undefined"!=typeof e.$bar&&null!==e.$bar&&("string"==typeof e.options.animation.close?(e.$bar.css("transition","all 100ms ease").css("border",0).css("margin",0).height(0),e.$bar.one("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){e.$bar.remove(),e.$bar=null,e.closed=!0,e.options.theme.callback&&e.options.theme.callback.onClose&&e.options.theme.callback.onClose.apply(e)})):(e.$bar.remove(),e.$bar=null,e.closed=!0)),delete t.noty.store[e.options.id],e.options.theme.callback&&e.options.theme.callback.onClose&&e.options.theme.callback.onClose.apply(e),e.options.dismissQueue||(t.noty.ontap=!0,t.notyRenderer.render()),e.options.maxVisible>0&&e.options.dismissQueue&&t.notyRenderer.render()},setText:function(t){return this.closed||(this.options.text=t,this.$bar.find(".noty_text").html(t)),this},setType:function(t){return this.closed||(this.options.type=t,this.options.theme.style.apply(this),this.options.theme.callback.onShow.apply(this)),this},setTimeout:function(t){if(!this.closed){var e=this;this.options.timeout=t,e.$bar.delay(e.options.timeout).promise().done(function(){e.close()})}return this},stopPropagation:function(t){t=t||window.event,"undefined"!=typeof t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},closed:!1,showing:!1,shown:!1};t.notyRenderer={},t.notyRenderer.init=function(n){var i=Object.create(e).init(n);return i.options.killer&&t.noty.closeAll(),i.options.force?t.noty.queue.unshift(i):t.noty.queue.push(i),t.notyRenderer.render(),"object"==t.noty.returns?i:i.options.id},t.notyRenderer.render=function(){var e=t.noty.queue[0];"object"===t.type(e)?e.options.dismissQueue?e.options.maxVisible>0?t(e.options.layout.container.selector+" > li").length<e.options.maxVisible&&t.notyRenderer.show(t.noty.queue.shift()):t.notyRenderer.show(t.noty.queue.shift()):t.noty.ontap&&(t.notyRenderer.show(t.noty.queue.shift()),t.noty.ontap=!1):t.noty.ontap=!0},t.notyRenderer.show=function(e){e.options.modal&&(t.notyRenderer.createModalFor(e),t.notyRenderer.setModalCount(1)),e.options.custom?0==e.options.custom.find(e.options.layout.container.selector).length?e.options.custom.append(t(e.options.layout.container.object).addClass("i-am-new")):e.options.custom.find(e.options.layout.container.selector).removeClass("i-am-new"):0==t(e.options.layout.container.selector).length?t("body").append(t(e.options.layout.container.object).addClass("i-am-new")):t(e.options.layout.container.selector).removeClass("i-am-new"),t.notyRenderer.setLayoutCountFor(e,1),e.show()},t.notyRenderer.createModalFor=function(e){if(0==t(".noty_modal").length){var n=t("<div/>").addClass("noty_modal").addClass(e.options.theme).data("noty_modal_count",0);e.options.theme.modal&&e.options.theme.modal.css&&n.css(e.options.theme.modal.css),n.prependTo(t("body")).fadeIn(e.options.animation.fadeSpeed),t.inArray("backdrop",e.options.closeWith)>-1&&n.on("click",function(e){t.noty.closeAll()})}},t.notyRenderer.getLayoutCountFor=function(e){return t(e.options.layout.container.selector).data("noty_layout_count")||0},t.notyRenderer.setLayoutCountFor=function(e,n){return t(e.options.layout.container.selector).data("noty_layout_count",t.notyRenderer.getLayoutCountFor(e)+n)},t.notyRenderer.getModalCount=function(){return t(".noty_modal").data("noty_modal_count")||0},t.notyRenderer.setModalCount=function(e){return t(".noty_modal").data("noty_modal_count",t.notyRenderer.getModalCount()+e)},t.fn.noty=function(e){return e.custom=t(this),t.notyRenderer.init(e)},t.noty={},t.noty.queue=[],t.noty.ontap=!0,t.noty.layouts={},t.noty.themes={},t.noty.returns="object",t.noty.store={},t.noty.get=function(e){return t.noty.store.hasOwnProperty(e)?t.noty.store[e]:!1},t.noty.close=function(e){return t.noty.get(e)?t.noty.get(e).close():!1},t.noty.setText=function(e,n){return t.noty.get(e)?t.noty.get(e).setText(n):!1},t.noty.setType=function(e,n){return t.noty.get(e)?t.noty.get(e).setType(n):!1},t.noty.clearQueue=function(){t.noty.queue=[]},t.noty.closeAll=function(){t.noty.clearQueue(),t.each(t.noty.store,function(t,e){e.close()})};var n=window.alert;return t.noty.consumeAlert=function(e){window.alert=function(n){e?e.text=n:e={text:n},t.notyRenderer.init(e)}},t.noty.stopConsumeAlert=function(){window.alert=n},t.noty.defaults={layout:"top",theme:"defaultTheme",type:"alert",text:"",dismissQueue:!0,template:'<div class="noty_message"><span class="noty_text"></span><div class="noty_close"></div></div>',animation:{open:{height:"toggle"},close:{height:"toggle"},easing:"swing",speed:500,fadeSpeed:"fast"},timeout:!1,force:!1,modal:!1,maxVisible:5,killer:!1,closeWith:["click"],callback:{onShow:function(){},afterShow:function(){},onClose:function(){},afterClose:function(){},onCloseClick:function(){}},buttons:!1},t(window).on("resize",function(){t.each(t.noty.layouts,function(e,n){n.container.style.apply(t(n.container.selector))})}),window.noty=function(e){return t.notyRenderer.init(e)},t.noty.layouts.bottom={name:"bottom",options:{},container:{object:'<ul id="noty_bottom_layout_container" />',selector:"ul#noty_bottom_layout_container",style:function(){t(this).css({bottom:0,left:"5%",position:"fixed",width:"90%",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:9999999})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none"},addClass:""},t.noty.layouts.bottomCenter={name:"bottomCenter",options:{},container:{object:'<ul id="noty_bottomCenter_layout_container" />',selector:"ul#noty_bottomCenter_layout_container",style:function(){t(this).css({bottom:20,left:0,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),t(this).css({left:(t(window).width()-t(this).outerWidth(!1))/2+"px"})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},t.noty.layouts.bottomLeft={name:"bottomLeft",options:{},container:{object:'<ul id="noty_bottomLeft_layout_container" />',selector:"ul#noty_bottomLeft_layout_container",style:function(){t(this).css({bottom:20,left:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&t(this).css({left:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},t.noty.layouts.bottomRight={name:"bottomRight",options:{},container:{object:'<ul id="noty_bottomRight_layout_container" />',selector:"ul#noty_bottomRight_layout_container",style:function(){t(this).css({bottom:20,right:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&t(this).css({right:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},t.noty.layouts.center={name:"center",options:{},container:{object:'<ul id="noty_center_layout_container" />',selector:"ul#noty_center_layout_container",style:function(){t(this).css({position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7});var e=t(this).clone().css({visibility:"hidden",display:"block",position:"absolute",top:0,left:0}).attr("id","dupe");t("body").append(e),e.find(".i-am-closing-now").remove(),e.find("li").css("display","block");var n=e.height();e.remove(),t(this).hasClass("i-am-new")?t(this).css({left:(t(window).width()-t(this).outerWidth(!1))/2+"px",top:(t(window).height()-n)/2+"px"}):t(this).animate({left:(t(window).width()-t(this).outerWidth(!1))/2+"px",top:(t(window).height()-n)/2+"px"},500)}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},t.noty.layouts.centerLeft={name:"centerLeft",options:{},container:{object:'<ul id="noty_centerLeft_layout_container" />',selector:"ul#noty_centerLeft_layout_container",style:function(){t(this).css({left:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7});var e=t(this).clone().css({visibility:"hidden",display:"block",position:"absolute",top:0,left:0}).attr("id","dupe");t("body").append(e),e.find(".i-am-closing-now").remove(),e.find("li").css("display","block");var n=e.height();e.remove(),t(this).hasClass("i-am-new")?t(this).css({top:(t(window).height()-n)/2+"px"}):t(this).animate({top:(t(window).height()-n)/2+"px"},500),window.innerWidth<600&&t(this).css({left:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},t.noty.layouts.centerRight={name:"centerRight",options:{},container:{object:'<ul id="noty_centerRight_layout_container" />',selector:"ul#noty_centerRight_layout_container",style:function(){t(this).css({right:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7});var e=t(this).clone().css({visibility:"hidden",display:"block",position:"absolute",top:0,left:0}).attr("id","dupe");t("body").append(e),e.find(".i-am-closing-now").remove(),e.find("li").css("display","block");var n=e.height();e.remove(),t(this).hasClass("i-am-new")?t(this).css({top:(t(window).height()-n)/2+"px"}):t(this).animate({top:(t(window).height()-n)/2+"px"},500),window.innerWidth<600&&t(this).css({right:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},t.noty.layouts.inline={name:"inline",options:{},container:{object:'<ul class="noty_inline_layout_container" />',selector:"ul.noty_inline_layout_container",style:function(){t(this).css({width:"100%",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:9999999})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none"},addClass:""},t.noty.layouts.top={name:"top",options:{},container:{object:'<ul id="noty_top_layout_container" />',selector:"ul#noty_top_layout_container",style:function(){t(this).css({top:0,left:"5%",position:"fixed",width:"90%",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:9999999})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none"},addClass:""},t.noty.layouts.topCenter={name:"topCenter",options:{},container:{object:'<ul id="noty_topCenter_layout_container" />',selector:"ul#noty_topCenter_layout_container",style:function(){t(this).css({top:20,left:0,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),t(this).css({left:(t(window).width()-t(this).outerWidth(!1))/2+"px"})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},t.noty.layouts.topLeft={name:"topLeft",options:{},container:{object:'<ul id="noty_topLeft_layout_container" />',selector:"ul#noty_topLeft_layout_container",style:function(){t(this).css({top:20,left:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&t(this).css({left:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},t.noty.layouts.topRight={name:"topRight",options:{},container:{object:'<ul id="noty_topRight_layout_container" />',selector:"ul#noty_topRight_layout_container",style:function(){t(this).css({top:20,right:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&t(this).css({right:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},t.noty.themes.bootstrapTheme={name:"bootstrapTheme",modal:{css:{position:"fixed",width:"100%",height:"100%",backgroundColor:"#000",zIndex:1e4,opacity:.6,display:"none",left:0,top:0}},style:function(){var e=this.options.layout.container.selector;switch(t(e).addClass("list-group"),this.$closeButton.append('<span aria-hidden="true">&times;</span><span class="sr-only">Close</span>'),this.$closeButton.addClass("close"),this.$bar.addClass("list-group-item").css("padding","0px"),this.options.type){case"alert":case"notification":this.$bar.addClass("list-group-item-info");break;case"warning":this.$bar.addClass("list-group-item-warning");break;case"error":this.$bar.addClass("list-group-item-danger");break;case"information":this.$bar.addClass("list-group-item-info");break;case"success":this.$bar.addClass("list-group-item-success")}this.$message.css({fontSize:"13px",lineHeight:"16px",textAlign:"center",padding:"8px 10px 9px",width:"auto",position:"relative"})},callback:{onShow:function(){},onClose:function(){}}},t.noty.themes.defaultTheme={name:"defaultTheme",helpers:{borderFix:function(){if(this.options.dismissQueue){var e=this.options.layout.container.selector+" "+this.options.layout.parent.selector;switch(this.options.layout.name){case"top":t(e).css({borderRadius:"0px 0px 0px 0px"}),t(e).last().css({borderRadius:"0px 0px 5px 5px"});break;case"topCenter":case"topLeft":case"topRight":case"bottomCenter":case"bottomLeft":case"bottomRight":case"center":case"centerLeft":case"centerRight":case"inline":t(e).css({borderRadius:"0px 0px 0px 0px"}),t(e).first().css({"border-top-left-radius":"5px","border-top-right-radius":"5px"}),t(e).last().css({"border-bottom-left-radius":"5px","border-bottom-right-radius":"5px"});break;case"bottom":t(e).css({borderRadius:"0px 0px 0px 0px"}),t(e).first().css({borderRadius:"5px 5px 0px 0px"})}}}},modal:{css:{position:"fixed",width:"100%",height:"100%",backgroundColor:"#000",zIndex:1e4,opacity:.6,display:"none",left:0,top:0}},style:function(){switch(this.$bar.css({overflow:"hidden",background:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAoCAQAAAClM0ndAAAAhklEQVR4AdXO0QrCMBBE0bttkk38/w8WRERpdyjzVOc+HxhIHqJGMQcFFkpYRQotLLSw0IJ5aBdovruMYDA/kT8plF9ZKLFQcgF18hDj1SbQOMlCA4kao0iiXmah7qBWPdxpohsgVZyj7e5I9KcID+EhiDI5gxBYKLBQYKHAQoGFAoEks/YEGHYKB7hFxf0AAAAASUVORK5CYII=') repeat-x scroll left top #fff"}),this.$message.css({fontSize:"13px",lineHeight:"16px",textAlign:"center",padding:"8px 10px 9px",width:"auto",position:"relative"}),this.$closeButton.css({position:"absolute",top:4,right:4,width:10,height:10,background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAQAAAAnOwc2AAAAxUlEQVR4AR3MPUoDURSA0e++uSkkOxC3IAOWNtaCIDaChfgXBMEZbQRByxCwk+BasgQRZLSYoLgDQbARxry8nyumPcVRKDfd0Aa8AsgDv1zp6pYd5jWOwhvebRTbzNNEw5BSsIpsj/kurQBnmk7sIFcCF5yyZPDRG6trQhujXYosaFoc+2f1MJ89uc76IND6F9BvlXUdpb6xwD2+4q3me3bysiHvtLYrUJto7PD/ve7LNHxSg/woN2kSz4txasBdhyiz3ugPGetTjm3XRokAAAAASUVORK5CYII=)",display:"none",cursor:"pointer"}),this.$buttons.css({padding:5,textAlign:"right",borderTop:"1px solid #ccc",backgroundColor:"#fff"}),this.$buttons.find("button").css({marginLeft:5}),this.$buttons.find("button:first").css({marginLeft:0}),this.$bar.on({mouseenter:function(){t(this).find(".noty_close").stop().fadeTo("normal",1)},mouseleave:function(){t(this).find(".noty_close").stop().fadeTo("normal",0)}}),this.options.layout.name){case"top":this.$bar.css({borderRadius:"0px 0px 5px 5px",borderBottom:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"});break;case"topCenter":case"center":case"bottomCenter":case"inline":this.$bar.css({borderRadius:"5px",border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}),this.$message.css({fontSize:"13px",textAlign:"center"});break;case"topLeft":case"topRight":case"bottomLeft":case"bottomRight":case"centerLeft":case"centerRight":this.$bar.css({borderRadius:"5px",border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}),this.$message.css({fontSize:"13px",textAlign:"left"});break;case"bottom":this.$bar.css({borderRadius:"5px 5px 0px 0px",borderTop:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",boxShadow:"0 -2px 4px rgba(0, 0, 0, 0.1)"});break;default:this.$bar.css({border:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"})}switch(this.options.type){case"alert":case"notification":this.$bar.css({backgroundColor:"#FFF",borderColor:"#CCC",color:"#444"});break;case"warning":this.$bar.css({backgroundColor:"#FFEAA8",borderColor:"#FFC237",color:"#826200"}),this.$buttons.css({borderTop:"1px solid #FFC237"});break;case"error":this.$bar.css({backgroundColor:"red",borderColor:"darkred",color:"#FFF"}),this.$message.css({fontWeight:"bold"}),this.$buttons.css({borderTop:"1px solid darkred"});break;case"information":this.$bar.css({backgroundColor:"#57B7E2",borderColor:"#0B90C4",color:"#FFF"}),this.$buttons.css({borderTop:"1px solid #0B90C4"});break;case"success":this.$bar.css({backgroundColor:"lightgreen",borderColor:"#50C24E",color:"darkgreen"}),this.$buttons.css({borderTop:"1px solid #50C24E"});break;default:this.$bar.css({backgroundColor:"#FFF",borderColor:"#CCC",color:"#444"})}},callback:{onShow:function(){t.noty.themes.defaultTheme.helpers.borderFix.apply(this)},onClose:function(){t.noty.themes.defaultTheme.helpers.borderFix.apply(this)}}},t.noty.themes.relax={name:"relax",helpers:{},modal:{css:{position:"fixed",width:"100%",height:"100%",backgroundColor:"#000",zIndex:1e4,opacity:.6,display:"none",left:0,top:0}},style:function(){switch(this.$bar.css({overflow:"hidden",margin:"4px 0",borderRadius:"2px"}),this.$message.css({fontSize:"14px",lineHeight:"16px",textAlign:"center",padding:"10px",width:"auto",position:"relative"}),this.$closeButton.css({position:"absolute",top:4,right:4,width:10,height:10,background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAQAAAAnOwc2AAAAxUlEQVR4AR3MPUoDURSA0e++uSkkOxC3IAOWNtaCIDaChfgXBMEZbQRByxCwk+BasgQRZLSYoLgDQbARxry8nyumPcVRKDfd0Aa8AsgDv1zp6pYd5jWOwhvebRTbzNNEw5BSsIpsj/kurQBnmk7sIFcCF5yyZPDRG6trQhujXYosaFoc+2f1MJ89uc76IND6F9BvlXUdpb6xwD2+4q3me3bysiHvtLYrUJto7PD/ve7LNHxSg/woN2kSz4txasBdhyiz3ugPGetTjm3XRokAAAAASUVORK5CYII=)",display:"none",cursor:"pointer"}),this.$buttons.css({padding:5,textAlign:"right",borderTop:"1px solid #ccc",backgroundColor:"#fff"}),this.$buttons.find("button").css({marginLeft:5}),this.$buttons.find("button:first").css({marginLeft:0}),this.$bar.on({mouseenter:function(){t(this).find(".noty_close").stop().fadeTo("normal",1)},mouseleave:function(){t(this).find(".noty_close").stop().fadeTo("normal",0)}}),this.options.layout.name){case"top":this.$bar.css({borderBottom:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",borderTop:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"});break;case"topCenter":case"center":case"bottomCenter":case"inline":this.$bar.css({border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}),this.$message.css({fontSize:"13px",textAlign:"center"});break;case"topLeft":case"topRight":case"bottomLeft":case"bottomRight":case"centerLeft":case"centerRight":this.$bar.css({border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}),this.$message.css({fontSize:"13px",textAlign:"left"});break;case"bottom":this.$bar.css({borderTop:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",borderBottom:"2px solid #eee",boxShadow:"0 -2px 4px rgba(0, 0, 0, 0.1)"});break;default:this.$bar.css({border:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"})}switch(this.options.type){case"alert":case"notification":this.$bar.css({backgroundColor:"#FFF",borderColor:"#dedede",color:"#444"});break;case"warning":this.$bar.css({backgroundColor:"#FFEAA8",borderColor:"#FFC237",color:"#826200"}),this.$buttons.css({borderTop:"1px solid #FFC237"});break;case"error":this.$bar.css({backgroundColor:"#FF8181",borderColor:"#e25353",color:"#FFF"}),this.$message.css({fontWeight:"bold"}),this.$buttons.css({borderTop:"1px solid darkred"});break;case"information":this.$bar.css({backgroundColor:"#78C5E7",borderColor:"#3badd6",color:"#FFF"}),this.$buttons.css({borderTop:"1px solid #0B90C4"});break;case"success":this.$bar.css({backgroundColor:"#BCF5BC",borderColor:"#7cdd77",color:"darkgreen"}),this.$buttons.css({borderTop:"1px solid #50C24E"});break;default:this.$bar.css({backgroundColor:"#FFF",borderColor:"#CCC",color:"#444"})}},callback:{onShow:function(){},onClose:function(){}}},window.noty}),function(t){"use strict";"function"==typeof define&&define.amd?define(t):"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=t():"undefined"!=typeof Package?Sortable=t():window.Sortable=t()}(function(){"use strict";function t(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(t);this.el=t,this.options=e=v({},e),t[$]=this;var n={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(t.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",ignore:"a, img",filter:null,animation:0,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1};for(var i in n)!(i in e)&&(e[i]=n[i]);U(e);for(var o in this)"_"===o.charAt(0)&&(this[o]=this[o].bind(this));this.nativeDraggable=e.forceFallback?!1:B,r(t,"mousedown",this._onTapStart),r(t,"touchstart",this._onTapStart),this.nativeDraggable&&(r(t,"dragover",this),r(t,"dragenter",this)),Y.push(this._onDragOver),e.store&&this.sort(e.store.get(this))}function e(t){w&&w.state!==t&&(a(w,"display",t?"none":""),!t&&w.state&&x.insertBefore(w,y),w.state=t)}function n(t,e,n){if(t){n=n||F,e=e.split(".");var i=e.shift().toUpperCase(),r=new RegExp("\\s("+e.join("|")+")(?=\\s)","g");do if(">*"===i&&t.parentNode===n||(""===i||t.nodeName.toUpperCase()==i)&&(!e.length||((" "+t.className+" ").match(r)||[]).length==e.length))return t;while(t!==n&&(t=t.parentNode))}return null}function i(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.preventDefault()}function r(t,e,n){t.addEventListener(e,n,!1)}function o(t,e,n){t.removeEventListener(e,n,!1)}function s(t,e,n){if(t)if(t.classList)t.classList[n?"add":"remove"](e);else{var i=(" "+t.className+" ").replace(L," ").replace(" "+e+" "," ");t.className=(i+(n?" "+e:"")).replace(L," ")}}function a(t,e,n){var i=t&&t.style;if(i){if(void 0===n)return F.defaultView&&F.defaultView.getComputedStyle?n=F.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in i||(e="-webkit-"+e),i[e]=n+("string"==typeof n?"":"px")}}function l(t,e,n){if(t){var i=t.getElementsByTagName(e),r=0,o=i.length;if(n)for(;o>r;r++)n(i[r],r);return i}return[]}function u(t,e,n,i,r,o,s){var a=F.createEvent("Event"),l=(t||e[$]).options,u="on"+n.charAt(0).toUpperCase()+n.substr(1);a.initEvent(n,!0,!0),a.to=e,a.from=r||e,a.item=i||e,a.clone=w,a.oldIndex=o,a.newIndex=s,e.dispatchEvent(a),l[u]&&l[u].call(t,a)}function c(t,e,n,i,r,o){var s,a,l=t[$],u=l.options.onMove;return s=F.createEvent("Event"),s.initEvent("move",!0,!0),s.to=e,s.from=t,s.dragged=n,s.draggedRect=i,s.related=r||e,s.relatedRect=o||e.getBoundingClientRect(),t.dispatchEvent(s),u&&(a=u.call(l,s)),a}function h(t){t.draggable=!1}function d(){W=!1}function p(t,e){var n=t.lastElementChild,i=n.getBoundingClientRect();return(e.clientY-(i.top+i.height)>5||e.clientX-(i.right+i.width)>5)&&n}function f(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,i=0;n--;)i+=e.charCodeAt(n);return i.toString(36)}function g(t){var e=0;if(!t||!t.parentNode)return-1;for(;t&&(t=t.previousElementSibling);)"TEMPLATE"!==t.nodeName.toUpperCase()&&e++;return e}function m(t,e){var n,i;return function(){void 0===n&&(n=arguments,i=this,setTimeout(function(){1===n.length?t.call(i,n[0]):t.apply(i,n),n=void 0},e))}}function v(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var y,_,b,w,x,C,k,S,E,T,D,A,P,M,O,I,R,N={},L=/\s+/g,$="Sortable"+(new Date).getTime(),j=window,F=j.document,z=j.parseInt,B=!!("draggable"in F.createElement("div")),H=function(t){return t=F.createElement("x"),t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}(),W=!1,q=Math.abs,Y=([].slice,[]),V=m(function(t,e,n){if(n&&e.scroll){var i,r,o,s,a=e.scrollSensitivity,l=e.scrollSpeed,u=t.clientX,c=t.clientY,h=window.innerWidth,d=window.innerHeight;if(S!==n&&(k=e.scroll,S=n,k===!0)){k=n;do if(k.offsetWidth<k.scrollWidth||k.offsetHeight<k.scrollHeight)break;while(k=k.parentNode)}k&&(i=k,r=k.getBoundingClientRect(),o=(q(r.right-u)<=a)-(q(r.left-u)<=a),s=(q(r.bottom-c)<=a)-(q(r.top-c)<=a)),o||s||(o=(a>=h-u)-(a>=u),s=(a>=d-c)-(a>=c),(o||s)&&(i=j)),(N.vx!==o||N.vy!==s||N.el!==i)&&(N.el=i,N.vx=o,N.vy=s,clearInterval(N.pid),i&&(N.pid=setInterval(function(){i===j?j.scrollTo(j.pageXOffset+o*l,j.pageYOffset+s*l):(s&&(i.scrollTop+=s*l),o&&(i.scrollLeft+=o*l))},24)))}},30),U=function(t){var e=t.group;e&&"object"==typeof e||(e=t.group={name:e}),["pull","put"].forEach(function(t){t in e||(e[t]=!0)}),t.groups=" "+e.name+(e.put.join?" "+e.put.join(" "):"")+" "};return t.prototype={constructor:t,_onTapStart:function(t){var e=this,i=this.el,r=this.options,o=t.type,s=t.touches&&t.touches[0],a=(s||t).target,l=a,c=r.filter;if(!("mousedown"===o&&0!==t.button||r.disabled)&&(a=n(a,r.draggable,i))){if(A=g(a),"function"==typeof c){if(c.call(this,t,a,this))return u(e,l,"filter",a,i,A),void t.preventDefault()}else if(c&&(c=c.split(",").some(function(t){return t=n(l,t.trim(),i),t?(u(e,t,"filter",a,i,A),!0):void 0})))return void t.preventDefault();(!r.handle||n(l,r.handle,i))&&this._prepareDragStart(t,s,a)}},_prepareDragStart:function(t,e,n){var i,o=this,a=o.el,u=o.options,c=a.ownerDocument;n&&!y&&n.parentNode===a&&(O=t,x=a,y=n,_=y.parentNode,C=y.nextSibling,M=u.group,i=function(){o._disableDelayedDrag(),y.draggable=!0,s(y,o.options.chosenClass,!0),o._triggerDragStart(e)},u.ignore.split(",").forEach(function(t){l(y,t.trim(),h)}),r(c,"mouseup",o._onDrop),r(c,"touchend",o._onDrop),r(c,"touchcancel",o._onDrop),u.delay?(r(c,"mouseup",o._disableDelayedDrag),r(c,"touchend",o._disableDelayedDrag),r(c,"touchcancel",o._disableDelayedDrag),r(c,"mousemove",o._disableDelayedDrag),r(c,"touchmove",o._disableDelayedDrag),o._dragStartTimer=setTimeout(i,u.delay)):i())},_disableDelayedDrag:function(){var t=this.el.ownerDocument;clearTimeout(this._dragStartTimer),o(t,"mouseup",this._disableDelayedDrag),o(t,"touchend",this._disableDelayedDrag),o(t,"touchcancel",this._disableDelayedDrag),o(t,"mousemove",this._disableDelayedDrag),o(t,"touchmove",this._disableDelayedDrag)},_triggerDragStart:function(t){t?(O={target:y,clientX:t.clientX,clientY:t.clientY},this._onDragStart(O,"touch")):this.nativeDraggable?(r(y,"dragend",this),r(x,"dragstart",this._onDragStart)):this._onDragStart(O,!0);try{F.selection?F.selection.empty():window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(){x&&y&&(s(y,this.options.ghostClass,!0),t.active=this,u(this,x,"start",y,x,A))},_emulateDragOver:function(){if(I){if(this._lastX===I.clientX&&this._lastY===I.clientY)return;this._lastX=I.clientX,this._lastY=I.clientY,H||a(b,"display","none");var t=F.elementFromPoint(I.clientX,I.clientY),e=t,n=" "+this.options.group.name,i=Y.length;if(e)do{if(e[$]&&e[$].options.groups.indexOf(n)>-1){for(;i--;)Y[i]({clientX:I.clientX,clientY:I.clientY,target:t,rootEl:e});break}t=e}while(e=e.parentNode);H||a(b,"display","")}},_onTouchMove:function(e){if(O){t.active||this._dragStarted(),this._appendGhost();var n=e.touches?e.touches[0]:e,i=n.clientX-O.clientX,r=n.clientY-O.clientY,o=e.touches?"translate3d("+i+"px,"+r+"px,0)":"translate("+i+"px,"+r+"px)";R=!0,I=n,a(b,"webkitTransform",o),a(b,"mozTransform",o),a(b,"msTransform",o),a(b,"transform",o),e.preventDefault()}},_appendGhost:function(){if(!b){var t,e=y.getBoundingClientRect(),n=a(y);b=y.cloneNode(!0),s(b,this.options.ghostClass,!1),s(b,this.options.fallbackClass,!0),a(b,"top",e.top-z(n.marginTop,10)),a(b,"left",e.left-z(n.marginLeft,10)),a(b,"width",e.width),a(b,"height",e.height),a(b,"opacity","0.8"),a(b,"position","fixed"),a(b,"zIndex","100000"),a(b,"pointerEvents","none"),this.options.fallbackOnBody&&F.body.appendChild(b)||x.appendChild(b),t=b.getBoundingClientRect(),a(b,"width",2*e.width-t.width),a(b,"height",2*e.height-t.height)}},_onDragStart:function(t,e){var n=t.dataTransfer,i=this.options;this._offUpEvents(),"clone"==M.pull&&(w=y.cloneNode(!0),a(w,"display","none"),x.insertBefore(w,y)),
e?("touch"===e?(r(F,"touchmove",this._onTouchMove),r(F,"touchend",this._onDrop),r(F,"touchcancel",this._onDrop)):(r(F,"mousemove",this._onTouchMove),r(F,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(n&&(n.effectAllowed="move",i.setData&&i.setData.call(this,n,y)),r(F,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(t){var i,r,o,s=this.el,l=this.options,u=l.group,h=u.put,f=M===u,g=l.sort;if(void 0!==t.preventDefault&&(t.preventDefault(),!l.dragoverBubble&&t.stopPropagation()),R=!0,M&&!l.disabled&&(f?g||(o=!x.contains(y)):M.pull&&h&&(M.name===u.name||h.indexOf&&~h.indexOf(M.name)))&&(void 0===t.rootEl||t.rootEl===this.el)){if(V(t,l,this.el),W)return;if(i=n(t.target,l.draggable,s),r=y.getBoundingClientRect(),o)return e(!0),void(w||C?x.insertBefore(y,w||C):g||x.appendChild(y));if(0===s.children.length||s.children[0]===b||s===t.target&&(i=p(s,t))){if(i){if(i.animated)return;v=i.getBoundingClientRect()}e(f),c(x,s,y,r,i,v)!==!1&&(y.contains(s)||(s.appendChild(y),_=s),this._animate(r,y),i&&this._animate(v,i))}else if(i&&!i.animated&&i!==y&&void 0!==i.parentNode[$]){E!==i&&(E=i,T=a(i),D=a(i.parentNode));var m,v=i.getBoundingClientRect(),k=v.right-v.left,S=v.bottom-v.top,A=/left|right|inline/.test(T.cssFloat+T.display)||"flex"==D.display&&0===D["flex-direction"].indexOf("row"),P=i.offsetWidth>y.offsetWidth,O=i.offsetHeight>y.offsetHeight,I=(A?(t.clientX-v.left)/k:(t.clientY-v.top)/S)>.5,N=i.nextElementSibling,L=c(x,s,y,r,i,v);if(L!==!1){if(W=!0,setTimeout(d,30),e(f),1===L||-1===L)m=1===L;else if(A){var j=y.offsetTop,F=i.offsetTop;m=j===F?i.previousElementSibling===y&&!P||I&&P:F>j}else m=N!==y&&!O||I&&O;y.contains(s)||(m&&!N?s.appendChild(y):i.parentNode.insertBefore(y,m?N:i)),_=y.parentNode,this._animate(r,y),this._animate(v,i)}}}},_animate:function(t,e){var n=this.options.animation;if(n){var i=e.getBoundingClientRect();a(e,"transition","none"),a(e,"transform","translate3d("+(t.left-i.left)+"px,"+(t.top-i.top)+"px,0)"),e.offsetWidth,a(e,"transition","all "+n+"ms"),a(e,"transform","translate3d(0,0,0)"),clearTimeout(e.animated),e.animated=setTimeout(function(){a(e,"transition",""),a(e,"transform",""),e.animated=!1},n)}},_offUpEvents:function(){var t=this.el.ownerDocument;o(F,"touchmove",this._onTouchMove),o(t,"mouseup",this._onDrop),o(t,"touchend",this._onDrop),o(t,"touchcancel",this._onDrop)},_onDrop:function(e){var n=this.el,i=this.options;clearInterval(this._loopId),clearInterval(N.pid),clearTimeout(this._dragStartTimer),o(F,"mousemove",this._onTouchMove),this.nativeDraggable&&(o(F,"drop",this),o(n,"dragstart",this._onDragStart)),this._offUpEvents(),e&&(R&&(e.preventDefault(),!i.dropBubble&&e.stopPropagation()),b&&b.parentNode.removeChild(b),y&&(this.nativeDraggable&&o(y,"dragend",this),h(y),s(y,this.options.ghostClass,!1),s(y,this.options.chosenClass,!1),x!==_?(P=g(y),P>=0&&(u(null,_,"sort",y,x,A,P),u(this,x,"sort",y,x,A,P),u(null,_,"add",y,x,A,P),u(this,x,"remove",y,x,A,P))):(w&&w.parentNode.removeChild(w),y.nextSibling!==C&&(P=g(y),P>=0&&(u(this,x,"update",y,x,A,P),u(this,x,"sort",y,x,A,P)))),t.active&&((null===P||-1===P)&&(P=A),u(this,x,"end",y,x,A,P),this.save())),x=y=_=b=C=w=k=S=O=I=R=P=E=T=M=t.active=null)},handleEvent:function(t){var e=t.type;"dragover"===e||"dragenter"===e?y&&(this._onDragOver(t),i(t)):("drop"===e||"dragend"===e)&&this._onDrop(t)},toArray:function(){for(var t,e=[],i=this.el.children,r=0,o=i.length,s=this.options;o>r;r++)t=i[r],n(t,s.draggable,this.el)&&e.push(t.getAttribute(s.dataIdAttr)||f(t));return e},sort:function(t){var e={},i=this.el;this.toArray().forEach(function(t,r){var o=i.children[r];n(o,this.options.draggable,i)&&(e[t]=o)},this),t.forEach(function(t){e[t]&&(i.removeChild(e[t]),i.appendChild(e[t]))})},save:function(){var t=this.options.store;t&&t.set(this)},closest:function(t,e){return n(t,e||this.options.draggable,this.el)},option:function(t,e){var n=this.options;return void 0===e?n[t]:(n[t]=e,void("group"===t&&U(n)))},destroy:function(){var t=this.el;t[$]=null,o(t,"mousedown",this._onTapStart),o(t,"touchstart",this._onTapStart),this.nativeDraggable&&(o(t,"dragover",this),o(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),Y.splice(Y.indexOf(this._onDragOver),1),this._onDrop(),this.el=t=null}},t.utils={on:r,off:o,css:a,find:l,is:function(t,e){return!!n(t,e,t)},extend:v,throttle:m,closest:n,toggleClass:s,index:g},t.create=function(e,n){return new t(e,n)},t.version="1.3.0",t}),function(t){window.NestedFormEvents=function(){this.addFields=t.proxy(this.addFields,this),this.removeFields=t.proxy(this.removeFields,this)},NestedFormEvents.prototype={addFields:function(e){var n=e.currentTarget,i=t(n).data("association"),r=t("#"+t(n).data("blueprint-id")),o=r.data("blueprint"),s=(t(n).closest(".fields").closestChild("input, textarea, select").eq(0).attr("name")||"").replace(new RegExp("[[a-z_]+]$"),"");if(s)for(var a=s.match(/[a-z_]+_attributes(?=\]\[(new_)?\d+\])/g)||[],l=s.match(/[0-9]+/g)||[],u=0;u<a.length;u++)l[u]&&(o=o.replace(new RegExp("(_"+a[u]+")_.+?_","g"),"$1_"+l[u]+"_"),o=o.replace(new RegExp("(\\["+a[u]+"\\])\\[.+?\\]","g"),"$1["+l[u]+"]"));var c=new RegExp("new_"+i,"g"),h=this.newId();o=t.trim(o.replace(c,h));var d=this.insertFields(o,i,n);return d.trigger({type:"nested:fieldAdded",field:d}).trigger({type:"nested:fieldAdded:"+i,field:d}),!1},newId:function(){return(new Date).getTime()},insertFields:function(e,n,i){var r=t(i).data("target");return r?t(e).appendTo(t(r)):t(e).insertBefore(i)},removeFields:function(e){var n=t(e.currentTarget),i=n.data("association"),r=n.prev("input[type=hidden]");r.val("1");var o=n.closest(".fields");return o.hide(),o.trigger({type:"nested:fieldRemoved",field:o}).trigger({type:"nested:fieldRemoved:"+i,field:o}),!1}},window.nestedFormEvents=new NestedFormEvents,t(document).delegate("form a.add_nested_fields","click",nestedFormEvents.addFields).delegate("form a.remove_nested_fields","click",nestedFormEvents.removeFields)}(jQuery),/*
 * Copyright 2011, Tobias Lindig
 *
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 */
function(t){t.fn.closestChild=function(e){if(e&&""!=e){var n=[];for(n.push(this);n.length>0;)for(var i=n.shift(),r=i.children(),o=0;o<r.length;++o){var s=t(r[o]);if(s.is(e))return s;n.push(s)}}return t()}}(jQuery),function(t){var e=0,n=function(){return(new Date).getTime()+e++},i=function(t){return"["+t+"]$1"},r=function(t){return"_"+t+"_$1"};t(document).on("click",".add_fields",function(e){e.preventDefault();var o=t(this),s=o.data("association"),a=o.data("associations"),l=o.data("association-insertion-template"),u=o.data("association-insertion-method")||o.data("association-insertion-position")||"before",c=o.data("association-insertion-node"),h=o.data("association-insertion-traversal"),d=parseInt(o.data("count"),10),p=new RegExp("\\[new_"+s+"\\](.*?\\s)","g"),f=new RegExp("_new_"+s+"_(\\w*)","g"),g=n(),m=l.replace(p,i(g)),v=[];for(m==l&&(p=new RegExp("\\[new_"+a+"\\](.*?\\s)","g"),f=new RegExp("_new_"+a+"_(\\w*)","g"),m=l.replace(p,i(g))),m=m.replace(f,r(g)),v=[m],d=isNaN(d)?1:Math.max(d,1),d-=1;d;)g=n(),m=l.replace(p,i(g)),m=m.replace(f,r(g)),v.push(m),d-=1;c=c?h?o[h](c):"this"==c?o:t(c):o.parent(),t.each(v,function(e,n){var i=t(n);c.trigger("cocoon:before-insert",[i]);c[u](i);c.trigger("cocoon:after-insert",[i])})}),t(document).on("click",".remove_fields.dynamic, .remove_fields.existing",function(e){var n=t(this),i=n.data("wrapper-class")||"nested-fields",r=n.closest("."+i),o=r.parent();e.preventDefault(),o.trigger("cocoon:before-remove",[r]);var s=o.data("remove-timeout")||0;setTimeout(function(){n.hasClass("dynamic")?r.remove():(n.prev("input[type=hidden]").val("1"),r.hide()),o.trigger("cocoon:after-remove",[r])},s)}),t(".remove_fields.existing.destroyed").each(function(e,n){var i=t(this),r=i.data("wrapper-class")||"nested-fields";i.closest("."+r).hide()})}(jQuery),!function(){function t(e,n,i){var r=t.resolve(e);if(null==r){i=i||e,n=n||"root";var o=new Error('Failed to require "'+i+'" from "'+n+'"');throw o.path=i,o.parent=n,o.require=!0,o}var s=t.modules[r];if(!s._resolving&&!s.exports){var a={};a.exports={},a.client=a.component=!0,s._resolving=!0,s.call(this,a.exports,t.relative(r),a),delete s._resolving,s.exports=a.exports}return s.exports}t.modules={},t.aliases={},t.resolve=function(e){"/"===e.charAt(0)&&(e=e.slice(1));for(var n=[e,e+".js",e+".json",e+"/index.js",e+"/index.json"],i=0;i<n.length;i++){var e=n[i];if(t.modules.hasOwnProperty(e))return e;if(t.aliases.hasOwnProperty(e))return t.aliases[e]}},t.normalize=function(t,e){var n=[];if("."!=e.charAt(0))return e;t=t.split("/"),e=e.split("/");for(var i=0;i<e.length;++i)".."==e[i]?t.pop():"."!=e[i]&&""!=e[i]&&n.push(e[i]);return t.concat(n).join("/")},t.register=function(e,n){t.modules[e]=n},t.alias=function(e,n){if(!t.modules.hasOwnProperty(e))throw new Error('Failed to alias "'+e+'", it does not exist');t.aliases[n]=e},t.relative=function(e){function n(t,e){for(var n=t.length;n--;)if(t[n]===e)return n;return-1}function i(n){var r=i.resolve(n);return t(r,e,n)}var r=t.normalize(e,"..");return i.resolve=function(i){var o=i.charAt(0);if("/"==o)return i.slice(1);if("."==o)return t.normalize(r,i);var s=e.split("/"),a=n(s,"deps")+1;return a||(a=0),i=s.slice(0,a+1).join("/")+"/deps/"+i},i.exists=function(e){return t.modules.hasOwnProperty(i.resolve(e))},i},t.register("component-classes/index.js",function(t,e,n){function i(t){if(!t)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}var r=e("indexof"),o=/\s+/,s=Object.prototype.toString;n.exports=function(t){return new i(t)},i.prototype.add=function(t){if(this.list)return this.list.add(t),this;var e=this.array(),n=r(e,t);return~n||e.push(t),this.el.className=e.join(" "),this},i.prototype.remove=function(t){if("[object RegExp]"==s.call(t))return this.removeMatching(t);if(this.list)return this.list.remove(t),this;var e=this.array(),n=r(e,t);return~n&&e.splice(n,1),this.el.className=e.join(" "),this},i.prototype.removeMatching=function(t){for(var e=this.array(),n=0;n<e.length;n++)t.test(e[n])&&this.remove(e[n]);return this},i.prototype.toggle=function(t,e){return this.list?("undefined"!=typeof e?e!==this.list.toggle(t,e)&&this.list.toggle(t):this.list.toggle(t),this):("undefined"!=typeof e?e?this.add(t):this.remove(t):this.has(t)?this.remove(t):this.add(t),this)},i.prototype.array=function(){var t=this.el.className.replace(/^\s+|\s+$/g,""),e=t.split(o);return""===e[0]&&e.shift(),e},i.prototype.has=i.prototype.contains=function(t){return this.list?this.list.contains(t):!!~r(this.array(),t)}}),t.register("segmentio-extend/index.js",function(t,e,n){n.exports=function(t){for(var e,n=Array.prototype.slice.call(arguments,1),i=0;e=n[i];i++)if(e)for(var r in e)t[r]=e[r];return t}}),t.register("component-indexof/index.js",function(t,e,n){n.exports=function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}}),t.register("component-event/index.js",function(t){var e=window.addEventListener?"addEventListener":"attachEvent",n=window.removeEventListener?"removeEventListener":"detachEvent",i="addEventListener"!==e?"on":"";t.bind=function(t,n,r,o){return t[e](i+n,r,o||!1),r},t.unbind=function(t,e,r,o){return t[n](i+e,r,o||!1),r}}),t.register("timoxley-to-array/index.js",function(t,e,n){function i(t){return"[object Array]"===Object.prototype.toString.call(t)}n.exports=function(t){if("undefined"==typeof t)return[];if(null===t)return[null];if(t===window)return[window];if("string"==typeof t)return[t];if(i(t))return t;if("number"!=typeof t.length)return[t];if("function"==typeof t&&t instanceof Function)return[t];for(var e=[],n=0;n<t.length;n++)(Object.prototype.hasOwnProperty.call(t,n)||n in t)&&e.push(t[n]);return e.length?e:[]}}),t.register("javve-events/index.js",function(t,e){var n=e("event"),i=e("to-array");t.bind=function(t,e,r,o){t=i(t);for(var s=0;s<t.length;s++)n.bind(t[s],e,r,o)},t.unbind=function(t,e,r,o){t=i(t);for(var s=0;s<t.length;s++)n.unbind(t[s],e,r,o)}}),t.register("javve-get-by-class/index.js",function(t,e,n){n.exports=function(){return document.getElementsByClassName?function(t,e,n){return n?t.getElementsByClassName(e)[0]:t.getElementsByClassName(e)}:document.querySelector?function(t,e,n){return e="."+e,n?t.querySelector(e):t.querySelectorAll(e)}:function(t,e,n){var i=[],r="*";null==t&&(t=document);for(var o=t.getElementsByTagName(r),s=o.length,a=new RegExp("(^|\\s)"+e+"(\\s|$)"),l=0,u=0;s>l;l++)if(a.test(o[l].className)){if(n)return o[l];i[u]=o[l],u++}return i}}()}),t.register("javve-get-attribute/index.js",function(t,e,n){n.exports=function(t,e){var n=t.getAttribute&&t.getAttribute(e)||null;if(!n)for(var i=t.attributes,r=i.length,o=0;r>o;o++)void 0!==e[o]&&e[o].nodeName===e&&(n=e[o].nodeValue);return n}}),t.register("javve-natural-sort/index.js",function(t,e,n){n.exports=function(t,e,n){var i,r,o=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,s=/(^[ ]*|[ ]*$)/g,a=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,l=/^0x[0-9a-f]+$/i,u=/^0/,n=n||{},c=function(t){return n.insensitive&&(""+t).toLowerCase()||""+t},h=c(t).replace(s,"")||"",d=c(e).replace(s,"")||"",p=h.replace(o,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),f=d.replace(o,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),g=parseInt(h.match(l))||1!=p.length&&h.match(a)&&Date.parse(h),m=parseInt(d.match(l))||g&&d.match(a)&&Date.parse(d)||null,v=n.desc?-1:1;if(m){if(m>g)return-1*v;if(g>m)return 1*v}for(var y=0,_=Math.max(p.length,f.length);_>y;y++){if(i=!(p[y]||"").match(u)&&parseFloat(p[y])||p[y]||0,r=!(f[y]||"").match(u)&&parseFloat(f[y])||f[y]||0,isNaN(i)!==isNaN(r))return isNaN(i)?1:-1;if(typeof i!=typeof r&&(i+="",r+=""),r>i)return-1*v;if(i>r)return 1*v}return 0}}),t.register("javve-to-string/index.js",function(t,e,n){n.exports=function(t){return t=void 0===t?"":t,t=null===t?"":t,t=t.toString()}}),t.register("component-type/index.js",function(t,e,n){var i=Object.prototype.toString;n.exports=function(t){switch(i.call(t)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===t?"null":void 0===t?"undefined":t!==t?"nan":t&&1===t.nodeType?"element":typeof t.valueOf()}}),t.register("list.js/index.js",function(t,e,n){!function(t,i){"use strict";var r=t.document,o=e("get-by-class"),s=e("extend"),a=e("indexof"),l=function(t,n,u){var c,h=this,d=e("./src/item")(h),p=e("./src/add-async")(h),f=e("./src/parse")(h);c={start:function(){h.listClass="list",h.searchClass="search",h.sortClass="sort",h.page=200,h.i=1,h.items=[],h.visibleItems=[],h.matchingItems=[],h.searched=!1,h.filtered=!1,h.handlers={updated:[]},h.plugins={},h.helpers={getByClass:o,extend:s,indexOf:a},s(h,n),h.listContainer="string"==typeof t?r.getElementById(t):t,h.listContainer&&(h.list=o(h.listContainer,h.listClass,!0),h.templater=e("./src/templater")(h),h.search=e("./src/search")(h),h.filter=e("./src/filter")(h),h.sort=e("./src/sort")(h),this.items(),h.update(),this.plugins())},items:function(){f(h.list),u!==i&&h.add(u)},plugins:function(){for(var t=0;t<h.plugins.length;t++){var e=h.plugins[t];h[e.name]=e,e.init(h,l)}}},this.add=function(t,e){if(e)return void p(t,e);var n=[],r=!1;t[0]===i&&(t=[t]);for(var o=0,s=t.length;s>o;o++){var a=null;t[o]instanceof d?(a=t[o],a.reload()):(r=h.items.length>h.page?!0:!1,a=new d(t[o],i,r)),h.items.push(a),n.push(a)}return h.update(),n},this.show=function(t,e){return this.i=t,this.page=e,h.update(),h},this.remove=function(t,e,n){for(var i=0,r=0,o=h.items.length;o>r;r++)h.items[r].values()[t]==e&&(h.templater.remove(h.items[r],n),h.items.splice(r,1),o--,r--,i++);return h.update(),i},this.get=function(t,e){for(var n=[],i=0,r=h.items.length;r>i;i++){var o=h.items[i];o.values()[t]==e&&n.push(o)}return n},this.size=function(){return h.items.length},this.clear=function(){return h.templater.clear(),h.items=[],h},this.on=function(t,e){return h.handlers[t].push(e),h},this.off=function(t,e){var n=h.handlers[t],i=a(n,e);return i>-1&&n.splice(i,1),h},this.trigger=function(t){for(var e=h.handlers[t].length;e--;)h.handlers[t][e](h);return h},this.reset={filter:function(){for(var t=h.items,e=t.length;e--;)t[e].filtered=!1;return h},search:function(){for(var t=h.items,e=t.length;e--;)t[e].found=!1;return h}},this.update=function(){var t=h.items,e=t.length;h.visibleItems=[],h.matchingItems=[],h.templater.clear();for(var n=0;e>n;n++)t[n].matching()&&h.matchingItems.length+1>=h.i&&h.visibleItems.length<h.page?(t[n].show(),h.visibleItems.push(t[n]),h.matchingItems.push(t[n])):t[n].matching()?(h.matchingItems.push(t[n]),t[n].hide()):t[n].hide();return h.trigger("updated"),h},c.start()};n.exports=l}(window)}),t.register("list.js/src/search.js",function(t,e,n){var i=e("events"),r=e("get-by-class"),o=e("to-string");n.exports=function(t){var e,n,s,a,l={resetList:function(){t.i=1,t.templater.clear(),a=void 0},setOptions:function(t){2==t.length&&t[1]instanceof Array?n=t[1]:2==t.length&&"function"==typeof t[1]?a=t[1]:3==t.length&&(n=t[1],a=t[2])},setColumns:function(){n=void 0===n?l.toArray(t.items[0].values()):n},setSearchString:function(t){t=o(t).toLowerCase(),t=t.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"),s=t},toArray:function(t){var e=[];for(var n in t)e.push(n);return e}},u={list:function(){for(var e=0,n=t.items.length;n>e;e++)u.item(t.items[e])},item:function(t){t.found=!1;for(var e=0,i=n.length;i>e;e++)if(u.values(t.values(),n[e]))return void(t.found=!0)},values:function(t,n){return t.hasOwnProperty(n)&&(e=o(t[n]).toLowerCase(),""!==s&&e.search(s)>-1)?!0:!1},reset:function(){t.reset.search(),t.searched=!1}},c=function(e){return t.trigger("searchStart"),l.resetList(),l.setSearchString(e),l.setOptions(arguments),l.setColumns(),""===s?u.reset():(t.searched=!0,a?a(s,n):u.list()),t.update(),t.trigger("searchComplete"),t.visibleItems};return t.handlers.searchStart=t.handlers.searchStart||[],t.handlers.searchComplete=t.handlers.searchComplete||[],i.bind(r(t.listContainer,t.searchClass),"keyup",function(e){var n=e.target||e.srcElement,i=""===n.value&&!t.searched;i||c(n.value)}),i.bind(r(t.listContainer,t.searchClass),"input",function(t){var e=t.target||t.srcElement;""===e.value&&c("")}),t.helpers.toString=o,c}}),t.register("list.js/src/sort.js",function(t,e,n){var i=e("natural-sort"),r=e("classes"),o=e("events"),s=e("get-by-class"),a=e("get-attribute");n.exports=function(t){t.sortFunction=t.sortFunction||function(t,e,n){return n.desc="desc"==n.order?!0:!1,i(t.values()[n.valueName],e.values()[n.valueName],n)};var e={els:void 0,clear:function(){for(var t=0,n=e.els.length;n>t;t++)r(e.els[t]).remove("asc"),r(e.els[t]).remove("desc")},getOrder:function(t){var e=a(t,"data-order");return"asc"==e||"desc"==e?e:r(t).has("desc")?"asc":r(t).has("asc")?"desc":"asc"},getInSensitive:function(t,e){var n=a(t,"data-insensitive");e.insensitive="true"===n?!0:!1},setOrder:function(t){for(var n=0,i=e.els.length;i>n;n++){var o=e.els[n];if(a(o,"data-sort")===t.valueName){var s=a(o,"data-order");"asc"==s||"desc"==s?s==t.order&&r(o).add(t.order):r(o).add(t.order)}}}},n=function(){t.trigger("sortStart"),options={};var n=arguments[0].currentTarget||arguments[0].srcElement||void 0;n?(options.valueName=a(n,"data-sort"),e.getInSensitive(n,options),options.order=e.getOrder(n)):(options=arguments[1]||options,options.valueName=arguments[0],options.order=options.order||"asc",options.insensitive="undefined"==typeof options.insensitive?!0:options.insensitive),e.clear(),e.setOrder(options),options.sortFunction=options.sortFunction||t.sortFunction,t.items.sort(function(t,e){return options.sortFunction(t,e,options)}),t.update(),t.trigger("sortComplete")};return t.handlers.sortStart=t.handlers.sortStart||[],t.handlers.sortComplete=t.handlers.sortComplete||[],e.els=s(t.listContainer,t.sortClass),o.bind(e.els,"click",n),t.on("searchStart",e.clear),t.on("filterStart",e.clear),t.helpers.classes=r,t.helpers.naturalSort=i,t.helpers.events=o,t.helpers.getAttribute=a,n}}),t.register("list.js/src/item.js",function(t,e,n){n.exports=function(t){return function(e,n,i){var r=this;this._values={},this.found=!1,this.filtered=!1;var o=function(e,n,i){if(void 0===n)i?r.values(e,i):r.values(e);else{r.elm=n;var o=t.templater.get(r,e);r.values(o)}};this.values=function(e,n){if(void 0===e)return r._values;for(var i in e)r._values[i]=e[i];n!==!0&&t.templater.set(r,r.values())},this.show=function(){t.templater.show(r)},this.hide=function(){t.templater.hide(r)},this.matching=function(){return t.filtered&&t.searched&&r.found&&r.filtered||t.filtered&&!t.searched&&r.filtered||!t.filtered&&t.searched&&r.found||!t.filtered&&!t.searched},this.visible=function(){return r.elm.parentNode==t.list?!0:!1},o(e,n,i)}}}),t.register("list.js/src/templater.js",function(t,e,n){var i=e("get-by-class"),r=function(t){function e(e){if(void 0===e){for(var n=t.list.childNodes,i=0,r=n.length;r>i;i++)if(void 0===n[i].data)return n[i];return null}if(-1!==e.indexOf("<")){var o=document.createElement("div");return o.innerHTML=e,o.firstChild}return document.getElementById(t.item)}var n=e(t.item),r=this;this.get=function(t,e){r.create(t);for(var n={},o=0,s=e.length;s>o;o++){var a=i(t.elm,e[o],!0);n[e[o]]=a?a.innerHTML:""}return n},this.set=function(t,e){if(!r.create(t))for(var n in e)if(e.hasOwnProperty(n)){var o=i(t.elm,n,!0);o&&("IMG"===o.tagName&&""!==e[n]?o.src=e[n]:o.innerHTML=e[n])}},this.create=function(t){if(void 0!==t.elm)return!1;var e=n.cloneNode(!0);return e.removeAttribute("id"),t.elm=e,r.set(t,t.values()),!0},this.remove=function(e){t.list.removeChild(e.elm)},this.show=function(e){r.create(e),t.list.appendChild(e.elm)},this.hide=function(e){void 0!==e.elm&&e.elm.parentNode===t.list&&t.list.removeChild(e.elm)},this.clear=function(){if(t.list.hasChildNodes())for(;t.list.childNodes.length>=1;)t.list.removeChild(t.list.firstChild)}};n.exports=function(t){return new r(t)}}),t.register("list.js/src/filter.js",function(t,e,n){n.exports=function(t){return t.handlers.filterStart=t.handlers.filterStart||[],t.handlers.filterComplete=t.handlers.filterComplete||[],function(e){if(t.trigger("filterStart"),t.i=1,t.reset.filter(),void 0===e)t.filtered=!1;else{t.filtered=!0;for(var n=t.items,i=0,r=n.length;r>i;i++){var o=n[i];o.filtered=e(o)?!0:!1}}return t.update(),t.trigger("filterComplete"),t.visibleItems}}}),t.register("list.js/src/add-async.js",function(t,e,n){n.exports=function(t){return function(e,n,i){var r=e.splice(0,100);i=i||[],i=i.concat(t.add(r)),e.length>0?setTimeout(function(){addAsync(e,n,i)},10):(t.update(),n(i))}}}),t.register("list.js/src/parse.js",function(t,e,n){n.exports=function(t){var n=e("./item")(t),i=function(t){for(var e=t.childNodes,n=[],i=0,r=e.length;r>i;i++)void 0===e[i].data&&n.push(e[i]);return n},r=function(e,i){for(var r=0,o=e.length;o>r;r++)t.items.push(new n(i,e[r]))},o=function(e,n){var i=e.splice(0,100);r(i,n),e.length>0?setTimeout(function(){init.items.indexAsync(e,n)},10):t.update()};return function(){var e=i(t.list),n=t.valueNames;t.indexAsync?o(e,n):r(e,n)}}}),t.alias("component-classes/index.js","list.js/deps/classes/index.js"),t.alias("component-classes/index.js","classes/index.js"),t.alias("component-indexof/index.js","component-classes/deps/indexof/index.js"),t.alias("segmentio-extend/index.js","list.js/deps/extend/index.js"),t.alias("segmentio-extend/index.js","extend/index.js"),t.alias("component-indexof/index.js","list.js/deps/indexof/index.js"),t.alias("component-indexof/index.js","indexof/index.js"),t.alias("javve-events/index.js","list.js/deps/events/index.js"),t.alias("javve-events/index.js","events/index.js"),t.alias("component-event/index.js","javve-events/deps/event/index.js"),t.alias("timoxley-to-array/index.js","javve-events/deps/to-array/index.js"),t.alias("javve-get-by-class/index.js","list.js/deps/get-by-class/index.js"),t.alias("javve-get-by-class/index.js","get-by-class/index.js"),t.alias("javve-get-attribute/index.js","list.js/deps/get-attribute/index.js"),t.alias("javve-get-attribute/index.js","get-attribute/index.js"),t.alias("javve-natural-sort/index.js","list.js/deps/natural-sort/index.js"),t.alias("javve-natural-sort/index.js","natural-sort/index.js"),t.alias("javve-to-string/index.js","list.js/deps/to-string/index.js"),t.alias("javve-to-string/index.js","list.js/deps/to-string/index.js"),t.alias("javve-to-string/index.js","to-string/index.js"),t.alias("javve-to-string/index.js","javve-to-string/index.js"),t.alias("component-type/index.js","list.js/deps/type/index.js"),t.alias("component-type/index.js","type/index.js"),"object"==typeof exports?module.exports=t("list.js"):"function"==typeof define&&define.amd?define(function(){return t("list.js")}):this.List=t("list.js")}(),/*!
 * jQuery Mousewheel 3.1.13
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}(function(t){function e(e){var s=e||window.event,a=l.call(arguments,1),u=0,h=0,d=0,p=0,f=0,g=0;if(e=t.event.fix(s),e.type="mousewheel","detail"in s&&(d=-1*s.detail),"wheelDelta"in s&&(d=s.wheelDelta),"wheelDeltaY"in s&&(d=s.wheelDeltaY),"wheelDeltaX"in s&&(h=-1*s.wheelDeltaX),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(h=-1*d,d=0),u=0===d?h:d,"deltaY"in s&&(d=-1*s.deltaY,u=d),"deltaX"in s&&(h=s.deltaX,0===d&&(u=-1*h)),0!==d||0!==h){if(1===s.deltaMode){var m=t.data(this,"mousewheel-line-height");u*=m,d*=m,h*=m}else if(2===s.deltaMode){var v=t.data(this,"mousewheel-page-height");u*=v,d*=v,h*=v}if(p=Math.max(Math.abs(d),Math.abs(h)),(!o||o>p)&&(o=p,i(s,p)&&(o/=40)),i(s,p)&&(u/=40,h/=40,d/=40),u=Math[u>=1?"floor":"ceil"](u/o),h=Math[h>=1?"floor":"ceil"](h/o),d=Math[d>=1?"floor":"ceil"](d/o),c.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();f=e.clientX-y.left,g=e.clientY-y.top}return e.deltaX=h,e.deltaY=d,e.deltaFactor=o,e.offsetX=f,e.offsetY=g,e.deltaMode=0,a.unshift(e,u,h,d),r&&clearTimeout(r),r=setTimeout(n,200),(t.event.dispatch||t.event.handle).apply(this,a)}}function n(){o=null}function i(t,e){return c.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120===0}var r,o,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(t.event.fixHooks)for(var u=s.length;u;)t.event.fixHooks[s[--u]]=t.event.mouseHooks;var c=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=a.length;n;)this.addEventListener(a[--n],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",c.getLineHeight(this)),t.data(this,"mousewheel-page-height",c.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=a.length;n;)this.removeEventListener(a[--n],e,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var n=t(e),i=n["offsetParent"in t.fn?"offsetParent":"parent"]();return i.length||(i=t("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),/*!
 * FullCalendar v2.1.1
 * Docs & License: http://arshaw.com/fullcalendar/
 * (c) 2013 Adam Shaw
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","moment"],t):t(jQuery,moment)}(function(t,e){function n(t,e){return e.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")}function i(t,e){var n=e.longDateFormat("L");return n=n.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),t.isRTL?n+=" ddd":n="ddd "+n,n}function r(t){o(Ct,t)}function o(e){function n(n,i){t.isPlainObject(i)&&t.isPlainObject(e[n])&&!s(n)?e[n]=o({},e[n],i):void 0!==i&&(e[n]=i)}for(var i=1;i<arguments.length;i++)t.each(arguments[i],n);return e}function s(t){return/(Time|Duration)$/.test(t)}function a(n,i){function r(t){var n=e.localeData||e.langData;return n.call(e,t)||n.call(e,"en")}function s(t){nt?h()&&(g(),p(t)):a()}function a(){it=Z.theme?"ui":"fc",n.addClass("fc"),Z.isRTL?n.addClass("fc-rtl"):n.addClass("fc-ltr"),Z.theme?n.addClass("ui-widget"):n.addClass("fc-unthemed"),nt=t("<div class='fc-view-container'/>").prependTo(n),tt=new l(X,Z),et=tt.render(),et&&n.prepend(et),d(Z.defaultView),Z.handleWindowResize&&(st=I(v,Z.windowResizeDelay),t(window).resize(st))}function c(){rt&&rt.destroy(),tt.destroy(),nt.remove(),n.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),t(window).unbind("resize",st)}function h(){return n.is(":visible")}function d(t){p(0,t)}function p(e,n){ht++,rt&&n&&rt.name!==n&&(tt.deactivateButton(rt.name),W(),rt.start&&rt.destroy(),rt.el.remove(),rt=null),!rt&&n&&(rt=new Tt[n](X),rt.el=t("<div class='fc-view fc-"+n+"-view' />").appendTo(nt),tt.activateButton(n)),rt&&(e&&(at=rt.incrementDate(at,e)),rt.start&&!e&&at.isWithin(rt.intervalStart,rt.intervalEnd)||h()&&(W(),rt.start&&rt.destroy(),rt.render(at),q(),S(),T(),w())),q(),ht--}function f(t){return h()?(t&&m(),ht++,rt.updateSize(!0),ht--,!0):void 0}function g(){h()&&m()}function m(){ot="number"==typeof Z.contentHeight?Z.contentHeight:"number"==typeof Z.height?Z.height-(et?et.outerHeight(!0):0):Math.round(nt.width()/Math.max(Z.aspectRatio,.5))}function v(t){!ht&&t.target===window&&rt.start&&f(!0)&&rt.trigger("windowResize",ct)}function y(){b(),x()}function _(){h()&&(W(),rt.destroyEvents(),rt.renderEvents(dt),q())}function b(){W(),rt.destroyEvents(),q()}function w(){!Z.lazyFetching||lt(rt.start,rt.end)?x():_()}function x(){ut(rt.start,rt.end)}function C(t){dt=t,_()}function k(){_()}function S(){tt.updateTitle(rt.title)}function T(){var t=X.getNow();t.isWithin(rt.intervalStart,rt.intervalEnd)?tt.disableButton("today"):tt.enableButton("today")}function D(t,e){t=X.moment(t),e=e?X.moment(e):t.hasTime()?t.clone().add(X.defaultTimedEventDuration):t.clone().add(X.defaultAllDayEventDuration),rt.select(t,e)}function A(){rt&&rt.unselect()}function P(){p(-1)}function M(){p(1)}function R(){at.add(-1,"years"),p()}function N(){at.add(1,"years"),p()}function L(){at=X.getNow(),p()}function $(t){at=X.moment(t),p()}function F(t){at.add(e.duration(t)),p()}function z(t,e){var n,i;e&&void 0!==Tt[e]||(e=e||"day",n=tt.getViewsWithButtons().join(" "),i=n.match(new RegExp("\\w+"+O(e))),i||(i=n.match(/\w+Day/)),e=i?i[0]:"agendaDay"),at=t,d(e)}function H(){return at.clone()}function W(){nt.css({width:"100%",height:nt.height(),overflow:"hidden"})}function q(){nt.css({width:"",height:"",overflow:""})}function Y(){return X}function V(){return rt}function U(t,e){return void 0===e?Z[t]:void(("height"==t||"contentHeight"==t||"aspectRatio"==t)&&(Z[t]=e,f(!0)))}function G(t,e){return Z[t]?Z[t].apply(e||ct,Array.prototype.slice.call(arguments,2)):void 0}var X=this;i=i||{};var K,Z=o({},Ct,i);K=Z.lang in kt?kt[Z.lang]:kt[Ct.lang],K&&(Z=o({},Ct,K,i)),Z.isRTL&&(Z=o({},Ct,St,K||{},i)),X.options=Z,X.render=s,X.destroy=c,X.refetchEvents=y,X.reportEvents=C,X.reportEventChange=k,X.rerenderEvents=_,X.changeView=d,X.select=D,X.unselect=A,X.prev=P,X.next=M,X.prevYear=R,X.nextYear=N,X.today=L,X.gotoDate=$,X.incrementDate=F,X.zoomTo=z,X.getDate=H,X.getCalendar=Y,X.getView=V,X.option=U,X.trigger=G;var Q=E(r(Z.lang));if(Z.monthNames&&(Q._months=Z.monthNames),Z.monthNamesShort&&(Q._monthsShort=Z.monthNamesShort),Z.dayNames&&(Q._weekdays=Z.dayNames),Z.dayNamesShort&&(Q._weekdaysShort=Z.dayNamesShort),null!=Z.firstDay){var J=E(Q._week);J.dow=Z.firstDay,Q._week=J}X.defaultAllDayEventDuration=e.duration(Z.defaultAllDayEventDuration),X.defaultTimedEventDuration=e.duration(Z.defaultTimedEventDuration),X.moment=function(){var t;return"local"===Z.timezone?(t=Et.moment.apply(null,arguments),t.hasTime()&&t.local()):t="UTC"===Z.timezone?Et.moment.utc.apply(null,arguments):Et.moment.parseZone.apply(null,arguments),"_locale"in t?t._locale=Q:t._lang=Q,t},X.getIsAmbigTimezone=function(){return"local"!==Z.timezone&&"UTC"!==Z.timezone},X.rezoneDate=function(t){return X.moment(t.toArray())},X.getNow=function(){var t=Z.now;return"function"==typeof t&&(t=t()),X.moment(t)},X.calculateWeekNumber=function(t){var e=Z.weekNumberCalculation;return"function"==typeof e?e(t):"local"===e?t.week():"ISO"===e.toUpperCase()?t.isoWeek():void 0},X.getEventEnd=function(t){return t.end?t.end.clone():X.getDefaultEventEnd(t.allDay,t.start)},X.getDefaultEventEnd=function(t,e){var n=e.clone();return t?n.stripTime().add(X.defaultAllDayEventDuration):n.add(X.defaultTimedEventDuration),X.getIsAmbigTimezone()&&n.stripZone(),n},X.formatRange=function(t,e,n){return"function"==typeof n&&(n=n.call(X,Z,Q)),B(t,e,n,null,Z.isRTL)},X.formatDate=function(t,e){return"function"==typeof e&&(e=e.call(X,Z,Q)),j(t,e)},u.call(X,Z);var tt,et,nt,it,rt,ot,st,at,lt=X.isFetchNeeded,ut=X.fetchEvents,ct=n[0],ht=0,dt=[];at=null!=Z.defaultDate?X.moment(Z.defaultDate):X.getNow(),X.getSuggestedViewHeight=function(){return void 0===ot&&g(),ot},X.isHeightAuto=function(){return"auto"===Z.contentHeight||"auto"===Z.height}}function l(e,n){function i(){var e=n.header;return p=n.theme?"ui":"fc",e?f=t("<div class='fc-toolbar'/>").append(o("left")).append(o("right")).append(o("center")).append('<div class="fc-clear"/>'):void 0}function r(){f.remove()}function o(i){var r=t('<div class="fc-'+i+'"/>'),o=n.header[i];return o&&t.each(o.split(" "),function(i){var o,s=t(),a=!0;t.each(this.split(","),function(i,r){var o,l,u,c,h,d,f,m;"title"==r?(s=s.add(t("<h2>&nbsp;</h2>")),a=!1):(e[r]?o=function(){e[r]()}:Tt[r]&&(o=function(){e.changeView(r)},g.push(r)),o&&(l=x(n.themeButtonIcons,r),u=x(n.buttonIcons,r),c=x(n.defaultButtonText,r),h=x(n.buttonText,r),d=h?P(h):l&&n.theme?"<span class='ui-icon ui-icon-"+l+"'></span>":u&&!n.theme?"<span class='fc-icon fc-icon-"+u+"'></span>":P(c||r),f=["fc-"+r+"-button",p+"-button",p+"-state-default"],m=t('<button type="button" class="'+f.join(" ")+'">'+d+"</button>").click(function(){m.hasClass(p+"-state-disabled")||(o(),(m.hasClass(p+"-state-active")||m.hasClass(p+"-state-disabled"))&&m.removeClass(p+"-state-hover"))}).mousedown(function(){m.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-down")}).mouseup(function(){m.removeClass(p+"-state-down")}).hover(function(){m.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-hover")},function(){m.removeClass(p+"-state-hover").removeClass(p+"-state-down")}),s=s.add(m)))}),a&&s.first().addClass(p+"-corner-left").end().last().addClass(p+"-corner-right").end(),s.length>1?(o=t("<div/>"),a&&o.addClass("fc-button-group"),o.append(s),r.append(o)):r.append(s)}),r}function s(t){f.find("h2").text(t)}function a(t){f.find(".fc-"+t+"-button").addClass(p+"-state-active")}function l(t){f.find(".fc-"+t+"-button").removeClass(p+"-state-active")}function u(t){f.find(".fc-"+t+"-button").attr("disabled","disabled").addClass(p+"-state-disabled")}function c(t){f.find(".fc-"+t+"-button").removeAttr("disabled").removeClass(p+"-state-disabled")}function h(){return g}var d=this;d.render=i,d.destroy=r,d.updateTitle=s,d.activateButton=a,d.deactivateButton=l,d.disableButton=u,d.enableButton=c,d.getViewsWithButtons=h;var p,f=t(),g=[]}function u(e){function n(t,e){return!k||t.clone().stripZone()<k.clone().stripZone()||e.clone().stripZone()>S.clone().stripZone()}function i(t,e){k=t,S=e,$=[];var n=++R,i=I.length;N=i;for(var o=0;i>o;o++)r(I[o],n)}function r(e,n){o(e,function(i){var r,o,s=t.isArray(e.events);if(n==R){if(i)for(r=0;r<i.length;r++)o=i[r],s||(o=_(o,e)),o&&$.push(o);N--,N||P($)}})}function o(n,i){var r,s,a=Et.sourceFetchers;for(r=0;r<a.length;r++){if(s=a[r].call(x,n,k.clone(),S.clone(),e.timezone,i),s===!0)return;if("object"==typeof s)return void o(s,i)}var l=n.events;if(l)t.isFunction(l)?(v(),l.call(x,k.clone(),S.clone(),e.timezone,function(t){i(t),y()})):t.isArray(l)?i(l):i();else{var u=n.url;if(u){var c,h=n.success,d=n.error,p=n.complete;c=t.isFunction(n.data)?n.data():n.data;var f=t.extend({},c||{}),g=A(n.startParam,e.startParam),m=A(n.endParam,e.endParam),_=A(n.timezoneParam,e.timezoneParam);g&&(f[g]=k.format()),m&&(f[m]=S.format()),e.timezone&&"local"!=e.timezone&&(f[_]=e.timezone),v(),t.ajax(t.extend({},Dt,n,{data:f,success:function(e){e=e||[];var n=D(h,this,arguments);t.isArray(n)&&(e=n),i(e)},error:function(){D(d,this,arguments),i()},complete:function(){D(p,this,arguments),y()}}))}else i()}}function s(t){var e=a(t);e&&(I.push(e),N++,r(e,R))}function a(e){var n,i,r=Et.sourceNormalizers;if(t.isFunction(e)||t.isArray(e)?n={events:e}:"string"==typeof e?n={url:e}:"object"==typeof e&&(n=t.extend({},e)),n){for(n.className?"string"==typeof n.className&&(n.className=n.className.split(/\s+/)):n.className=[],t.isArray(n.events)&&(n.origArray=n.events,n.events=t.map(n.events,function(t){return _(t,n)})),i=0;i<r.length;i++)r[i].call(x,n);return n}}function l(e){I=t.grep(I,function(t){return!u(t,e)}),$=t.grep($,function(t){return!u(t.source,e)}),P($)}function u(t,e){return t&&e&&h(t)==h(e)}function h(t){return("object"==typeof t?t.origArray||t.url||t.events:null)||t}function d(t){t.start=x.moment(t.start),t.end&&(t.end=x.moment(t.end)),b(t),p(t),P($)}function p(t){var e,n,i,r;for(e=0;e<$.length;e++)if(n=$[e],n._id==t._id&&n!==t)for(i=0;i<j.length;i++)r=j[i],void 0!==t[r]&&(n[r]=t[r])}function f(t,e){var n=_(t);n&&(n.source||(e&&(O.events.push(n),n.source=O),$.push(n)),P($))}function g(e){var n,i;for(null==e?e=function(){return!0}:t.isFunction(e)||(n=e+"",e=function(t){return t._id==n}),$=t.grep($,e,!0),i=0;i<I.length;i++)t.isArray(I[i].events)&&(I[i].events=t.grep(I[i].events,e,!0));P($)}function m(e){return t.isFunction(e)?t.grep($,e):null!=e?(e+="",t.grep($,function(t){return t._id==e})):$}function v(){L++||E("loading",null,!0,T())}function y(){--L||E("loading",null,!1,T())}function _(n,i){var r,o,s,a,l={};return e.eventDataTransform&&(n=e.eventDataTransform(n)),i&&i.eventDataTransform&&(n=i.eventDataTransform(n)),r=x.moment(n.start||n.date),r.isValid()&&(o=null,!n.end||(o=x.moment(n.end),o.isValid()))?(s=n.allDay,void 0===s&&(a=A(i?i.allDayDefault:void 0,e.allDayDefault),s=void 0!==a?a:!(r.hasTime()||o&&o.hasTime())),s?(r.hasTime()&&r.stripTime(),o&&o.hasTime()&&o.stripTime()):(r.hasTime()||(r=x.rezoneDate(r)),o&&!o.hasTime()&&(o=x.rezoneDate(o))),t.extend(l,n),i&&(l.source=i),l._id=n._id||(void 0===n.id?"_fc"+At++:n.id+""),n.className?"string"==typeof n.className?l.className=n.className.split(/\s+/):l.className=n.className:l.className=[],l.allDay=s,l.start=r,l.end=o,e.forceEventDuration&&!l.end&&(l.end=M(l)),c(l),l):void 0}function b(t,e,n){var i,r,o,s,a=t._allDay,l=t._start,u=t._end,c=!1;return e||n||(e=t.start,n=t.end),i=t.allDay!=a?t.allDay:!(e||n).hasTime(),i&&(e&&(e=e.clone().stripTime()),n&&(n=n.clone().stripTime())),e&&(r=i?C(e,l.clone().stripTime()):C(e,l)),i!=a?c=!0:n&&(o=C(n||x.getDefaultEventEnd(i,e||l),e||l).subtract(C(u||x.getDefaultEventEnd(a,l),l))),s=w(m(t._id),c,i,r,o),{dateDelta:r,durationDelta:o,undo:s}}function w(n,i,r,o,s){var a=x.getIsAmbigTimezone(),l=[];return t.each(n,function(t,n){var u=n._allDay,h=n._start,d=n._end,p=null!=r?r:u,f=h.clone(),g=!i&&d?d.clone():null;p?(f.stripTime(),g&&g.stripTime()):(f.hasTime()||(f=x.rezoneDate(f)),g&&!g.hasTime()&&(g=x.rezoneDate(g))),g||!e.forceEventDuration&&!+s||(g=x.getDefaultEventEnd(p,f)),f.add(o),g&&g.add(o).add(s),a&&(+o||+s)&&(f.stripZone(),g&&g.stripZone()),n.allDay=p,n.start=f,n.end=g,c(n),l.push(function(){n.allDay=u,n.start=h,n.end=d,c(n)})}),function(){for(var t=0;t<l.length;t++)l[t]()}}var x=this;x.isFetchNeeded=n,x.fetchEvents=i,x.addEventSource=s,x.removeEventSource=l,x.updateEvent=d,x.renderEvent=f,x.removeEvents=g,x.clientEvents=m,x.mutateEvent=b;var k,S,E=x.trigger,T=x.getView,P=x.reportEvents,M=x.getEventEnd,O={events:[]},I=[O],R=0,N=0,L=0,$=[];t.each((e.events?[e.events]:[]).concat(e.eventSources||[]),function(t,e){var n=a(e);n&&I.push(n)});var j=["title","url","allDay","className","editable","color","backgroundColor","borderColor","textColor"]}function c(t){t._allDay=t.allDay,t._start=t.start.clone(),t._end=t.end?t.end.clone():null}function h(t,e){e.left&&t.css({"border-left-width":1,"margin-left":e.left-1}),e.right&&t.css({"border-right-width":1,"margin-right":e.right-1})}function d(t){t.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function p(e,n,i){var r=Math.floor(n/e.length),o=Math.floor(n-r*(e.length-1)),s=[],a=[],l=[],u=0;f(e),e.each(function(n,i){var c=n===e.length-1?o:r,h=t(i).outerHeight(!0);c>h?(s.push(i),a.push(h),l.push(t(i).height())):u+=h}),i&&(n-=u,r=Math.floor(n/s.length),o=Math.floor(n-r*(s.length-1))),t(s).each(function(e,n){var i=e===s.length-1?o:r,u=a[e],c=l[e],h=i-(u-c);i>u&&t(n).height(h)})}function f(t){t.height("")}function g(e){var n=0;return e.find("> *").each(function(e,i){var r=t(i).outerWidth();r>n&&(n=r)}),n++,e.width(n),n}function m(t,e){return t.height(e).addClass("fc-scroller"),t[0].scrollHeight-1>t[0].clientHeight?!0:(v(t),!1)}function v(t){t.height("").removeClass("fc-scroller")}function y(e){var n=e.css("position"),i=e.parents().filter(function(){var e=t(this);return/(auto|scroll)/.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&i.length?i:t(e[0].ownerDocument||document)}function _(t){var e=t.offset().left,n=e+t.width(),i=t.children(),r=i.offset().left,o=r+i.outerWidth();return{left:r-e,right:n-o}}function b(t){return 1==t.which&&!t.ctrlKey}function w(t,e,n,i){var r,o,s,a;return e>n&&i>t?(t>=n?(r=t.clone(),s=!0):(r=n.clone(),s=!1),i>=e?(o=e.clone(),a=!0):(o=i.clone(),a=!1),{start:r,end:o,isStart:s,isEnd:a}):void 0}function x(t,e){if(t=t||{},void 0!==t[e])return t[e];for(var n,i=e.split(/(?=[A-Z])/),r=i.length-1;r>=0;r--)if(n=t[i[r].toLowerCase()],void 0!==n)return n;return t["default"]}function C(t,n){return e.duration({days:t.clone().stripTime().diff(n.clone().stripTime(),"days"),ms:t.time()-n.time()})}function k(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function S(t,e){return t-e}function E(t){var e=function(){};return e.prototype=t,new e}function T(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function D(e,n,i){if(t.isFunction(e)&&(e=[e]),e){var r,o;for(r=0;r<e.length;r++)o=e[r].apply(n,i)||o;return o}}function A(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]}function P(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function M(t){return t.replace(/&.*?;/g,"")}function O(t){return t.charAt(0).toUpperCase()+t.slice(1)}function I(t,e){var n,i,r,o,s=function(){var a=+new Date-o;e>a&&a>0?n=setTimeout(s,e-a):(n=null,t.apply(r,i),n||(r=i=null))};return function(){r=this,i=arguments,o=+new Date,n||(n=setTimeout(s,e))}}function R(n,i,r){var o,s,a,l,u=n[0],c=1==n.length&&"string"==typeof u;return e.isMoment(u)?(l=e.apply(null,n),u._ambigTime&&(l._ambigTime=!0),u._ambigZone&&(l._ambigZone=!0)):k(u)||void 0===u?l=e.apply(null,n):(o=!1,s=!1,c?Mt.test(u)?(u+="-01",n=[u],o=!0,s=!0):(a=Ot.exec(u))&&(o=!a[5],s=!0):t.isArray(u)&&(s=!0),l=i?e.utc.apply(e,n):e.apply(null,n),o?(l._ambigTime=!0,l._ambigZone=!0):r&&(s?l._ambigZone=!0:c&&l.utcOffset(u))),new N(l)}function N(t){T(this,t)}function L(t,e){var n,i=[],r=!1,o=!1;for(n=0;n<t.length;n++)i.push(Et.moment.parseZone(t[n])),r=r||i[n]._ambigTime,o=o||i[n]._ambigZone;for(n=0;n<i.length;n++)r&&!e?i[n].stripTime():o&&i[n].stripZone();return i}function $(t,n){return e.fn.format.call(t,n)}function j(t,e){return F(t,q(e))}function F(t,e){var n,i="";for(n=0;n<e.length;n++)i+=z(t,e[n]);return i}function z(t,e){var n,i;return"string"==typeof e?e:(n=e.token)?It[n]?It[n](t):$(t,n):e.maybe&&(i=F(t,e.maybe),i.match(/[1-9]/))?i:""}function B(t,e,n,i,r){var o;return t=Et.moment.parseZone(t),e=Et.moment.parseZone(e),o=(t.localeData||t.lang).call(t),n=o.longDateFormat(n)||n,i=i||" - ",H(t,e,q(n),i,r)}function H(t,e,n,i,r){var o,s,a,l,u="",c="",h="",d="",p="";for(s=0;s<n.length&&(o=W(t,e,n[s]),o!==!1);s++)u+=o;for(a=n.length-1;a>s&&(o=W(t,e,n[a]),o!==!1);a--)c=o+c;for(l=s;a>=l;l++)h+=z(t,n[l]),d+=z(e,n[l]);return(h||d)&&(p=r?d+i+h:h+i+d),u+p+c}function W(t,e,n){var i,r;return"string"==typeof n?n:(i=n.token)&&(r=Rt[i.charAt(0)],r&&t.isSame(e,r))?$(t,i):!1}function q(t){return t in Nt?Nt[t]:Nt[t]=Y(t)}function Y(t){for(var e,n=[],i=/\[([^\]]*)\]|\(([^\)]*)\)|(LT|(\w)\4*o?)|([^\w\[\(]+)/g;e=i.exec(t);)e[1]?n.push(e[1]):e[2]?n.push({maybe:Y(e[2])}):e[3]?n.push({token:e[3]}):e[5]&&n.push(e[5]);return n}function V(t){this.options=t||{}}function U(t){this.grid=t}function G(t){this.coordMaps=t}function X(t,e){this.coordMap=t,this.options=e||{}}function K(t,e){return t||e?t&&e?t.grid===e.grid&&t.row===e.row&&t.col===e.col:!1:!0}function Z(e,n){this.options=n=n||{},this.sourceEl=e,this.parentEl=n.parentEl?t(n.parentEl):e.parent()}function Q(t){this.view=t}function J(t){Q.call(this,t),this.coordMap=new U(this)}function tt(t,e){return(-1==t.event.className.indexOf("closed"))-(-1==e.event.className.indexOf("closed"))||t.eventStartMS-e.eventStartMS||e.eventDurationMS-t.eventDurationMS||e.event.allDay-t.event.allDay||(t.event.title||"").localeCompare(e.event.title)}function et(t){J.call(this,t)}function nt(t,e){var n,i;for(n=0;n<e.length;n++)if(i=e[n],i.leftCol<=t.rightCol&&i.rightCol>=t.leftCol)return!0;return!1}function it(t,e){return t.leftCol-e.leftCol}function rt(t){J.call(this,t)}function ot(t){var e,n,i;if(t.sort(tt),e=st(t),at(e),n=e[0]){for(i=0;i<n.length;i++)lt(n[i]);for(i=0;i<n.length;i++)ut(n[i],0,0)}}function st(t){var e,n,i,r=[];for(e=0;e<t.length;e++){for(n=t[e],i=0;i<r.length&&ct(n,r[i]).length;i++);n.level=i,(r[i]||(r[i]=[])).push(n)}return r}function at(t){var e,n,i,r,o;for(e=0;e<t.length;e++)for(n=t[e],i=0;i<n.length;i++)for(r=n[i],r.forwardSegs=[],o=e+1;o<t.length;o++)ct(r,t[o],r.forwardSegs)}function lt(t){var e,n,i=t.forwardSegs,r=0;if(void 0===t.forwardPressure){for(e=0;e<i.length;e++)n=i[e],lt(n),r=Math.max(r,1+n.forwardPressure);t.forwardPressure=r}}function ut(t,e,n){var i,r=t.forwardSegs;if(void 0===t.forwardCoord)for(r.length?(r.sort(dt),ut(r[0],e+1,n),t.forwardCoord=r[0].backwardCoord):t.forwardCoord=1,t.backwardCoord=t.forwardCoord-(t.forwardCoord-n)/(e+1),i=0;i<r.length;i++)ut(r[i],0,t.forwardCoord)}function ct(t,e,n){n=n||[];for(var i=0;i<e.length;i++)ht(t,e[i])&&n.push(e[i]);return n}function ht(t,e){return t.bottom>e.top&&t.top<e.bottom}function dt(t,e){return e.forwardPressure-t.forwardPressure||(t.backwardCoord||0)-(e.backwardCoord||0)||tt(t,e)}function pt(n){function i(e){var n=T[e];return t.isPlainObject(n)&&!s(e)?x(n,S.name):n}function r(t,e){return n.trigger.apply(n,[t,e||S].concat(Array.prototype.slice.call(arguments,2),[S]))}function o(t){var e=t.source||{};return A(t.startEditable,e.startEditable,i("eventStartEditable"),t.editable,e.editable,i("editable"))}function a(t){var e=t.source||{};return A(t.durationEditable,e.durationEditable,i("eventDurationEditable"),t.editable,e.editable,i("editable"))}function l(t,e,i,o){var s=n.mutateEvent(e,i,null);r("eventDrop",t,e,s.dateDelta,function(){s.undo(),E()},o,{}),E()}function u(t,e,i,o){var s=n.mutateEvent(e,null,i);r("eventResize",t,e,s.durationDelta,function(){s.undo(),E()},o,{}),E()}function c(t){return e.isMoment(t)&&(t=t.day()),O[t]}function h(){return P}function d(t,e,n){var i=t.clone();for(e=e||1;O[(i.day()+(n?e:0)+7)%7];)i.add(e,"days");return i}function p(){var t=f.apply(null,arguments),e=g(t),n=m(e);return n}function f(t,e){var n=S.colCnt,i=N?-1:1,r=N?n-1:0;"object"==typeof t&&(e=t.col,t=t.row);var o=t*n+(e*i+r);return o}function g(t){var e=S.start.day();return t+=I[e],7*Math.floor(t/P)+R[(t%P+P)%P]-e}function m(t){return S.start.clone().add(t,"days")}function v(t){var e=y(t),n=_(e),i=b(n);return i}function y(t){return t.clone().stripTime().diff(S.start,"days")}function _(t){var e=S.start.day();return t+=e,Math.floor(t/7)*P+I[(t%7+7)%7]-I[e]}function b(t){var e=S.colCnt,n=N?-1:1,i=N?e-1:0,r=Math.floor(t/e),o=(t%e+e)%e*n+i;return{row:r,col:o}}function w(t,e){for(var n=S.rowCnt,i=S.colCnt,r=[],o=C(t,e),s=y(o.start),a=y(o.end),l=_(s),u=_(a)-1,c=0;n>c;c++){var h=c*i,d=h+i-1,p=Math.max(l,h),f=Math.min(u,d);if(f>=p){var m=b(p),v=b(f),w=[m.col,v.col].sort(),x=g(p)==s,k=g(f)+1==a;r.push({row:c,leftCol:w[0],rightCol:w[1],isStart:x,isEnd:k})}}return r}function C(t,e){var n,i,r=t.clone().stripTime();return e&&(n=e.clone().stripTime(),i=+e.time(),i&&i>=D&&n.add(1,"days")),(!e||r>=n)&&(n=r.clone().add(1,"days")),{start:r,end:n}}function k(t){var e=C(t.start,t.end);return e.end.diff(e.start,"days")>1}var S=this;S.calendar=n,S.opt=i,S.trigger=r,S.isEventDraggable=o,S.isEventResizable=a,S.eventDrop=l,S.eventResize=u;var E=n.reportEventChange,T=n.options,D=e.duration(T.nextDayThreshold);S.init(),S.getEventTimeText=function(t,e){var r,o;return"object"==typeof t&&"object"==typeof e?(r=t,o=e,e=arguments[2]):(r=t.start,o=t.end),e=e||i("timeFormat"),o&&i("displayEventEnd")?n.formatRange(r,o,e):n.formatDate(r,e)},S.isHiddenDay=c,S.skipHiddenDays=d,S.getCellsPerWeek=h,S.dateToCell=v,S.dateToDayOffset=y,S.dayOffsetToCellOffset=_,S.cellOffsetToCell=b,S.cellToDate=p,S.cellToCellOffset=f,S.cellOffsetToDayOffset=g,S.dayOffsetToDate=m,S.rangeToSegments=w,S.isMultiDayEvent=k;var P,M=i("hiddenDays")||[],O=[],I=[],R=[],N=i("isRTL");!function(){i("weekends")===!1&&M.push(0,6);for(var e=0,n=0;7>e;e++)I[e]=n,O[e]=-1!=t.inArray(e,M),O[e]||(R[n]=e,n++);if(P=n,!P)throw"invalid hiddenDays"}()}function ft(t){pt.call(this,t),this.dayGrid=new et(this),this.coordMap=this.dayGrid.coordMap}function gt(t){ft.call(this,t)}function mt(t){ft.call(this,t)}function vt(t){ft.call(this,t)}function yt(t,e){return e.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")}function _t(t,e){return e.longDateFormat("LT").replace(/\s*a$/i,"")}function bt(t){pt.call(this,t),this.timeGrid=new rt(this),this.opt("allDaySlot")?(this.dayGrid=new et(this),this.coordMap=new G([this.dayGrid.coordMap,this.timeGrid.coordMap])):this.coordMap=this.timeGrid.coordMap}function wt(t){bt.call(this,t)}function xt(t){bt.call(this,t)}var Ct={lang:"en",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,titleFormat:{month:"MMMM YYYY",week:"ll",day:"LL"},columnFormat:{month:"ddd",week:i,day:"dddd"},timeFormat:{"default":n},displayEventEnd:{month:!1,basicWeek:!1,"default":!0},isRTL:!1,defaultButtonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200},kt={en:{columnFormat:{week:"ddd M/D"},dayPopoverFormat:"dddd, MMMM D"}},St={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}},Et=t.fullCalendar={version:"2.1.1"},Tt=Et.views={};t.fn.fullCalendar=function(e){var n=Array.prototype.slice.call(arguments,1),i=this;return this.each(function(r,o){var s,l=t(o),u=l.data("fullCalendar");"string"==typeof e?u&&t.isFunction(u[e])&&(s=u[e].apply(u,n),r||(i=s),"destroy"===e&&l.removeData("fullCalendar")):u||(u=new a(l,e),l.data("fullCalendar",u),u.render())}),i},Et.langs=kt,Et.datepickerLang=function(e,n,i){var r=kt[e];r||(r=kt[e]={}),o(r,{isRTL:i.isRTL,weekNumberTitle:i.weekHeader,titleFormat:{month:i.showMonthAfterYear?"YYYY["+i.yearSuffix+"] MMMM":"MMMM YYYY["+i.yearSuffix+"]"},defaultButtonText:{prev:M(i.prevText),next:M(i.nextText),today:M(i.currentText)}}),t.datepicker&&(t.datepicker.regional[n]=t.datepicker.regional[e]=i,t.datepicker.regional.en=t.datepicker.regional[""],t.datepicker.setDefaults(i))},Et.lang=function(t,e){var n;e&&(n=kt[t],n||(n=kt[t]={}),o(n,e||{})),Ct.lang=t},Et.sourceNormalizers=[],Et.sourceFetchers=[];var Dt={dataType:"json",cache:!1},At=1,Pt=["sun","mon","tue","wed","thu","fri","sat"];Et.applyAll=D;var Mt=/^\s*\d{4}-\d\d$/,Ot=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/;Et.moment=function(){return R(arguments)},Et.moment.utc=function(){var t=R(arguments,!0);return t.hasTime()&&t.utc(),t},Et.moment.parseZone=function(){return R(arguments,!0,!0)},N.prototype=E(e.fn),N.prototype.clone=function(){return R([this])},N.prototype.time=function(t){if(null==t)return e.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});delete this._ambigTime,e.isDuration(t)||e.isMoment(t)||(t=e.duration(t));var n=0;return e.isDuration(t)&&(n=24*Math.floor(t.asDays())),this.hours(n+t.hours()).minutes(t.minutes()).seconds(t.seconds()).milliseconds(t.milliseconds())},N.prototype.stripTime=function(){var t=this.toArray();return e.fn.utc.call(this),this.year(t[0]).month(t[1]).date(t[2]).hours(0).minutes(0).seconds(0).milliseconds(0),this._ambigTime=!0,this._ambigZone=!0,this},N.prototype.hasTime=function(){return!this._ambigTime},N.prototype.stripZone=function(){var t=this.toArray(),n=this._ambigTime;return e.fn.utc.call(this),this.year(t[0]).month(t[1]).date(t[2]).hours(t[3]).minutes(t[4]).seconds(t[5]).milliseconds(t[6]),n&&(this._ambigTime=!0),this._ambigZone=!0,this},N.prototype.hasZone=function(){return!this._ambigZone},N.prototype.zone=function(t){return null!=t&&(delete this._ambigTime,delete this._ambigZone),e.fn.zone.apply(this,arguments)},N.prototype.local=function(){var t=this.toArray(),n=this._ambigZone;return delete this._ambigTime,delete this._ambigZone,e.fn.local.apply(this,arguments),n&&this.year(t[0]).month(t[1]).date(t[2]).hours(t[3]).minutes(t[4]).seconds(t[5]).milliseconds(t[6]),this},N.prototype.utc=function(){return delete this._ambigTime,delete this._ambigZone,e.fn.utc.apply(this,arguments)},N.prototype.format=function(){return arguments[0]?j(this,arguments[0]):this._ambigTime?$(this,"YYYY-MM-DD"):this._ambigZone?$(this,"YYYY-MM-DD[T]HH:mm:ss"):$(this)},N.prototype.toISOString=function(){return this._ambigTime?$(this,"YYYY-MM-DD"):this._ambigZone?$(this,"YYYY-MM-DD[T]HH:mm:ss"):e.fn.toISOString.apply(this,arguments)},N.prototype.isWithin=function(t,e){var n=L([this,t,e]);return n[0]>=n[1]&&n[0]<n[2]},N.prototype.isSame=function(t,n){var i;return n?(i=L([this,t],!0),e.fn.isSame.call(i[0],i[1],n)):(t=Et.moment.parseZone(t),e.fn.isSame.call(this,t)&&Boolean(this._ambigTime)===Boolean(t._ambigTime)&&Boolean(this._ambigZone)===Boolean(t._ambigZone))},t.each(["isBefore","isAfter"],function(t,n){N.prototype[n]=function(t,i){var r=L([this,t]);return e.fn[n].call(r[0],r[1],i)}});var It={t:function(t){return $(t,"a").charAt(0)},T:function(t){return $(t,"A").charAt(0)}};Et.formatRange=B;var Rt={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},Nt={};V.prototype={isHidden:!0,options:null,el:null,documentMousedownProxy:null,margin:10,show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var e=this,n=this.options;this.el=t('<div class="fc-popover"/>').addClass(n.className||"").css({top:0,left:0}).append(n.content).appendTo(n.parentEl),this.el.on("click",".fc-close",function(){e.hide()}),n.autoHide&&t(document).on("mousedown",this.documentMousedownProxy=t.proxy(this,"documentMousedown"))},documentMousedown:function(e){this.el&&!t(e.target).closest(this.el).length&&this.hide()},destroy:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),t(document).off("mousedown",this.documentMousedownProxy)},position:function(){var e,n,i,r,o,s=this.options,a=this.el.offsetParent().offset(),l=this.el.outerWidth(),u=this.el.outerHeight(),c=t(window),h=y(this.el);r=s.top||0,o=void 0!==s.left?s.left:void 0!==s.right?s.right-l:0,h.is(window)||h.is(document)?(h=c,e=0,n=0):(i=h.offset(),e=i.top,n=i.left),e+=c.scrollTop(),n+=c.scrollLeft(),s.viewportConstrain!==!1&&(r=Math.min(r,e+h.outerHeight()-u-this.margin),r=Math.max(r,e+this.margin),o=Math.min(o,n+h.outerWidth()-l-this.margin),o=Math.max(o,n+this.margin)),this.el.css({top:r-a.top,left:o-a.left})},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))}},U.prototype={grid:null,rows:null,cols:null,containerEl:null,minX:null,maxX:null,minY:null,maxY:null,build:function(){this.grid.buildCoords(this.rows=[],this.cols=[]),this.computeBounds()},getCell:function(t,e){var n,i=null,r=this.rows,o=this.cols,s=-1,a=-1;if(this.inBounds(t,e)){for(n=0;n<r.length;n++)if(e>=r[n][0]&&e<r[n][1]){s=n;break}for(n=0;n<o.length;n++)if(t>=o[n][0]&&t<o[n][1]){a=n;break}s>=0&&a>=0&&(i={row:s,col:a},i.grid=this.grid,i.date=this.grid.getCellDate(i))}return i},computeBounds:function(){var t;this.containerEl&&(t=this.containerEl.offset(),this.minX=t.left,this.maxX=t.left+this.containerEl.outerWidth(),this.minY=t.top,this.maxY=t.top+this.containerEl.outerHeight())},inBounds:function(t,e){return this.containerEl?t>=this.minX&&t<this.maxX&&e>=this.minY&&e<this.maxY:!0}},G.prototype={coordMaps:null,build:function(){var t,e=this.coordMaps;for(t=0;t<e.length;t++)e[t].build()},getCell:function(t,e){var n,i=this.coordMaps,r=null;for(n=0;n<i.length&&!r;n++)r=i[n].getCell(t,e);return r}},X.prototype={coordMap:null,options:null,isListening:!1,isDragging:!1,origCell:null,origDate:null,cell:null,date:null,mouseX0:null,mouseY0:null,mousemoveProxy:null,mouseupProxy:null,scrollEl:null,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollHandlerProxy:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,mousedown:function(t){b(t)&&(t.preventDefault(),this.startListening(t),this.options.distance||this.startDrag(t))},startListening:function(e){var n,i;this.isListening||(e&&this.options.scroll&&(n=y(t(e.target)),n.is(window)||n.is(document)||(this.scrollEl=n,this.scrollHandlerProxy=I(t.proxy(this,"scrollHandler"),100),this.scrollEl.on("scroll",this.scrollHandlerProxy))),this.computeCoords(),e&&(i=this.getCell(e),this.origCell=i,this.origDate=i?i.date:null,this.mouseX0=e.pageX,this.mouseY0=e.pageY),t(document).on("mousemove",this.mousemoveProxy=t.proxy(this,"mousemove")).on("mouseup",this.mouseupProxy=t.proxy(this,"mouseup")).on("selectstart",this.preventDefault),this.isListening=!0,this.trigger("listenStart",e))},computeCoords:function(){this.coordMap.build(),this.computeScrollBounds()},mousemove:function(t){var e,n;this.isDragging||(e=this.options.distance||1,n=Math.pow(t.pageX-this.mouseX0,2)+Math.pow(t.pageY-this.mouseY0,2),n>=e*e&&this.startDrag(t)),this.isDragging&&this.drag(t)},startDrag:function(t){var e;this.isListening||this.startListening(),this.isDragging||(this.isDragging=!0,this.trigger("dragStart",t),e=this.getCell(t),e&&this.cellOver(e,!0))},drag:function(t){var e;this.isDragging&&(e=this.getCell(t),K(e,this.cell)||(this.cell&&this.cellOut(),e&&this.cellOver(e)),this.dragScroll(t))},cellOver:function(t){this.cell=t,this.date=t.date,this.trigger("cellOver",t,t.date)},cellOut:function(){this.cell&&(this.trigger("cellOut",this.cell),this.cell=null,this.date=null)},mouseup:function(t){this.stopDrag(t),this.stopListening(t)},stopDrag:function(t){this.isDragging&&(this.stopScrolling(),this.trigger("dragStop",t),this.isDragging=!1)},stopListening:function(e){
this.isListening&&(this.scrollEl&&(this.scrollEl.off("scroll",this.scrollHandlerProxy),this.scrollHandlerProxy=null),t(document).off("mousemove",this.mousemoveProxy).off("mouseup",this.mouseupProxy).off("selectstart",this.preventDefault),this.mousemoveProxy=null,this.mouseupProxy=null,this.isListening=!1,this.trigger("listenStop",e),this.origCell=this.cell=null,this.origDate=this.date=null)},getCell:function(t){return this.coordMap.getCell(t.pageX,t.pageY)},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))},preventDefault:function(t){t.preventDefault()},computeScrollBounds:function(){var t,e=this.scrollEl;e&&(t=e.offset(),this.scrollBounds={top:t.top,left:t.left,bottom:t.top+e.outerHeight(),right:t.left+e.outerWidth()})},dragScroll:function(t){var e,n,i,r,o=this.scrollSensitivity,s=this.scrollBounds,a=0,l=0;s&&(e=(o-(t.pageY-s.top))/o,n=(o-(s.bottom-t.pageY))/o,i=(o-(t.pageX-s.left))/o,r=(o-(s.right-t.pageX))/o,e>=0&&1>=e?a=e*this.scrollSpeed*-1:n>=0&&1>=n&&(a=n*this.scrollSpeed),i>=0&&1>=i?l=i*this.scrollSpeed*-1:r>=0&&1>=r&&(l=r*this.scrollSpeed)),this.setScrollVel(a,l)},setScrollVel:function(e,n){this.scrollTopVel=e,this.scrollLeftVel=n,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(t.proxy(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var t=this.scrollEl;this.scrollTopVel<0?t.scrollTop()<=0&&(this.scrollTopVel=0):this.scrollTopVel>0&&t.scrollTop()+t[0].clientHeight>=t[0].scrollHeight&&(this.scrollTopVel=0),this.scrollLeftVel<0?t.scrollLeft()<=0&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&t.scrollLeft()+t[0].clientWidth>=t[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var t=this.scrollEl,e=this.scrollIntervalMs/1e3;this.scrollTopVel&&t.scrollTop(t.scrollTop()+this.scrollTopVel*e),this.scrollLeftVel&&t.scrollLeft(t.scrollLeft()+this.scrollLeftVel*e),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.stopScrolling()},stopScrolling:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.computeCoords())},scrollHandler:function(){this.scrollIntervalId||this.computeCoords()}},Z.prototype={options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,mouseY0:null,mouseX0:null,topDelta:null,leftDelta:null,mousemoveProxy:null,isFollowing:!1,isHidden:!1,isAnimating:!1,start:function(e){this.isFollowing||(this.isFollowing=!0,this.mouseY0=e.pageY,this.mouseX0=e.pageX,this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),t(document).on("mousemove",this.mousemoveProxy=t.proxy(this,"mousemove")))},stop:function(e,n){function i(){this.isAnimating=!1,r.destroyEl(),this.top0=this.left0=null,n&&n()}var r=this,o=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,t(document).off("mousemove",this.mousemoveProxy),e&&o&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:o,complete:i})):i())},getEl:function(){var t=this.el;return t||(this.sourceEl.width(),t=this.el=this.sourceEl.clone().css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}).appendTo(this.parentEl)),t},destroyEl:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var t,e;this.getEl(),null===this.top0&&(this.sourceEl.width(),t=this.sourceEl.offset(),e=this.el.offsetParent().offset(),this.top0=t.top-e.top,this.left0=t.left-e.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},mousemove:function(t){this.topDelta=t.pageY-this.mouseY0,this.leftDelta=t.pageX-this.mouseX0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}},Q.prototype={view:null,cellHtml:"<td/>",rowHtml:function(t,e){var n,i,r=this.view,o=this.getHtmlRenderer("cell",t),s="";for(e=e||0,n=0;n<r.colCnt;n++)i=r.cellToDate(e,n),s+=o(e,n,i);return s=this.bookendCells(s,t,e),"<tr>"+s+"</tr>"},bookendCells:function(t,e,n){var i=this.view,r=this.getHtmlRenderer("intro",e)(n||0),o=this.getHtmlRenderer("outro",e)(n||0),s=i.opt("isRTL"),a=s?o:r,l=s?r:o;return"string"==typeof t?a+t+l:t.prepend(a).append(l)},getHtmlRenderer:function(t,e){var n,i,r,o,s=this.view;return n=t+"Html",e&&(i=e+O(t)+"Html"),i&&(o=s[i])?r=s:i&&(o=this[i])?r=this:(o=s[n])?r=s:(o=this[n])&&(r=this),"function"==typeof o?function(t){return o.apply(r,arguments)||""}:function(){return o||""}}},J.prototype=E(Q.prototype),t.extend(J.prototype,{el:null,coordMap:null,cellDuration:null,render:function(){this.bindHandlers()},destroy:function(){},buildCoords:function(t,e){},getCellDate:function(t){},getCellDayEl:function(t){},rangeToSegs:function(t,e){},bindHandlers:function(){var e=this;this.el.on("mousedown",function(n){t(n.target).is(".fc-event-container *, .fc-more")||t(n.target).closest(".fc-popover").length||e.dayMousedown(n)}),this.bindSegHandlers()},dayMousedown:function(t){var e,n,i,r=this,o=this.view,s=o.opt("selectable"),a=null,l=new X(this.coordMap,{scroll:o.opt("dragScroll"),dragStart:function(){o.unselect()},cellOver:function(t,o){l.origDate&&(i=r.getCellDayEl(t),a=[o,l.origDate].sort(S),e=a[0],n=a[1].clone().add(r.cellDuration),s&&r.renderSelection(e,n))},cellOut:function(t,e){a=null,r.destroySelection()},listenStop:function(t){a&&(a[0].isSame(a[1])&&o.trigger("dayClick",i[0],e,t),s&&o.reportSelection(e,n,t))}});l.mousedown(t)},renderDrag:function(t,e,n){},destroyDrag:function(){},renderResize:function(t,e,n){},destroyResize:function(){},renderRangeHelper:function(t,e,n){var i,r=this.view;!e&&r.opt("forceEventDuration")&&(e=r.calendar.getDefaultEventEnd(!t.hasTime(),t)),i=n?E(n.event):{},i.start=t,i.end=e,i.allDay=!(t.hasTime()||e&&e.hasTime()),i.className=(i.className||[]).concat("fc-helper"),n||(i.editable=!1),this.renderHelper(i,n)},renderHelper:function(t,e){},destroyHelper:function(){},renderSelection:function(t,e){this.renderHighlight(t,e)},destroySelection:function(){this.destroyHighlight()},renderHighlight:function(t,e){},destroyHighlight:function(){},headHtml:function(){return'<div class="fc-row '+this.view.widgetHeaderClass+'"><table><thead>'+this.rowHtml("head")+"</thead></table></div>"},headCellHtml:function(t,e,n){var i=this.view,r=i.calendar,o=i.opt("columnFormat");return'<th class="fc-day-header '+i.widgetHeaderClass+" fc-"+Pt[n.day()]+'">'+P(r.formatDate(n,o))+"</th>"},bgCellHtml:function(t,e,n){var i=this.view,r=this.getDayClasses(n);return r.unshift("fc-day",i.widgetContentClass),'<td class="'+r.join(" ")+'" data-date="'+n.format()+'"></td>'},getDayClasses:function(t){var e=this.view,n=e.calendar.getNow().stripTime(),i=["fc-"+Pt[t.day()]];return"month"===e.name&&t.month()!=e.intervalStart.month()&&i.push("fc-other-month"),t.isSame(n,"day")?i.push("fc-today"):n>t?i.push("fc-past"):i.push("fc-future"),i}}),t.extend(J.prototype,{mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,renderEvents:function(t){},getSegs:function(){},destroyEvents:function(){this.triggerSegMouseout()},renderSegs:function(e,n){var i,r=this.view,o="",s=[];for(i=0;i<e.length;i++)o+=this.renderSegHtml(e[i],n);return t(o).each(function(n,i){var o=e[n],a=r.resolveEventEl(o.event,t(i));a&&(a.data("fc-seg",o),o.el=a,s.push(o))}),s},renderSegHtml:function(t,e){},eventsToSegs:function(e,n,i){var r=this;return t.map(e,function(t){return r.eventToSegs(t,n,i)})},eventToSegs:function(t,e,n){var i,r,o,s=t.start.clone().stripZone(),a=this.view.calendar.getEventEnd(t).stripZone();for(e&&n?(o=w(s,a,e,n),i=o?[o]:[]):i=this.rangeToSegs(s,a),r=0;r<i.length;r++)o=i[r],o.event=t,o.eventStartMS=+s,o.eventDurationMS=a-s;return i},bindSegHandlers:function(){var e=this,n=this.view;t.each({mouseenter:function(t,n){e.triggerSegMouseover(t,n)},mouseleave:function(t,n){e.triggerSegMouseout(t,n)},click:function(t,e){return n.trigger("eventClick",this,t.event,e)},mousedown:function(i,r){t(r.target).is(".fc-resizer")&&n.isEventResizable(i.event)?e.segResizeMousedown(i,r):n.isEventDraggable(i.event)&&e.segDragMousedown(i,r)}},function(n,i){e.el.on(n,".fc-event-container > *",function(n){var r=t(this).data("fc-seg");return!r||e.isDraggingSeg||e.isResizingSeg?void 0:i.call(this,r,n)})})},triggerSegMouseover:function(t,e){this.mousedOverSeg||(this.mousedOverSeg=t,this.view.trigger("eventMouseover",t.el[0],t.event,e))},triggerSegMouseout:function(t,e){e=e||{},this.mousedOverSeg&&(t=t||this.mousedOverSeg,this.mousedOverSeg=null,this.view.trigger("eventMouseout",t.el[0],t.event,e))},segDragMousedown:function(t,e){var n,i,r=this,o=this.view,s=t.el,a=t.event,l=new Z(t.el,{parentEl:o.el,opacity:o.opt("dragOpacity"),revertDuration:o.opt("dragRevertDuration"),zIndex:2}),u=new X(o.coordMap,{distance:5,scroll:o.opt("dragScroll"),listenStart:function(t){l.hide(),l.start(t)},dragStart:function(e){r.triggerSegMouseout(t,e),r.isDraggingSeg=!0,o.hideEvent(a),o.trigger("eventDragStart",s[0],a,e,{})},cellOver:function(e,s){var a=t.cellDate||u.origDate,c=r.computeDraggedEventDates(t,a,s);n=c.start,i=c.end,o.renderDrag(n,i,t)?l.hide():l.show()},cellOut:function(){n=null,o.destroyDrag(),l.show()},dragStop:function(t){var e=n&&!n.isSame(a.start);l.stop(!e,function(){r.isDraggingSeg=!1,o.destroyDrag(),o.showEvent(a),o.trigger("eventDragStop",s[0],a,t,{}),e&&o.eventDrop(s[0],a,n,t)})},listenStop:function(){l.stop()}});u.mousedown(e)},computeDraggedEventDates:function(t,e,n){var i,r,o,s=this.view,a=t.event,l=a.start,u=s.calendar.getEventEnd(a);return n.hasTime()===e.hasTime()?(i=C(n,e),r=l.clone().add(i),o=null===a.end?null:u.clone().add(i)):(r=n,o=null),{start:r,end:o}},segResizeMousedown:function(t,e){function n(){r.destroyResize(),o.showEvent(a)}var i,r=this,o=this.view,s=t.el,a=t.event,l=a.start,u=o.calendar.getEventEnd(a),c=null;i=new X(this.coordMap,{distance:5,scroll:o.opt("dragScroll"),dragStart:function(e){r.triggerSegMouseout(t,e),r.isResizingSeg=!0,o.trigger("eventResizeStart",s[0],a,e,{})},cellOver:function(e,i){i.isBefore(l)&&(i=l),c=i.clone().add(r.cellDuration),c.isSame(u)?(c=null,n()):(r.renderResize(l,c,t),o.hideEvent(a))},cellOut:function(){c=null,n()},dragStop:function(t){r.isResizingSeg=!1,n(),o.trigger("eventResizeStop",s[0],a,t,{}),c&&o.eventResize(s[0],a,c,t)}}),i.mousedown(e)},getSegClasses:function(t,e,n){var i=t.event,r=["fc-event",t.isStart?"fc-start":"fc-not-start",t.isEnd?"fc-end":"fc-not-end"].concat(i.className,i.source?i.source.className:[]);return e&&r.push("fc-draggable"),n&&r.push("fc-resizable"),r},getEventSkinCss:function(t){var e=this.view,n=t.source||{},i=t.color,r=n.color,o=e.opt("eventColor"),s=t.backgroundColor||i||n.backgroundColor||r||e.opt("eventBackgroundColor")||o,a=t.borderColor||i||n.borderColor||r||e.opt("eventBorderColor")||o,l=t.textColor||n.textColor||e.opt("eventTextColor"),u=[];return s&&u.push("background-color:"+s),a&&u.push("border-color:"+a),l&&u.push("color:"+l),u.join(";")}}),et.prototype=E(J.prototype),t.extend(et.prototype,{numbersVisible:!1,cellDuration:e.duration({days:1}),bottomCoordPadding:0,rowEls:null,dayEls:null,helperEls:null,highlightEls:null,render:function(e){var n,i=this.view,r="";for(n=0;n<i.rowCnt;n++)r+=this.dayRowHtml(n,e);this.el.html(r),this.rowEls=this.el.find(".fc-row"),this.dayEls=this.el.find(".fc-day"),this.dayEls.each(function(e,n){var r=i.cellToDate(Math.floor(e/i.colCnt),e%i.colCnt);i.trigger("dayRender",null,r,t(n))}),J.prototype.render.call(this)},destroy:function(){this.destroySegPopover()},dayRowHtml:function(t,e){var n=this.view,i=["fc-row","fc-week",n.widgetContentClass];return e&&i.push("fc-rigid"),'<div class="'+i.join(" ")+'"><div class="fc-bg"><table>'+this.rowHtml("day",t)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.rowHtml("number",t)+"</thead>":"")+"</table></div></div>"},dayCellHtml:function(t,e,n){return this.bgCellHtml(t,e,n)},buildCoords:function(e,n){var i,r,o,s=this.view.colCnt;this.dayEls.slice(0,s).each(function(e,s){i=t(s),r=i.offset().left,e&&(o[1]=r),o=[r],n[e]=o}),o[1]=r+i.outerWidth(),this.rowEls.each(function(n,s){i=t(s),r=i.offset().top,n&&(o[1]=r),o=[r],e[n]=o}),o[1]=r+i.outerHeight()+this.bottomCoordPadding},getCellDate:function(t){return this.view.cellToDate(t)},getCellDayEl:function(t){return this.dayEls.eq(t.row*this.view.colCnt+t.col)},rangeToSegs:function(t,e){return this.view.rangeToSegments(t,e)},renderDrag:function(t,e,n){var i;return this.renderHighlight(t,e||this.view.calendar.getDefaultEventEnd(!0,t)),n&&!n.el.closest(this.el).length?(this.renderRangeHelper(t,e,n),i=this.view.opt("dragOpacity"),void 0!==i&&this.helperEls.css("opacity",i),!0):void 0},destroyDrag:function(){this.destroyHighlight(),this.destroyHelper()},renderResize:function(t,e,n){this.renderHighlight(t,e),this.renderRangeHelper(t,e,n)},destroyResize:function(){this.destroyHighlight(),this.destroyHelper()},renderHelper:function(e,n){var i=[],r=this.renderEventRows([e]);this.rowEls.each(function(e,o){var s,a=t(o),l=t('<div class="fc-helper-skeleton"><table/></div>');s=n&&n.row===e?n.el.position().top:a.find(".fc-content-skeleton tbody").position().top,l.css("top",s).find("table").append(r[e].tbodyEl),a.append(l),i.push(l[0])}),this.helperEls=t(i)},destroyHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},renderHighlight:function(e,n){var i,r,o,s=this.rangeToSegs(e,n),a=[];for(i=0;i<s.length;i++)r=s[i],o=t(this.highlightSkeletonHtml(r.leftCol,r.rightCol+1)),o.appendTo(this.rowEls[r.row]),a.push(o[0]);this.highlightEls=t(a)},destroyHighlight:function(){this.highlightEls&&(this.highlightEls.remove(),this.highlightEls=null)},highlightSkeletonHtml:function(t,e){var n=this.view.colCnt,i="";return t>0&&(i+='<td colspan="'+t+'"/>'),e>t&&(i+='<td colspan="'+(e-t)+'" class="fc-highlight" />'),n>e&&(i+='<td colspan="'+(n-e)+'"/>'),i=this.bookendCells(i,"highlight"),'<div class="fc-highlight-skeleton"><table><tr>'+i+"</tr></table></div>"}}),t.extend(et.prototype,{segs:null,rowStructs:null,renderEvents:function(e){var n=this.rowStructs=this.renderEventRows(e),i=[];this.rowEls.each(function(e,r){t(r).find(".fc-content-skeleton > table").append(n[e].tbodyEl),i.push.apply(i,n[e].segs)}),this.segs=i},getSegs:function(){return(this.segs||[]).concat(this.popoverSegs||[])},destroyEvents:function(){var t,e;for(J.prototype.destroyEvents.call(this),t=this.rowStructs||[];e=t.pop();)e.tbodyEl.remove();this.segs=null,this.destroySegPopover()},renderEventRows:function(t){var e,n,i=this.eventsToSegs(t),r=[];for(i=this.renderSegs(i),e=this.groupSegRows(i),n=0;n<e.length;n++)r.push(this.renderEventRow(n,e[n]));return r},renderSegHtml:function(t,e){var n,i=this.view,r=i.opt("isRTL"),o=t.event,s=i.isEventDraggable(o),a=!e&&o.allDay&&t.isEnd&&i.isEventResizable(o),l=this.getSegClasses(t,s,a),u=this.getEventSkinCss(o),c="";return l.unshift("fc-day-grid-event"),!o.allDay&&t.isStart&&-1==o.className.indexOf("closed")&&(c='<span class="fc-time">'+P(i.getEventTimeText(o))+"</span>"),n='<span class="fc-title">'+(P(o.title||"")||"&nbsp;")+"</span>",'<a class="'+l.join(" ")+'"'+(o.url?' href="'+P(o.url)+'"':"")+(u?' style="'+u+'"':"")+'><div class="fc-content">'+(r?n+" "+c:c+" "+n)+"</div>"+(a?'<div class="fc-resizer"/>':"")+"</a>"},renderEventRow:function(e,n){function i(e){for(;e>s;)c=(y[r-1]||[])[s],c?c.attr("rowspan",parseInt(c.attr("rowspan")||1,10)+1):(c=t("<td/>"),a.append(c)),v[r][s]=c,y[r][s]=c,s++}var r,o,s,a,l,u,c,h=this.view,d=h.colCnt,p=this.buildSegLevels(n),f=Math.max(1,p.length),g=t("<tbody/>"),m=[],v=[],y=[];for(r=0;f>r;r++){if(o=p[r],s=0,a=t("<tr/>"),m.push([]),v.push([]),y.push([]),o)for(l=0;l<o.length;l++){for(u=o[l],i(u.leftCol),c=t('<td class="fc-event-container"/>').append(u.el),u.leftCol!=u.rightCol?c.attr("colspan",u.rightCol-u.leftCol+1):y[r][s]=c;s<=u.rightCol;)v[r][s]=c,m[r][s]=u,s++;a.append(c)}i(d),this.bookendCells(a,"eventSkeleton"),g.append(a)}return{row:e,tbodyEl:g,cellMatrix:v,segMatrix:m,segLevels:p,segs:n}},buildSegLevels:function(t){var e,n,i,r=[];for(t.sort(tt),e=0;e<t.length;e++){for(n=t[e],i=0;i<r.length&&nt(n,r[i]);i++);n.level=i,(r[i]||(r[i]=[])).push(n)}for(i=0;i<r.length;i++)r[i].sort(it);return r},groupSegRows:function(t){var e,n=this.view,i=[];for(e=0;e<n.rowCnt;e++)i.push([]);for(e=0;e<t.length;e++)i[t[e].row].push(t[e]);return i}}),t.extend(et.prototype,{segPopover:null,popoverSegs:null,destroySegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(t){var e,n,i=this.rowStructs||[];for(e=0;e<i.length;e++)this.unlimitRow(e),n=t?"number"==typeof t?t:this.computeRowLevelLimit(e):!1,n!==!1&&this.limitRow(e,n)},computeRowLevelLimit:function(t){var e,n,i=this.rowEls.eq(t),r=i.height(),o=this.rowStructs[t].tbodyEl.children();for(e=0;e<o.length;e++)if(n=o.eq(e).removeClass("fc-limited"),n.position().top+n.outerHeight()>r)return e;return!1},limitRow:function(e,n){function i(i){for(;i>k;)r={row:e,col:k},c=b.getCellSegs(r,n),c.length&&(p=s[n-1][k],_=b.renderMoreLink(r,c),y=t("<div/>").append(_),p.append(y),C.push(y[0])),k++}var r,o,s,a,l,u,c,h,d,p,f,g,m,v,y,_,b=this,w=this.view,x=this.rowStructs[e],C=[],k=0;if(n&&n<x.segLevels.length){for(o=x.segLevels[n-1],s=x.cellMatrix,a=x.tbodyEl.children().slice(n).addClass("fc-limited").get(),l=0;l<o.length;l++){for(u=o[l],i(u.leftCol),d=[],h=0;k<=u.rightCol;)r={row:e,col:k},c=this.getCellSegs(r,n),d.push(c),h+=c.length,k++;if(h){for(p=s[n-1][u.leftCol],f=p.attr("rowspan")||1,g=[],m=0;m<d.length;m++)v=t('<td class="fc-more-cell"/>').attr("rowspan",f),c=d[m],r={row:e,col:u.leftCol+m},_=this.renderMoreLink(r,[u].concat(c)),y=t("<div/>").append(_),v.append(y),g.push(v[0]),C.push(v[0]);p.addClass("fc-limited").after(t(g)),a.push(p[0])}}i(w.colCnt),x.moreEls=t(C),x.limitedEls=t(a)}},unlimitRow:function(t){var e=this.rowStructs[t];e.moreEls&&(e.moreEls.remove(),e.moreEls=null),e.limitedEls&&(e.limitedEls.removeClass("fc-limited"),e.limitedEls=null)},renderMoreLink:function(e,n){var i=this,r=this.view;return t('<a class="fc-more"/>').text(this.getMoreLinkText(n.length)).on("click",function(o){var s=r.opt("eventLimitClick"),a=r.cellToDate(e),l=t(this),u=i.getCellDayEl(e),c=i.getCellSegs(e),h=i.resliceDaySegs(c,a),d=i.resliceDaySegs(n,a);"function"==typeof s&&(s=r.trigger("eventLimitClick",null,{date:a,dayEl:u,moreEl:l,segs:h,hiddenSegs:d},o)),"popover"===s?i.showSegPopover(a,e,l,h):"string"==typeof s&&r.calendar.zoomTo(a,s)})},showSegPopover:function(t,e,n,i){var r,o,s=this,a=this.view,l=n.parent();r=1==a.rowCnt?this.view.el:this.rowEls.eq(e.row),o={className:"fc-more-popover",content:this.renderSegPopoverContent(t,i),parentEl:this.el,top:r.offset().top,autoHide:!0,viewportConstrain:a.opt("popoverViewportConstrain"),hide:function(){s.segPopover.destroy(),s.segPopover=null,s.popoverSegs=null}},a.opt("isRTL")?o.right=l.offset().left+l.outerWidth()+1:o.left=l.offset().left-1,this.segPopover=new V(o),this.segPopover.show()},renderSegPopoverContent:function(e,n){var i,r=this.view,o=r.opt("theme"),s=e.format(r.opt("dayPopoverFormat")),a=t('<div class="fc-header '+r.widgetHeaderClass+'"><span class="fc-close '+(o?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+P(s)+'</span><div class="fc-clear"/></div><div class="fc-body '+r.widgetContentClass+'"><div class="fc-event-container"></div></div>'),l=a.find(".fc-event-container");for(n=this.renderSegs(n,!0),this.popoverSegs=n,i=0;i<n.length;i++)n[i].cellDate=e,l.append(n[i].el);return a},resliceDaySegs:function(e,n){var i=t.map(e,function(t){return t.event}),r=n.clone().stripTime(),o=r.clone().add(1,"days");return this.eventsToSegs(i,r,o)},getMoreLinkText:function(t){var e=this.view,n=e.opt("eventLimitText");return"function"==typeof n?n(t):"+"+t+" "+n},getCellSegs:function(t,e){for(var n,i=this.rowStructs[t.row].segMatrix,r=e||0,o=[];r<i.length;)n=i[r][t.col],n&&o.push(n),r++;return o}}),rt.prototype=E(J.prototype),t.extend(rt.prototype,{slotDuration:null,snapDuration:null,minTime:null,maxTime:null,dayEls:null,slatEls:null,slatTops:null,highlightEl:null,helperEl:null,render:function(){this.processOptions(),this.el.html(this.renderHtml()),this.dayEls=this.el.find(".fc-day"),this.slatEls=this.el.find(".fc-slats tr"),this.computeSlatTops(),J.prototype.render.call(this)},renderHtml:function(){return'<div class="fc-bg"><table>'+this.rowHtml("slotBg")+'</table></div><div class="fc-slats"><table>'+this.slatRowHtml()+"</table></div>"},slotBgCellHtml:function(t,e,n){return this.bgCellHtml(t,e,n)},slatRowHtml:function(){for(var t,n,i,r=this.view,o=r.calendar,s=r.opt("isRTL"),a="",l=this.slotDuration.asMinutes()%15===0,u=e.duration(+this.minTime);u<this.maxTime;)t=r.start.clone().time(u),n=t.minutes(),i='<td class="fc-axis fc-time '+r.widgetContentClass+'" '+r.axisStyleAttr()+">"+(l&&n?"":"<span>"+P(o.formatDate(t,r.opt("axisFormat")))+"</span>")+"</td>",a+="<tr "+(n?'class="fc-minor"':"")+">"+(s?"":i)+'<td class="'+r.widgetContentClass+'"/>'+(s?i:"")+"</tr>",u.add(this.slotDuration);return a},processOptions:function(){var t=this.view,n=t.opt("slotDuration"),i=t.opt("snapDuration");n=e.duration(n),i=i?e.duration(i):n,this.slotDuration=n,this.snapDuration=i,this.cellDuration=i,this.minTime=e.duration(t.opt("minTime")),this.maxTime=e.duration(t.opt("maxTime"))},rangeToSegs:function(t,e){var n,i,r,o,s,a=this.view,l=[];for(t=t.clone().stripZone(),e=e.clone().stripZone(),i=0;i<a.colCnt;i++)r=a.cellToDate(0,i),o=r.clone().time(this.minTime),s=r.clone().time(this.maxTime),n=w(t,e,o,s),n&&(n.col=i,l.push(n));return l},resize:function(){this.computeSlatTops(),this.updateSegVerticals()},buildCoords:function(n,i){var r,o,s=this.view.colCnt,a=this.el.offset().top,l=e.duration(+this.minTime),u=null;for(this.dayEls.slice(0,s).each(function(e,n){r=t(n),o=r.offset().left,u&&(u[1]=o),u=[o],i[e]=u}),u[1]=o+r.outerWidth(),u=null;l<this.maxTime;)o=a+this.computeTimeTop(l),u&&(u[1]=o),u=[o],n.push(u),l.add(this.snapDuration);u[1]=a+this.computeTimeTop(l)},getCellDate:function(t){var e=this.view,n=e.calendar;return n.rezoneDate(e.cellToDate(0,t.col).time(this.minTime+this.snapDuration*t.row))},getCellDayEl:function(t){return this.dayEls.eq(t.col)},computeDateTop:function(t,n){return this.computeTimeTop(e.duration(t.clone().stripZone()-n.clone().stripTime()))},computeTimeTop:function(t){var e,n,i,r,o=(t-this.minTime)/this.slotDuration;return o=Math.max(0,o),o=Math.min(this.slatEls.length,o),e=Math.floor(o),n=o-e,i=this.slatTops[e],n?(r=this.slatTops[e+1],i+(r-i)*n):i},computeSlatTops:function(){var e,n=[];this.slatEls.each(function(i,r){e=t(r).position().top,n.push(e)}),n.push(e+this.slatEls.last().outerHeight()),this.slatTops=n},renderDrag:function(t,e,n){var i;return n?(this.renderRangeHelper(t,e,n),i=this.view.opt("dragOpacity"),void 0!==i&&this.helperEl.css("opacity",i),!0):void this.renderHighlight(t,e||this.view.calendar.getDefaultEventEnd(!1,t))},destroyDrag:function(){this.destroyHelper(),this.destroyHighlight()},renderResize:function(t,e,n){this.renderRangeHelper(t,e,n)},destroyResize:function(){this.destroyHelper()},renderHelper:function(e,n){var i,r,o,s=this.renderEventTable([e]),a=s.tableEl,l=s.segs;for(i=0;i<l.length;i++)r=l[i],n&&n.col===r.col&&(o=n.el,r.el.css({left:o.css("left"),right:o.css("right"),"margin-left":o.css("margin-left"),"margin-right":o.css("margin-right")}));this.helperEl=t('<div class="fc-helper-skeleton"/>').append(a).appendTo(this.el)},destroyHelper:function(){this.helperEl&&(this.helperEl.remove(),this.helperEl=null)},renderSelection:function(t,e){this.view.opt("selectHelper")?this.renderRangeHelper(t,e):this.renderHighlight(t,e)},destroySelection:function(){this.destroyHelper(),this.destroyHighlight()},renderHighlight:function(e,n){this.highlightEl=t(this.highlightSkeletonHtml(e,n)).appendTo(this.el)},destroyHighlight:function(){this.highlightEl&&(this.highlightEl.remove(),this.highlightEl=null)},highlightSkeletonHtml:function(t,e){var n,i,r,o,s,a=this.view,l=this.rangeToSegs(t,e),u="",c=0;for(n=0;n<l.length;n++)i=l[n],c<i.col&&(u+='<td colspan="'+(i.col-c)+'"/>',c=i.col),r=a.cellToDate(0,c),o=this.computeDateTop(i.start,r),s=this.computeDateTop(i.end,r),u+='<td><div class="fc-highlight-container"><div class="fc-highlight" style="top:'+o+"px;bottom:-"+s+'px"/></div></td>',c++;return c<a.colCnt&&(u+='<td colspan="'+(a.colCnt-c)+'"/>'),u=this.bookendCells(u,"highlight"),'<div class="fc-highlight-skeleton"><table><tr>'+u+"</tr></table></div>"}}),t.extend(rt.prototype,{segs:null,eventSkeletonEl:null,renderEvents:function(e){var n=this.renderEventTable(e);this.eventSkeletonEl=t('<div class="fc-content-skeleton"/>').append(n.tableEl),this.el.append(this.eventSkeletonEl),this.segs=n.segs},getSegs:function(){return this.segs||[]},destroyEvents:function(){J.prototype.destroyEvents.call(this),this.eventSkeletonEl&&(this.eventSkeletonEl.remove(),this.eventSkeletonEl=null),this.segs=null},renderEventTable:function(e){var n,i,r,o,s,a,l=t("<table><tr/></table>"),u=l.find("tr"),c=this.eventsToSegs(e);for(c=this.renderSegs(c),n=this.groupSegCols(c),this.computeSegVerticals(c),o=0;o<n.length;o++){for(s=n[o],ot(s),a=t('<div class="fc-event-container"/>'),i=0;i<s.length;i++)r=s[i],r.el.css(this.generateSegPositionCss(r)),r.bottom-r.top<30&&r.el.addClass("fc-short"),a.append(r.el);u.append(t("<td/>").append(a))}return this.bookendCells(u,"eventSkeleton"),{tableEl:l,segs:c}},updateSegVerticals:function(){var t,e=this.segs;if(e)for(this.computeSegVerticals(e),t=0;t<e.length;t++)e[t].el.css(this.generateSegVerticalCss(e[t]))},computeSegVerticals:function(t){var e,n;for(e=0;e<t.length;e++)n=t[e],n.top=this.computeDateTop(n.start,n.start),n.bottom=this.computeDateTop(n.end,n.start)},renderSegHtml:function(t,e){var n,i,r,o=this.view,s=t.event,a=o.isEventDraggable(s),l=!e&&t.isEnd&&o.isEventResizable(s),u=this.getSegClasses(t,a,l),c=this.getEventSkinCss(s);return u.unshift("fc-time-grid-event"),o.isMultiDayEvent(s)?(t.isStart||t.isEnd)&&(n=o.getEventTimeText(t.start,t.end),i=o.getEventTimeText(t.start,t.end,"LT"),r=o.getEventTimeText(t.start,null)):(n=o.getEventTimeText(s),i=o.getEventTimeText(s,"LT"),r=o.getEventTimeText(s.start,null)),'<a class="'+u.join(" ")+'"'+(s.url?' href="'+P(s.url)+'"':"")+(c?' style="'+c+'"':"")+'><div class="fc-content">'+(-1==s.className.indexOf("closed")&&n?'<div class="fc-time" data-start="'+P(r)+'" data-full="'+P(i)+'"><span>'+P(n)+"</span></div>":"")+(s.title?'<div class="fc-title">'+P(s.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(l?'<div class="fc-resizer"/>':"")+"</a>"},generateSegPositionCss:function(t){var e,n,i=this.view,r=i.opt("isRTL"),o=i.opt("slotEventOverlap"),s=t.backwardCoord,a=t.forwardCoord,l=this.generateSegVerticalCss(t);return o&&(a=Math.min(1,s+2*(a-s))),r?(e=1-a,n=s):(e=s,n=1-a),e=0,n=0,l.zIndex=t.level+1,l.left=100*e+"%",l.right=100*n+"%",o&&t.forwardPressure&&(l[r?"marginLeft":"marginRight"]=20),l},generateSegVerticalCss:function(t){return{top:t.top,bottom:-t.bottom}},groupSegCols:function(t){var e,n=this.view,i=[];for(e=0;e<n.colCnt;e++)i.push([]);for(e=0;e<t.length;e++)i[t[e].col].push(t[e]);return i}}),pt.prototype={calendar:null,coordMap:null,el:null,start:null,end:null,intervalStart:null,intervalEnd:null,rowCnt:null,colCnt:null,isSelected:!1,scrollerEl:null,scrollTop:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,documentMousedownProxy:null,documentDragStartProxy:null,init:function(){var e=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=e+"-widget-header",this.widgetContentClass=e+"-widget-content",this.highlightStateClass=e+"-state-highlight",this.documentMousedownProxy=t.proxy(this,"documentMousedown"),this.documentDragStartProxy=t.proxy(this,"documentDragStart")},render:function(){this.updateSize(),this.trigger("viewRender",this,this,this.el),t(document).on("mousedown",this.documentMousedownProxy).on("dragstart",this.documentDragStartProxy)},destroy:function(){this.unselect(),this.trigger("viewDestroy",this,this,this.el),this.destroyEvents(),this.el.empty(),t(document).off("mousedown",this.documentMousedownProxy).off("dragstart",this.documentDragStartProxy)},incrementDate:function(t,e){},updateSize:function(t){t&&this.recordScroll(),this.updateHeight(),this.updateWidth()},updateWidth:function(){},updateHeight:function(){var t=this.calendar;this.setHeight(t.getSuggestedViewHeight(),t.isHeightAuto())},setHeight:function(t,e){},computeScrollerHeight:function(t){var e,n=this.el.add(this.scrollerEl);return n.css({position:"relative",left:-1}),e=this.el.outerHeight()-this.scrollerEl.height(),n.css({position:"",left:""}),t-e},recordScroll:function(){this.scrollerEl&&(this.scrollTop=this.scrollerEl.scrollTop())},restoreScroll:function(){null!==this.scrollTop&&this.scrollerEl.scrollTop(this.scrollTop)},renderEvents:function(t){this.segEach(function(t){this.trigger("eventAfterRender",t.event,t.event,t.el)}),this.trigger("eventAfterAllRender")},destroyEvents:function(){this.segEach(function(t){this.trigger("eventDestroy",t.event,t.event,t.el)})},resolveEventEl:function(e,n){var i=this.trigger("eventRender",e,e,n);return i===!1?n=null:i&&i!==!0&&(n=t(i)),n},showEvent:function(t){this.segEach(function(t){t.el.css("visibility","")},t)},hideEvent:function(t){this.segEach(function(t){t.el.css("visibility","hidden")},t)},segEach:function(t,e){var n,i=this.getSegs();for(n=0;n<i.length;n++)e&&i[n].event._id!==e._id||t.call(this,i[n])},getSegs:function(){},renderDrag:function(t,e,n){},destroyDrag:function(){},documentDragStart:function(e,n){var i,r=this,o=null;this.opt("droppable")&&(i=new X(this.coordMap,{cellOver:function(t,e){o=e,r.renderDrag(e)},cellOut:function(){o=null,r.destroyDrag()}}),t(document).one("dragstop",function(t,e){r.destroyDrag(),o&&r.trigger("drop",t.target,o,t,e)}),i.startDrag(e))},select:function(t,e,n){this.unselect(n),this.renderSelection(t,e),this.reportSelection(t,e,n)},renderSelection:function(t,e){},reportSelection:function(t,e,n){this.isSelected=!0,this.trigger("select",null,t,e,n)},unselect:function(t){this.isSelected&&(this.isSelected=!1,this.destroySelection(),this.trigger("unselect",null,t))},destroySelection:function(){},documentMousedown:function(e){var n;this.isSelected&&this.opt("unselectAuto")&&b(e)&&(n=this.opt("unselectCancel"),n&&t(e.target).closest(n).length||this.unselect(e))}},ft.prototype=E(pt.prototype),t.extend(ft.prototype,{dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headRowEl:null,render:function(t,e,n){this.rowCnt=t,this.colCnt=e,this.dayNumbersVisible=n,this.weekNumbersVisible=this.opt("weekNumbers"),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderHtml()),this.headRowEl=this.el.find("thead .fc-row"),this.scrollerEl=this.el.find(".fc-day-grid-container"),this.dayGrid.coordMap.containerEl=this.scrollerEl,this.dayGrid.el=this.el.find(".fc-day-grid"),this.dayGrid.render(this.hasRigidRows()),pt.prototype.render.call(this)},destroy:function(){this.dayGrid.destroy(),pt.prototype.destroy.call(this)},renderHtml:function(){return'<table><thead><tr><td class="'+this.widgetHeaderClass+'">'+this.dayGrid.headHtml()+'</td></tr></thead><tbody><tr><td class="'+this.widgetContentClass+'"><div class="fc-day-grid-container"><div class="fc-day-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){return this.weekNumbersVisible?'<th class="fc-week-number '+this.widgetHeaderClass+'" '+this.weekNumberStyleAttr()+"><span>"+P(this.opt("weekNumberTitle"))+"</span></th>":void 0},numberIntroHtml:function(t){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"><span>"+this.calendar.calculateWeekNumber(this.cellToDate(t,0))+"</span></td>":void 0},dayIntroHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number '+this.widgetContentClass+'" '+this.weekNumberStyleAttr()+"></td>":void 0},introHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"></td>":void 0},numberCellHtml:function(t,e,n){var i;return this.dayNumbersVisible?(i=this.dayGrid.getDayClasses(n),i.unshift("fc-day-number"),'<td class="'+i.join(" ")+'" data-date="'+n.format()+'">'+n.date()+"</td>"):"<td/>"},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var t=this.opt("eventLimit");return t&&"number"!=typeof t},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=g(this.el.find(".fc-week-number")))},setHeight:function(t,e){var n,i=this.opt("eventLimit");
v(this.scrollerEl),d(this.headRowEl),this.dayGrid.destroySegPopover(),i&&"number"==typeof i&&this.dayGrid.limitRows(i),n=this.computeScrollerHeight(t),this.setGridHeight(n,e),i&&"number"!=typeof i&&this.dayGrid.limitRows(i),!e&&m(this.scrollerEl,n)&&(h(this.headRowEl,_(this.scrollerEl)),n=this.computeScrollerHeight(t),this.scrollerEl.height(n),this.restoreScroll())},setGridHeight:function(t,e){e?f(this.dayGrid.rowEls):p(this.dayGrid.rowEls,t,!0)},renderEvents:function(t){this.dayGrid.renderEvents(t),this.updateHeight(),pt.prototype.renderEvents.call(this,t)},getSegs:function(){return this.dayGrid.getSegs()},destroyEvents:function(){pt.prototype.destroyEvents.call(this),this.recordScroll(),this.dayGrid.destroyEvents()},renderDrag:function(t,e,n){return this.dayGrid.renderDrag(t,e,n)},destroyDrag:function(){this.dayGrid.destroyDrag()},renderSelection:function(t,e){this.dayGrid.renderSelection(t,e)},destroySelection:function(){this.dayGrid.destroySelection()}}),r({fixedWeekCount:!0}),Tt.month=gt,gt.prototype=E(ft.prototype),t.extend(gt.prototype,{name:"month",incrementDate:function(t,e){return t.clone().stripTime().add(e,"months").startOf("month")},render:function(t){var e;this.intervalStart=t.clone().stripTime().startOf("month"),this.intervalEnd=this.intervalStart.clone().add(1,"months"),this.start=this.intervalStart.clone(),this.start=this.skipHiddenDays(this.start),this.start.startOf("week"),this.start=this.skipHiddenDays(this.start),this.end=this.intervalEnd.clone(),this.end=this.skipHiddenDays(this.end,-1,!0),this.end.add((7-this.end.weekday())%7,"days"),this.end=this.skipHiddenDays(this.end,-1,!0),e=Math.ceil(this.end.diff(this.start,"weeks",!0)),this.isFixedWeeks()&&(this.end.add(6-e,"weeks"),e=6),this.title=this.calendar.formatDate(this.intervalStart,this.opt("titleFormat")),ft.prototype.render.call(this,e,this.getCellsPerWeek(),!0)},setGridHeight:function(t,e){e=e||"variable"===this.opt("weekMode"),e&&(t*=this.rowCnt/6),p(this.dayGrid.rowEls,t,!e)},isFixedWeeks:function(){var t=this.opt("weekMode");return t?"fixed"===t:this.opt("fixedWeekCount")}}),Tt.basicWeek=mt,mt.prototype=E(ft.prototype),t.extend(mt.prototype,{name:"basicWeek",incrementDate:function(t,e){return t.clone().stripTime().add(e,"weeks").startOf("week")},render:function(t){this.intervalStart=t.clone().stripTime().startOf("week"),this.intervalEnd=this.intervalStart.clone().add(1,"weeks"),this.start=this.skipHiddenDays(this.intervalStart),this.end=this.skipHiddenDays(this.intervalEnd,-1,!0),this.title=this.calendar.formatRange(this.start,this.end.clone().subtract(1),this.opt("titleFormat")," \u2014 "),ft.prototype.render.call(this,1,this.getCellsPerWeek(),!1)}}),Tt.basicDay=vt,vt.prototype=E(ft.prototype),t.extend(vt.prototype,{name:"basicDay",incrementDate:function(t,e){var n=t.clone().stripTime().add(e,"days");return n=this.skipHiddenDays(n,0>e?-1:1)},render:function(t){this.start=this.intervalStart=t.clone().stripTime(),this.end=this.intervalEnd=this.start.clone().add(1,"days"),this.title=this.calendar.formatDate(this.start,this.opt("titleFormat")),ft.prototype.render.call(this,1,1,!1)}}),r({allDaySlot:!0,allDayText:"all-day",scrollTime:"06:00:00",slotDuration:"00:30:00",axisFormat:yt,timeFormat:{agenda:_t},minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!1});var Lt=5;bt.prototype=E(pt.prototype),t.extend(bt.prototype,{timeGrid:null,dayGrid:null,axisWidth:null,noScrollRowEls:null,bottomRuleEl:null,bottomRuleHeight:null,render:function(e){this.rowCnt=1,this.colCnt=e,this.el.addClass("fc-agenda-view").html(this.renderHtml()),this.scrollerEl=this.el.find(".fc-time-grid-container"),this.timeGrid.coordMap.containerEl=this.scrollerEl,this.timeGrid.el=this.el.find(".fc-time-grid"),this.timeGrid.render(),this.bottomRuleEl=t('<hr class="'+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.el=this.el.find(".fc-day-grid"),this.dayGrid.render(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)"),pt.prototype.render.call(this),this.resetScroll()},destroy:function(){this.timeGrid.destroy(),this.dayGrid&&this.dayGrid.destroy(),pt.prototype.destroy.call(this)},renderHtml:function(){return'<table><thead><tr><td class="'+this.widgetHeaderClass+'">'+this.timeGrid.headHtml()+'</td></tr></thead><tbody><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="'+this.widgetHeaderClass+'"/>':"")+'<div class="fc-time-grid-container"><div class="fc-time-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){var t,e,n,i;return this.opt("weekNumbers")?(t=this.cellToDate(0,0),e=this.calendar.calculateWeekNumber(t),n=this.opt("weekNumberTitle"),i=this.opt("isRTL")?e+n:n+e,'<th class="fc-axis fc-week-number '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"><span>"+P(i)+"</span></th>"):'<th class="fc-axis '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"></th>"},dayIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"><span>"+(this.opt("allDayHtml")||P(this.opt("allDayText")))+"</span></td>"},slotBgIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"></td>"},introHtml:function(){return'<td class="fc-axis" '+this.axisStyleAttr()+"></td>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},updateSize:function(t){t&&this.timeGrid.resize(),pt.prototype.updateSize.call(this,t)},updateWidth:function(){this.axisWidth=g(this.el.find(".fc-axis"))},setHeight:function(t,e){var n,i;null===this.bottomRuleHeight&&(this.bottomRuleHeight=this.bottomRuleEl.outerHeight()),this.bottomRuleEl.hide(),this.scrollerEl.css("overflow",""),v(this.scrollerEl),d(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.destroySegPopover(),n=this.opt("eventLimit"),n&&"number"!=typeof n&&(n=Lt),n&&this.dayGrid.limitRows(n)),e||(i=this.computeScrollerHeight(t),m(this.scrollerEl,i)?(h(this.noScrollRowEls,_(this.scrollerEl)),i=this.computeScrollerHeight(t),this.scrollerEl.height(i),this.restoreScroll()):(this.scrollerEl.height(i).css("overflow","hidden"),this.bottomRuleEl.show()))},resetScroll:function(){function t(){n.scrollerEl.scrollTop(r)}var n=this,i=e.duration(this.opt("scrollTime")),r=this.timeGrid.computeTimeTop(i);r=Math.ceil(r),r&&r++,t(),setTimeout(t,0)},renderEvents:function(t){var e,n,i=[],r=[],o=[];for(n=0;n<t.length;n++)t[n].allDay?i.push(t[n]):r.push(t[n]);e=this.timeGrid.renderEvents(r),this.dayGrid&&(o=this.dayGrid.renderEvents(i)),this.updateHeight(),pt.prototype.renderEvents.call(this,t)},getSegs:function(){return this.timeGrid.getSegs().concat(this.dayGrid?this.dayGrid.getSegs():[])},destroyEvents:function(){pt.prototype.destroyEvents.call(this),this.recordScroll(),this.timeGrid.destroyEvents(),this.dayGrid&&this.dayGrid.destroyEvents()},renderDrag:function(t,e,n){return t.hasTime()?this.timeGrid.renderDrag(t,e,n):this.dayGrid?this.dayGrid.renderDrag(t,e,n):void 0},destroyDrag:function(){this.timeGrid.destroyDrag(),this.dayGrid&&this.dayGrid.destroyDrag()},renderSelection:function(t,e){t.hasTime()||e.hasTime()?this.timeGrid.renderSelection(t,e):this.dayGrid&&this.dayGrid.renderSelection(t,e)},destroySelection:function(){this.timeGrid.destroySelection(),this.dayGrid&&this.dayGrid.destroySelection()}}),Tt.agendaWeek=wt,wt.prototype=E(bt.prototype),t.extend(wt.prototype,{name:"agendaWeek",incrementDate:function(t,e){return t.clone().stripTime().add(e,"weeks").startOf("week")},render:function(t){this.intervalStart=t.clone().stripTime().startOf("week"),this.intervalEnd=this.intervalStart.clone().add(1,"weeks"),this.start=this.skipHiddenDays(this.intervalStart),this.end=this.skipHiddenDays(this.intervalEnd,-1,!0),this.title=this.calendar.formatRange(this.start,this.end.clone().subtract(1),this.opt("titleFormat")," \u2014 "),bt.prototype.render.call(this,this.getCellsPerWeek())}}),Tt.agendaDay=xt,xt.prototype=E(bt.prototype),t.extend(xt.prototype,{name:"agendaDay",incrementDate:function(t,e){var n=t.clone().stripTime().add(e,"days");return n=this.skipHiddenDays(n,0>e?-1:1)},render:function(t){this.start=this.intervalStart=t.clone().stripTime(),this.end=this.intervalEnd=this.start.clone().add(1,"days"),this.title=this.calendar.formatDate(this.start,this.opt("titleFormat")),bt.prototype.render.call(this,1)}})}),/*!
 * typeahead.js 0.11.1
 * https://github.com/twitter/typeahead.js
 * Copyright 2013-2015 Twitter, Inc. and other contributors; Licensed MIT
 */
function(t,e){"function"==typeof define&&define.amd?define("typeahead",["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){function i(t,e){return n(e,t)}t.each(e,i)},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,r){return(i=n.call(null,r,t,e))?void 0:!1}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,r){return(i=n.call(null,r,t,e))?!1:void 0}),!!i):i},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function n(){return String(e)}return t.isFunction(e)?e:n},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,r;return function(){var o,s,a=this,l=arguments;return o=function(){i=null,n||(r=t.apply(a,l))},s=n&&!i,clearTimeout(i),i=setTimeout(o,e),s&&(r=t.apply(a,l)),r}},throttle:function(t,e){var n,i,r,o,s,a;return s=0,a=function(){s=new Date,r=null,o=t.apply(n,i)},function(){var l=new Date,u=e-(l-s);return n=this,i=arguments,0>=u?(clearTimeout(r),r=null,s=l,o=t.apply(n,i)):r||(r=setTimeout(a,u)),o}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n=function(){"use strict";function t(t){var s,a;return a=e.mixin({},o,t),s={css:r(),classes:a,html:n(a),selectors:i(a)},{css:s.css,html:s.html,classes:s.classes,selectors:s.selectors,mixin:function(t){e.mixin(t,s)}}}function n(t){return{wrapper:'<span class="'+t.wrapper+'"></span>',menu:'<div class="'+t.menu+'"></div>'}}function i(t){var n={};return e.each(t,function(t,e){n[e]="."+t}),n}function r(){var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t}var o={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return t}(),i=function(){"use strict";function n(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var i,r;return i="typeahead:",r={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},e.mixin(n.prototype,{_trigger:function(e,n){var r;return r=t.Event(i+e),(n=n||[]).unshift(r),this.$el.trigger.apply(this.$el,n),r},before:function(t){var e,n;return e=[].slice.call(arguments,1),n=this._trigger("before"+t,e),n.isDefaultPrevented()},trigger:function(t){var e;this._trigger(t,[].slice.call(arguments,1)),(e=r[t])&&this._trigger(e,[].slice.call(arguments,1))}}),n}(),r=function(){"use strict";function t(t,e,n,i){var r;if(!n)return this;for(e=e.split(l),n=i?a(n,i):n,this._callbacks=this._callbacks||{};r=e.shift();)this._callbacks[r]=this._callbacks[r]||{sync:[],async:[]},this._callbacks[r][t].push(n);return this}function e(e,n,i){return t.call(this,"async",e,n,i)}function n(e,n,i){return t.call(this,"sync",e,n,i)}function i(t){var e;if(!this._callbacks)return this;for(t=t.split(l);e=t.shift();)delete this._callbacks[e];return this}function r(t){var e,n,i,r,s;if(!this._callbacks)return this;for(t=t.split(l),i=[].slice.call(arguments,1);(e=t.shift())&&(n=this._callbacks[e]);)r=o(n.sync,this,[e].concat(i)),s=o(n.async,this,[e].concat(i)),r()&&u(s);return this}function o(t,e,n){function i(){for(var i,r=0,o=t.length;!i&&o>r;r+=1)i=t[r].apply(e,n)===!1;return!i}return i}function s(){var t;return t=window.setImmediate?function(t){setImmediate(function(){t()})}:function(t){setTimeout(function(){t()},0)}}function a(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var l=/\s+/,u=s();return{onSync:n,onAsync:e,off:i,trigger:r}}(),o=function(t){"use strict";function n(t,n,i){for(var r,o=[],s=0,a=t.length;a>s;s++)o.push(e.escapeRegExChars(t[s]));return r=i?"\\b("+o.join("|")+")\\b":"("+o.join("|")+")",n?new RegExp(r):new RegExp(r,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(r){function o(e){var n,i,o;return(n=a.exec(e.data))&&(o=t.createElement(r.tagName),r.className&&(o.className=r.className),i=e.splitText(n.index),i.splitText(n[0].length),o.appendChild(i.cloneNode(!0)),e.parentNode.replaceChild(o,i)),!!n}function s(t,e){for(var n,i=3,r=0;r<t.childNodes.length;r++)n=t.childNodes[r],n.nodeType===i?r+=e(n)?1:0:s(n,e)}var a;r=e.mixin({},i,r),r.node&&r.pattern&&(r.pattern=e.isArray(r.pattern)?r.pattern:[r.pattern],a=n(r.pattern,r.caseSensitive,r.wordsOnly),s(r.node,o))}}(window.document),s=function(){"use strict";function n(n,r){n=n||{},n.input||t.error("input is missing"),r.mixin(this),this.$hint=t(n.hint),this.$input=t(n.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=i(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop)}function i(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function o(t,e){return n.normalizeQuery(t)===n.normalizeQuery(e)}function s(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var a;return a={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(t){return e.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(n.prototype,r,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(t){var e=a[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(t,e){var n;switch(t){case"up":case"down":n=!s(e);break;default:n=!1}n&&e.preventDefault()},_shouldTrigger:function(t,e){var n;switch(t){case"tab":n=!s(e);break;default:n=!0}return n},_checkLanguageDirection:function(){var t=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==t&&(this.dir=t,this.$hint.attr("dir",t),this.trigger("langDirChanged",t))},_setQuery:function(t,e){var n,i;n=o(t,this.query),i=n?this.query.length!==t.length:!1,this.query=t,e||n?!e&&i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var t,n,i,r,o=this;return t=e.bind(this._onBlur,this),n=e.bind(this._onFocus,this),i=e.bind(this._onKeydown,this),r=e.bind(this._onInput,this),this.$input.on("blur.tt",t).on("focus.tt",n).on("keydown.tt",i),!e.isMsie()||e.isMsie()>9?this.$input.on("input.tt",r):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){a[t.which||t.keyCode]||e.defer(e.bind(o._onInput,o,t))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(t,e){this.setInputValue(t),this._setQuery(t,e)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(t){this.$input.val(t),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,n,i;t=this.getInputValue(),e=this.getHint(),n=t!==e&&0===e.indexOf(t),i=""!==t&&n&&!this.hasOverflow(),!i&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,n,i;return t=this.$input.val().length,n=this.$input[0].selectionStart,e.isNumber(n)?n===t:document.selection?(i=document.selection.createRange(),i.moveStart("character",-t),t===i.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=t("<div>")}}),n}(),a=function(){"use strict";function n(n,r){n=n||{},n.templates=n.templates||{},n.templates.notFound=n.templates.notFound||n.templates.empty,n.source||t.error("missing source"),n.node||t.error("missing node"),n.name&&!a(n.name)&&t.error("invalid dataset name: "+n.name),r.mixin(this),this.highlight=!!n.highlight,this.name=n.name||u(),this.limit=n.limit||5,this.displayFn=i(n.display||n.displayKey),this.templates=s(n.templates,this.displayFn),this.source=n.source.__ttAdapter?n.source.__ttAdapter():n.source,this.async=e.isUndefined(n.async)?this.source.length>2:!!n.async,this._resetLastSuggestion(),this.$el=t(n.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function i(t){function n(e){return e[t]}return t=t||e.stringify,e.isFunction(t)?t:n}function s(n,i){function r(e){return t("<div>").text(i(e))}return{notFound:n.notFound&&e.templatify(n.notFound),pending:n.pending&&e.templatify(n.pending),header:n.header&&e.templatify(n.header),footer:n.footer&&e.templatify(n.footer),suggestion:n.suggestion||r}}function a(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var l,u;return l={val:"tt-selectable-display",obj:"tt-selectable-object"},u=e.getIdGenerator(),n.extractData=function(e){var n=t(e);return n.data(l.obj)?{val:n.data(l.val)||"",obj:n.data(l.obj)||null}:null},e.mixin(n.prototype,r,{_overwrite:function(t,e){e=e||[],e.length?this._renderSuggestions(t,e):this.async&&this.templates.pending?this._renderPending(t):!this.async&&this.templates.notFound?this._renderNotFound(t):this._empty(),this.trigger("rendered",this.name,e,!1)},_append:function(t,e){e=e||[],e.length&&this.$lastSuggestion.length?this._appendSuggestions(t,e):e.length?this._renderSuggestions(t,e):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(t),this.trigger("rendered",this.name,e,!0)},_renderSuggestions:function(t,e){var n;n=this._getSuggestionsFragment(t,e),this.$lastSuggestion=n.children().last(),this.$el.html(n).prepend(this._getHeader(t,e)).append(this._getFooter(t,e))},_appendSuggestions:function(t,e){var n,i;n=this._getSuggestionsFragment(t,e),i=n.children().last(),this.$lastSuggestion.after(n),this.$lastSuggestion=i},_renderPending:function(t){var e=this.templates.pending;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_renderNotFound:function(t){var e=this.templates.notFound;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(n,i){var r,s=this;return r=document.createDocumentFragment(),e.each(i,function(e){var i,o;o=s._injectQuery(n,e),i=t(s.templates.suggestion(o)).data(l.obj,e).data(l.val,s.displayFn(e)).addClass(s.classes.suggestion+" "+s.classes.selectable),r.appendChild(i[0])}),this.highlight&&o({className:this.classes.highlight,node:r,pattern:n}),t(r)},_getFooter:function(t,e){return this.templates.footer?this.templates.footer({query:t,suggestions:e,dataset:this.name}):null},_getHeader:function(t,e){return this.templates.header?this.templates.header({query:t,suggestions:e,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=t()},_injectQuery:function(t,n){return e.isObject(n)?e.mixin({_query:t},n):n},update:function(e){function n(t){s||(s=!0,t=(t||[]).slice(0,r.limit),a=t.length,r._overwrite(e,t),a<r.limit&&r.async&&r.trigger("asyncRequested",e))}function i(n){n=n||[],!o&&a<r.limit&&(r.cancel=t.noop,a+=n.length,r._append(e,n.slice(0,r.limit-a)),r.async&&r.trigger("asyncReceived",e))}var r=this,o=!1,s=!1,a=0;this.cancel(),this.cancel=function(){o=!0,r.cancel=t.noop,r.async&&r.trigger("asyncCanceled",e)},this.source(e,n,i),!s&&n([])},cancel:t.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=t("<div>")}}),n}(),l=function(){"use strict";function n(n,i){function r(e){var n=o.$node.find(e.node).first();return e.node=n.length?n:t("<div>").appendTo(o.$node),new a(e,i)}var o=this;n=n||{},n.node||t.error("node is required"),i.mixin(this),this.$node=t(n.node),this.query=null,this.datasets=e.map(n.datasets,r)}return e.mixin(n.prototype,r,{_onSelectableClick:function(e){this.trigger("selectableClicked",t(e.currentTarget))},_onRendered:function(t,e,n,i){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",e,n,i)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function t(t){return t.isEmpty()}return e.every(this.datasets,t)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var t=this.getActiveSelectable();t&&t.removeClass(this.classes.cursor)},_ensureVisible:function(t){var e,n,i,r;e=t.position().top,n=e+t.outerHeight(!0),i=this.$node.scrollTop(),r=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),0>e?this.$node.scrollTop(i+e):n>r&&this.$node.scrollTop(i+(n-r))},bind:function(){var t,n=this;return t=e.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,t),e.each(this.datasets,function(t){t.onSync("asyncRequested",n._propagate,n).onSync("asyncCanceled",n._propagate,n).onSync("asyncReceived",n._propagate,n).onSync("rendered",n._onRendered,n).onSync("cleared",n._onCleared,n)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(t){this.$node.attr("dir",t)},selectableRelativeToCursor:function(t){var e,n,i,r;return n=this.getActiveSelectable(),e=this._getSelectables(),i=n?e.index(n):-1,r=i+t,r=(r+1)%(e.length+1)-1,r=-1>r?e.length-1:r,-1===r?null:e.eq(r)},setCursor:function(t){this._removeCursor(),(t=t&&t.first())&&(t.addClass(this.classes.cursor),this._ensureVisible(t))},getSelectableData:function(t){return t&&t.length?a.extractData(t):null},getActiveSelectable:function(){var t=this._getSelectables().filter(this.selectors.cursor).first();return t.length?t:null},getTopSelectable:function(){var t=this._getSelectables().first();return t.length?t:null},update:function(t){function n(e){e.update(t)}var i=t!==this.query;return i&&(this.query=t,e.each(this.datasets,n)),i},empty:function(){function t(t){t.clear()}e.each(this.datasets,t),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){function n(t){t.destroy()}this.$node.off(".tt"),this.$node=t("<div>"),e.each(this.datasets,n)}}),n}(),u=function(){"use strict";function t(){l.apply(this,[].slice.call(arguments,0))}var n=l.prototype;return e.mixin(t.prototype,l.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),n.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),n.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(t){return this.$node.css("ltr"===t?this.css.ltr:this.css.rtl),n.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),t}(),c=function(){"use strict";function n(n,r){var o,s,a,l,u,c,h,d,p,f,g;n=n||{},n.input||t.error("missing input"),n.menu||t.error("missing menu"),n.eventBus||t.error("missing event bus"),r.mixin(this),this.eventBus=n.eventBus,this.minLength=e.isNumber(n.minLength)?n.minLength:1,this.input=n.input,this.menu=n.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),o=i(this,"activate","open","_onFocused"),s=i(this,"deactivate","_onBlurred"),a=i(this,"isActive","isOpen","_onEnterKeyed"),l=i(this,"isActive","isOpen","_onTabKeyed"),u=i(this,"isActive","_onEscKeyed"),c=i(this,"isActive","open","_onUpKeyed"),h=i(this,"isActive","open","_onDownKeyed"),d=i(this,"isActive","isOpen","_onLeftKeyed"),p=i(this,"isActive","isOpen","_onRightKeyed"),f=i(this,"_openIfActive","_onQueryChanged"),g=i(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",o,this).onSync("blurred",s,this).onSync("enterKeyed",a,this).onSync("tabKeyed",l,this).onSync("escKeyed",u,this).onSync("upKeyed",c,this).onSync("downKeyed",h,this).onSync("leftKeyed",d,this).onSync("rightKeyed",p,this).onSync("queryChanged",f,this).onSync("whitespaceChanged",g,this).onSync("langDirChanged",this._onLangDirChanged,this)}function i(t){var n=[].slice.call(arguments,1);return function(){var i=[].slice.call(arguments);e.each(n,function(e){return t[e].apply(t,i)})}}return e.mixin(n.prototype,{_hacks:function(){var n,i;n=this.input.$input||t("<div>"),i=this.menu.$node||t("<div>"),n.on("blur.tt",function(t){var r,o,s;r=document.activeElement,o=i.is(r),s=i.has(r).length>0,e.isMsie()&&(o||s)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer(function(){n.focus()}))}),i.on("mousedown.tt",function(t){t.preventDefault()})},_onSelectableClicked:function(t,e){this.select(e)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(t,e,n,i){this._updateHint(),this.eventBus.trigger("render",n,i,e)},_onAsyncRequested:function(t,e,n){this.eventBus.trigger("asyncrequest",n,e)},_onAsyncCanceled:function(t,e,n){this.eventBus.trigger("asynccancel",n,e)},_onAsyncReceived:function(t,e,n){this.eventBus.trigger("asyncreceive",n,e)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())&&this.select(n)&&e.preventDefault()},_onTabKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())?this.select(n)&&e.preventDefault():(n=this.menu.getTopSelectable())&&this.autocomplete(n)&&e.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(t,e){this._minLengthMet(e)?this.menu.update(e):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(t,e){this.dir!==e&&(this.dir=e,this.menu.setLanguageDirection(e))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(t){return t=e.isString(t)?t:this.input.getQuery()||"",t.length>=this.minLength},_updateHint:function(){var t,n,i,r,o,a,l;t=this.menu.getTopSelectable(),n=this.menu.getSelectableData(t),i=this.input.getInputValue(),!n||e.isBlankString(i)||this.input.hasOverflow()?this.input.clearHint():(r=s.normalizeQuery(i),o=e.escapeRegExChars(r),a=new RegExp("^(?:"+o+")(.+$)","i"),l=a.exec(n.val),l&&this.input.setHint(i+l[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return this.isActive()?!0:!this.isEnabled()||this.eventBus.before("active")?!1:(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return this.isActive()?this.eventBus.before("idle")?!1:(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0):!0},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(t){this.input.setQuery(e.toStr(t))},getVal:function(){return this.input.getQuery()},select:function(t){var e=this.menu.getSelectableData(t);return e&&!this.eventBus.before("select",e.obj)?(this.input.setQuery(e.val,!0),this.eventBus.trigger("select",e.obj),this.close(),!0):!1},autocomplete:function(t){var e,n,i;return e=this.input.getQuery(),n=this.menu.getSelectableData(t),i=n&&e!==n.val,i&&!this.eventBus.before("autocomplete",n.obj)?(this.input.setQuery(n.val),this.eventBus.trigger("autocomplete",n.obj),!0):!1},moveCursor:function(t){var e,n,i,r,o;return e=this.input.getQuery(),n=this.menu.selectableRelativeToCursor(t),i=this.menu.getSelectableData(n),r=i?i.obj:null,o=this._minLengthMet()&&this.menu.update(e),o||this.eventBus.before("cursorchange",r)?!1:(this.menu.setCursor(n),i?this.input.setInputValue(i.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",r),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),n}();!function(){"use strict";function r(e,n){e.each(function(){var e,i=t(this);(e=i.data(g.typeahead))&&n(e,i)})}function o(t,e){return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css(h(t)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function a(t,e){t.data(g.attrs,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")}),t.addClass(e.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!t.attr("dir")&&t.attr("dir","auto")}catch(n){}return t}function h(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function d(t){var n,i;n=t.data(g.www),i=t.parent().filter(n.selectors.wrapper),e.each(t.data(g.attrs),function(n,i){e.isUndefined(n)?t.removeAttr(i):t.attr(i,n)}),t.removeData(g.typeahead).removeData(g.www).removeData(g.attr).removeClass(n.classes.input),i.length&&(t.detach().insertAfter(i),i.remove())}function p(n){var i,r;return i=e.isJQuery(n)||e.isElement(n),r=i?t(n).first():[],r.length?r:null}var f,g,m;f=t.fn.typeahead,g={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},m={initialize:function(r,h){function d(){var n,d,m,v,y,_,b,w,x,C,k;e.each(h,function(t){t.highlight=!!r.highlight}),n=t(this),d=t(f.html.wrapper),m=p(r.hint),v=p(r.menu),y=r.hint!==!1&&!m,_=r.menu!==!1&&!v,y&&(m=o(n,f)),_&&(v=t(f.html.menu).css(f.css.menu)),m&&m.val(""),n=a(n,f),(y||_)&&(d.css(f.css.wrapper),n.css(y?f.css.input:f.css.inputWithNoHint),n.wrap(d).parent().prepend(y?m:null).append(_?v:null)),k=_?u:l,b=new i({el:n}),w=new s({hint:m,input:n},f),x=new k({node:v,datasets:h},f),C=new c({input:w,menu:x,eventBus:b,minLength:r.minLength},f),n.data(g.www,f),n.data(g.typeahead,C)}var f;return h=e.isArray(h)?h:[].slice.call(arguments,1),r=r||{},f=n(r.classNames),this.each(d)},isEnabled:function(){var t;return r(this.first(),function(e){t=e.isEnabled()}),t},enable:function(){return r(this,function(t){t.enable()}),this},disable:function(){return r(this,function(t){t.disable()}),this},isActive:function(){var t;return r(this.first(),function(e){t=e.isActive()}),t},activate:function(){return r(this,function(t){t.activate()}),this},deactivate:function(){return r(this,function(t){t.deactivate()}),this},isOpen:function(){var t;return r(this.first(),function(e){t=e.isOpen()}),t},open:function(){return r(this,function(t){t.open()}),this},close:function(){return r(this,function(t){t.close()}),this},select:function(e){var n=!1,i=t(e);return r(this.first(),function(t){n=t.select(i)}),n},autocomplete:function(e){var n=!1,i=t(e);return r(this.first(),function(t){n=t.autocomplete(i)}),n},moveCursor:function(t){var e=!1;return r(this.first(),function(n){e=n.moveCursor(t)}),e},val:function(t){var e;return arguments.length?(r(this,function(e){e.setVal(t)}),this):(r(this.first(),function(t){e=t.getVal()}),e)},destroy:function(){return r(this,function(t,e){d(e),t.destroy()}),this}},t.fn.typeahead=function(t){return m[t]?m[t].apply(this,[].slice.call(arguments,1)):m.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=f,this}}()}),/*!
 * typeahead.js 0.11.1
 * https://github.com/twitter/typeahead.js
 * Copyright 2013-2015 Twitter, Inc. and other contributors; Licensed MIT
 */
function(t,e){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(n){return t.Bloodhound=e(n)}):"object"==typeof exports?module.exports=e(require("jquery")):t.Bloodhound=e(jQuery)}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){function i(t,e){return n(e,t)}t.each(e,i)},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,r){return(i=n.call(null,r,t,e))?void 0:!1}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,r){return(i=n.call(null,r,t,e))?!1:void 0}),!!i):i},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function n(){return String(e)}return t.isFunction(e)?e:n},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,r;return function(){var o,s,a=this,l=arguments;return o=function(){i=null,n||(r=t.apply(a,l))},s=n&&!i,clearTimeout(i),i=setTimeout(o,e),s&&(r=t.apply(a,l)),r}},throttle:function(t,e){var n,i,r,o,s,a;return s=0,a=function(){s=new Date,r=null,o=t.apply(n,i)},function(){var l=new Date,u=e-(l-s);return n=this,i=arguments,0>=u?(clearTimeout(r),r=null,s=l,o=t.apply(n,i)):r||(r=setTimeout(a,u)),o}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n="0.11.1",i=function(){"use strict";function t(t){return t=e.toStr(t),t?t.split(/\s+/):[]}function n(t){return t=e.toStr(t),t?t.split(/\W+/):[]}function i(t){return function(n){return n=e.isArray(n)?n:[].slice.call(arguments,0),function(i){var r=[];return e.each(n,function(n){r=r.concat(t(e.toStr(i[n])))}),r}}}return{nonword:n,whitespace:t,obj:{nonword:i(n),whitespace:i(t)}}}(),r=function(){"use strict";function n(n){this.maxSize=e.isNumber(n)?n:100,this.reset(),this.maxSize<=0&&(this.set=this.get=t.noop)}function i(){this.head=this.tail=null}function r(t,e){this.key=t,this.val=e,this.prev=this.next=null}return e.mixin(n.prototype,{set:function(t,e){var n,i=this.list.tail;this.size>=this.maxSize&&(this.list.remove(i),delete this.hash[i.key],this.size--),(n=this.hash[t])?(n.val=e,this.list.moveToFront(n)):(n=new r(t,e),this.list.add(n),this.hash[t]=n,this.size++)},get:function(t){var e=this.hash[t];return e?(this.list.moveToFront(e),e.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new i}}),e.mixin(i.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),n}(),o=function(){"use strict";function n(t,n){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+e.escapeRegExChars(this.prefix)),this.ls=n||a,!this.ls&&this._noop()}function i(){return(new Date).getTime()}function r(t){return JSON.stringify(e.isUndefined(t)?null:t)}function o(e){return t.parseJSON(e)}function s(t){var e,n,i=[],r=a.length;for(e=0;r>e;e++)(n=a.key(e)).match(t)&&i.push(n.replace(t,""));return i}var a;try{a=window.localStorage,a.setItem("~~~","!"),a.removeItem("~~~")}catch(l){a=null}return e.mixin(n.prototype,{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=e.noop},_safeSet:function(t,e){try{this.ls.setItem(t,e)}catch(n){"QuotaExceededError"===n.name&&(this.clear(),this._noop())}},get:function(t){return this.isExpired(t)&&this.remove(t),o(this.ls.getItem(this._prefix(t)))},set:function(t,n,o){return e.isNumber(o)?this._safeSet(this._ttlKey(t),r(i()+o)):this.ls.removeItem(this._ttlKey(t)),this._safeSet(this._prefix(t),r(n))},remove:function(t){return this.ls.removeItem(this._ttlKey(t)),this.ls.removeItem(this._prefix(t)),this},clear:function(){var t,e=s(this.keyMatcher);for(t=e.length;t--;)this.remove(e[t]);return this},isExpired:function(t){var n=o(this.ls.getItem(this._ttlKey(t)));return e.isNumber(n)&&i()>n?!0:!1}}),n}(),s=function(){"use strict";function n(t){t=t||{},this.cancelled=!1,this.lastReq=null,this._send=t.transport,this._get=t.limiter?t.limiter(this._get):this._get,this._cache=t.cache===!1?new r(0):a}var i=0,o={},s=6,a=new r(10);return n.setMaxPendingRequests=function(t){s=t},n.resetCache=function(){a.reset()},e.mixin(n.prototype,{_fingerprint:function(e){return e=e||{},e.url+e.type+t.param(e.data||{})},_get:function(t,e){function n(t){e(null,t),c._cache.set(l,t)}function r(){e(!0)}function a(){i--,delete o[l],c.onDeckRequestArgs&&(c._get.apply(c,c.onDeckRequestArgs),c.onDeckRequestArgs=null)}var l,u,c=this;l=this._fingerprint(t),this.cancelled||l!==this.lastReq||((u=o[l])?u.done(n).fail(r):s>i?(i++,o[l]=this._send(t).done(n).fail(r).always(a)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(n,i){var r,o;i=i||t.noop,n=e.isString(n)?{url:n}:n||{},o=this._fingerprint(n),this.cancelled=!1,this.lastReq=o,(r=this._cache.get(o))?i(null,r):this._get(n,i)},cancel:function(){this.cancelled=!0}}),n}(),a=window.SearchIndex=function(){"use strict";function n(n){n=n||{},n.datumTokenizer&&n.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.identify=n.identify||e.stringify,this.datumTokenizer=n.datumTokenizer,this.queryTokenizer=n.queryTokenizer,this.reset()}function i(t){return t=e.filter(t,function(t){return!!t}),t=e.map(t,function(t){return t.toLowerCase()})}function r(){var t={};return t[l]=[],t[a]={},t}function o(t){for(var e={},n=[],i=0,r=t.length;r>i;i++)e[t[i]]||(e[t[i]]=!0,n.push(t[i]));return n}function s(t,e){var n=0,i=0,r=[];t=t.sort(),e=e.sort();for(var o=t.length,s=e.length;o>n&&s>i;)t[n]<e[i]?n++:t[n]>e[i]?i++:(r.push(t[n]),n++,i++);return r}var a="c",l="i";return e.mixin(n.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var n=this;t=e.isArray(t)?t:[t],e.each(t,function(t){var o,s;n.datums[o=n.identify(t)]=t,s=i(n.datumTokenizer(t)),e.each(s,function(t){var e,i,s;for(e=n.trie,i=t.split("");s=i.shift();)e=e[a][s]||(e[a][s]=r()),e[l].push(o)})})},get:function(t){var n=this;return e.map(t,function(t){return n.datums[t]})},search:function(t){var n,r,u=this;return n=i(this.queryTokenizer(t)),e.each(n,function(t){var e,n,i,o;if(r&&0===r.length)return!1;for(e=u.trie,n=t.split("");e&&(i=n.shift());)e=e[a][i];return e&&0===n.length?(o=e[l].slice(0),void(r=r?s(r,o):o)):(r=[],!1)}),r?e.map(o(r),function(t){return u.datums[t]}):[]},all:function(){var t=[];for(var e in this.datums)t.push(this.datums[e]);return t},reset:function(){this.datums={},this.trie=r()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),n}(),l=function(){"use strict";function t(t){this.url=t.url,this.ttl=t.ttl,this.cache=t.cache,this.prepare=t.prepare,this.transform=t.transform,this.transport=t.transport,this.thumbprint=t.thumbprint,this.storage=new o(t.cacheKey)}var n;return n={data:"data",protocol:"protocol",thumbprint:"thumbprint"},e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(t){this.cache&&(this.storage.set(n.data,t,this.ttl),this.storage.set(n.protocol,location.protocol,this.ttl),this.storage.set(n.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var t,e={};return this.cache?(e.data=this.storage.get(n.data),e.protocol=this.storage.get(n.protocol),e.thumbprint=this.storage.get(n.thumbprint),t=e.thumbprint!==this.thumbprint||e.protocol!==location.protocol,e.data&&!t?e.data:null):null},fromNetwork:function(t){function e(){t(!0)}function n(e){t(null,r.transform(e))}var i,r=this;t&&(i=this.prepare(this._settings()),this.transport(i).fail(e).done(n))},clear:function(){return this.storage.clear(),this}}),t}(),u=function(){"use strict";function t(t){this.url=t.url,this.prepare=t.prepare,this.transform=t.transform,this.transport=new s({cache:t.cache,limiter:t.limiter,transport:t.transport})}return e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(t,e){function n(t,n){e(t?[]:r.transform(n))}var i,r=this;if(e)return t=t||"",i=this.prepare(t,this._settings()),this.transport.get(i,n)},cancelLastRequest:function(){this.transport.cancel()}}),t}(),c=function(){"use strict";function i(i){var r;return i?(r={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:e.identity,transform:e.identity,transport:null},i=e.isString(i)?{url:i}:i,i=e.mixin(r,i),!i.url&&t.error("prefetch requires url to be set"),i.transform=i.filter||i.transform,i.cacheKey=i.cacheKey||i.url,i.thumbprint=n+i.thumbprint,i.transport=i.transport?a(i.transport):t.ajax,i):null}function r(n){var i;if(n)return i={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:e.identity,transport:null},n=e.isString(n)?{url:n}:n,n=e.mixin(i,n),!n.url&&t.error("remote requires url to be set"),n.transform=n.filter||n.transform,n.prepare=o(n),n.limiter=s(n),n.transport=n.transport?a(n.transport):t.ajax,delete n.replace,delete n.wildcard,delete n.rateLimitBy,delete n.rateLimitWait,n}function o(t){function e(t,e){return e.url=o(e.url,t),e}function n(t,e){return e.url=e.url.replace(s,encodeURIComponent(t)),e}function i(t,e){return e}var r,o,s;return r=t.prepare,o=t.replace,s=t.wildcard,r?r:r=o?e:t.wildcard?n:i}function s(t){function n(t){return function(n){return e.debounce(n,t)}}function i(t){return function(n){return e.throttle(n,t)}}var r,o,s;return r=t.limiter,o=t.rateLimitBy,s=t.rateLimitWait,r||(r=/^throttle$/i.test(o)?i(s):n(s)),r}function a(n){return function(i){function r(t){e.defer(function(){s.resolve(t)})}function o(t){e.defer(function(){s.reject(t)})}var s=t.Deferred();return n(i,r,o),s}}return function(n){var o,s;return o={initialize:!0,identify:e.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},n=e.mixin(o,n||{}),!n.datumTokenizer&&t.error("datumTokenizer is required"),!n.queryTokenizer&&t.error("queryTokenizer is required"),s=n.sorter,n.sorter=s?function(t){return t.sort(s)}:e.identity,n.local=e.isFunction(n.local)?n.local():n.local,n.prefetch=i(n.prefetch),n.remote=r(n.remote),n}}(),h=function(){"use strict";function n(t){t=c(t),this.sorter=t.sorter,this.identify=t.identify,this.sufficient=t.sufficient,this.local=t.local,this.remote=t.remote?new u(t.remote):null,this.prefetch=t.prefetch?new l(t.prefetch):null,this.index=new a({identify:this.identify,datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),t.initialize!==!1&&this.initialize()}var r;return r=window&&window.Bloodhound,n.noConflict=function(){return window&&(window.Bloodhound=r),n},n.tokenizers=i,e.mixin(n.prototype,{__ttAdapter:function(){function t(t,e,i){return n.search(t,e,i)}function e(t,e){return n.search(t,e)}var n=this;return this.remote?t:e},_loadPrefetch:function(){function e(t,e){return t?n.reject():(r.add(e),r.prefetch.store(r.index.serialize()),void n.resolve())}var n,i,r=this;return n=t.Deferred(),this.prefetch?(i=this.prefetch.fromCache())?(this.index.bootstrap(i),n.resolve()):this.prefetch.fromNetwork(e):n.resolve(),n.promise()},_initialize:function(){function t(){e.add(e.local)}var e=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(t),this.initPromise},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){return this.index.add(t),this},get:function(t){return t=e.isArray(t)?t:[].slice.call(arguments),this.index.get(t)},search:function(t,n,i){function r(t){var n=[];e.each(t,function(t){!e.some(o,function(e){return s.identify(t)===s.identify(e)})&&n.push(t)}),i&&i(n)}var o,s=this;return o=this.sorter(this.index.search(t)),n(this.remote?o.slice():o),this.remote&&o.length<this.sufficient?this.remote.get(t,r):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return s.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),n}();return h});var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),TypeaheadSearch=function(){function t(){_classCallCheck(this,t),this.WILDCARD="%QUERY",this.form=$(".main-navbar-search"),this.input=this.form.find("input"),this.fetch_url=this.form.attr("action"),this.userUrl=this.form.attr("data-user-url"),this.forumUrl=this.form.attr("data-forum-url"),this.projectUrl=this.form.attr("data-project-url"),this.input.length&&0==this.form.find(".twitter-typeahead").length&&this._setupTypeahead()}return _createClass(t,[{key:"_setupTypeahead",value:function(){var t=this;this._bindEnter(),this.form.addClass("js-search");var e=this._getBloodhound(),n=this._getBloodhound2("project","search"),i=this._getBloodhound2("topic","project");e.initialize(),n.initialize(),i.initialize(),this.input.typeahead({highlight:!0,hint:!1},[{display:"login",source:e,limit:1e4,templates:{header:'<h3 class="search-header-name profile-title">Login</h3>',suggestion:function(e){var n=e.login;return"<a href='"+t.userUrl+n+"' class='search-suggestion-item'>\n                        <div class='search-user-picture bg-image-item rounded square-xs' style='background-image: url(https://cdn.intra.42.fr/userprofil/"+n+".jpg)'></div>\n                        <span>"+n+"</span>\n                    </a>"}}},{display:"slug",source:n,limit:1e4,templates:{header:'<h3 class="search-header-name profile-title">Projects</h3>',suggestion:function(t){var e=t.name,n=t.url;return'<a href="'+n+"\" class='search-suggestion-item'>\n                    <span>"+e+"</span>\n                </a>"}}},{display:"name",source:i,limit:1e4,templates:{header:'<h3 class="search-header-name profile-title">Topics</h3>',suggestion:function(t){var e=t.name,n=t.url;return"<a href='"+n+"' class='search-suggestion-item'>\n                  <span>"+e+"</span>\n              </a>"}}}])}},{key:"_bindEnter",value:function(){var t=this,e=function(e){13==e.keyCode&&$(t.form).submit()};this.input.on("typeahead:cursorchange",function(n,i){t.input.off("keyup",e),i.login||i.name||t.input.on("keyup",e)}),this.input.on("typeahead:select",function(e,n){var i=n.login?""+t.userUrl+n.login:""+n.url;document.location=i}),this.input.on("keyup",e)}},{key:"_getBloodhound",value:function(){var t=this;return new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("login"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:this.fetch_url+(".json?query="+this.WILDCARD),wildcard:this.WILDCARD,prepare:function(e,n){return n.xhrFields={withCredentials:!0},n.url=n.url.replace(t.WILDCARD,encodeURIComponent(e)),n},transform:function(t){return t.map(function(t){return{login:t}})}}})}},{key:"_getBloodhound2",value:function(t,e){var n=this;return this.fetch_url=this.fetch_url.substring(0,this.fetch_url.length-e.length),this.fetch_url=this.fetch_url+t,new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("login"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:this.fetch_url+(".json?query="+this.WILDCARD),wildcard:this.WILDCARD,prepare:function(t,e){return e.xhrFields={withCredentials:!0},e.url=e.url.replace(n.WILDCARD,encodeURIComponent(t)),e}}})}}]),t}(),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),TypeaheadHelper=function(){function t(){_classCallCheck(this,t);var e=this;$(".typeahead").each(function(){var t=$(this),n=e._getBloodhound.call(this);n.initialize(),t.typeahead({highlight:!0,hint:!1},{display:"displayKey",source:n.ttAdapter()}).on("typeahead:selected",function(e,n){$("[data-typeahead-"+t.data("displayKey")+"]").val(n.value)})})}return _createClass(t,[{key:"_getBloodhound",value:function(){var t=$(this);return new Bloodhound({datumTokenizer:function(t){Bloodhound.tokenizers.whitespace(t.displayKey)},queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:t.data("url")+"query=%QUERY",wildcard:"%QUERY",prepare:function(e,n){return console.log("prepare =>",e,n),n.xhrFields={withCredentials:!0},n.url=n.url.replace("%QUERY",encodeURIComponent(e)),_.each(t.data("url-param"),function(t,e){n.url=n.url.replace("%"+e,encodeURIComponent($(""+t).val()))}),n},transform:function(e){return $.map(e,function(e){return{displayKey:e[t.data("displayKey")],value:e[t.data("valueKey")||"id"],data:e}})}}})}}]),t}();/*!
 * Bootstrap v3.3.6 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under the MIT license
 */
if(function(t,e){"use strict";t.rails!==e&&t.error("jquery-ujs has already been loaded!");var n,i=t(document);t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return t("meta[name=csrf-token]").attr("content")},csrfParam:function(){return t("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=n.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){t('form input[name="'+n.csrfParam()+'"]').val(n.csrfToken())},fire:function(e,n,i){var r=t.Event(n);return e.trigger(r,i),r.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==e&&t.data("remote")!==!1},handleRemote:function(i){var r,o,s,a,l,u;if(n.fire(i,"ajax:before")){if(a=i.data("with-credentials")||null,l=i.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,i.is("form")){r=i.data("ujs:submit-button-formmethod")||i.attr("method"),o=i.data("ujs:submit-button-formaction")||i.attr("action"),s=t(i[0]).serializeArray();var c=i.data("ujs:submit-button");c&&(s.push(c),i.data("ujs:submit-button",null)),i.data("ujs:submit-button-formmethod",null),i.data("ujs:submit-button-formaction",null)}else i.is(n.inputChangeSelector)?(r=i.data("method"),o=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(r=i.data("method")||"get",o=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):(r=i.data("method"),o=n.href(i),s=i.data("params")||null);return u={type:r||"GET",data:s,dataType:l,beforeSend:function(t,r){return r.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),n.fire(i,"ajax:beforeSend",[t,r])?void i.trigger("ajax:send",t):!1},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:n.isCrossDomain(o)},a&&(u.xhrFields={withCredentials:a}),o&&(u.url=o),n.ajax(u)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var n=document.createElement("a");try{return n.href=t,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(i){return!0}},handleMethod:function(i){var r=n.href(i),o=i.data("method"),s=i.attr("target"),a=n.csrfToken(),l=n.csrfParam(),u=t('<form method="post" action="'+r+'"></form>'),c='<input name="_method" value="'+o+'" type="hidden" />';l===e||a===e||n.isCrossDomain(r)||(c+='<input name="'+l+'" value="'+a+'" type="hidden" />'),s&&u.attr("target",s),u.hide().append(c).appendTo("body"),u.submit()},formElements:function(e,n){return e.is("form")?t(e[0].elements).filter(n):e.find(n)},disableFormElements:function(e){n.formElements(e,n.disableSelector).each(function(){n.disableFormElement(t(this))})},disableFormElement:function(t){var n,i;n=t.is("button")?"html":"val",i=t.data("disable-with"),i!==e&&(t.data("ujs:enable-with",t[n]()),t[n](i)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(e){n.formElements(e,n.enableSelector).each(function(){n.enableFormElement(t(this))})},enableFormElement:function(t){var n=t.is("button")?"html":"val";t.data("ujs:enable-with")!==e&&(t[n](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,i=t.data("confirm"),r=!1;if(!i)return!0;if(n.fire(t,"confirm")){try{r=n.confirm(i)}catch(o){(console.error||console.log).call(console,o.stack||o)}e=n.fire(t,"confirm:complete",[r])}return r&&e},blankInputs:function(e,n,i){var r,o,s,a,l=t(),u=n||"input,textarea",c=e.find(u),h={};return c.each(function(){r=t(this),r.is("input[type=radio]")?(a=r.attr("name"),h[a]||(0===e.find('input[type=radio]:checked[name="'+a+'"]').length&&(s=e.find('input[type=radio][name="'+a+'"]'),l=l.add(s)),h[a]=a)):(o=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):!!r.val(),o===i&&(l=l.add(r)))}),l.length?l:!1},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var i=t.data("disable-with");i!==e&&(t.data("ujs:enable-with",t.html()),t.html(i)),t.bind("click.railsDisable",function(t){return n.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},n.fire(i,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,i){t.crossDomain||n.CSRFProtection(i)}),t(window).on("pageshow.rails",function(){t(t.rails.enableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableFormElement(e)}),t(t.rails.linkDisableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableElement(e)})}),i.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(t(this))}),i.delegate(n.buttonDisableSelector,"ajax:complete",function(){n.enableFormElement(t(this))}),i.delegate(n.linkClickSelector,"click.rails",function(e){var i=t(this),r=i.data("method"),o=i.data("params"),s=e.metaKey||e.ctrlKey;if(!n.allowAction(i))return n.stopEverything(e);if(!s&&i.is(n.linkDisableSelector)&&n.disableElement(i),n.isRemote(i)){if(s&&(!r||"GET"===r)&&!o)return!0;var a=n.handleRemote(i);return a===!1?n.enableElement(i):a.fail(function(){n.enableElement(i)}),!1}return r?(n.handleMethod(i),!1):void 0}),i.delegate(n.buttonClickSelector,"click.rails",function(e){var i=t(this);if(!n.allowAction(i)||!n.isRemote(i))return n.stopEverything(e);i.is(n.buttonDisableSelector)&&n.disableFormElement(i);var r=n.handleRemote(i);return r===!1?n.enableFormElement(i):r.fail(function(){n.enableFormElement(i)}),!1}),i.delegate(n.inputChangeSelector,"change.rails",function(e){var i=t(this);return n.allowAction(i)&&n.isRemote(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),i.delegate(n.formSubmitSelector,"submit.rails",function(i){var r,o,s=t(this),a=n.isRemote(s);if(!n.allowAction(s))return n.stopEverything(i);if(s.attr("novalidate")===e)if(s.data("ujs:formnovalidate-button")===e){if(r=n.blankInputs(s,n.requiredInputSelector,!1),r&&n.fire(s,"ajax:aborted:required",[r]))return n.stopEverything(i)}else s.data("ujs:formnovalidate-button",e);if(a){if(o=n.nonBlankInputs(s,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(s)},13);var l=n.fire(s,"ajax:aborted:file",[o]);return l||setTimeout(function(){n.enableFormElements(s)},13),l}return n.handleRemote(s),!1}setTimeout(function(){n.disableFormElements(s)},13)}),i.delegate(n.formInputClickSelector,"click.rails",function(e){var i=t(this);if(!n.allowAction(i))return n.stopEverything(e);var r=i.attr("name"),o=r?{name:r,value:i.val()}:null,s=i.closest("form");0===s.length&&(s=t("#"+i.attr("form"))),s.data("ujs:submit-button",o),s.data("ujs:formnovalidate-button",i.attr("formnovalidate")),s.data("ujs:submit-button-formaction",i.attr("formaction")),s.data("ujs:submit-button-formmethod",i.attr("formmethod"))}),i.delegate(n.formSubmitSelector,"ajax:send.rails",function(e){this===e.target&&n.disableFormElements(t(this))}),i.delegate(n.formSubmitSelector,"ajax:complete.rails",function(e){this===e.target&&n.enableFormElements(t(this))}),t(function(){n.refreshCSRFTokens()}))}(jQuery),function(){var t,e,n,i,r,o,s,a,l,u,c,h,d,p,f;window.console&&window.console.log&&(u=function(){var t;return t=[],c(arguments).forEach(function(e){return"string"==typeof e?t=t.concat(p(e)):t.push(e)}),f.apply(window,t)},f=function(){return console.log.apply(console,c(arguments))},c=function(t){return Array.prototype.slice.call(t)},n=[{regex:/\*([^\*]+)\*/,replacer:function(t,e){return"%c"+e+"%c"},styles:function(){return["font-style: italic",""]}},{regex:/\_([^\_]+)\_/,replacer:function(t,e){return"%c"+e+"%c"},styles:function(){return["font-weight: bold",""]}},{regex:/\`([^\`]+)\`/,replacer:function(t,e){return"%c"+e+"%c"},styles:function(){return["background: rgb(255, 255, 219); padding: 1px 5px; border: 1px solid rgba(0, 0, 0, 0.1)",""]}},{regex:/\[c\=(?:\"|\')?((?:(?!(?:\"|\')\]).)*)(?:\"|\')?\]((?:(?!\[c\]).)*)\[c\]/,replacer:function(t,e,n){return"%c"+n+"%c"},styles:function(t){return[t[1],""]}}],r=function(t){var e;return e=!1,n.forEach(function(n){return n.regex.test(t)?e=!0:void 0}),e},i=function(t){var e;return e=[],n.forEach(function(n){var i;return i=t.match(n.regex),i?e.push({format:n,match:i}):void 0}),e.sort(function(t,e){return t.match.index-e.match.index})},p=function(t){var e,n,o;for(o=[];r(t);)n=i(t),e=n[0],t=t.replace(e.format.regex,e.format.replacer),o=o.concat(e.format.styles(e.match));return[t].concat(o)},l=function(){return/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)},a=function(){return/OPR/.test(navigator.userAgent)&&/Opera/.test(navigator.vendor)},o=function(){return/Firefox/.test(navigator.userAgent)},s=function(){return/MSIE/.test(navigator.userAgent)},d=function(){var t;return t=navigator.userAgent.match(/AppleWebKit\/(\d+)\.(\d+)(\.|\+|\s)/),t?537.38<=parseInt(t[1],10)+parseInt(t[2],10)/100:!1},h=function(){var t;return t=navigator.userAgent.match(/OPR\/(\d+)\./),t?15<=parseInt(t[1],10):!1},e=function(){return window.console.firebug||window.console.exception},t=s()||o()&&!e()||a()&&!h()||l()&&!d()?f:u,t.l=f,"function"==typeof define&&define.amd?define(function(){return t}):"undefined"!=typeof exports?module.exports=t:window.log=t)}.call(this),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(jQuery),/* ========================================================================
 * Bootstrap: transition.js v3.3.6
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one("bsTransitionEnd",function(){n=!0});var r=function(){n||t(i).trigger(t.support.transition.end)};return setTimeout(r,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),/* ========================================================================
 * Bootstrap: alert.js v3.3.6
 * http://getbootstrap.com/javascript/#alerts
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.alert");r||n.data("bs.alert",r=new i(this)),"string"==typeof e&&r[e].call(n)})}var n='[data-dismiss="alert"]',i=function(e){t(e).on("click",n,this.close)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.prototype.close=function(e){function n(){s.detach().trigger("closed.bs.alert").remove()}var r=t(this),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var s=t(o);e&&e.preventDefault(),s.length||(s=r.closest(".alert")),s.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var r=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=r,this},t(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),/* ========================================================================
 * Bootstrap: button.js v3.3.6
 * http://getbootstrap.com/javascript/#buttons
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.button"),o="object"==typeof e&&e;r||i.data("bs.button",r=new n(this,o)),"toggle"==e?r.toggle():e&&r.setState(e)})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.6",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",i=this.$element,r=i.is("input")?"val":"html",o=i.data();e+="Text",null==o.resetText&&i.data("resetText",i[r]()),setTimeout(t.proxy(function(){i[r](null==o[e]?this.options[e]:o[e]),"loadingText"==e?(this.isLoading=!0,i.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=t(n.target);i.hasClass("btn")||(i=i.closest(".btn")),e.call(i,"toggle"),t(n.target).is('input[type="radio"]')||t(n.target).is('input[type="checkbox"]')||n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),/* ========================================================================
 * Bootstrap: carousel.js v3.3.6
 * http://getbootstrap.com/javascript/#carousel
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.carousel"),o=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e),s="string"==typeof e?e:o.slide;r||i.data("bs.carousel",r=new n(this,o)),"number"==typeof e?r.to(e):s?r[s]():o.interval&&r.pause().cycle()})}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.3.6",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e),i="prev"==t&&0===n||"next"==t&&n==this.$items.length-1;if(i&&!this.options.wrap)return e;var r="prev"==t?-1:1,o=(n+r)%this.$items.length;return this.$items.eq(o)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(e,i){var r=this.$element.find(".item.active"),o=i||this.getItemForDirection(e,r),s=this.interval,a="next"==e?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var u=o[0],c=t.Event("slide.bs.carousel",{relatedTarget:u,direction:a});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=t(this.$indicators.children()[this.getItemIndex(o)]);h&&h.addClass("active")}var d=t.Event("slid.bs.carousel",{relatedTarget:u,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(o.addClass(e),o[0].offsetWidth,r.addClass(a),o.addClass(a),r.one("bsTransitionEnd",function(){o.removeClass([e,a].join(" ")).addClass("active"),r.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(d)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(d)),s&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this};var r=function(n){var i,r=t(this),o=t(r.attr("data-target")||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var s=t.extend({},o.data(),r.data()),a=r.attr("data-slide-to");a&&(s.interval=!1),e.call(o,s),a&&o.data("bs.carousel").to(a),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),/* ========================================================================
 * Bootstrap: collapse.js v3.3.6
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){var n,i=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(i)}function n(e){return this.each(function(){var n=t(this),r=n.data("bs.collapse"),o=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);!r&&o.toggle&&/show|hide/.test(e)&&(o.toggle=!1),r||n.data("bs.collapse",r=new i(this,o)),"string"==typeof e&&r[e]()})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.6",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(e=r.data("bs.collapse"),e&&e.transitioning))){var o=t.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){r&&r.length&&(n.call(r,"hide"),e||r.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var l=t.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[s](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(i.TRANSITION_DURATION):r.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(n,i){var r=t(i);this.addAriaAndCollapsedClass(e(r),r)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var r=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=r,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var r=t(this);r.attr("data-target")||i.preventDefault();var o=e(r),s=o.data("bs.collapse"),a=s?"toggle":r.data();n.call(o,a)})}(jQuery),/* ========================================================================
 * Bootstrap: dropdown.js v3.3.6
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}function n(n){n&&3===n.which||(t(r).remove(),t(o).each(function(){var i=t(this),r=e(i),o={relatedTarget:this};r.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(r[0],n.target)||(r.trigger(n=t.Event("hide.bs.dropdown",o)),n.isDefaultPrevented()||(i.attr("aria-expanded","false"),r.removeClass("open").trigger(t.Event("hidden.bs.dropdown",o)))))}))}function i(e){return this.each(function(){var n=t(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new s(this)),"string"==typeof e&&i[e].call(n)})}var r=".dropdown-backdrop",o='[data-toggle="dropdown"]',s=function(e){t(e).on("click.bs.dropdown",this.toggle)};s.VERSION="3.3.6",s.prototype.toggle=function(i){var r=t(this);if(!r.is(".disabled, :disabled")){var o=e(r),s=o.hasClass("open");if(n(),!s){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",n);var a={relatedTarget:this};if(o.trigger(i=t.Event("show.bs.dropdown",a)),i.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger(t.Event("shown.bs.dropdown",a))}return!1}},s.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var i=t(this);if(n.preventDefault(),n.stopPropagation(),!i.is(".disabled, :disabled")){var r=e(i),s=r.hasClass("open");if(!s&&27!=n.which||s&&27==n.which)return 27==n.which&&r.find(o).trigger("focus"),i.trigger("click");var a=" li:not(.disabled):visible a",l=r.find(".dropdown-menu"+a);if(l.length){var u=l.index(n.target);38==n.which&&u>0&&u--,40==n.which&&u<l.length-1&&u++,~u||(u=0),l.eq(u).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=i,t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,s.prototype.toggle).on("keydown.bs.dropdown.data-api",o,s.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",s.prototype.keydown)}(jQuery),/* ========================================================================
 * Bootstrap: modal.js v3.3.6
 * http://getbootstrap.com/javascript/#modals
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e,i){return this.each(function(){var r=t(this),o=r.data("bs.modal"),s=t.extend({},n.DEFAULTS,r.data(),"object"==typeof e&&e);o||r.data("bs.modal",o=new n(this,s)),"string"==typeof e?o[e](i):s.show&&o.show(i)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.6",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var i=this,r=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),r&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});r?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var i=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&r;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):s()}else e&&e()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=t(this),r=i.attr("href"),o=t(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},o.data(),i.data());i.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),e.call(o,s,this)})}(jQuery),/* ========================================================================
 * Bootstrap: tooltip.js v3.3.6
 * http://getbootstrap.com/javascript/#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.tooltip"),o="object"==typeof e&&e;(r||!/destroy|hide/.test(e))&&(r||i.data("bs.tooltip",r=new n(this,o)),"string"==typeof e&&r[e]())})}var n=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};n.VERSION="3.3.6",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,i){if(this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),o=r.length;o--;){var s=r[o];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusin"==e.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusout"==e.type?"focus":"hover"]=!1),n.isInStateTrue()?void 0:(clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide())},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var i=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!i)return;var r=this,o=this.tip(),s=this.getUID(this.type);this.setContent(),o.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&o.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,u=l.test(a);u&&(a=a.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var c=this.getPosition(),h=o[0].offsetWidth,d=o[0].offsetHeight;if(u){var p=a,f=this.getPosition(this.$viewport);a="bottom"==a&&c.bottom+d>f.bottom?"top":"top"==a&&c.top-d<f.top?"bottom":"right"==a&&c.right+h>f.width?"left":"left"==a&&c.left-h<f.left?"right":a,o.removeClass(p).addClass(a)}var g=this.getCalculatedOffset(a,c,h,d);this.applyPlacement(g,a);var m=function(){var t=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,"out"==t&&r.leave(r)};t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",m).emulateTransitionEnd(n.TRANSITION_DURATION):m()}},n.prototype.applyPlacement=function(e,n){var i=this.tip(),r=i[0].offsetWidth,o=i[0].offsetHeight,s=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),e.top+=s,e.left+=a,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var l=i[0].offsetWidth,u=i[0].offsetHeight;"top"==n&&u!=o&&(e.top=e.top+o-u);var c=this.getViewportAdjustedDelta(n,e,l,u);c.left?e.left+=c.left:e.top+=c.top;var h=/top|bottom/.test(n),d=h?2*c.left-r+l:2*c.top-o+u,p=h?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(d,i[0][p],h)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(e){function i(){"in"!=r.hoverState&&o.detach(),r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),e&&e()}var r=this,o=t(this.$tip),s=t.Event("hide.bs."+this.type);return this.$element.trigger(s),s.isDefaultPrevented()?void 0:(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],i="BODY"==n.tagName,r=n.getBoundingClientRect();null==r.width&&(r=t.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var o=i?{top:0,left:0}:e.offset(),s={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},a=i?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},r,s,a,o)},n.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-o-s.scroll,l=e.top+o-s.scroll+i;a<s.top?r.top=s.top-a:l>s.top+s.height&&(r.top=s.top+s.height-l)}else{var u=e.left-o,c=e.left+o+n;u<s.left?r.left=s.left-u:c>s.right&&(r.left=s.left+s.width-c)}return r},n.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},n.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&(n=t(e.currentTarget).data("bs."+this.type),n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),e?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};var i=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),/* ========================================================================
 * Bootstrap: popover.js v3.3.6
 * http://getbootstrap.com/javascript/#popovers
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.popover"),o="object"==typeof e&&e;(r||!/destroy|hide/.test(e))&&(r||i.data("bs.popover",r=new n(this,o)),"string"==typeof e&&r[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.6",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),/* ========================================================================
 * Bootstrap: scrollspy.js v3.3.6
 * http://getbootstrap.com/javascript/#scrollspy
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(n,i){this.$body=t(document.body),this.$scrollElement=t(t(n).is(document.body)?window:n),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var i=t(this),r=i.data("bs.scrollspy"),o="object"==typeof n&&n;r||i.data("bs.scrollspy",r=new e(this,o)),"string"==typeof n&&r[n]()})}e.VERSION="3.3.6",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),r=e.data("target")||e.attr("href"),o=/^#./.test(r)&&t(r);return o&&o.length&&o.is(":visible")&&[[o[n]().top+i,r]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,o=this.targets,s=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=i)return s!=(t=o[o.length-1])&&this.activate(t);if(s&&e<r[0])return this.activeTarget=null,this.clear();for(t=r.length;t--;)s!=o[t]&&e>=r[t]&&(void 0===r[t+1]||e<r[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),/* ========================================================================
 * Bootstrap: tab.js v3.3.6
 * http://getbootstrap.com/javascript/#tabs
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new n(this)),"string"==typeof e&&r[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.3.6",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var r=n.find(".active:last a"),o=t.Event("hide.bs.tab",{relatedTarget:e[0]}),s=t.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(o),e.trigger(s),!s.isDefaultPrevented()&&!o.isDefaultPrevented()){var a=t(i);this.activate(e.closest("li"),n),this.activate(a,a.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},n.prototype.activate=function(e,i,r){function o(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}var s=i.find("> .active"),a=r&&t.support.transition&&(s.length&&s.hasClass("fade")||!!i.find("> .fade").length);s.length&&a?s.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),s.removeClass("in")};var i=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=i,this};var r=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery),/* ========================================================================
 * Bootstrap: affix.js v3.3.6
 * http://getbootstrap.com/javascript/#affix
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.affix"),o="object"==typeof e&&e;r||i.data("bs.affix",r=new n(this,o)),"string"==typeof e&&r[e]()})}var n=function(e,i){this.options=t.extend({},n.DEFAULTS,i),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.6",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(t,e,n,i){var r=this.$target.scrollTop(),o=this.$element.offset(),s=this.$target.height();if(null!=n&&"top"==this.affixed)return n>r?"top":!1;if("bottom"==this.affixed)return null!=n?r+this.unpin<=o.top?!1:"bottom":t-i>=r+s?!1:"bottom";var a=null==this.affixed,l=a?r:o.top,u=a?s:e;return null!=n&&n>=r?"top":null!=i&&l+u>=t-i?"bottom":!1},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),i=this.options.offset,r=i.top,o=i.bottom,s=Math.max(t(document).height(),t(document.body).height());"object"!=typeof i&&(o=r=i),"function"==typeof r&&(r=i.top(this.$element)),"function"==typeof o&&(o=i.bottom(this.$element));var a=this.getState(s,e,r,o);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),u=t.Event(l+".bs.affix");if(this.$element.trigger(u),u.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:s-e-o})}};var i=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),e.call(n,i)})})}(jQuery);var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_Log=function(){function t(){_classCallCheck(this,t),this.writer=window.log?window.log:console.log,this._printHello()}return _createClass(t,[{key:"isBeta",value:function(){var t=document.querySelector("body").classList;return t.contains("beta")||t.contains("alpha")}},{key:"log",value:function(t,e){var n=['color: #00babc; font-size: 12px; font-family: "Noto Sans", Helvetica, Arial, sans-serif'];(this.isBeta()||e)&&this.writer("\u2139\ufe0e [c='"+n.join(";")+"']"+t+"[c]")}},{key:"warn",value:function(t,e){var n=['color: #d9af16; font-size: 12px; font-family: "Noto Sans", Helvetica, Arial, sans-serif'];(this.isBeta()||e)&&this.writer("[c='"+n.join(";")+"']"+t+"[c]")}},{key:"err",value:function(t,e){var n=['color: #a10000; font-size: 12px; font-family: "Noto Sans", Helvetica, Arial, sans-serif'];(this.isBeta()||e)&&this.writer("[c='"+n.join(";")+"']"+t+"[c]")}},{key:"_printHello",value:function(){var t=(arguments.length<=0||void 0===arguments[0]?!1:arguments[0],"[c='color: #999; font-size: 12px']"),e="[c='color: #666; font-size: 12px; font-weight: bold']",n="[c]";this.writer(e+"Seems you like to look under the hood? Help us build better services !"+n),this.writer(t+"\ud83d\ude80 Apply to the beta access program by sending us a mail to "+n+e+"intrateam@staff.42.fr"+n+t+" or via the "+n+e+"$bocal Slack channel"+n)}}]),t}();window.logger=new _Log,/*!
	Autosize 3.0.15
	license: MIT
	http://www.jacklmoore.com/autosize
*/
function(t,e){if("function"==typeof define&&define.amd)define(["exports","module"],e);else if("undefined"!=typeof exports&&"undefined"!=typeof module)e(exports,module);else{var n={exports:{}};e(n.exports,n),t.autosize=n.exports}}(this,function(t,e){"use strict";function n(t){function e(){var e=window.getComputedStyle(t,null);p=e.overflowY,"vertical"===e.resize?t.style.resize="none":"both"===e.resize&&(t.style.resize="horizontal"),d="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(d)&&(d=0),r()}function n(e){var n=t.style.width;t.style.width="0px",t.offsetWidth,t.style.width=n,p=e,h&&(t.style.overflowY=e),i()}function i(){var e=window.pageYOffset,n=document.body.scrollTop,i=t.style.height;t.style.height="auto";var r=t.scrollHeight+d;return 0===t.scrollHeight?void(t.style.height=i):(t.style.height=r+"px",f=t.clientWidth,document.documentElement.scrollTop=e,void(document.body.scrollTop=n))}function r(){var e=t.style.height;i();var r=window.getComputedStyle(t,null);if(r.height!==t.style.height?"visible"!==p&&n("visible"):"hidden"!==p&&n("hidden"),e!==t.style.height){var o=s("autosize:resized");t.dispatchEvent(o)}}var a=void 0===arguments[1]?{}:arguments[1],l=a.setOverflowX,u=void 0===l?!0:l,c=a.setOverflowY,h=void 0===c?!0:c;if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!o.has(t)){var d=null,p=null,f=t.clientWidth,g=function(){t.clientWidth!==f&&r()},m=function(e){window.removeEventListener("resize",g,!1),t.removeEventListener("input",r,!1),t.removeEventListener("keyup",r,!1),t.removeEventListener("autosize:destroy",m,!1),t.removeEventListener("autosize:update",r,!1),o["delete"](t),Object.keys(e).forEach(function(n){t.style[n]=e[n]})}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",m,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",r,!1),window.addEventListener("resize",g,!1),t.addEventListener("input",r,!1),t.addEventListener("autosize:update",r,!1),o.add(t),u&&(t.style.overflowX="hidden",t.style.wordWrap="break-word"),e()}}function i(t){if(t&&t.nodeName&&"TEXTAREA"===t.nodeName){var e=s("autosize:destroy");t.dispatchEvent(e)}}function r(t){if(t&&t.nodeName&&"TEXTAREA"===t.nodeName){var e=s("autosize:update");t.dispatchEvent(e)}}var o="function"==typeof Set?new Set:function(){var t=[];return{has:function(e){return Boolean(t.indexOf(e)>-1)},add:function(e){t.push(e)},"delete":function(e){t.splice(t.indexOf(e),1)}}}(),s=function(t){return new Event(t)};try{new Event("test")}catch(a){s=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!1),e}}var l=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?(l=function(t){return t},l.destroy=function(t){return t},l.update=function(t){return t}):(l=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],function(t){return n(t,e)}),t},l.destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],i),t},l.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],r),t}),e.exports=l});var ArrayHelper=function t(){_classCallCheck(this,t),NodeList.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator],HTMLCollection.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator],Array.prototype.to_rails_params=function(t){var e=arguments.length<=1||void 0===arguments[1]?"id":arguments[1];return Array.from(this,function(n){return t+"["+e.pluralize()+"][]="+n}).join("&")}};new ArrayHelper;var JqueryHelper=function e(){_classCallCheck(this,e),jQuery.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator],$.fn.incr=function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0],e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];if($(this).length){e&&(t=-t);var n=$(this).html().trim(),i=!1;return(i=n.match(/^(\d+)\s*([\D]+)$/m))?$(this).html(i[2].pluralize(parseInt(i[1],10)+t,!0)):$(this).html(parseInt(n,10)+t)}},$.fn.decr=function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0],e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];return $(this).incr(-t,e)},$.fn.reverse_state=function(t){var e=$(this).attr("data-state");return $(this).attr("data-state",{"true":"false","false":"true"}[e]),e.to_bool},$.fn.state=function(t){var e=$(this).attr("data-state");return e?e.to_bool:void 0},$.fn.inputWrapper=function(t){this.text=t,this.each(function(t,e){span=$("<span data-input-wrapper>"+this.text+"</span>"),$(e).after(span).css("text-indent",$(span).outerWidth()).css("padding",0),$(e).parent().attr("data-input-container","")})},$.rails.isCrossDomain=function(t){return!1},$.signedAjax=function(t){return t.xhrFields={withCredentials:!0},$.ajax(t)},$.api=function(t){var e=window.api_endpoint||("localhost"==document.location.hostname?"http://localhost:13000":"api.intra.42.fr");if(t.url&&null==t.url.match("http")){var n="/"==t.url[0]?t.url:"/"+t.url;t.url=""+e+n}return intra_credentials?(t.xhrFields={withCredentials:!0},t.headers={Authorization:"Bearer "+intra_credentials.token},$.ajax(t)):(console.warn("Intra credentials are not accessible !"),!1)},$.fn.bindBefore=function(t,e,n){this.on(t,e),this.each(function(e){var i=$._data(this,"events")[t.split(".")[0]],r=i.pop();i.splice($.inArray(n,i),0,r)})},$.fn.bindAfter=function(t,e,n){this.on(t,e),this.each(function(e){var i=$._data(this,"events")[t.split(".")[0]],r=i.pop();i.splice($.inArray(n,i)+1,0,r)})},$.fn.bindFirst=function(t,e){this.on(t,e),this.each(function(e){var n=$._data(this,"events")[t.split(".")[0]],i=n.pop();n.splice(0,0,i)})}};new JqueryHelper,function(t,e){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define(function(){return e()}):t.pluralize=e()}(this,function(){function t(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()}function e(t){return"string"==typeof t?new RegExp("^"+t+"$","i"):t}function n(e,n){return e===e.toUpperCase()?n.toUpperCase():e[0]===e[0].toUpperCase()?t(n):n.toLowerCase()}function i(t,e){return t.replace(/\$(\d{1,2})/g,function(t,n){return e[n]||""})}function r(t,e,r){if(!t.length||u.hasOwnProperty(t))return e;for(var o=r.length;o--;){var s=r[o];if(s[0].test(e))return e.replace(s[0],function(t,e,r){var o=i(s[1],arguments);return""===t?n(r[e-1],o):n(t,o)})}return e}function o(t,e,i){return function(o){var s=o.toLowerCase();return e.hasOwnProperty(s)?n(o,s):t.hasOwnProperty(s)?n(o,t[s]):r(s,o,i)}}function s(t,e,n){var i=1===e?s.singular(t):s.plural(t);return(n?e+" ":"")+i}var a=[],l=[],u={},c={},h={};return s.plural=o(h,c,a),s.singular=o(c,h,l),s.addPluralRule=function(t,n){a.push([e(t),n])},s.addSingularRule=function(t,n){l.push([e(t),n])},s.addUncountableRule=function(t){return"string"==typeof t?void(u[t.toLowerCase()]=!0):(s.addPluralRule(t,"$0"),void s.addSingularRule(t,"$0"))},s.addIrregularRule=function(t,e){e=e.toLowerCase(),t=t.toLowerCase(),h[t]=e,c[e]=t},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["thief","thieves"],["genie","genies"],["groove","grooves"],["pickaxe","pickaxes"],["whiskey","whiskies"]].forEach(function(t){return s.addIrregularRule(t[0],t[1])}),[[/s?$/i,"s"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|tlas|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[emjzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/(m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(t){return s.addPluralRule(t[0],t[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(?:sis|ses)$/i,"$1sis"],[/(^analy)(?:sis|ses)$/i,"$1sis"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/(^[pl]|zomb|^(?:neck)?t|[aeo][lt]|cut)ies$/i,"$1ie"],[/(\b(?:mon|smil))ies$/i,"$1ey"],[/(m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|tlas|gas|(?:her|at|gr)o|ris)(?:es)?$/i,"$1"],[/(e[mn]u)s?$/i,"$1"],[/(movie|twelve)s$/i,"$1"],[/(cris|test|diagnos)(?:is|es)$/i,"$1is"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(t){return s.addSingularRule(t[0],t[1])}),["advice","adulthood","agenda","aid","alcohol","ammo","athletics","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","commerce","cod","cooperation","corps","digestion","debris","diabetes","energy","equipment","elk","excretion","expertise","flounder","fun","gallows","garbage","graffiti","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","news","pike","plankton","pliers","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","species","staff","swine","trout","traffic","transporation","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pox$/i,/ois$/i,/deer$/i,/fish$/i,/sheep$/i,/measles$/i,/[^aeiou]ese$/i].forEach(s.addUncountableRule),s});var StringHelper=function n(){_classCallCheck(this,n),Object.defineProperty(String.prototype,"to_bool",{get:function(){return/^(true|1)$/i.test(this)}}),String.prototype.pluralize=function(){var t=arguments.length<=0||void 0===arguments[0]?42:arguments[0],e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];return pluralize(this,t,e)}};new StringHelper;var BootstrapHelper=function i(){_classCallCheck(this,i),$("a[rel~=popover], .has-popover").popover({trigger:"hover"}),$("a[rel~=tooltip], .has-tooltip").tooltip(),$("[data-toggle='tooltip']").tooltip()},_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),CallbackBase=function(){function t(){_classCallCheck(this,t);var e=this;$("body").on("click","a[data-uid], [data-uid] a",function(t){var n=void 0,i=void 0,r=void 0;$(this).is("[data-uid]")?(n=this,i=this,r=$(n).data("uid")):(n=this,i=$(n).parents("[data-uid]"),r=$(i).data("uid"));var o="click_"+r;return e.call_callback(e,o,"before",n,i),$.ajax($(n).attr("href")).success(function(t){e.call_callback(e,o,"success",n,i,t)}).error(function(t){e.call_callback(e,o,"error",n,i)}).done(function(t){e.call_callback(e,o,"done",n,i)}),t.stopPropagation(),!1})}return _createClass(t,[{key:"call_callback",value:function(t,e,n,i,r,o){"function"==typeof t[n+"_"+e]&&t[n+"_"+e](i,r,o)}}]),t}(),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,s=n;i=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var u=Object.getPrototypeOf(r);if(null===u)return void 0;t=u,e=o,n=s,i=!0,a=u=void 0}},CallbackMessage=function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"before_click_star",value:function(t){$("#favorite_count").incr(1,$(t).reverse_state())}},{key:"before_click_pin",value:function(t){$(t).addClass("active")}},{key:"before_click_lock",value:function(t){$(t).addClass("active")}},{key:"before_click_upvote",value:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?!0:arguments[2];console.log("Before !",this,$),n&&$(e).siblings("[data-uid=downvote]").state()&&this.before_click_downvote(void 0,$(e).siblings("[data-uid=downvote]"),!1);var i=$(e).reverse_state();$(e).find("span.count").incr(1,i),$(e).siblings(".vote-summary").incr(1,i),$(e).parents(".reply-actions").length&&($(e).parents(".reply-actions").siblings(".reply-vote-summary").incr(1,i),$(e).parents(".reply-actions").siblings(".reply-vote-summary").attr("data-vote-count",$(e).parents(".reply-actions").siblings(".reply-vote-summary").html()))}},{key:"before_click_downvote",value:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?!0:arguments[2];console.log(e),n&&$(e).siblings("[data-uid=upvote]").state()&&this.before_click_upvote(void 0,$(e).siblings("[data-uid=upvote]"),!1);var i=$(e).reverse_state();$(e).find("span.count").incr(1,i),$(e).siblings(".vote-summary").incr(1,!i),$(e).parents(".reply-actions").length&&($(e).parents(".reply-actions").siblings(".reply-vote-summary").incr(-1,i),$(e).parents(".reply-actions").siblings(".reply-vote-summary").attr("data-vote-count",$(e).parents(".reply-actions").siblings(".reply-vote-summary").html()))}},{key:"before_click_trollvote",value:function(t,e){$(e).find("span.count").incr(1,$(e).reverse_state())}},{key:"before_click_problem",value:function(t,e){$(e).find("span.count").incr(1,$(e).reverse_state())}},{key:"success_click_upvote",value:function(t,e,n){$(e).find("span.count").html(n.upvote_count),$(e).siblings(".vote-summary").length&&$(e).siblings(".vote-summary").html(n.totalvote_count),$(e).parents(".reply-actions").length&&($(e).parents(".reply-actions").siblings(".reply-vote-summary").html(n.totalvote_count),$(e).parents(".reply-actions").siblings(".reply-vote-summary").attr("data-vote-count",$(e).parents(".reply-actions").siblings(".reply-vote-summary").html())),$(e).siblings("[data-uid=downvote]").find("span.count").html(n.downvote_count)}},{key:"success_click_downvote",value:function(t,e,n){$(e).find("span.count").html(n.downvote_count),$(e).siblings(".vote-summary").length&&$(e).siblings(".vote-summary").html(n.totalvote_count),$(e).parents(".reply-actions").length&&($(e).parents(".reply-actions").siblings(".reply-vote-summary").html(n.totalvote_count),$(e).parents(".reply-actions").siblings(".reply-vote-summary").attr("data-vote-count",$(e).parents(".reply-actions").siblings(".reply-vote-summary").html())),$(e).siblings("[data-uid=upvote]").find("span.count").html(n.upvote_count)}},{key:"success_click_trollvote",value:function(t,e,n){$(e).find("span.count").html(n.kind_count)}},{key:"success_click_problem",value:function(t,e,n){$(e).find("span.count").html(n.kind_count)}},{key:"success_click_pin",value:function(t,e,n){return"OK"==n&&$(t).reverse_state(),$(t).state()?$(t).addClass("active"):$(t).removeClass("active")}},{key:"success_click_lock",value:function(t,e,n){return"OK"==n&&$(t).reverse_state(),$(t).state()?$(t).addClass("active icon-lock").removeClass("icon-unlock"):$(t).removeClass("active icon-lock").addClass("icon-unlock")}},{key:"success_click_star",value:function(t,e,n){if("Topic"==n.kind)return n.starred?$(t).html("Unwatch"):$(t).html("Watch");if(n.starred){var i=$(t).parent().clone();i.attr("data-tag-kind","starred"),$("[data-tag-kind='starred']").last().after(i)}else $("[data-tag-kind='starred'][data-tag-name='"+n.name+"']").remove()}}]),e}(CallbackBase);$(function(t){$("ul.pagination li a[href*=messages]").each(function(){$(this).attr("href",$(this).attr("href").replace("messages/timed","messages/pagination/timed"))})});var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Smart=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];_classCallCheck(this,t);var n={selector:"data-smart-modal",url:"data-url",container:"data-selector",titleSelector:"data-title",footerSelector:"data-footer",modal:"#smartModal"};this.opts=_.extend(n,e),this._bind()}return _createClass(t,[{key:"_bind",value:function(){var t=this,e=function(t){return"["+t+"]"};$(e(this.opts.selector)).each(function(e,n){var i=$(n).attr(t.opts.url),r=$(n).attr(t.opts.container)||".container-item",o=$(n).attr(t.opts.titleSelector),s=$(n).attr(t.opts.footerSelector);i?$(n).click(function(){$.signedAjax({url:i,method:"GET"}).done(function(e){var n=$(e).find(r).html(),i=o?$(e).find(o).html():!1,a=s?$(e).find(s).html():!1;$(t.opts.modal).find(".modal-body").html(n),i?$(t.opts.modal).find(".modal-header").html(i).show():$(t.opts.modal).find(".modal-header").html("").hide(),a?$(t.opts.modal).find(".modal-footer").html(a).show():$(t.opts.modal).find(".modal-footer").html("").hide(),$(t.opts.modal).modal("show")})}):console.warn("Undefined url for trigger ",n)})}}]),t}(),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),ModalHelper=function(){function t(){var e=this;_classCallCheck(this,t);var n=this;$("input[data-modal-id]").on("click",function(t){var i=!0,r=$(e).data("condition");if(r&&require(r)){var o=require($(e).data("condition"));o.modalCondition&&(i=o.modalCondition())}var s=$(".modal[data-modal-id='"+$(e).data("modal-id")+"']");n._initModal(s,$(e).data("confirmation")),i&&(t.preventDefault(),s.modal("show"))})}return _createClass(t,[{key:"_initModal",value:function(t,e){e&&t.one("click",".btn-primary",function(t){var n=require(e);n.modalConfirmation&&smodule.modalConfirmation()})}}]),t}();new ModalHelper;var SimpleFormArray=function r(){_classCallCheck(this,r),$("input.array, textarea.array").after('<a href="javascript:;" class="input_remove_elem">x</a>'),_.each($(".form-group:has(input.array), .form-group:has(textarea.array)"),function(t){$(t).find("input.array + a.input_remove_elem:last, textarea.array + a.input_remove_elem:last").after('<a class="input_add_elem" href="javascript:;">+</a>');var e=$(t).find("input.array:last, textarea.array:last")[0].cloneNode();$(t).find("a.input_add_elem").on("click",function(){var t=this.parentElement.insertBefore(e.cloneNode(),this);$(t).after('<a href="javascript:;" class="input_remove_elem">x</a>')})}),$(".form-group").on("click","a.input_remove_elem",function(){this.previousSibling.remove(),this.remove()})};/*! version : 4.17.37
 =========================================================
 bootstrap-datetimejs
 https://github.com/Eonasdan/bootstrap-datetimepicker
 Copyright (c) 2015 Jonathan Peterson
 =========================================================
 */
!function(t){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],t);else if("object"==typeof exports)t(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";t(jQuery,moment)}}(function(t,e){"use strict";if(!e)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var n=function(n,i){var r,o,s,a,l,u,c,h={},d=!0,p=!1,f=!1,g=0,m=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],v=["days","months","years","decades"],y=["top","bottom","auto"],_=["left","right","auto"],b=["default","top","bottom"],w={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t","delete":46,46:"delete"},x={},C=function(t){var n,r,o,s,a,l=!1;return void 0!==e.tz&&void 0!==i.timeZone&&null!==i.timeZone&&""!==i.timeZone&&(l=!0),void 0===t||null===t?n=l?e().tz(i.timeZone).startOf("d"):e().startOf("d"):l?(r=e().tz(i.timeZone).utcOffset(),o=e(t,u,i.useStrict).utcOffset(),o!==r?(s=e().tz(i.timeZone).format("Z"),a=e(t,u,i.useStrict).format("YYYY-MM-DD[T]HH:mm:ss")+s,n=e(a,u,i.useStrict).tz(i.timeZone)):n=e(t,u,i.useStrict).tz(i.timeZone)):n=e(t,u,i.useStrict),n},k=function(t){if("string"!=typeof t||t.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(t){case"y":return-1!==l.indexOf("Y");case"M":return-1!==l.indexOf("M");case"d":return-1!==l.toLowerCase().indexOf("d");case"h":case"H":return-1!==l.toLowerCase().indexOf("h");case"m":return-1!==l.indexOf("m");case"s":return-1!==l.indexOf("s");default:return!1}},S=function(){return k("h")||k("m")||k("s")},E=function(){return k("y")||k("M")||k("d")},T=function(){var e=t("<thead>").append(t("<tr>").append(t("<th>").addClass("prev").attr("data-action","previous").append(t("<span>").addClass(i.icons.previous))).append(t("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",i.calendarWeeks?"6":"5")).append(t("<th>").addClass("next").attr("data-action","next").append(t("<span>").addClass(i.icons.next)))),n=t("<tbody>").append(t("<tr>").append(t("<td>").attr("colspan",i.calendarWeeks?"8":"7")));return[t("<div>").addClass("datepicker-days").append(t("<table>").addClass("table-condensed").append(e).append(t("<tbody>"))),t("<div>").addClass("datepicker-months").append(t("<table>").addClass("table-condensed").append(e.clone()).append(n.clone())),t("<div>").addClass("datepicker-years").append(t("<table>").addClass("table-condensed").append(e.clone()).append(n.clone())),t("<div>").addClass("datepicker-decades").append(t("<table>").addClass("table-condensed").append(e.clone()).append(n.clone()))]},D=function(){var e=t("<tr>"),n=t("<tr>"),r=t("<tr>");return k("h")&&(e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(t("<span>").addClass(i.icons.up)))),n.append(t("<td>").append(t("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:i.tooltips.pickHour}).attr("data-action","showHours"))),r.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(t("<span>").addClass(i.icons.down))))),k("m")&&(k("h")&&(e.append(t("<td>").addClass("separator")),n.append(t("<td>").addClass("separator").html(":")),r.append(t("<td>").addClass("separator"))),e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(t("<span>").addClass(i.icons.up)))),n.append(t("<td>").append(t("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:i.tooltips.pickMinute}).attr("data-action","showMinutes"))),r.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(t("<span>").addClass(i.icons.down))))),k("s")&&(k("m")&&(e.append(t("<td>").addClass("separator")),n.append(t("<td>").addClass("separator").html(":")),r.append(t("<td>").addClass("separator"))),e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(t("<span>").addClass(i.icons.up)))),n.append(t("<td>").append(t("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:i.tooltips.pickSecond}).attr("data-action","showSeconds"))),r.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(t("<span>").addClass(i.icons.down))))),a||(e.append(t("<td>").addClass("separator")),n.append(t("<td>").append(t("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:i.tooltips.togglePeriod}))),r.append(t("<td>").addClass("separator"))),t("<div>").addClass("timepicker-picker").append(t("<table>").addClass("table-condensed").append([e,n,r]))},A=function(){var e=t("<div>").addClass("timepicker-hours").append(t("<table>").addClass("table-condensed")),n=t("<div>").addClass("timepicker-minutes").append(t("<table>").addClass("table-condensed")),i=t("<div>").addClass("timepicker-seconds").append(t("<table>").addClass("table-condensed")),r=[D()];return k("h")&&r.push(e),k("m")&&r.push(n),k("s")&&r.push(i),r},P=function(){var e=[];return i.showTodayButton&&e.push(t("<td>").append(t("<a>").attr({"data-action":"today",title:i.tooltips.today}).append(t("<span>").addClass(i.icons.today)))),!i.sideBySide&&E()&&S()&&e.push(t("<td>").append(t("<a>").attr({"data-action":"togglePicker",title:i.tooltips.selectTime}).append(t("<span>").addClass(i.icons.time)))),i.showClear&&e.push(t("<td>").append(t("<a>").attr({"data-action":"clear",title:i.tooltips.clear}).append(t("<span>").addClass(i.icons.clear)))),i.showClose&&e.push(t("<td>").append(t("<a>").attr({"data-action":"close",title:i.tooltips.close}).append(t("<span>").addClass(i.icons.close)))),t("<table>").addClass("table-condensed").append(t("<tbody>").append(t("<tr>").append(e)))},M=function(){var e=t("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),n=t("<div>").addClass("datepicker").append(T()),r=t("<div>").addClass("timepicker").append(A()),o=t("<ul>").addClass("list-unstyled"),s=t("<li>").addClass("picker-switch"+(i.collapse?" accordion-toggle":"")).append(P());return i.inline&&e.removeClass("dropdown-menu"),a&&e.addClass("usetwentyfour"),k("s")&&!a&&e.addClass("wider"),i.sideBySide&&E()&&S()?(e.addClass("timepicker-sbs"),"top"===i.toolbarPlacement&&e.append(s),e.append(t("<div>").addClass("row").append(n.addClass("col-md-6")).append(r.addClass("col-md-6"))),"bottom"===i.toolbarPlacement&&e.append(s),e):("top"===i.toolbarPlacement&&o.append(s),E()&&o.append(t("<li>").addClass(i.collapse&&S()?"collapse in":"").append(n)),"default"===i.toolbarPlacement&&o.append(s),S()&&o.append(t("<li>").addClass(i.collapse&&E()?"collapse":"").append(r)),"bottom"===i.toolbarPlacement&&o.append(s),e.append(o))},O=function(){var e,r={};return e=n.is("input")||i.inline?n.data():n.find("input").data(),e.dateOptions&&e.dateOptions instanceof Object&&(r=t.extend(!0,r,e.dateOptions)),t.each(i,function(t){var n="date"+t.charAt(0).toUpperCase()+t.slice(1);void 0!==e[n]&&(r[t]=e[n])}),r},I=function(){var e,r=(p||n).position(),o=(p||n).offset(),s=i.widgetPositioning.vertical,a=i.widgetPositioning.horizontal;if(i.widgetParent)e=i.widgetParent.append(f);else if(n.is("input"))e=n.after(f).parent();else{if(i.inline)return void(e=n.append(f));e=n,n.children().first().after(f)}if("auto"===s&&(s=o.top+1.5*f.height()>=t(window).height()+t(window).scrollTop()&&f.height()+n.outerHeight()<o.top?"top":"bottom"),"auto"===a&&(a=e.width()<o.left+f.outerWidth()/2&&o.left+f.outerWidth()>t(window).width()?"right":"left"),"top"===s?f.addClass("top").removeClass("bottom"):f.addClass("bottom").removeClass("top"),"right"===a?f.addClass("pull-right"):f.removeClass("pull-right"),"relative"!==e.css("position")&&(e=e.parents().filter(function(){return"relative"===t(this).css("position")}).first()),0===e.length)throw new Error("datetimepicker component should be placed within a relative positioned container");f.css({top:"top"===s?"auto":r.top+n.outerHeight(),bottom:"top"===s?r.top+n.outerHeight():"auto",left:"left"===a?e===n?0:r.left:"auto",right:"left"===a?"auto":e.outerWidth()-n.outerWidth()-(e===n?0:r.left)})},R=function(t){"dp.change"===t.type&&(t.date&&t.date.isSame(t.oldDate)||!t.date&&!t.oldDate)||n.trigger(t)},N=function(t){"y"===t&&(t="YYYY"),R({type:"dp.update",change:t,viewDate:o.clone()})},L=function(t){f&&(t&&(c=Math.max(g,Math.min(3,c+t))),f.find(".datepicker > div").hide().filter(".datepicker-"+m[c].clsName).show())},$=function(){var e=t("<tr>"),n=o.clone().startOf("w").startOf("d");for(i.calendarWeeks===!0&&e.append(t("<th>").addClass("cw").text("#"));n.isBefore(o.clone().endOf("w"));)e.append(t("<th>").addClass("dow").text(n.format("dd"))),n.add(1,"d");f.find(".datepicker-days thead").append(e)},j=function(t){return i.disabledDates[t.format("YYYY-MM-DD")]===!0},F=function(t){return i.enabledDates[t.format("YYYY-MM-DD")]===!0},z=function(t){return i.disabledHours[t.format("H")]===!0},B=function(t){return i.enabledHours[t.format("H")]===!0},H=function(e,n){if(!e.isValid())return!1;if(i.disabledDates&&"d"===n&&j(e))return!1;if(i.enabledDates&&"d"===n&&!F(e))return!1;if(i.minDate&&e.isBefore(i.minDate,n))return!1;if(i.maxDate&&e.isAfter(i.maxDate,n))return!1;if(i.daysOfWeekDisabled&&"d"===n&&-1!==i.daysOfWeekDisabled.indexOf(e.day()))return!1;if(i.disabledHours&&("h"===n||"m"===n||"s"===n)&&z(e))return!1;if(i.enabledHours&&("h"===n||"m"===n||"s"===n)&&!B(e))return!1;if(i.disabledTimeIntervals&&("h"===n||"m"===n||"s"===n)){var r=!1;if(t.each(i.disabledTimeIntervals,function(){return e.isBetween(this[0],this[1])?(r=!0,!1):void 0}),r)return!1}return!0},W=function(){for(var e=[],n=o.clone().startOf("y").startOf("d");n.isSame(o,"y");)e.push(t("<span>").attr("data-action","selectMonth").addClass("month").text(n.format("MMM"))),n.add(1,"M");f.find(".datepicker-months td").empty().append(e)},q=function(){var e=f.find(".datepicker-months"),n=e.find("th"),s=e.find("tbody").find("span");n.eq(0).find("span").attr("title",i.tooltips.prevYear),n.eq(1).attr("title",i.tooltips.selectYear),n.eq(2).find("span").attr("title",i.tooltips.nextYear),e.find(".disabled").removeClass("disabled"),H(o.clone().subtract(1,"y"),"y")||n.eq(0).addClass("disabled"),n.eq(1).text(o.year()),H(o.clone().add(1,"y"),"y")||n.eq(2).addClass("disabled"),s.removeClass("active"),r.isSame(o,"y")&&!d&&s.eq(r.month()).addClass("active"),s.each(function(e){H(o.clone().month(e),"M")||t(this).addClass("disabled")})},Y=function(){var t=f.find(".datepicker-years"),e=t.find("th"),n=o.clone().subtract(5,"y"),s=o.clone().add(6,"y"),a="";for(e.eq(0).find("span").attr("title",i.tooltips.prevDecade),e.eq(1).attr("title",i.tooltips.selectDecade),e.eq(2).find("span").attr("title",i.tooltips.nextDecade),t.find(".disabled").removeClass("disabled"),i.minDate&&i.minDate.isAfter(n,"y")&&e.eq(0).addClass("disabled"),e.eq(1).text(n.year()+"-"+s.year()),i.maxDate&&i.maxDate.isBefore(s,"y")&&e.eq(2).addClass("disabled");!n.isAfter(s,"y");)a+='<span data-action="selectYear" class="year'+(n.isSame(r,"y")&&!d?" active":"")+(H(n,"y")?"":" disabled")+'">'+n.year()+"</span>",n.add(1,"y");t.find("td").html(a)},V=function(){var t=f.find(".datepicker-decades"),n=t.find("th"),s=e({y:o.year()-o.year()%100-1}),a=s.clone().add(100,"y"),l=s.clone(),u="";for(n.eq(0).find("span").attr("title",i.tooltips.prevCentury),n.eq(2).find("span").attr("title",i.tooltips.nextCentury),t.find(".disabled").removeClass("disabled"),(s.isSame(e({y:1900}))||i.minDate&&i.minDate.isAfter(s,"y"))&&n.eq(0).addClass("disabled"),n.eq(1).text(s.year()+"-"+a.year()),(s.isSame(e({y:2e3}))||i.maxDate&&i.maxDate.isBefore(a,"y"))&&n.eq(2).addClass("disabled");!s.isAfter(a,"y");)u+='<span data-action="selectDecade" class="decade'+(s.isSame(r,"y")?" active":"")+(H(s,"y")?"":" disabled")+'" data-selection="'+(s.year()+6)+'">'+(s.year()+1)+" - "+(s.year()+12)+"</span>",s.add(12,"y");u+="<span></span><span></span><span></span>",t.find("td").html(u),n.eq(1).text(l.year()+1+"-"+s.year())},U=function(){var e,n,s,a,l=f.find(".datepicker-days"),u=l.find("th"),c=[];if(E()){for(u.eq(0).find("span").attr("title",i.tooltips.prevMonth),u.eq(1).attr("title",i.tooltips.selectMonth),u.eq(2).find("span").attr("title",i.tooltips.nextMonth),l.find(".disabled").removeClass("disabled"),u.eq(1).text(o.format(i.dayViewHeaderFormat)),H(o.clone().subtract(1,"M"),"M")||u.eq(0).addClass("disabled"),H(o.clone().add(1,"M"),"M")||u.eq(2).addClass("disabled"),e=o.clone().startOf("M").startOf("w").startOf("d"),a=0;42>a;a++)0===e.weekday()&&(n=t("<tr>"),i.calendarWeeks&&n.append('<td class="cw">'+e.week()+"</td>"),c.push(n)),s="",e.isBefore(o,"M")&&(s+=" old"),e.isAfter(o,"M")&&(s+=" new"),e.isSame(r,"d")&&!d&&(s+=" active"),H(e,"d")||(s+=" disabled"),e.isSame(C(),"d")&&(s+=" today"),(0===e.day()||6===e.day())&&(s+=" weekend"),n.append('<td data-action="selectDay" data-day="'+e.format("L")+'" class="day'+s+'">'+e.date()+"</td>"),e.add(1,"d");l.find("tbody").empty().append(c),q(),Y(),V()}},G=function(){var e=f.find(".timepicker-hours table"),n=o.clone().startOf("d"),i=[],r=t("<tr>");for(o.hour()>11&&!a&&n.hour(12);n.isSame(o,"d")&&(a||o.hour()<12&&n.hour()<12||o.hour()>11);)n.hour()%4===0&&(r=t("<tr>"),i.push(r)),r.append('<td data-action="selectHour" class="hour'+(H(n,"h")?"":" disabled")+'">'+n.format(a?"HH":"hh")+"</td>"),n.add(1,"h");e.empty().append(i)},X=function(){for(var e=f.find(".timepicker-minutes table"),n=o.clone().startOf("h"),r=[],s=t("<tr>"),a=1===i.stepping?5:i.stepping;o.isSame(n,"h");)n.minute()%(4*a)===0&&(s=t("<tr>"),r.push(s)),s.append('<td data-action="selectMinute" class="minute'+(H(n,"m")?"":" disabled")+'">'+n.format("mm")+"</td>"),n.add(a,"m");e.empty().append(r)},K=function(){for(var e=f.find(".timepicker-seconds table"),n=o.clone().startOf("m"),i=[],r=t("<tr>");o.isSame(n,"m");)n.second()%20===0&&(r=t("<tr>"),i.push(r)),r.append('<td data-action="selectSecond" class="second'+(H(n,"s")?"":" disabled")+'">'+n.format("ss")+"</td>"),n.add(5,"s");e.empty().append(i)},Z=function(){var t,e,n=f.find(".timepicker span[data-time-component]");a||(t=f.find(".timepicker [data-action=togglePeriod]"),e=r.clone().add(r.hours()>=12?-12:12,"h"),t.text(r.format("A")),H(e,"h")?t.removeClass("disabled"):t.addClass("disabled")),n.filter("[data-time-component=hours]").text(r.format(a?"HH":"hh")),n.filter("[data-time-component=minutes]").text(r.format("mm")),n.filter("[data-time-component=seconds]").text(r.format("ss")),G(),X(),K()},Q=function(){f&&(U(),Z())},J=function(t){var e=d?null:r;return t?(t=t.clone().locale(i.locale),1!==i.stepping&&t.minutes(Math.round(t.minutes()/i.stepping)*i.stepping%60).seconds(0),void(H(t)?(r=t,o=r.clone(),s.val(r.format(l)),n.data("date",r.format(l)),d=!1,Q(),R({type:"dp.change",date:r.clone(),oldDate:e})):(i.keepInvalid||s.val(d?"":r.format(l)),R({type:"dp.error",date:t})))):(d=!0,s.val(""),n.data("date",""),R({type:"dp.change",date:!1,oldDate:e}),void Q())},tt=function(){var e=!1;return f?(f.find(".collapse").each(function(){var n=t(this).data("collapse");return n&&n.transitioning?(e=!0,!1):!0}),e?h:(p&&p.hasClass("btn")&&p.toggleClass("active"),f.hide(),t(window).off("resize",I),f.off("click","[data-action]"),f.off("mousedown",!1),f.remove(),f=!1,R({type:"dp.hide",date:r.clone()}),s.blur(),h)):h},et=function(){J(null)},nt={next:function(){var t=m[c].navFnc;o.add(m[c].navStep,t),U(),N(t)},previous:function(){var t=m[c].navFnc;o.subtract(m[c].navStep,t),U(),N(t)},pickerSwitch:function(){L(1)},selectMonth:function(e){var n=t(e.target).closest("tbody").find("span").index(t(e.target));o.month(n),c===g?(J(r.clone().year(o.year()).month(o.month())),i.inline||tt()):(L(-1),U()),N("M")},selectYear:function(e){var n=parseInt(t(e.target).text(),10)||0;o.year(n),c===g?(J(r.clone().year(o.year())),i.inline||tt()):(L(-1),U()),N("YYYY")},selectDecade:function(e){var n=parseInt(t(e.target).data("selection"),10)||0;o.year(n),c===g?(J(r.clone().year(o.year())),i.inline||tt()):(L(-1),U()),N("YYYY")},selectDay:function(e){var n=o.clone();t(e.target).is(".old")&&n.subtract(1,"M"),t(e.target).is(".new")&&n.add(1,"M"),J(n.date(parseInt(t(e.target).text(),10))),S()||i.keepOpen||i.inline||tt()},incrementHours:function(){var t=r.clone().add(1,"h");H(t,"h")&&J(t)},incrementMinutes:function(){var t=r.clone().add(i.stepping,"m");H(t,"m")&&J(t)},incrementSeconds:function(){var t=r.clone().add(1,"s");H(t,"s")&&J(t)},decrementHours:function(){var t=r.clone().subtract(1,"h");H(t,"h")&&J(t)},decrementMinutes:function(){var t=r.clone().subtract(i.stepping,"m");H(t,"m")&&J(t)},decrementSeconds:function(){var t=r.clone().subtract(1,"s");H(t,"s")&&J(t)},togglePeriod:function(){J(r.clone().add(r.hours()>=12?-12:12,"h"))},togglePicker:function(e){var n,r=t(e.target),o=r.closest("ul"),s=o.find(".in"),a=o.find(".collapse:not(.in)");if(s&&s.length){if(n=s.data("collapse"),n&&n.transitioning)return;s.collapse?(s.collapse("hide"),a.collapse("show")):(s.removeClass("in"),a.addClass("in")),r.is("span")?r.toggleClass(i.icons.time+" "+i.icons.date):r.find("span").toggleClass(i.icons.time+" "+i.icons.date)}},showPicker:function(){f.find(".timepicker > div:not(.timepicker-picker)").hide(),f.find(".timepicker .timepicker-picker").show()},showHours:function(){f.find(".timepicker .timepicker-picker").hide(),f.find(".timepicker .timepicker-hours").show()},showMinutes:function(){f.find(".timepicker .timepicker-picker").hide(),f.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){f.find(".timepicker .timepicker-picker").hide(),f.find(".timepicker .timepicker-seconds").show()},selectHour:function(e){var n=parseInt(t(e.target).text(),10);a||(r.hours()>=12?12!==n&&(n+=12):12===n&&(n=0)),J(r.clone().hours(n)),nt.showPicker.call(h)},selectMinute:function(e){J(r.clone().minutes(parseInt(t(e.target).text(),10))),nt.showPicker.call(h)},selectSecond:function(e){J(r.clone().seconds(parseInt(t(e.target).text(),10))),nt.showPicker.call(h)},clear:et,today:function(){var t=C();H(t,"d")&&J(t)},close:tt},it=function(e){return t(e.currentTarget).is(".disabled")?!1:(nt[t(e.currentTarget).data("action")].apply(h,arguments),!1)},rt=function(){var e,n={year:function(t){return t.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(t){return t.date(1).hours(0).seconds(0).minutes(0)},day:function(t){return t.hours(0).seconds(0).minutes(0)},hour:function(t){return t.seconds(0).minutes(0)},minute:function(t){return t.seconds(0)}};return s.prop("disabled")||!i.ignoreReadonly&&s.prop("readonly")||f?h:(void 0!==s.val()&&0!==s.val().trim().length?J(st(s.val().trim())):i.useCurrent&&d&&(s.is("input")&&0===s.val().trim().length||i.inline)&&(e=C(),"string"==typeof i.useCurrent&&(e=n[i.useCurrent](e)),J(e)),f=M(),$(),W(),f.find(".timepicker-hours").hide(),f.find(".timepicker-minutes").hide(),f.find(".timepicker-seconds").hide(),Q(),L(),t(window).on("resize",I),f.on("click","[data-action]",it),f.on("mousedown",!1),p&&p.hasClass("btn")&&p.toggleClass("active"),f.show(),I(),i.focusOnShow&&!s.is(":focus")&&s.focus(),R({type:"dp.show"}),h)},ot=function(){return f?tt():rt()},st=function(t){return t=void 0===i.parseInputDate?e.isMoment(t)||t instanceof Date?e(t):C(t):i.parseInputDate(t),t.locale(i.locale),t},at=function(t){var e,n,r,o,s=null,a=[],l={},u=t.which,c="p";x[u]=c;for(e in x)x.hasOwnProperty(e)&&x[e]===c&&(a.push(e),parseInt(e,10)!==u&&(l[e]=!0));for(e in i.keyBinds)if(i.keyBinds.hasOwnProperty(e)&&"function"==typeof i.keyBinds[e]&&(r=e.split(" "),r.length===a.length&&w[u]===r[r.length-1])){for(o=!0,n=r.length-2;n>=0;n--)if(!(w[r[n]]in l)){o=!1;break}if(o){s=i.keyBinds[e];break}}s&&(s.call(h,f),t.stopPropagation(),t.preventDefault())},lt=function(t){x[t.which]="r",t.stopPropagation(),t.preventDefault()},ut=function(e){var n=t(e.target).val().trim(),i=n?st(n):null;return J(i),e.stopImmediatePropagation(),!1},ct=function(){s.on({change:ut,blur:i.debug?"":tt,keydown:at,keyup:lt,focus:i.allowInputToggle?rt:""}),n.is("input")?s.on({focus:rt}):p&&(p.on("click",ot),p.on("mousedown",!1))},ht=function(){s.off({change:ut,blur:blur,keydown:at,keyup:lt,focus:i.allowInputToggle?tt:""}),n.is("input")?s.off({focus:rt}):p&&(p.off("click",ot),p.off("mousedown",!1))},dt=function(e){var n={};return t.each(e,function(){var t=st(this);t.isValid()&&(n[t.format("YYYY-MM-DD")]=!0)}),Object.keys(n).length?n:!1},pt=function(e){var n={};return t.each(e,function(){n[this]=!0}),Object.keys(n).length?n:!1},ft=function(){var t=i.format||"L LT";l=t.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(t){var e=r.localeData().longDateFormat(t)||t;return e.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(t){return r.localeData().longDateFormat(t)||t})}),u=i.extraFormats?i.extraFormats.slice():[],u.indexOf(t)<0&&u.indexOf(l)<0&&u.push(l),a=l.toLowerCase().indexOf("a")<1&&l.replace(/\[.*?\]/g,"").indexOf("h")<1,k("y")&&(g=2),k("M")&&(g=1),k("d")&&(g=0),c=Math.max(g,c),d||J(r)};if(h.destroy=function(){tt(),ht(),n.removeData("DateTimePicker"),n.removeData("date")},h.toggle=ot,h.show=rt,h.hide=tt,h.disable=function(){return tt(),p&&p.hasClass("btn")&&p.addClass("disabled"),s.prop("disabled",!0),h},h.enable=function(){return p&&p.hasClass("btn")&&p.removeClass("disabled"),s.prop("disabled",!1),h},h.ignoreReadonly=function(t){if(0===arguments.length)return i.ignoreReadonly;if("boolean"!=typeof t)throw new TypeError("ignoreReadonly () expects a boolean parameter");return i.ignoreReadonly=t,h},h.options=function(e){if(0===arguments.length)return t.extend(!0,{},i);if(!(e instanceof Object))throw new TypeError("options() options parameter should be an object");return t.extend(!0,i,e),t.each(i,function(t,e){if(void 0===h[t])throw new TypeError("option "+t+" is not recognized!");h[t](e)}),h},h.date=function(t){if(0===arguments.length)return d?null:r.clone();if(!(null===t||"string"==typeof t||e.isMoment(t)||t instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return J(null===t?null:st(t)),h},h.format=function(t){if(0===arguments.length)return i.format;if("string"!=typeof t&&("boolean"!=typeof t||t!==!1))throw new TypeError("format() expects a sting or boolean:false parameter "+t);return i.format=t,l&&ft(),h},h.timeZone=function(t){return 0===arguments.length?i.timeZone:(i.timeZone=t,h)},h.dayViewHeaderFormat=function(t){if(0===arguments.length)return i.dayViewHeaderFormat;if("string"!=typeof t)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return i.dayViewHeaderFormat=t,h},h.extraFormats=function(t){if(0===arguments.length)return i.extraFormats;if(t!==!1&&!(t instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return i.extraFormats=t,u&&ft(),h},h.disabledDates=function(e){if(0===arguments.length)return i.disabledDates?t.extend({},i.disabledDates):i.disabledDates;if(!e)return i.disabledDates=!1,Q(),h;if(!(e instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return i.disabledDates=dt(e),i.enabledDates=!1,Q(),h},h.enabledDates=function(e){if(0===arguments.length)return i.enabledDates?t.extend({},i.enabledDates):i.enabledDates;if(!e)return i.enabledDates=!1,Q(),h;if(!(e instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return i.enabledDates=dt(e),i.disabledDates=!1,Q(),h},h.daysOfWeekDisabled=function(t){if(0===arguments.length)return i.daysOfWeekDisabled.splice(0);if("boolean"==typeof t&&!t)return i.daysOfWeekDisabled=!1,Q(),h;if(!(t instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(i.daysOfWeekDisabled=t.reduce(function(t,e){return e=parseInt(e,10),e>6||0>e||isNaN(e)?t:(-1===t.indexOf(e)&&t.push(e),t)},[]).sort(),i.useCurrent&&!i.keepInvalid){for(var e=0;!H(r,"d");){if(r.add(1,"d"),7===e)throw"Tried 7 times to find a valid date";e++}J(r)}return Q(),h},h.maxDate=function(t){if(0===arguments.length)return i.maxDate?i.maxDate.clone():i.maxDate;if("boolean"==typeof t&&t===!1)return i.maxDate=!1,Q(),h;"string"==typeof t&&("now"===t||"moment"===t)&&(t=C());var e=st(t);if(!e.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+t);if(i.minDate&&e.isBefore(i.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+e.format(l));return i.maxDate=e,i.useCurrent&&!i.keepInvalid&&r.isAfter(t)&&J(i.maxDate),o.isAfter(e)&&(o=e.clone().subtract(i.stepping,"m")),Q(),h},h.minDate=function(t){if(0===arguments.length)return i.minDate?i.minDate.clone():i.minDate;if("boolean"==typeof t&&t===!1)return i.minDate=!1,Q(),h;"string"==typeof t&&("now"===t||"moment"===t)&&(t=C());var e=st(t);if(!e.isValid())throw new TypeError("minDate() Could not parse date parameter: "+t);if(i.maxDate&&e.isAfter(i.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+e.format(l));return i.minDate=e,i.useCurrent&&!i.keepInvalid&&r.isBefore(t)&&J(i.minDate),o.isBefore(e)&&(o=e.clone().add(i.stepping,"m")),Q(),h},h.defaultDate=function(t){if(0===arguments.length)return i.defaultDate?i.defaultDate.clone():i.defaultDate;if(!t)return i.defaultDate=!1,h;"string"==typeof t&&("now"===t||"moment"===t)&&(t=C());var e=st(t);if(!e.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+t);if(!H(e))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return i.defaultDate=e,(i.defaultDate&&i.inline||""===s.val().trim())&&J(i.defaultDate),h},h.locale=function(t){if(0===arguments.length)return i.locale;if(!e.localeData(t))throw new TypeError("locale() locale "+t+" is not loaded from moment locales!");return i.locale=t,r.locale(i.locale),o.locale(i.locale),l&&ft(),f&&(tt(),rt()),h},h.stepping=function(t){return 0===arguments.length?i.stepping:(t=parseInt(t,10),(isNaN(t)||1>t)&&(t=1),i.stepping=t,h)},h.useCurrent=function(t){var e=["year","month","day","hour","minute"];if(0===arguments.length)return i.useCurrent;if("boolean"!=typeof t&&"string"!=typeof t)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof t&&-1===e.indexOf(t.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+e.join(", "));return i.useCurrent=t,h},h.collapse=function(t){if(0===arguments.length)return i.collapse;if("boolean"!=typeof t)throw new TypeError("collapse() expects a boolean parameter");return i.collapse===t?h:(i.collapse=t,f&&(tt(),rt()),h)},h.icons=function(e){if(0===arguments.length)return t.extend({},i.icons);if(!(e instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return t.extend(i.icons,e),f&&(tt(),rt()),h},h.tooltips=function(e){if(0===arguments.length)return t.extend({},i.tooltips);if(!(e instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return t.extend(i.tooltips,e),f&&(tt(),rt()),h},h.useStrict=function(t){if(0===arguments.length)return i.useStrict;if("boolean"!=typeof t)throw new TypeError("useStrict() expects a boolean parameter");return i.useStrict=t,h},h.sideBySide=function(t){if(0===arguments.length)return i.sideBySide;if("boolean"!=typeof t)throw new TypeError("sideBySide() expects a boolean parameter");return i.sideBySide=t,f&&(tt(),rt()),h},h.viewMode=function(t){if(0===arguments.length)return i.viewMode;if("string"!=typeof t)throw new TypeError("viewMode() expects a string parameter");if(-1===v.indexOf(t))throw new TypeError("viewMode() parameter must be one of ("+v.join(", ")+") value");return i.viewMode=t,c=Math.max(v.indexOf(t),g),L(),h},h.toolbarPlacement=function(t){if(0===arguments.length)return i.toolbarPlacement;if("string"!=typeof t)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===b.indexOf(t))throw new TypeError("toolbarPlacement() parameter must be one of ("+b.join(", ")+") value");return i.toolbarPlacement=t,f&&(tt(),rt()),h},h.widgetPositioning=function(e){if(0===arguments.length)return t.extend({},i.widgetPositioning);if("[object Object]"!=={}.toString.call(e))throw new TypeError("widgetPositioning() expects an object variable");if(e.horizontal){if("string"!=typeof e.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(e.horizontal=e.horizontal.toLowerCase(),-1===_.indexOf(e.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+_.join(", ")+")");i.widgetPositioning.horizontal=e.horizontal}if(e.vertical){if("string"!=typeof e.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(e.vertical=e.vertical.toLowerCase(),-1===y.indexOf(e.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+y.join(", ")+")");i.widgetPositioning.vertical=e.vertical}return Q(),h},h.calendarWeeks=function(t){if(0===arguments.length)return i.calendarWeeks;if("boolean"!=typeof t)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return i.calendarWeeks=t,Q(),h},h.showTodayButton=function(t){if(0===arguments.length)return i.showTodayButton;if("boolean"!=typeof t)throw new TypeError("showTodayButton() expects a boolean parameter");return i.showTodayButton=t,f&&(tt(),rt()),h},h.showClear=function(t){if(0===arguments.length)return i.showClear;if("boolean"!=typeof t)throw new TypeError("showClear() expects a boolean parameter");return i.showClear=t,f&&(tt(),rt()),h},h.widgetParent=function(e){if(0===arguments.length)return i.widgetParent;if("string"==typeof e&&(e=t(e)),null!==e&&"string"!=typeof e&&!(e instanceof t))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return i.widgetParent=e,f&&(tt(),rt()),h},h.keepOpen=function(t){if(0===arguments.length)return i.keepOpen;if("boolean"!=typeof t)throw new TypeError("keepOpen() expects a boolean parameter");return i.keepOpen=t,h},h.focusOnShow=function(t){if(0===arguments.length)return i.focusOnShow;if("boolean"!=typeof t)throw new TypeError("focusOnShow() expects a boolean parameter");return i.focusOnShow=t,h},h.inline=function(t){if(0===arguments.length)return i.inline;if("boolean"!=typeof t)throw new TypeError("inline() expects a boolean parameter");return i.inline=t,h},h.clear=function(){return et(),h},h.keyBinds=function(t){return i.keyBinds=t,h},h.getMoment=function(t){return C(t)},h.debug=function(t){if("boolean"!=typeof t)throw new TypeError("debug() expects a boolean parameter");return i.debug=t,h},h.allowInputToggle=function(t){if(0===arguments.length)return i.allowInputToggle;if("boolean"!=typeof t)throw new TypeError("allowInputToggle() expects a boolean parameter");return i.allowInputToggle=t,h},h.showClose=function(t){if(0===arguments.length)return i.showClose;if("boolean"!=typeof t)throw new TypeError("showClose() expects a boolean parameter");return i.showClose=t,h},h.keepInvalid=function(t){if(0===arguments.length)return i.keepInvalid;if("boolean"!=typeof t)throw new TypeError("keepInvalid() expects a boolean parameter");return i.keepInvalid=t,h},h.datepickerInput=function(t){if(0===arguments.length)return i.datepickerInput;if("string"!=typeof t)throw new TypeError("datepickerInput() expects a string parameter");return i.datepickerInput=t,h},h.parseInputDate=function(t){if(0===arguments.length)return i.parseInputDate;if("function"!=typeof t)throw new TypeError("parseInputDate() sholud be as function");return i.parseInputDate=t,h},h.disabledTimeIntervals=function(e){if(0===arguments.length)return i.disabledTimeIntervals?t.extend({},i.disabledTimeIntervals):i.disabledTimeIntervals;if(!e)return i.disabledTimeIntervals=!1,Q(),h;if(!(e instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return i.disabledTimeIntervals=e,Q(),h},h.disabledHours=function(e){if(0===arguments.length)return i.disabledHours?t.extend({},i.disabledHours):i.disabledHours;if(!e)return i.disabledHours=!1,Q(),h;if(!(e instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(i.disabledHours=pt(e),i.enabledHours=!1,i.useCurrent&&!i.keepInvalid){
for(var n=0;!H(r,"h");){if(r.add(1,"h"),24===n)throw"Tried 24 times to find a valid date";n++}J(r)}return Q(),h},h.enabledHours=function(e){if(0===arguments.length)return i.enabledHours?t.extend({},i.enabledHours):i.enabledHours;if(!e)return i.enabledHours=!1,Q(),h;if(!(e instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(i.enabledHours=pt(e),i.disabledHours=!1,i.useCurrent&&!i.keepInvalid){for(var n=0;!H(r,"h");){if(r.add(1,"h"),24===n)throw"Tried 24 times to find a valid date";n++}J(r)}return Q(),h},h.viewDate=function(t){if(0===arguments.length)return o.clone();if(!t)return o=r.clone(),h;if(!("string"==typeof t||e.isMoment(t)||t instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return o=st(t),N(),h},n.is("input"))s=n;else if(s=n.find(i.datepickerInput),0===s.size())s=n.find("input");else if(!s.is("input"))throw new Error('CSS class "'+i.datepickerInput+'" cannot be applied to non input element');if(n.hasClass("input-group")&&(p=0===n.find(".datepickerbutton").size()?n.find(".input-group-addon"):n.find(".datepickerbutton")),!i.inline&&!s.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return r=C(),o=r.clone(),t.extend(!0,i,O()),h.options(i),ft(),ct(),s.prop("disabled")&&h.disable(),s.is("input")&&0!==s.val().trim().length?J(st(s.val().trim())):i.defaultDate&&void 0===s.attr("placeholder")&&J(i.defaultDate),i.inline&&rt(),h};t.fn.datetimepicker=function(e){return this.each(function(){var i=t(this);i.data("DateTimePicker")||(e=t.extend(!0,{},t.fn.datetimepicker.defaults,e),i.data("DateTimePicker",n(i,e)))})},t.fn.datetimepicker.defaults={timeZone:"Etc/UTC",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:e.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().subtract(7,"d")):this.date(e.clone().add(this.stepping(),"m"))}},down:function(t){if(!t)return void this.show();var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().add(7,"d")):this.date(e.clone().subtract(this.stepping(),"m"))},"control up":function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().subtract(1,"y")):this.date(e.clone().add(1,"h"))}},"control down":function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().add(1,"y")):this.date(e.clone().subtract(1,"h"))}},left:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().subtract(1,"d"))}},right:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().add(1,"d"))}},pageUp:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().subtract(1,"M"))}},pageDown:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(t){t.find(".timepicker").is(":visible")&&t.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},"delete":function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1}});var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),SimpleFormDatePicker=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];_classCallCheck(this,t),this.DEFAULTS={excludeDateAttr:"data-date-without",includeDateAttr:"data-date-with",minDateAttr:"data-date-min",maxDateAttr:"data-date-max",noWeekends:"data-date-no-weekends"},this.opts=_.merge(this.DEFAULTS,e),$.fn.datetimepicker&&(this._setDefaults(),this._bindAll(),$(document).on("nested:fieldAdded",this._bindAll.bind(this)),$(document).on("cocoon:after-insert",this._bindAll.bind(this)))}return _createClass(t,[{key:"_bindAll",value:function(){this._bindDateTimePicker("input.datetimepicker"),this._bindDatePicker("input.datepicker")}},{key:"_setDefaults",value:function(){_.merge($.fn.datetimepicker.defaults,{icons:{time:"icon-clock-3",date:"icon-calendar-1",up:"icon-arrow-9",down:"icon-arrow-10",previous:"icon-arrow-7",next:"icon-arrow-8",today:"icon-target",clear:"icon-bin-2"},useStrict:!1,sideBySide:!1})}},{key:"_bindDateTimePicker",value:function(t){var e=this;$(t).each(function(t,n){$(n).datetimepicker(e._computeOptions(n))})}},{key:"_bindDatePicker",value:function(t){var e=this;$(t).each(function(t,n){$(n).datetimepicker(e._computeOptions(n))})}},{key:"_computeOptions",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if($(t).attr(this.opts.excludeDateAttr)){var n=$.parseJSON($(t).attr(this.opts.excludeDateAttr));e.disabledDates=_.map(n,function(t){return moment(t)})}if($(t).attr(this.opts.includeDateAttr)){var i=$.parseJSON($(t).attr(this.opts.includeDateAttr));e.enabledDates=_.map(i,function(t){return moment(t)})}return $(t).attr(this.opts.minDateAttr)&&(e.minDate=moment($(t).attr(this.opts.minDateAttr))),$(t).attr(this.opts.maxDateAttr)&&(e.maxDate=moment($(t).attr(this.opts.maxDateAttr))),void 0!=$(t).attr(this.opts.noWeekends)&&(e.daysOfWeekDisabled=[0,6]),e}}]),t}();(function(){var t,e,n,i,r,o={}.hasOwnProperty,s=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};i=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,n,i,r,o,s;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:this.escapeExpression(t.label),title:t.title?t.title:void 0,children:0,disabled:t.disabled,classes:t.className}),o=t.childNodes,s=[],i=0,r=o.length;r>i;i++)n=o[i],s.push(this.add_option(n,e,t.disabled));return s},t.prototype.add_option=function(t,e,n){return"OPTION"===t.nodeName.toUpperCase()?(""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,title:t.title?t.title:void 0,selected:t.selected,disabled:n===!0?n:t.disabled,group_array_index:e,group_label:null!=e?this.parsed[e].label:null,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},t.prototype.escapeExpression=function(t){var e,n;return null==t||t===!1?"":/[\&\<\>\"\'\`]/.test(t)?(e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n=/&(?!\w+;)|[\<\>\"\'\`]/g,t.replace(n,function(t){return e[t]||"&amp;"})):t},t}(),i.select_to_array=function(t){var e,n,r,o,s;for(n=new i,s=t.childNodes,r=0,o=s.length;o>r;r++)e=s[r],n.add_node(e);return n.parsed},e=function(){function t(e,n){this.form_field=e,this.options=null!=n?n:{},t.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return t.prototype.set_default_values=function(){var t=this;return this.click_test_action=function(e){return t.test_active_click(e)},this.activate_action=function(e){return t.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY},t.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||t.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||t.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||t.default_no_result_text},t.prototype.choice_label=function(t){return this.include_group_label_in_selected&&null!=t.group_label?"<b class='group-name'>"+t.group_label+"</b>"+t.html:t.html},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(t){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},t.prototype.input_blur=function(t){var e=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return e.blur_test()},100))},t.prototype.results_option_build=function(t){var e,n,i,r,o,s,a;for(e="",r=0,a=this.results_data,o=0,s=a.length;s>o&&(n=a[o],i="",i=n.group?this.result_add_group(n):this.result_add_option(n),""!==i&&(r++,e+=i),(null!=t?t.first:void 0)&&(n.selected&&this.is_multiple?this.choice_build(n):n.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(n))),!(r>=this.max_shown_results));o++);return e},t.prototype.result_add_option=function(t){var e,n;return t.search_match&&this.include_option_in_results(t)?(e=[],t.disabled||t.selected&&this.is_multiple||e.push("active-result"),!t.disabled||t.selected&&this.is_multiple||e.push("disabled-result"),t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),n=document.createElement("li"),n.className=e.join(" "),n.style.cssText=t.style,n.setAttribute("data-option-array-index",t.array_index),n.innerHTML=t.search_text,t.title&&(n.title=t.title),this.outerHTML(n)):""},t.prototype.result_add_group=function(t){var e,n;return(t.search_match||t.group_match)&&t.active_options>0?(e=[],e.push("group-result"),t.classes&&e.push(t.classes),n=document.createElement("li"),n.className=e.join(" "),n.innerHTML=t.search_text,t.title&&(n.title=t.title),this.outerHTML(n)):""},t.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},t.prototype.reset_single_select_options=function(){var t,e,n,i,r;for(i=this.results_data,r=[],e=0,n=i.length;n>e;e++)t=i[e],t.selected?r.push(t.selected=!1):r.push(void 0);return r},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(t){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.winnow_results=function(){var t,e,n,i,r,o,s,a,l,u,c,h;for(this.no_results_clear(),i=0,o=this.get_search_text(),t=o.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),l=new RegExp(t,"i"),n=this.get_search_regex(t),h=this.results_data,u=0,c=h.length;c>u;u++)e=h[u],e.search_match=!1,r=null,this.include_option_in_results(e)&&(e.group&&(e.group_match=!1,e.active_options=0),null!=e.group_array_index&&this.results_data[e.group_array_index]&&(r=this.results_data[e.group_array_index],0===r.active_options&&r.search_match&&(i+=1),r.active_options+=1),e.search_text=e.group?e.label:e.html,(!e.group||this.group_search)&&(e.search_match=this.search_string_match(e.search_text,n),e.search_match&&!e.group&&(i+=1),e.search_match?(o.length&&(s=e.search_text.search(l),a=e.search_text.substr(0,s+o.length)+"</em>"+e.search_text.substr(s+o.length),e.search_text=a.substr(0,s)+"<em>"+a.substr(s)),null!=r&&(r.group_match=!0)):null!=e.group_array_index&&this.results_data[e.group_array_index].search_match&&(e.search_match=!0)));return this.result_clear_highlight(),1>i&&o.length?(this.update_results_content(""),this.no_results(o)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},t.prototype.get_search_regex=function(t){var e;return e=this.search_contains?"":"^",new RegExp(e+t,"i")},t.prototype.search_string_match=function(t,e){var n,i,r,o;if(e.test(t))return!0;if(this.enable_split_word_search&&(t.indexOf(" ")>=0||0===t.indexOf("["))&&(i=t.replace(/\[|\]/g,"").split(" "),i.length))for(r=0,o=i.length;o>r;r++)if(n=i[r],e.test(n))return!0},t.prototype.choices_count=function(){var t,e,n,i;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,i=this.form_field.options,e=0,n=i.length;n>e;e++)t=i[e],t.selected&&(this.selected_option_count+=1);return this.selected_option_count},t.prototype.choices_click=function(t){return t.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},t.prototype.keyup_checker=function(t){var e,n;switch(e=null!=(n=t.which)?n:t.keyCode,this.search_field_scale(),e){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(t.preventDefault(),this.results_showing)return this.result_select(t);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:case 18:break;default:return this.results_search()}},t.prototype.clipboard_event_checker=function(t){var e=this;return setTimeout(function(){return e.results_search()},50)},t.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},t.prototype.include_option_in_results=function(t){return this.is_multiple&&!this.display_selected_options&&t.selected?!1:!this.display_disabled_options&&t.disabled?!1:t.empty?!1:!0},t.prototype.search_results_touchstart=function(t){return this.touch_started=!0,this.search_results_mouseover(t)},t.prototype.search_results_touchmove=function(t){return this.touch_started=!1,this.search_results_mouseout(t)},t.prototype.search_results_touchend=function(t){return this.touch_started?this.search_results_mouseup(t):void 0},t.prototype.outerHTML=function(t){var e;return t.outerHTML?t.outerHTML:(e=document.createElement("div"),e.appendChild(t),e.innerHTML)},t.browser_is_supported=function(){return/iP(od|hone)/i.test(window.navigator.userAgent)?!1:/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?!1:/IEMobile/i.test(window.navigator.userAgent)?!1:/Windows Phone/i.test(window.navigator.userAgent)?!1:/BlackBerry/i.test(window.navigator.userAgent)?!1:/BB10/i.test(window.navigator.userAgent)?!1:"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:!0},t.default_multiple_text="Select Some Options",t.default_single_text="Select an Option",t.default_no_result_text="No results match",t}(),t=jQuery,t.fn.extend({chosen:function(i){return e.browser_is_supported()?this.each(function(e){var r,o;return r=t(this),o=r.data("chosen"),"destroy"===i?void(o instanceof n&&o.destroy()):void(o instanceof n||r.data("chosen",new n(this,i)))}):this}}),n=function(e){function n(){return r=n.__super__.constructor.apply(this,arguments)}return s(n,e),n.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},n.prototype.set_up_html=function(){var e,n;return e=["chosen-container"],e.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl"),n={"class":e.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(n.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=t("<div />",n),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},n.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},n.prototype.register_observers=function(){var t=this;return this.container.bind("touchstart.chosen",function(e){return t.container_mousedown(e),e.preventDefault()}),this.container.bind("touchend.chosen",function(e){return t.container_mouseup(e),e.preventDefault()}),this.container.bind("mousedown.chosen",function(e){t.container_mousedown(e)}),this.container.bind("mouseup.chosen",function(e){t.container_mouseup(e)}),this.container.bind("mouseenter.chosen",function(e){t.mouse_enter(e)}),this.container.bind("mouseleave.chosen",function(e){t.mouse_leave(e)}),this.search_results.bind("mouseup.chosen",function(e){t.search_results_mouseup(e)}),this.search_results.bind("mouseover.chosen",function(e){t.search_results_mouseover(e)}),this.search_results.bind("mouseout.chosen",function(e){t.search_results_mouseout(e)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(e){t.search_results_mousewheel(e)}),this.search_results.bind("touchstart.chosen",function(e){t.search_results_touchstart(e)}),this.search_results.bind("touchmove.chosen",function(e){t.search_results_touchmove(e)}),this.search_results.bind("touchend.chosen",function(e){t.search_results_touchend(e)}),this.form_field_jq.bind("chosen:updated.chosen",function(e){t.results_update_field(e)}),this.form_field_jq.bind("chosen:activate.chosen",function(e){t.activate_field(e)}),this.form_field_jq.bind("chosen:open.chosen",function(e){t.container_mousedown(e)}),this.form_field_jq.bind("chosen:close.chosen",function(e){t.input_blur(e)}),this.search_field.bind("blur.chosen",function(e){t.input_blur(e)}),this.search_field.bind("keyup.chosen",function(e){t.keyup_checker(e)}),this.search_field.bind("keydown.chosen",function(e){t.keydown_checker(e)}),this.search_field.bind("focus.chosen",function(e){t.input_focus(e)}),this.search_field.bind("cut.chosen",function(e){t.clipboard_event_checker(e)}),this.search_field.bind("paste.chosen",function(e){t.clipboard_event_checker(e)}),this.is_multiple?this.search_choices.bind("click.chosen",function(e){t.choices_click(e)}):this.container.bind("click.chosen",function(t){t.preventDefault()})},n.prototype.destroy=function(){return t(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},n.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},n.prototype.container_mousedown=function(e){return this.is_disabled||(e&&"mousedown"===e.type&&!this.results_showing&&e.preventDefault(),null!=e&&t(e.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!e||t(e.target)[0]!==this.selected_item[0]&&!t(e.target).parents("a.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},n.prototype.container_mouseup=function(t){return"ABBR"!==t.target.nodeName||this.is_disabled?void 0:this.results_reset(t)},n.prototype.search_results_mousewheel=function(t){var e;return t.originalEvent&&(e=t.originalEvent.deltaY||-t.originalEvent.wheelDelta||t.originalEvent.detail),null!=e?(t.preventDefault(),"DOMMouseScroll"===t.type&&(e=40*e),this.search_results.scrollTop(e+this.search_results.scrollTop())):void 0},n.prototype.blur_test=function(t){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},n.prototype.close_field=function(){return t(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},n.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},n.prototype.test_active_click=function(e){var n;return n=t(e.target).closest(".chosen-container"),n.length&&this.container[0]===n[0]?this.active_field=!0:this.close_field()},n.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=i.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},n.prototype.result_do_highlight=function(t){var e,n,i,r,o;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),i=parseInt(this.search_results.css("maxHeight"),10),o=this.search_results.scrollTop(),r=i+o,n=this.result_highlight.position().top+this.search_results.scrollTop(),e=n+this.result_highlight.outerHeight(),e>=r)return this.search_results.scrollTop(e-i>0?e-i:0);if(o>n)return this.search_results.scrollTop(n)}},n.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},n.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},n.prototype.update_results_content=function(t){return this.search_results.html(t)},n.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},n.prototype.set_tab_index=function(t){var e;return this.form_field.tabIndex?(e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e):void 0},n.prototype.set_label_behavior=function(){var e=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=t("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(t){return e.is_multiple?e.container_mousedown(t):e.activate_field()}):void 0},n.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},n.prototype.search_results_mouseup=function(e){var n;return n=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),n.length?(this.result_highlight=n,this.result_select(e),this.search_field.focus()):void 0},n.prototype.search_results_mouseover=function(e){var n;return n=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),n?this.result_do_highlight(n):void 0},n.prototype.search_results_mouseout=function(e){return t(e.target).hasClass("active-result")?this.result_clear_highlight():void 0},n.prototype.choice_build=function(e){var n,i,r=this;return n=t("<li />",{"class":"search-choice"}).html("<span>"+this.choice_label(e)+"</span>"),e.disabled?n.addClass("search-choice-disabled"):(i=t("<a />",{"class":"search-choice-close","data-option-array-index":e.array_index}),i.bind("click.chosen",function(t){return r.choice_destroy_link_click(t)}),n.append(i)),this.search_container.before(n)},n.prototype.choice_destroy_link_click=function(e){return e.preventDefault(),e.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(t(e.target))},n.prototype.choice_destroy=function(t){return this.result_deselect(t[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()):void 0},n.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},n.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},n.prototype.result_select=function(t){var e,n;return this.result_highlight?(e=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?e.removeClass("active-result"):this.reset_single_select_options(),e.addClass("result-selected"),n=this.results_data[e[0].getAttribute("data-option-array-index")],n.selected=!0,this.form_field.options[n.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(n):this.single_set_selected_text(this.choice_label(n)),(t.metaKey||t.ctrlKey)&&this.is_multiple||this.results_hide(),this.show_search_field_default(),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[n.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,t.preventDefault(),this.search_field_scale())):void 0},n.prototype.single_set_selected_text=function(t){return null==t&&(t=this.default_text),t===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(t)},n.prototype.result_deselect=function(t){var e;return e=this.results_data[t],this.form_field.options[e.options_index].disabled?!1:(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},n.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},n.prototype.get_search_text=function(){return t("<div/>").text(t.trim(this.search_field.val())).html()},n.prototype.winnow_results_set_highlight=function(){var t,e;return e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),t=e.length?e.first():this.search_results.find(".active-result").first(),null!=t?this.result_do_highlight(t):void 0},n.prototype.no_results=function(e){var n;return n=t('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),n.find("span").first().html(e),this.search_results.append(n),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},n.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},n.prototype.keydown_arrow=function(){var t;return this.results_showing&&this.result_highlight?(t=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(t):void 0:this.results_show()},n.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result"),t.length?this.result_do_highlight(t.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},n.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),
this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last(),t.length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},n.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},n.prototype.keydown_checker=function(t){var e,n;switch(e=null!=(n=t.which)?n:t.keyCode,this.search_field_scale(),8!==e&&this.pending_backstroke&&this.clear_backstroke(),e){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:this.results_showing&&t.preventDefault();break;case 32:this.disable_search&&t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:t.preventDefault(),this.keydown_arrow()}},n.prototype.search_field_scale=function(){var e,n,i,r,o,s,a,l,u;if(this.is_multiple){for(i=0,a=0,o="position:absolute; left: -1000px; top: -1000px; display:none;",s=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],l=0,u=s.length;u>l;l++)r=s[l],o+=r+":"+this.search_field.css(r)+";";return e=t("<div />",{style:o}),e.text(this.search_field.val()),t("body").append(e),a=e.width()+25,e.remove(),n=this.container.outerWidth(),a>n-10&&(a=n-10),this.search_field.css({width:a+"px"})}},n}(e)}).call(this);var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),ChosenWrapper=function(){function t(){_classCallCheck(this,t),$(document).on("nested:fieldAdded",this._bind),$(document).on("cocoon:after-insert",this._bind),this._bind()}return _createClass(t,[{key:"_bind",value:function(){$(".chosen-select").each(function(){$(this).chosen({allow_single_deselect:!0,no_results_text:"No results matched",width:$(this).width()+"px"})})}}]),t}(),Limit=function o(){var t=this;_classCallCheck(this,o),$("[data-limit]").each(function(e){$(t).maxlength({maxCharacters:$(t).data("limit"),zeroStatusText:$(t).data("zero"),oneStatusText:$(t).data("one"),moreStatusText:$(t).data("more")})})};new Limit;var Textarea=function s(){var t=this;_classCallCheck(this,s),$("textarea").keydown(function(e){if(9==e.keyCode){var n=t.selectionStart,i=t.selectionEnd,r=$(t),o=r.val();r.val(o.substring(0,n)+"	"+o.substring(i)),t.selectionStart=t.selectionEnd=n+1,e.preventDefault()}})};new Textarea;var FormGroup=function a(){var t=this;_classCallCheck(this,a),$(".form-group.other").each(function(e){var n=$(t).find("select"),i=$(n).next("input");$(n).find("option:selected").html()!=$(n).find("option:last").html()&&$(i).hide(),n.change(function(t){$(n).find("option:selected").html()==$(n).find("option:last").html()?i.show():i.hide()})})};new FormGroup;var SimpleForm=function l(){_classCallCheck(this,l),new SimpleFormDatePicker};$(function(){new SimpleForm,new ChosenWrapper});var Cache=function u(){_classCallCheck(this,u);var t=$("[data-cache]");t.find("[data-cache-target]").each(function(){var t=$(this),e=$(""+t.data("cache-target"));e.html(t.html())})};/*!
 * ZeroClipboard
 * The ZeroClipboard library provides an easy way to copy text to the clipboard using an invisible Adobe Flash movie and a JavaScript interface.
 * Copyright (c) 2009-2014 Jon Rohan, James M. Greene
 * Licensed MIT
 * http://zeroclipboard.org/
 * v2.2.0
 */
!function(t,e){"use strict";var n,i,r,o=t,s=o.document,a=o.navigator,l=o.setTimeout,u=o.clearTimeout,c=o.setInterval,h=o.clearInterval,d=o.getComputedStyle,p=o.encodeURIComponent,f=o.ActiveXObject,g=o.Error,m=o.Number.parseInt||o.parseInt,v=o.Number.parseFloat||o.parseFloat,y=o.Number.isNaN||o.isNaN,_=o.Date.now,b=o.Object.keys,w=o.Object.defineProperty,x=o.Object.prototype.hasOwnProperty,C=o.Array.prototype.slice,k=function(){var t=function(t){return t};if("function"==typeof o.wrap&&"function"==typeof o.unwrap)try{var e=s.createElement("div"),n=o.unwrap(e);1===e.nodeType&&n&&1===n.nodeType&&(t=o.unwrap)}catch(i){}return t}(),S=function(t){return C.call(t,0)},E=function(){var t,n,i,r,o,s,a=S(arguments),l=a[0]||{};for(t=1,n=a.length;n>t;t++)if(null!=(i=a[t]))for(r in i)x.call(i,r)&&(o=l[r],s=i[r],l!==s&&s!==e&&(l[r]=s));return l},T=function(t){var e,n,i,r;if("object"!=typeof t||null==t||"number"==typeof t.nodeType)e=t;else if("number"==typeof t.length)for(e=[],n=0,i=t.length;i>n;n++)x.call(t,n)&&(e[n]=T(t[n]));else{e={};for(r in t)x.call(t,r)&&(e[r]=T(t[r]))}return e},D=function(t,e){for(var n={},i=0,r=e.length;r>i;i++)e[i]in t&&(n[e[i]]=t[e[i]]);return n},A=function(t,e){var n={};for(var i in t)-1===e.indexOf(i)&&(n[i]=t[i]);return n},P=function(t){if(t)for(var e in t)x.call(t,e)&&delete t[e];return t},M=function(t,e){if(t&&1===t.nodeType&&t.ownerDocument&&e&&(1===e.nodeType&&e.ownerDocument&&e.ownerDocument===t.ownerDocument||9===e.nodeType&&!e.ownerDocument&&e===t.ownerDocument))do{if(t===e)return!0;t=t.parentNode}while(t);return!1},O=function(t){var e;return"string"==typeof t&&t&&(e=t.split("#")[0].split("?")[0],e=t.slice(0,t.lastIndexOf("/")+1)),e},I=function(t){var e,n;return"string"==typeof t&&t&&(n=t.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),n&&n[1]?e=n[1]:(n=t.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),n&&n[1]&&(e=n[1]))),e},R=function(){var t,e;try{throw new g}catch(n){e=n}return e&&(t=e.sourceURL||e.fileName||I(e.stack)),t},N=function(){var t,n,i;if(s.currentScript&&(t=s.currentScript.src))return t;if(n=s.getElementsByTagName("script"),1===n.length)return n[0].src||e;if("readyState"in n[0])for(i=n.length;i--;)if("interactive"===n[i].readyState&&(t=n[i].src))return t;return"loading"===s.readyState&&(t=n[n.length-1].src)?t:(t=R())?t:e},L=function(){var t,n,i,r=s.getElementsByTagName("script");for(t=r.length;t--;){if(!(i=r[t].src)){n=null;break}if(i=O(i),null==n)n=i;else if(n!==i){n=null;break}}return n||e},$=function(){var t=O(N())||L()||"";return t+"ZeroClipboard.swf"},j=function(){return null==t.opener&&(!!t.top&&t!=t.top||!!t.parent&&t!=t.parent)}(),F={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,sandboxed:null,unavailable:null,degraded:null,deactivated:null,overdue:null,ready:null},z="11.0.0",B={},H={},W=null,q=0,Y=0,V={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed. May also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-sandboxed":"Attempting to run Flash in a sandboxed iframe, which is impossible","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-degraded":"Flash is unable to preserve data fidelity when communicating with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate.\nThis may also mean that the ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity.\nMay also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-overdue":"Flash communication was established but NOT within the acceptable time limit","version-mismatch":"ZeroClipboard JS version number does not match ZeroClipboard SWF version number","clipboard-error":"At least one error was thrown while ZeroClipboard was attempting to inject your data into the clipboard","config-mismatch":"ZeroClipboard configuration does not match Flash's reality","swf-not-found":"The ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity"}},U=["flash-unavailable","flash-degraded","flash-overdue","version-mismatch","config-mismatch","clipboard-error"],G=["flash-disabled","flash-outdated","flash-sandboxed","flash-unavailable","flash-degraded","flash-deactivated","flash-overdue"],X=new RegExp("^flash-("+G.map(function(t){return t.replace(/^flash-/,"")}).join("|")+")$"),K=new RegExp("^flash-("+G.slice(1).map(function(t){return t.replace(/^flash-/,"")}).join("|")+")$"),Z={swfPath:$(),trustedDomains:t.location.host?[t.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,flashLoadTimeout:3e4,autoActivate:!0,bubbleEvents:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",forceHandCursor:!1,title:null,zIndex:999999999},Q=function(t){if("object"==typeof t&&null!==t)for(var e in t)if(x.call(t,e))if(/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(e))Z[e]=t[e];else if(null==F.bridge)if("containerId"===e||"swfObjectId"===e){if(!pt(t[e]))throw new Error("The specified `"+e+"` value is not valid as an HTML4 Element ID");Z[e]=t[e]}else Z[e]=t[e];{if("string"!=typeof t||!t)return T(Z);if(x.call(Z,t))return Z[t]}},J=function(){return Yt(),{browser:D(a,["userAgent","platform","appName"]),flash:A(F,["bridge"]),zeroclipboard:{version:Ut.version,config:Ut.config()}}},tt=function(){return!!(F.disabled||F.outdated||F.sandboxed||F.unavailable||F.degraded||F.deactivated)},et=function(t,i){var r,o,s,a={};if("string"==typeof t&&t)s=t.toLowerCase().split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof i)for(r in t)x.call(t,r)&&"string"==typeof r&&r&&"function"==typeof t[r]&&Ut.on(r,t[r]);if(s&&s.length){for(r=0,o=s.length;o>r;r++)t=s[r].replace(/^on/,""),a[t]=!0,B[t]||(B[t]=[]),B[t].push(i);if(a.ready&&F.ready&&Ut.emit({type:"ready"}),a.error){for(r=0,o=G.length;o>r;r++)if(F[G[r].replace(/^flash-/,"")]===!0){Ut.emit({type:"error",name:G[r]});break}n!==e&&Ut.version!==n&&Ut.emit({type:"error",name:"version-mismatch",jsVersion:Ut.version,swfVersion:n})}}return Ut},nt=function(t,e){var n,i,r,o,s;if(0===arguments.length)o=b(B);else if("string"==typeof t&&t)o=t.split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof e)for(n in t)x.call(t,n)&&"string"==typeof n&&n&&"function"==typeof t[n]&&Ut.off(n,t[n]);if(o&&o.length)for(n=0,i=o.length;i>n;n++)if(t=o[n].toLowerCase().replace(/^on/,""),s=B[t],s&&s.length)if(e)for(r=s.indexOf(e);-1!==r;)s.splice(r,1),r=s.indexOf(e,r);else s.length=0;return Ut},it=function(t){var e;return e="string"==typeof t&&t?T(B[t])||null:T(B)},rt=function(t){var e,n,i;return t=ft(t),t&&!wt(t)?"ready"===t.type&&F.overdue===!0?Ut.emit({type:"error",name:"flash-overdue"}):(e=E({},t),_t.call(this,e),"copy"===t.type&&(i=At(H),n=i.data,W=i.formatMap),n):void 0},ot=function(){var t=F.sandboxed;if(Yt(),"boolean"!=typeof F.ready&&(F.ready=!1),F.sandboxed!==t&&F.sandboxed===!0)F.ready=!1,Ut.emit({type:"error",name:"flash-sandboxed"});else if(!Ut.isFlashUnusable()&&null===F.bridge){var e=Z.flashLoadTimeout;"number"==typeof e&&e>=0&&(q=l(function(){"boolean"!=typeof F.deactivated&&(F.deactivated=!0),F.deactivated===!0&&Ut.emit({type:"error",name:"flash-deactivated"})},e)),F.overdue=!1,Tt()}},st=function(){Ut.clearData(),Ut.blur(),Ut.emit("destroy"),Dt(),Ut.off()},at=function(t,e){var n;if("object"==typeof t&&t&&"undefined"==typeof e)n=t,Ut.clearData();else{if("string"!=typeof t||!t)return;n={},n[t]=e}for(var i in n)"string"==typeof i&&i&&x.call(n,i)&&"string"==typeof n[i]&&n[i]&&(H[i]=n[i])},lt=function(t){"undefined"==typeof t?(P(H),W=null):"string"==typeof t&&x.call(H,t)&&delete H[t]},ut=function(t){return"undefined"==typeof t?T(H):"string"==typeof t&&x.call(H,t)?H[t]:void 0},ct=function(t){if(t&&1===t.nodeType){i&&($t(i,Z.activeClass),i!==t&&$t(i,Z.hoverClass)),i=t,Lt(t,Z.hoverClass);var e=t.getAttribute("title")||Z.title;if("string"==typeof e&&e){var n=Et(F.bridge);n&&n.setAttribute("title",e)}var r=Z.forceHandCursor===!0||"pointer"===jt(t,"cursor");Wt(r),Ht()}},ht=function(){var t=Et(F.bridge);t&&(t.removeAttribute("title"),t.style.left="0px",t.style.top="-9999px",t.style.width="1px",t.style.height="1px"),i&&($t(i,Z.hoverClass),$t(i,Z.activeClass),i=null)},dt=function(){return i||null},pt=function(t){return"string"==typeof t&&t&&/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(t)},ft=function(t){var e;if("string"==typeof t&&t?(e=t,t={}):"object"==typeof t&&t&&"string"==typeof t.type&&t.type&&(e=t.type),e){e=e.toLowerCase(),!t.target&&(/^(copy|aftercopy|_click)$/.test(e)||"error"===e&&"clipboard-error"===t.name)&&(t.target=r),E(t,{type:e,target:t.target||i||null,relatedTarget:t.relatedTarget||null,currentTarget:F&&F.bridge||null,timeStamp:t.timeStamp||_()||null});var n=V[t.type];return"error"===t.type&&t.name&&n&&(n=n[t.name]),n&&(t.message=n),"ready"===t.type&&E(t,{target:null,version:F.version}),"error"===t.type&&(X.test(t.name)&&E(t,{target:null,minimumVersion:z}),K.test(t.name)&&E(t,{version:F.version})),"copy"===t.type&&(t.clipboardData={setData:Ut.setData,clearData:Ut.clearData}),"aftercopy"===t.type&&(t=Pt(t,W)),t.target&&!t.relatedTarget&&(t.relatedTarget=gt(t.target)),mt(t)}},gt=function(t){var e=t&&t.getAttribute&&t.getAttribute("data-clipboard-target");return e?s.getElementById(e):null},mt=function(t){if(t&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(t.type)){var n=t.target,i="_mouseover"===t.type&&t.relatedTarget?t.relatedTarget:e,r="_mouseout"===t.type&&t.relatedTarget?t.relatedTarget:e,a=Ft(n),l=o.screenLeft||o.screenX||0,u=o.screenTop||o.screenY||0,c=s.body.scrollLeft+s.documentElement.scrollLeft,h=s.body.scrollTop+s.documentElement.scrollTop,d=a.left+("number"==typeof t._stageX?t._stageX:0),p=a.top+("number"==typeof t._stageY?t._stageY:0),f=d-c,g=p-h,m=l+f,v=u+g,y="number"==typeof t.movementX?t.movementX:0,_="number"==typeof t.movementY?t.movementY:0;delete t._stageX,delete t._stageY,E(t,{srcElement:n,fromElement:i,toElement:r,screenX:m,screenY:v,pageX:d,pageY:p,clientX:f,clientY:g,x:f,y:g,movementX:y,movementY:_,offsetX:0,offsetY:0,layerX:0,layerY:0})}return t},vt=function(t){var e=t&&"string"==typeof t.type&&t.type||"";return!/^(?:(?:before)?copy|destroy)$/.test(e)},yt=function(t,e,n,i){i?l(function(){t.apply(e,n)},0):t.apply(e,n)},_t=function(t){if("object"==typeof t&&t&&t.type){var e=vt(t),n=B["*"]||[],i=B[t.type]||[],r=n.concat(i);if(r&&r.length){var s,a,l,u,c,h=this;for(s=0,a=r.length;a>s;s++)l=r[s],u=h,"string"==typeof l&&"function"==typeof o[l]&&(l=o[l]),"object"==typeof l&&l&&"function"==typeof l.handleEvent&&(u=l,l=l.handleEvent),"function"==typeof l&&(c=E({},t),yt(l,u,[c],e))}return this}},bt=function(t){var e=null;return(j===!1||t&&"error"===t.type&&t.name&&-1!==U.indexOf(t.name))&&(e=!1),e},wt=function(t){var e=t.target||i||null,o="swf"===t._source;switch(delete t._source,t.type){case"error":var s="flash-sandboxed"===t.name||bt(t);"boolean"==typeof s&&(F.sandboxed=s),-1!==G.indexOf(t.name)?E(F,{disabled:"flash-disabled"===t.name,outdated:"flash-outdated"===t.name,unavailable:"flash-unavailable"===t.name,degraded:"flash-degraded"===t.name,deactivated:"flash-deactivated"===t.name,overdue:"flash-overdue"===t.name,ready:!1}):"version-mismatch"===t.name&&(n=t.swfVersion,E(F,{disabled:!1,outdated:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:!1,ready:!1})),Bt();break;case"ready":n=t.swfVersion;var a=F.deactivated===!0;E(F,{disabled:!1,outdated:!1,sandboxed:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:a,ready:!a}),Bt();break;case"beforecopy":r=e;break;case"copy":var l,u,c=t.relatedTarget;!H["text/html"]&&!H["text/plain"]&&c&&(u=c.value||c.outerHTML||c.innerHTML)&&(l=c.value||c.textContent||c.innerText)?(t.clipboardData.clearData(),t.clipboardData.setData("text/plain",l),u!==l&&t.clipboardData.setData("text/html",u)):!H["text/plain"]&&t.target&&(l=t.target.getAttribute("data-clipboard-text"))&&(t.clipboardData.clearData(),t.clipboardData.setData("text/plain",l));break;case"aftercopy":xt(t),Ut.clearData(),e&&e!==Nt()&&e.focus&&e.focus();break;case"_mouseover":Ut.focus(e),Z.bubbleEvents===!0&&o&&(e&&e!==t.relatedTarget&&!M(t.relatedTarget,e)&&Ct(E({},t,{type:"mouseenter",bubbles:!1,cancelable:!1})),Ct(E({},t,{type:"mouseover"})));break;case"_mouseout":Ut.blur(),Z.bubbleEvents===!0&&o&&(e&&e!==t.relatedTarget&&!M(t.relatedTarget,e)&&Ct(E({},t,{type:"mouseleave",bubbles:!1,cancelable:!1})),Ct(E({},t,{type:"mouseout"})));break;case"_mousedown":Lt(e,Z.activeClass),Z.bubbleEvents===!0&&o&&Ct(E({},t,{type:t.type.slice(1)}));break;case"_mouseup":$t(e,Z.activeClass),Z.bubbleEvents===!0&&o&&Ct(E({},t,{type:t.type.slice(1)}));break;case"_click":r=null,Z.bubbleEvents===!0&&o&&Ct(E({},t,{type:t.type.slice(1)}));break;case"_mousemove":Z.bubbleEvents===!0&&o&&Ct(E({},t,{type:t.type.slice(1)}))}return/^_(?:click|mouse(?:over|out|down|up|move))$/.test(t.type)?!0:void 0},xt=function(t){if(t.errors&&t.errors.length>0){var e=T(t);E(e,{type:"error",name:"clipboard-error"}),delete e.success,l(function(){Ut.emit(e)},0)}},Ct=function(t){if(t&&"string"==typeof t.type&&t){var e,n=t.target||null,i=n&&n.ownerDocument||s,r={view:i.defaultView||o,canBubble:!0,cancelable:!0,detail:"click"===t.type?1:0,button:"number"==typeof t.which?t.which-1:"number"==typeof t.button?t.button:i.createEvent?0:1},a=E(r,t);n&&i.createEvent&&n.dispatchEvent&&(a=[a.type,a.canBubble,a.cancelable,a.view,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,a.relatedTarget],e=i.createEvent("MouseEvents"),e.initMouseEvent&&(e.initMouseEvent.apply(e,a),e._source="js",n.dispatchEvent(e)))}},kt=function(){var t=Z.flashLoadTimeout;if("number"==typeof t&&t>=0){var e=Math.min(1e3,t/10),n=Z.swfObjectId+"_fallbackContent";Y=c(function(){var t=s.getElementById(n);zt(t)&&(Bt(),F.deactivated=null,Ut.emit({type:"error",name:"swf-not-found"}))},e)}},St=function(){var t=s.createElement("div");return t.id=Z.containerId,t.className=Z.containerClass,t.style.position="absolute",t.style.left="0px",t.style.top="-9999px",t.style.width="1px",t.style.height="1px",t.style.zIndex=""+qt(Z.zIndex),t},Et=function(t){for(var e=t&&t.parentNode;e&&"OBJECT"===e.nodeName&&e.parentNode;)e=e.parentNode;return e||null},Tt=function(){var t,e=F.bridge,n=Et(e);if(!e){var i=Rt(o.location.host,Z),r="never"===i?"none":"all",a=Ot(E({jsVersion:Ut.version},Z)),l=Z.swfPath+Mt(Z.swfPath,Z);n=St();var u=s.createElement("div");n.appendChild(u),s.body.appendChild(n);var c=s.createElement("div"),h="activex"===F.pluginType;c.innerHTML='<object id="'+Z.swfObjectId+'" name="'+Z.swfObjectId+'" width="100%" height="100%" '+(h?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+l+'"')+">"+(h?'<param name="movie" value="'+l+'"/>':"")+'<param name="allowScriptAccess" value="'+i+'"/><param name="allowNetworking" value="'+r+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+a+'"/><div id="'+Z.swfObjectId+'_fallbackContent">&nbsp;</div></object>',e=c.firstChild,c=null,k(e).ZeroClipboard=Ut,n.replaceChild(e,u),kt()}return e||(e=s[Z.swfObjectId],e&&(t=e.length)&&(e=e[t-1]),!e&&n&&(e=n.firstChild)),F.bridge=e||null,e},Dt=function(){var t=F.bridge;if(t){var i=Et(t);i&&("activex"===F.pluginType&&"readyState"in t?(t.style.display="none",function r(){if(4===t.readyState){for(var e in t)"function"==typeof t[e]&&(t[e]=null);t.parentNode&&t.parentNode.removeChild(t),i.parentNode&&i.parentNode.removeChild(i)}else l(r,10)}()):(t.parentNode&&t.parentNode.removeChild(t),i.parentNode&&i.parentNode.removeChild(i))),Bt(),F.ready=null,F.bridge=null,F.deactivated=null,n=e}},At=function(t){var e={},n={};if("object"==typeof t&&t){for(var i in t)if(i&&x.call(t,i)&&"string"==typeof t[i]&&t[i])switch(i.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":e.text=t[i],n.text=i;break;case"text/html":case"html":case"air:html":case"flash:html":e.html=t[i],n.html=i;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":e.rtf=t[i],n.rtf=i}return{data:e,formatMap:n}}},Pt=function(t,e){if("object"!=typeof t||!t||"object"!=typeof e||!e)return t;var n={};for(var i in t)if(x.call(t,i))if("errors"===i){n[i]=t[i]?t[i].slice():[];for(var r=0,o=n[i].length;o>r;r++)n[i][r].format=e[n[i][r].format]}else if("success"!==i&&"data"!==i)n[i]=t[i];else{n[i]={};var s=t[i];for(var a in s)a&&x.call(s,a)&&x.call(e,a)&&(n[i][e[a]]=s[a])}return n},Mt=function(t,e){var n=null==e||e&&e.cacheBust===!0;return n?(-1===t.indexOf("?")?"?":"&")+"noCache="+_():""},Ot=function(t){var e,n,i,r,s="",a=[];if(t.trustedDomains&&("string"==typeof t.trustedDomains?r=[t.trustedDomains]:"object"==typeof t.trustedDomains&&"length"in t.trustedDomains&&(r=t.trustedDomains)),r&&r.length)for(e=0,n=r.length;n>e;e++)if(x.call(r,e)&&r[e]&&"string"==typeof r[e]){if(i=It(r[e]),!i)continue;if("*"===i){a.length=0,a.push(i);break}a.push.apply(a,[i,"//"+i,o.location.protocol+"//"+i])}return a.length&&(s+="trustedOrigins="+p(a.join(","))),t.forceEnhancedClipboard===!0&&(s+=(s?"&":"")+"forceEnhancedClipboard=true"),"string"==typeof t.swfObjectId&&t.swfObjectId&&(s+=(s?"&":"")+"swfObjectId="+p(t.swfObjectId)),"string"==typeof t.jsVersion&&t.jsVersion&&(s+=(s?"&":"")+"jsVersion="+p(t.jsVersion)),s},It=function(t){if(null==t||""===t)return null;if(t=t.replace(/^\s+|\s+$/g,""),""===t)return null;var e=t.indexOf("//");t=-1===e?t:t.slice(e+2);var n=t.indexOf("/");return t=-1===n?t:-1===e||0===n?null:t.slice(0,n),t&&".swf"===t.slice(-4).toLowerCase()?null:t||null},Rt=function(){var t=function(t){var e,n,i,r=[];if("string"==typeof t&&(t=[t]),"object"!=typeof t||!t||"number"!=typeof t.length)return r;for(e=0,n=t.length;n>e;e++)if(x.call(t,e)&&(i=It(t[e]))){if("*"===i){r.length=0,r.push("*");break}-1===r.indexOf(i)&&r.push(i)}return r};return function(e,n){var i=It(n.swfPath);null===i&&(i=e);var r=t(n.trustedDomains),o=r.length;if(o>0){if(1===o&&"*"===r[0])return"always";if(-1!==r.indexOf(e))return 1===o&&e===i?"sameDomain":"always"}return"never"}}(),Nt=function(){try{return s.activeElement}catch(t){return null}},Lt=function(t,e){var n,i,r,o=[];if("string"==typeof e&&e&&(o=e.split(/\s+/)),t&&1===t.nodeType&&o.length>0)if(t.classList)for(n=0,i=o.length;i>n;n++)t.classList.add(o[n]);else if(t.hasOwnProperty("className")){for(r=" "+t.className+" ",n=0,i=o.length;i>n;n++)-1===r.indexOf(" "+o[n]+" ")&&(r+=o[n]+" ");t.className=r.replace(/^\s+|\s+$/g,"")}return t},$t=function(t,e){var n,i,r,o=[];if("string"==typeof e&&e&&(o=e.split(/\s+/)),t&&1===t.nodeType&&o.length>0)if(t.classList&&t.classList.length>0)for(n=0,i=o.length;i>n;n++)t.classList.remove(o[n]);else if(t.className){for(r=(" "+t.className+" ").replace(/[\r\n\t]/g," "),n=0,i=o.length;i>n;n++)r=r.replace(" "+o[n]+" "," ");t.className=r.replace(/^\s+|\s+$/g,"")}return t},jt=function(t,e){var n=d(t,null).getPropertyValue(e);return"cursor"!==e||n&&"auto"!==n||"A"!==t.nodeName?n:"pointer"},Ft=function(t){var e={left:0,top:0,width:0,height:0};if(t.getBoundingClientRect){var n=t.getBoundingClientRect(),i=o.pageXOffset,r=o.pageYOffset,a=s.documentElement.clientLeft||0,l=s.documentElement.clientTop||0,u=0,c=0;if("relative"===jt(s.body,"position")){var h=s.body.getBoundingClientRect(),d=s.documentElement.getBoundingClientRect();u=h.left-d.left||0,c=h.top-d.top||0}e.left=n.left+i-a-u,e.top=n.top+r-l-c,e.width="width"in n?n.width:n.right-n.left,e.height="height"in n?n.height:n.bottom-n.top}return e},zt=function(t){if(!t)return!1;var e=d(t,null),n=v(e.height)>0,i=v(e.width)>0,r=v(e.top)>=0,o=v(e.left)>=0,s=n&&i&&r&&o,a=s?null:Ft(t),l="none"!==e.display&&"collapse"!==e.visibility&&(s||!!a&&(n||a.height>0)&&(i||a.width>0)&&(r||a.top>=0)&&(o||a.left>=0));return l},Bt=function(){u(q),q=0,h(Y),Y=0},Ht=function(){var t;if(i&&(t=Et(F.bridge))){var e=Ft(i);E(t.style,{width:e.width+"px",height:e.height+"px",top:e.top+"px",left:e.left+"px",zIndex:""+qt(Z.zIndex)})}},Wt=function(t){F.ready===!0&&(F.bridge&&"function"==typeof F.bridge.setHandCursor?F.bridge.setHandCursor(t):F.ready=!1)},qt=function(t){if(/^(?:auto|inherit)$/.test(t))return t;var e;return"number"!=typeof t||y(t)?"string"==typeof t&&(e=qt(m(t,10))):e=t,"number"==typeof e?e:"auto"},Yt=function(e){var n,i,r,o=F.sandboxed,s=null;if(e=e===!0,j===!1)s=!1;else{try{i=t.frameElement||null}catch(a){r={name:a.name,message:a.message}}if(i&&1===i.nodeType&&"IFRAME"===i.nodeName)try{s=i.hasAttribute("sandbox")}catch(a){s=null}else{try{n=document.domain||null}catch(a){n=null}(null===n||r&&"SecurityError"===r.name&&/(^|[\s\(\[@])sandbox(es|ed|ing|[\s\.,!\)\]@]|$)/.test(r.message.toLowerCase()))&&(s=!0)}}return F.sandboxed=s,o===s||e||Vt(f),s},Vt=function(t){function e(t){var e=t.match(/[\d]+/g);return e.length=3,e.join(".")}function n(t){return!!t&&(t=t.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(t)||"chrome.plugin"===t.slice(-13))}function i(t){t&&(l=!0,t.version&&(h=e(t.version)),!h&&t.description&&(h=e(t.description)),t.filename&&(c=n(t.filename)))}var r,o,s,l=!1,u=!1,c=!1,h="";if(a.plugins&&a.plugins.length)r=a.plugins["Shockwave Flash"],i(r),a.plugins["Shockwave Flash 2.0"]&&(l=!0,h="2.0.0.11");else if(a.mimeTypes&&a.mimeTypes.length)s=a.mimeTypes["application/x-shockwave-flash"],r=s&&s.enabledPlugin,i(r);else if("undefined"!=typeof t){u=!0;try{o=new t("ShockwaveFlash.ShockwaveFlash.7"),l=!0,h=e(o.GetVariable("$version"))}catch(d){try{o=new t("ShockwaveFlash.ShockwaveFlash.6"),l=!0,h="6.0.21"}catch(p){try{o=new t("ShockwaveFlash.ShockwaveFlash"),l=!0,h=e(o.GetVariable("$version"))}catch(f){u=!1}}}}F.disabled=l!==!0,F.outdated=h&&v(h)<v(z),F.version=h||"0.0.0",F.pluginType=c?"pepper":u?"activex":l?"netscape":"unknown"};Vt(f),Yt(!0);var Ut=function(){return this instanceof Ut?void("function"==typeof Ut._createClient&&Ut._createClient.apply(this,S(arguments))):new Ut};w(Ut,"version",{value:"2.2.0",writable:!1,configurable:!0,enumerable:!0}),Ut.config=function(){return Q.apply(this,S(arguments))},Ut.state=function(){return J.apply(this,S(arguments))},Ut.isFlashUnusable=function(){return tt.apply(this,S(arguments))},Ut.on=function(){return et.apply(this,S(arguments))},Ut.off=function(){return nt.apply(this,S(arguments))},Ut.handlers=function(){return it.apply(this,S(arguments))},Ut.emit=function(){return rt.apply(this,S(arguments))},Ut.create=function(){return ot.apply(this,S(arguments))},Ut.destroy=function(){return st.apply(this,S(arguments))},Ut.setData=function(){return at.apply(this,S(arguments))},Ut.clearData=function(){return lt.apply(this,S(arguments))},Ut.getData=function(){return ut.apply(this,S(arguments))},Ut.focus=Ut.activate=function(){return ct.apply(this,S(arguments))},Ut.blur=Ut.deactivate=function(){return ht.apply(this,S(arguments))},Ut.activeElement=function(){return dt.apply(this,S(arguments))};var Gt=0,Xt={},Kt=0,Zt={},Qt={};E(Z,{autoActivate:!0});var Jt=function(t){var e=this;e.id=""+Gt++,Xt[e.id]={instance:e,elements:[],handlers:{}},t&&e.clip(t),Ut.on("*",function(t){return e.emit(t)}),Ut.on("destroy",function(){e.destroy()}),Ut.create()},te=function(t,i){var r,o,s,a={},l=Xt[this.id],u=l&&l.handlers;if(!l)throw new Error("Attempted to add new listener(s) to a destroyed ZeroClipboard client instance");if("string"==typeof t&&t)s=t.toLowerCase().split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof i)for(r in t)x.call(t,r)&&"string"==typeof r&&r&&"function"==typeof t[r]&&this.on(r,t[r]);if(s&&s.length){for(r=0,o=s.length;o>r;r++)t=s[r].replace(/^on/,""),a[t]=!0,u[t]||(u[t]=[]),u[t].push(i);if(a.ready&&F.ready&&this.emit({type:"ready",client:this}),a.error){for(r=0,o=G.length;o>r;r++)if(F[G[r].replace(/^flash-/,"")]){this.emit({type:"error",name:G[r],client:this});break}n!==e&&Ut.version!==n&&this.emit({type:"error",name:"version-mismatch",jsVersion:Ut.version,swfVersion:n})}}return this},ee=function(t,e){var n,i,r,o,s,a=Xt[this.id],l=a&&a.handlers;if(!l)return this;if(0===arguments.length)o=b(l);else if("string"==typeof t&&t)o=t.split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof e)for(n in t)x.call(t,n)&&"string"==typeof n&&n&&"function"==typeof t[n]&&this.off(n,t[n]);if(o&&o.length)for(n=0,i=o.length;i>n;n++)if(t=o[n].toLowerCase().replace(/^on/,""),s=l[t],s&&s.length)if(e)for(r=s.indexOf(e);-1!==r;)s.splice(r,1),r=s.indexOf(e,r);else s.length=0;return this},ne=function(t){var e=null,n=Xt[this.id]&&Xt[this.id].handlers;return n&&(e="string"==typeof t&&t?n[t]?n[t].slice(0):[]:T(n)),e},ie=function(t){if(le.call(this,t)){"object"==typeof t&&t&&"string"==typeof t.type&&t.type&&(t=E({},t));var e=E({},ft(t),{client:this});ue.call(this,e)}return this},re=function(t){if(!Xt[this.id])throw new Error("Attempted to clip element(s) to a destroyed ZeroClipboard client instance");t=ce(t);for(var e=0;e<t.length;e++)if(x.call(t,e)&&t[e]&&1===t[e].nodeType){t[e].zcClippingId?-1===Zt[t[e].zcClippingId].indexOf(this.id)&&Zt[t[e].zcClippingId].push(this.id):(t[e].zcClippingId="zcClippingId_"+Kt++,Zt[t[e].zcClippingId]=[this.id],Z.autoActivate===!0&&he(t[e]));var n=Xt[this.id]&&Xt[this.id].elements;-1===n.indexOf(t[e])&&n.push(t[e])}return this},oe=function(t){var e=Xt[this.id];if(!e)return this;var n,i=e.elements;t="undefined"==typeof t?i.slice(0):ce(t);for(var r=t.length;r--;)if(x.call(t,r)&&t[r]&&1===t[r].nodeType){for(n=0;-1!==(n=i.indexOf(t[r],n));)i.splice(n,1);var o=Zt[t[r].zcClippingId];if(o){for(n=0;-1!==(n=o.indexOf(this.id,n));)o.splice(n,1);0===o.length&&(Z.autoActivate===!0&&de(t[r]),delete t[r].zcClippingId)}}return this},se=function(){var t=Xt[this.id];return t&&t.elements?t.elements.slice(0):[]},ae=function(){Xt[this.id]&&(this.unclip(),this.off(),delete Xt[this.id])},le=function(t){if(!t||!t.type)return!1;if(t.client&&t.client!==this)return!1;var e=Xt[this.id],n=e&&e.elements,i=!!n&&n.length>0,r=!t.target||i&&-1!==n.indexOf(t.target),o=t.relatedTarget&&i&&-1!==n.indexOf(t.relatedTarget),s=t.client&&t.client===this;return e&&(r||o||s)?!0:!1},ue=function(t){var e=Xt[this.id];if("object"==typeof t&&t&&t.type&&e){var n=vt(t),i=e&&e.handlers["*"]||[],r=e&&e.handlers[t.type]||[],s=i.concat(r);if(s&&s.length){var a,l,u,c,h,d=this;for(a=0,l=s.length;l>a;a++)u=s[a],c=d,"string"==typeof u&&"function"==typeof o[u]&&(u=o[u]),"object"==typeof u&&u&&"function"==typeof u.handleEvent&&(c=u,u=u.handleEvent),"function"==typeof u&&(h=E({},t),yt(u,c,[h],n))}}},ce=function(t){return"string"==typeof t&&(t=[]),"number"!=typeof t.length?[t]:t},he=function(t){if(t&&1===t.nodeType){var e=function(t){(t||(t=o.event))&&("js"!==t._source&&(t.stopImmediatePropagation(),t.preventDefault()),delete t._source)},n=function(n){(n||(n=o.event))&&(e(n),Ut.focus(t))};t.addEventListener("mouseover",n,!1),t.addEventListener("mouseout",e,!1),t.addEventListener("mouseenter",e,!1),t.addEventListener("mouseleave",e,!1),t.addEventListener("mousemove",e,!1),Qt[t.zcClippingId]={mouseover:n,mouseout:e,mouseenter:e,mouseleave:e,mousemove:e}}},de=function(t){if(t&&1===t.nodeType){var e=Qt[t.zcClippingId];if("object"==typeof e&&e){for(var n,i,r=["move","leave","enter","out","over"],o=0,s=r.length;s>o;o++)n="mouse"+r[o],i=e[n],"function"==typeof i&&t.removeEventListener(n,i,!1);delete Qt[t.zcClippingId]}}};Ut._createClient=function(){Jt.apply(this,S(arguments))},Ut.prototype.on=function(){return te.apply(this,S(arguments))},Ut.prototype.off=function(){return ee.apply(this,S(arguments))},Ut.prototype.handlers=function(){return ne.apply(this,S(arguments))},Ut.prototype.emit=function(){return ie.apply(this,S(arguments))},Ut.prototype.clip=function(){return re.apply(this,S(arguments))},Ut.prototype.unclip=function(){return oe.apply(this,S(arguments))},Ut.prototype.elements=function(){return se.apply(this,S(arguments))},Ut.prototype.destroy=function(){return ae.apply(this,S(arguments))},Ut.prototype.setText=function(t){if(!Xt[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Ut.setData("text/plain",t),this},Ut.prototype.setHtml=function(t){if(!Xt[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Ut.setData("text/html",t),this},Ut.prototype.setRichText=function(t){if(!Xt[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Ut.setData("application/rtf",t),this},Ut.prototype.setData=function(){if(!Xt[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Ut.setData.apply(this,S(arguments)),this},Ut.prototype.clearData=function(){if(!Xt[this.id])throw new Error("Attempted to clear pending clipboard data from a destroyed ZeroClipboard client instance");return Ut.clearData.apply(this,S(arguments)),this},Ut.prototype.getData=function(){if(!Xt[this.id])throw new Error("Attempted to get pending clipboard data from a destroyed ZeroClipboard client instance");return Ut.getData.apply(this,S(arguments))},"function"==typeof define&&define.amd?define(function(){return Ut}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports?module.exports=Ut:t.ZeroClipboard=Ut}(function(){return this||window}());var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Copy=function(){function t(){var e=this;_classCallCheck(this,t),ZeroClipboard.config({swfPath:"/assets/clipboard-eec56f47f17c747710021e35aee59177a7e451c374b6d8ef11508bb25edf5125.swf"}),$("[data-copy]").each(function(t,n){e._initCopy(n)})}return _createClass(t,[{key:"_initCopy",value:function(t){var e=new ZeroClipboard(t);e.on("ready",function(n){e.on("copy",function(e){var n=$(""+$(t).data("copy")).val(),i=$(t).data("copy-type")||"text/plain";e.clipboardData.setData(i,n),noty({layout:"topRight",type:"success",text:"Copied",timeout:3e3})})})}}]),t}(),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),DataEvents=function(){function t(){_classCallCheck(this,t),this.refresh()}return _createClass(t,[{key:"refresh",value:function(){this.attachFocusEvents(),this.attachToggleEvents()}},{key:"attachFocusEvents",value:function(){$("[data-event-focus]").click(function(){$($(this).attr("data-event-focus")).focus()})}},{key:"attachToggleEvents",value:function(){$("[data-event-toggle]").each(function(){var t=this,e=$(this).attr("data-event-container"),n=$(this).attr("data-event-toggle"),i=e?$(this).parents(e):$(this).parent();$(i).find(n).addClass("hidden"),$(this).click(function(e){return e.stopImmediatePropagation(),$(i).find(n).toggleClass("hidden"),$(t).toggleClass("active"),!1})})}}]),t}();DataEvents.singleton=void 0,DataEvents.refresh=function(){void 0===DataEvents.singleton&&(DataEvents.singleton=new DataEvents),DataEvents.singleton.refresh()},function(){var t,e,n,i,r,o,s;o=1e3,r=6e4,n=36e5,t=864e5,s=6048e5,e={seconds:{"short":"s","long":" sec"},minutes:{"short":"m","long":" min"},hours:{"short":"h","long":" hr"},days:{"short":"d","long":" day"}},i=function(i){var a;return a=function(a){var l,u,c,h;if(l=Math.abs(this.diff(i())),c=null,u=null,o>=l)c="seconds",u=1;else if(r>l)c="seconds";else if(n>l)c="minutes";else if(t>l)c="hours";else{if("short"!==a)return this.format("MMM D");if(!(s>l))return this.format("M/D/YY");c="days"}return u&&c||(u=i.duration(l)[c]()),h=c=e[c][a],"long"===a&&u>1&&(h+="s"),u+h},i.fn.twitterLong=function(){return a.call(this,"long")},i.fn.twitter=i.fn.twitterShort=function(){return a.call(this,"short")},i},"function"==typeof define&&define.amd?define("moment-twitter",["moment"],function(t){return this.moment=i(t)}):"undefined"!=typeof module?module.exports=i(require("moment")):"undefined"!=typeof window&&window.moment&&(this.moment=i(this.moment))}.call(this);var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),DataDate=function(){function t(){var e=this;
_classCallCheck(this,t),moment.locale("en",{calendar:{lastDay:"[Yesterday at] LT",sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",lastWeek:"[last] dddd [at] LT",nextWeek:"dddd [at] LT",sameElse:"YYYY-MM-DD"}}),this._updateAll(),this.handler=setInterval(function(t){e._updateAll()},15e3)}return _createClass(t,[{key:"_makeTheMoment",value:function(t){t=t.replace("UTC","+0000");var e=moment(t,"YYYY-MM-DD HH:mm:ss Z");return e.isValid()?e:(e=moment(t,"YYYY-MM-DD HH:mm Z"),e.isValid()?e:(e=moment(new Date(t)),e.isValid()?e:(console.warn(t+" date is invalid !",e),e)))}},{key:"_updateAll",value:function(){var e=this===window?t.get():this;$("[data-long-date]").each(function(){$(this).html(e._makeTheMoment($(this).attr("data-long-date")).fromNow())}),$("[data-short-date]").each(function(){$(this).html(e._makeTheMoment($(this).attr("data-short-date")).twitter())}),$("[data-short-time]").each(function(){$(this).html(e._makeTheMoment($(this).attr("data-short-time")).format("h:mm A"))}),$("[data-cal-date]").each(function(){$(this).html(e._makeTheMoment($(this).attr("data-cal-date")).calendar())})}},{key:"refresh",value:function(){this._updateAll(),this.handler&&clearInterval(this.handler),this.handler=setInterval(this._updateAll,15e3)}}]),t}();DataDate.singleton=void 0,DataDate.get=function(){return void 0===DataDate.singleton&&(DataDate.singleton=new DataDate),DataDate.singleton.refresh(),DataDate.singleton},DataDate.refresh=function(){DataDate.get().refresh()};var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Importer=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(_classCallCheck(this,t),this.opts=_.merge({errorsSelector:"data-import-errors",textSelector:"data-import-text"},e),this.target=document.querySelector("["+this.opts.errorsSelector+"]["+this.opts.textSelector+"]"),this.target){if(this.text=this.target.getAttribute(this.opts.textSelector),this.errors=JSON.parse(this.target.getAttribute(this.opts.errorsSelector)),!this.text)throw"Unable to find params text for ["+this.opts.textSelector+"]";this.displayErrors()}}return _createClass(t,[{key:"displayErrors",value:function(){console.log("Displaying errors for data: ",this.errors),this.renderText()}},{key:"renderText",value:function(){var t=this,e=this.text.split("\n");e=_.map(e,function(t){return t.split(",")}),console.log("Parsed: ",e);var n=_.map(e,function(e,n){if(t.errors[n]){var i=_.map(e,function(e,i){return field_errors=[],_(t.errors[n]).filter(function(t){t.meta}).each(function(t){console.log("For field "+e+", "+t.meta.index+" == "+i),t.meta.index==i&&field_errors.push(t.error)}).value(),field_errors.length>0?"<b class='text-danger' data-toggle='tooltip' data-placement='top' title='"+field_errors.join(", ")+"'>"+e+"</b>":"<span>"+e+"</span>"}).join(",");return"<span class='text-danger'>"+i+"</span>"}return console.log("No errors on line "+n),"<span class='text-success'>"+e.join(",")+"</span>"}).join("</br>"),i='<div class="js-import-results">'+n+"</div>";$(this.target).append(i),$('[data-toggle="tooltip"]').tooltip()}}]),t}();/*! emojify.js - v1.0.1 - 
 * Copyright (c) Hassan Khan 2015
 */
!function(t,e){"use strict";"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.emojify=e()}(this,function(){"use strict";var t=function(){function t(){var t={named:/:([a-z0-9A-Z_-]+):/,smile:/:-?\)/g,scream:/:-o/gi,smirk:/[:;]-?]/g,grinning:/[:;]-?d/gi,stuck_out_tongue_closed_eyes:/x-d/gi,stuck_out_tongue_winking_eye:/[:;]-?p/gi,rage:/:-?[\[@]/g,frowning:/:-?\(/g,sob:/:['\u2019]-?\(|:&#x27;\(/g,kissing_heart:/:-?\*/g,wink:/;-?\)/g,pensive:/:-?\//g,confounded:/:-?s/gi,flushed:/:-?\|/g,relaxed:/:-?\$/g,mask:/:-x/gi,heart:/<3|&lt;3/g,broken_heart:/<\/3|&lt;&#x2F;3/g,thumbsup:/:\+1:/g,thumbsdown:/:\-1:/g};return f.ignore_emoticons&&(t={named:/:([a-z0-9A-Z_-]+):/,thumbsup:/:\+1:/g,thumbsdown:/:\-1:/g}),Object.keys(t).map(function(e){return[t[e],e]})}function e(){var t=u.map(function(t){var e=t[0],n=e.source||e;return n=n.replace(/(^|[^\[])\^/g,"$1"),"("+n+")"}).join("|");return new RegExp(t,"gi")}function n(t){return" "===t||"	"===t||"\r"===t||"\n"===t||""===t||t===String.fromCharCode(160)}function i(t){var e=null;if(t.replacer)e=t.replacer.apply({config:f},[":"+t.emojiName+":",t.emojiName]);else{var n=f.tag_type||g[f.mode];e=t.win.document.createElement(n),"img"!==n?e.setAttribute("class","emoji emoji-"+t.emojiName):(e.setAttribute("align","absmiddle"),e.setAttribute("alt",":"+t.emojiName+":"),e.setAttribute("class","emoji"),e.setAttribute("src",f.img_dir+"/"+t.emojiName+".png")),e.setAttribute("title",":"+t.emojiName+":")}t.node.splitText(t.match.index),t.node.nextSibling.nodeValue=t.node.nextSibling.nodeValue.substr(t.match[0].length,t.node.nextSibling.nodeValue.length),e.appendChild(t.node.splitText(t.match.index)),t.node.parentNode.insertBefore(e,t.node.nextSibling)}function r(t){if(t[1]&&t[2]){var e=t[2];if(p[e])return e}else for(var n=3;n<t.length-1;n++)if(t[n])return u[n-2][1]}function o(t,e){var n=this.config.tag_type||g[this.config.mode];return"img"!==n?"<"+n+" class='emoji emoji-"+e+"' title=':"+e+":'></"+n+">":"<img align='absmiddle' alt=':"+e+":' class='emoji' src='"+this.config.img_dir+"/"+e+".png' title=':"+e+":' />"}function s(){this.lastEmojiTerminatedAt=-1}function a(n,i){if(!n)return n;i||(i=o),u=t(),c=e();var r=new s;return n.replace(c,function(){var t=Array.prototype.slice.call(arguments,0,-2),e=arguments[arguments.length-2],n=arguments[arguments.length-1],o=r.validate(t,e,n);return o?i.apply({config:f},[arguments[0],o]):arguments[0]})}function l(n,o){"undefined"==typeof n&&(n=f.only_crawl_id?document.getElementById(f.only_crawl_id):document.body);var a=n.ownerDocument,l=a.defaultView||a.parentWindow,h=function(t,e){var n;if(t.hasChildNodes())for(n=t.firstChild;n;)e(n)&&h(n,e),n=n.nextSibling},d=function(t){for(var e,n=[],a=new s;null!==(e=c.exec(t.data));)a.validate(e,e.index,e.input)&&n.push(e);for(var u=n.length;u-->0;){var h=r(n[u]);i({node:t,match:n[u],emojiName:h,replacer:o,win:l})}};u=t(),c=e();var p=[],g=new RegExp(f.blacklist.elements.join("|"),"i"),m=new RegExp(f.blacklist.classes.join("|"),"i");if("undefined"!=typeof l.document.createTreeWalker)for(var v,y=l.document.createTreeWalker(n,l.NodeFilter.SHOW_TEXT|l.NodeFilter.SHOW_ELEMENT,function(t){return 1!==t.nodeType?l.NodeFilter.FILTER_ACCEPT:t.tagName.match(g)||"svg"===t.tagName||t.className.match(m)?l.NodeFilter.FILTER_REJECT:l.NodeFilter.FILTER_SKIP},!1);null!==(v=y.nextNode());)p.push(v);else h(n,function(t){return"undefined"!=typeof t.tagName&&t.tagName.match(g)||"undefined"!=typeof t.className&&t.className.match(m)?!1:1===t.nodeType?!0:(p.push(t),!0)});p.forEach(d)}var u,c,h="+1,-1,100,1234,8ball,a,ab,abc,abcd,accept,aerial_tramway,airplane,alarm_clock,alien,ambulance,anchor,angel,anger,angry,anguished,ant,apple,aquarius,aries,arrow_backward,arrow_double_down,arrow_double_up,arrow_down,arrow_down_small,arrow_forward,arrow_heading_down,arrow_heading_up,arrow_left,arrow_lower_left,arrow_lower_right,arrow_right,arrow_right_hook,arrow_up,arrow_up_down,arrow_up_small,arrow_upper_left,arrow_upper_right,arrows_clockwise,arrows_counterclockwise,art,articulated_lorry,astonished,atm,b,baby,baby_bottle,baby_chick,baby_symbol,back,baggage_claim,balloon,ballot_box_with_check,bamboo,banana,bangbang,bank,bar_chart,barber,baseball,basketball,bath,bathtub,battery,bear,bee,beer,beers,beetle,beginner,bell,bento,bicyclist,bike,bikini,bird,birthday,black_circle,black_joker,black_medium_small_square,black_medium_square,black_nib,black_small_square,black_square,black_square_button,blossom,blowfish,blue_book,blue_car,blue_heart,blush,boar,boat,bomb,book,bookmark,bookmark_tabs,books,boom,boot,bouquet,bow,bowling,bowtie,boy,bread,bride_with_veil,bridge_at_night,briefcase,broken_heart,bug,bulb,bullettrain_front,bullettrain_side,bus,busstop,bust_in_silhouette,busts_in_silhouette,cactus,cake,calendar,calling,camel,camera,cancer,candy,capital_abcd,capricorn,car,card_index,carousel_horse,cat,cat2,cd,chart,chart_with_downwards_trend,chart_with_upwards_trend,checkered_flag,cherries,cherry_blossom,chestnut,chicken,children_crossing,chocolate_bar,christmas_tree,church,cinema,circus_tent,city_sunrise,city_sunset,cl,clap,clapper,clipboard,clock1,clock10,clock1030,clock11,clock1130,clock12,clock1230,clock130,clock2,clock230,clock3,clock330,clock4,clock430,clock5,clock530,clock6,clock630,clock7,clock730,clock8,clock830,clock9,clock930,closed_book,closed_lock_with_key,closed_umbrella,cloud,clubs,cn,cocktail,coffee,cold_sweat,collision,computer,confetti_ball,confounded,confused,congratulations,construction,construction_worker,convenience_store,cookie,cool,cop,copyright,corn,couple,couple_with_heart,couplekiss,cow,cow2,credit_card,crocodile,crossed_flags,crown,cry,crying_cat_face,crystal_ball,cupid,curly_loop,currency_exchange,curry,custard,customs,cyclone,dancer,dancers,dango,dart,dash,date,de,deciduous_tree,department_store,diamond_shape_with_a_dot_inside,diamonds,disappointed,disappointed_relieved,dizzy,dizzy_face,do_not_litter,dog,dog2,dollar,dolls,dolphin,donut,door,doughnut,dragon,dragon_face,dress,dromedary_camel,droplet,dvd,e-mail,ear,ear_of_rice,earth_africa,earth_americas,earth_asia,egg,eggplant,eight,eight_pointed_black_star,eight_spoked_asterisk,electric_plug,elephant,email,end,envelope,es,euro,european_castle,european_post_office,evergreen_tree,exclamation,expressionless,eyeglasses,eyes,facepunch,factory,fallen_leaf,family,fast_forward,fax,fearful,feelsgood,feet,ferris_wheel,file_folder,finnadie,fire,fire_engine,fireworks,first_quarter_moon,first_quarter_moon_with_face,fish,fish_cake,fishing_pole_and_fish,fist,five,flags,flashlight,floppy_disk,flower_playing_cards,flushed,foggy,football,fork_and_knife,fountain,four,four_leaf_clover,fr,free,fried_shrimp,fries,frog,frowning,fu,fuelpump,full_moon,full_moon_with_face,game_die,gb,gem,gemini,ghost,gift,gift_heart,girl,globe_with_meridians,goat,goberserk,godmode,golf,grapes,green_apple,green_book,green_heart,grey_exclamation,grey_question,grimacing,grin,grinning,guardsman,guitar,gun,haircut,hamburger,hammer,hamster,hand,handbag,hankey,hash,hatched_chick,hatching_chick,headphones,hear_no_evil,heart,heart_decoration,heart_eyes,heart_eyes_cat,heartbeat,heartpulse,hearts,heavy_check_mark,heavy_division_sign,heavy_dollar_sign,heavy_exclamation_mark,heavy_minus_sign,heavy_multiplication_x,heavy_plus_sign,helicopter,herb,hibiscus,high_brightness,high_heel,hocho,honey_pot,honeybee,horse,horse_racing,hospital,hotel,hotsprings,hourglass,hourglass_flowing_sand,house,house_with_garden,hurtrealbad,hushed,ice_cream,icecream,id,ideograph_advantage,imp,inbox_tray,incoming_envelope,information_desk_person,information_source,innocent,interrobang,iphone,it,izakaya_lantern,jack_o_lantern,japan,japanese_castle,japanese_goblin,japanese_ogre,jeans,joy,joy_cat,jp,key,keycap_ten,kimono,kiss,kissing,kissing_cat,kissing_closed_eyes,kissing_face,kissing_heart,kissing_smiling_eyes,koala,koko,kr,large_blue_circle,large_blue_diamond,large_orange_diamond,last_quarter_moon,last_quarter_moon_with_face,laughing,leaves,ledger,left_luggage,left_right_arrow,leftwards_arrow_with_hook,lemon,leo,leopard,libra,light_rail,link,lips,lipstick,lock,lock_with_ink_pen,lollipop,loop,loudspeaker,love_hotel,love_letter,low_brightness,m,mag,mag_right,mahjong,mailbox,mailbox_closed,mailbox_with_mail,mailbox_with_no_mail,man,man_with_gua_pi_mao,man_with_turban,mans_shoe,maple_leaf,mask,massage,meat_on_bone,mega,melon,memo,mens,metal,metro,microphone,microscope,milky_way,minibus,minidisc,mobile_phone_off,money_with_wings,moneybag,monkey,monkey_face,monorail,moon,mortar_board,mount_fuji,mountain_bicyclist,mountain_cableway,mountain_railway,mouse,mouse2,movie_camera,moyai,muscle,mushroom,musical_keyboard,musical_note,musical_score,mute,nail_care,name_badge,neckbeard,necktie,negative_squared_cross_mark,neutral_face,new,new_moon,new_moon_with_face,newspaper,ng,nine,no_bell,no_bicycles,no_entry,no_entry_sign,no_good,no_mobile_phones,no_mouth,no_pedestrians,no_smoking,non-potable_water,nose,notebook,notebook_with_decorative_cover,notes,nut_and_bolt,o,o2,ocean,octocat,octopus,oden,office,ok,ok_hand,ok_woman,older_man,older_woman,on,oncoming_automobile,oncoming_bus,oncoming_police_car,oncoming_taxi,one,open_file_folder,open_hands,open_mouth,ophiuchus,orange_book,outbox_tray,ox,package,page_facing_up,page_with_curl,pager,palm_tree,panda_face,paperclip,parking,part_alternation_mark,partly_sunny,passport_control,paw_prints,peach,pear,pencil,pencil2,penguin,pensive,performing_arts,persevere,person_frowning,person_with_blond_hair,person_with_pouting_face,phone,pig,pig2,pig_nose,pill,pineapple,pisces,pizza,plus1,point_down,point_left,point_right,point_up,point_up_2,police_car,poodle,poop,post_office,postal_horn,postbox,potable_water,pouch,poultry_leg,pound,pouting_cat,pray,princess,punch,purple_heart,purse,pushpin,put_litter_in_its_place,question,rabbit,rabbit2,racehorse,radio,radio_button,rage,rage1,rage2,rage3,rage4,railway_car,rainbow,raised_hand,raised_hands,raising_hand,ram,ramen,rat,recycle,red_car,red_circle,registered,relaxed,relieved,repeat,repeat_one,restroom,revolving_hearts,rewind,ribbon,rice,rice_ball,rice_cracker,rice_scene,ring,rocket,roller_coaster,rooster,rose,rotating_light,round_pushpin,rowboat,ru,rugby_football,runner,running,running_shirt_with_sash,sa,sagittarius,sailboat,sake,sandal,santa,satellite,satisfied,saxophone,school,school_satchel,scissors,scorpius,scream,scream_cat,scroll,seat,secret,see_no_evil,seedling,seven,shaved_ice,sheep,shell,ship,shipit,shirt,shit,shoe,shower,signal_strength,six,six_pointed_star,ski,skull,sleeping,sleepy,slot_machine,small_blue_diamond,small_orange_diamond,small_red_triangle,small_red_triangle_down,smile,smile_cat,smiley,smiley_cat,smiling_imp,smirk,smirk_cat,smoking,snail,snake,snowboarder,snowflake,snowman,sob,soccer,soon,sos,sound,space_invader,spades,spaghetti,sparkle,sparkler,sparkles,sparkling_heart,speak_no_evil,speaker,speech_balloon,speedboat,squirrel,star,star2,stars,station,statue_of_liberty,steam_locomotive,stew,straight_ruler,strawberry,stuck_out_tongue,stuck_out_tongue_closed_eyes,stuck_out_tongue_winking_eye,sun_with_face,sunflower,sunglasses,sunny,sunrise,sunrise_over_mountains,surfer,sushi,suspect,suspension_railway,sweat,sweat_drops,sweat_smile,sweet_potato,swimmer,symbols,syringe,tada,tanabata_tree,tangerine,taurus,taxi,tea,telephone,telephone_receiver,telescope,tennis,tent,thought_balloon,three,thumbsdown,thumbsup,ticket,tiger,tiger2,tired_face,tm,toilet,tokyo_tower,tomato,tongue,top,tophat,tractor,traffic_light,train,train2,tram,triangular_flag_on_post,triangular_ruler,trident,triumph,trolleybus,trollface,trophy,tropical_drink,tropical_fish,truck,trumpet,tshirt,tulip,turtle,tv,twisted_rightwards_arrows,two,two_hearts,two_men_holding_hands,two_women_holding_hands,u5272,u5408,u55b6,u6307,u6708,u6709,u6e80,u7121,u7533,u7981,u7a7a,uk,umbrella,unamused,underage,unlock,up,us,v,vertical_traffic_light,vhs,vibration_mode,video_camera,video_game,violin,virgo,volcano,vs,walking,waning_crescent_moon,waning_gibbous_moon,warning,watch,water_buffalo,watermelon,wave,wavy_dash,waxing_crescent_moon,waxing_gibbous_moon,wc,weary,wedding,whale,whale2,wheelchair,white_check_mark,white_circle,white_flower,white_large_square,white_medium_small_square,white_medium_square,white_small_square,white_square_button,wind_chime,wine_glass,wink,wolf,woman,womans_clothes,womans_hat,womens,worried,wrench,x,yellow_heart,yen,yum,zap,zero,zzz",d=h.split(/,/),p=d.reduce(function(t,e){return t[e]=!0,t},{}),f={blacklist:{ids:[],classes:["no-emojify"],elements:["script","textarea","a","pre","code"]},tag_type:null,only_crawl_id:null,img_dir:"images/emoji",ignore_emoticons:!1,mode:"img"},g={img:"img",sprite:"span","data-uri":"span"};return s.prototype={validate:function(t,e,i){function o(){return s.lastEmojiTerminatedAt=u+e,a}var s=this,a=r(t);if(a){var l=t[0],u=l.length;if(0===e)return o();if(i.length===l.length+e)return o();var c=this.lastEmojiTerminatedAt===e;if(c)return o();if(n(i.charAt(e-1)))return o();var h=n(i.charAt(l.length+e));return h&&c?o():void 0}}},{defaultConfig:f,emojiNames:d,setConfig:function(t){Object.keys(f).forEach(function(e){e in t&&(f[e]=t[e])})},replace:a,run:l}}();return t});var Emojis=function c(){_classCallCheck(this,c),emojify.setConfig({emojify_tag_type:"span",only_crawl_id:null,img_dir:"/images/emoji",ignored_tags:{H1:1,SCRIPT:1,TEXTAREA:1,A:1,PRE:1,CODE:1}}),c.refresh()};Emojis.refresh=function(){for(var t=["messages","changelogs"],e=0;e<t.length;e++){var n=t[e],i=document.getElementsByClassName(n+"-list")[0];emojify&&i&&emojify.run(i)}};var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Flashes=function(){function t(){var e=this;_classCallCheck(this,t),this.lock=!1,this.base_url=$("[data-flashes-url]").attr("data-flashes-url"),this.flashes=_.map(_flashes,function(t){return t.seen=!1,t.selector=t.selector||"body",t}),this.modal=$("#flashModal"),this.modal.on("hidden.bs.modal",function(t){e.lock=!1,logger.log("\ud83d\udd13Lock is unlocked"),e._try_to_display()}),this._try_to_display()}return _createClass(t,[{key:"_try_to_display",value:function(){var t=!0,e=!1,n=void 0;try{for(var i,r=this.flashes[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var o=i.value;!this._isFlashOnPage(o)||o.seen||this.lock?logger.log("Flash "+o.selector+" is seen or isn't on page..."):this._display(o)}}catch(s){e=!0,n=s}finally{try{!t&&r["return"]&&r["return"]()}finally{if(e)throw n}}}},{key:"_display",value:function(t){this.lock=!0,log("\ud83d\udd12Lock is locked"),t.seen=!0,this._show_modal(t),this._mark_as_seen(t)}},{key:"_isFlashOnPage",value:function(t){return""==t.selector||$(t.selector).length>0}},{key:"_mark_as_seen",value:function(t){$.signedAjax({url:this.base_url+"/"+t.id+"/read",method:"POST"}).success(function(t){logger.log("\ud83d\udc40 Readed !",t)}).error(function(t){console.warn("Error in flash",t)})}},{key:"_show_modal",value:function(t){if(t.title&&this.modal.find("#flashModalLabel").html(t.title),t.identifier.match(/^dash-.*/)){t.identifier.replace("dash-","");this.modal.find(".modal-footer").html('<a href="'+t.url+'"  aria-hidden="true" class="btn btn-block btn-default">See dash</a>')}else this.modal.find(".modal-footer").html('<button aria-hidden="true" class="btn btn-block btn-default" data-dismiss="modal">Close</button>');this.modal.find(".modal-body").html(_.unescape(t.content)),this.modal.modal("show")}}]),t}(),Fullscreen=function h(){var t=this;_classCallCheck(this,h),$.fn.setFullScreen=function(e){t[0]&&(t[0].requestFullscreen?t[0].requestFullscreen():t[0].mozRequestFullScreen?t[0].mozRequestFullScreen():t[0].webkitRequestFullscreen&&t[0].webkitRequestFullscreen())},$("[data-toggle-fullscreen]").click(function(t){$(".page-content").setFullScreen()})},_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),InfiniteScroll=function(){function t(e){_classCallCheck(this,t);var n={navSelector:"ul.pagination",nextSelector:"ul.pagination li.next a[rel=next]",prevSelector:"ul.pagination li.prev a[rel=prev]",itemSelector:".message-item",selectorName:"messages",itemContainer:".messages-list",loading:function(t){return"Loading "+(t?"previous":"next")+" "+n.selectorName+"..."},limit:250};e=e||{},this.options=_.extend(n,e),this._refreshValues(),this.nav=$(this.options.navSelector).last(),this.nav.hide(),this.callbacks=[],this.lock=!1,this._setupReferences(),this._generateManualButtons(),this._bindManualButtons(),this._getNextItems(!0),$(document).scroll(this.paginate.bind(this)),e.onRefresh&&this.onRefresh(e.onRefresh)}return _createClass(t,[{key:"_setupReferences",value:function(){var t=$(this.options.itemContainer+" "+this.options.itemSelector).first(),e=$(this.options.itemContainer+" "+this.options.itemSelector).last();this.start=t?t.attr("data-index"):0,this.end=e?e.attr("data-index"):0}},{key:"paginate",value:function(t){var e=this._isScrollUp();return e&&0==$(document).scrollTop()&&this.scroll>350?(t.preventDefault(),t.stopImmediatePropagation(),$("body").scrollTop(this.scroll),!1):(this._refreshValues(),void(this._needMoreContent(e)&&this._getNextItems(e)))}},{key:"_needMoreContent",value:function(t){if(t)return this.scroll<this.options.limit;var e=this.docHeight-(this.winHeight+this.scroll);return e<this.options.limit}},{key:"onRefresh",value:function(t){this.callbacks.push(t)}},{key:"_addLoader",value:function(t){var e='<h1 class="infinite-loader marked-title" style="text-align: center; font-size: 1.2em">\n      '+this.options.loading(t)+"\n    </h1>";t?$(this.options.itemContainer).prepend(e):$(this.options.itemContainer).append(e),t?$("[data-load-previous]").remove():$("[data-load-next]").remove()}},{key:"_removeLoader",value:function(){$(this.options.itemContainer+" .infinite-loader").remove()}},{key:"_generateManualButtons",value:function(){return $(this.options.prevSelector).length>0&&$(this.options.itemContainer).prepend($('<div class="btn btn-block btn-primary" data-load-previous>Load previous '+this.options.selectorName+"</div>")),$(this.options.nextSelector).length>0&&$(this.options.itemContainer).append($('<div class="btn btn-block btn-primary" data-load-next>Load next '+this.options.selectorName+"</div>")),this}},{key:"_clearManualButtons",value:function(){$("[data-load-previous], [data-load-next]").remove()}},{key:"_bindManualButtons",value:function(){var t=this;$(document).on("click","[data-load-previous]",function(e){t._getNextItems(!0)}),$(document).on("click","[data-load-next]",function(e){t._getNextItems(!1)})}},{key:"_getNextItems",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],n=e?this.options.prevSelector:this.options.nextSelector;if(!($(n).length>0))return!1;var i=function(){var i=$(n).first(),r=$(i).attr("href");return!t.lock&&r?(i.remove(),t._addLoader(e),t.lock=!0,$.get(r,function(r){var o=$(r).find(n).parent();t.nav.append(o),t.nav=$(t.options.navSelector);var s=$(r).find(t.options.itemSelector);if(e){var a=$(t.options.itemContainer+" "+t.options.itemSelector).first(),l=-document.querySelector("[data-id='"+a.attr("data-id")+"']").getBoundingClientRect().top;a.before(s),a.prevAll().each(function(){l+=$(this).outerHeight()}),$("body").scrollTop(l)}else{var u=$(t.options.itemContainer+" fantom-item").detach(),c=$(t.options.itemContainer+" [data-id='virtual']").detach();$(t.options.itemContainer+" "+t.options.itemSelector).last().after(s),$(t.options.itemContainer+" "+t.options.itemSelector).last().after(u),$(t.options.itemContainer+" "+t.options.itemSelector).last().after(c)}t.lock=!1,t._removeLoader(),t._generateManualButtons(),_.each(t.callbacks,function(t){return t(i[0])})}),{v:!0}):void 0}();return"object"==typeof i?i.v:void 0}},{key:"_isScrollUp",value:function(){return this.scroll>$(document).scrollTop()}},{key:"_refreshValues",value:function(){this.docHeight=$(document).innerHeight(),this.winHeight=$(window).innerHeight(),this.scroll=$(document).scrollTop()}}]),t}(),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Lockable=function(){function t(){var e=this;_classCallCheck(this,t);var n=this._form_to_data;$("[data-lockable-url]").length&&setInterval(function(t){return e._synchronize_locked($("[data-lockable-url]").data("lockable-url"))},1e4),$("[data-check-lock-url]").length&&setInterval(function(t){return e._check_locked($("[data-check-lock-url]").data("check-lock-url"))},1e4),$("#lock_taken .roger").click(function(t){$("form").submit(function(t){return $.ajax({url:$(e).attr("action"),data:n($("form")),type:"POST",dataType:"JSON"}).success(function(t){document.location.href=$("#lock_taken .roger").attr("href")}),!1}),$("form").submit()})}return _createClass(t,[{key:"_synchronize_locked",value:function(t){$.getScript(t)}},{key:"_check_locked",value:function(t){$.getJSON(t,function(t){"OK"!=t.res&&($("#lock_taken .modal-body").html(t.res||""),$("#lock_taken").modal("show"))})}},{key:"_form_to_data",value:function(t){$.map($(t).find("input, select, textarea"),function(t){return $(t).attr("name")+"="+$(t).val()}).join("&")}}]),t}(),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),ManageAttachments=function(){function t(){var e=this;_classCallCheck(this,t),$.getJSON($("[data-attachments-url]").data("attachments-url"),function(t){e.values=t,$("form .attachment_kind input:hidden").each(function(t,n){0==$(n).parents("form").find(".attachment_fields input").length&&e.changed(n,$(n).val())})}),$("form").on("change","#attachment_select",function(t){e.changed(t.target)})}return _createClass(t,[{key:"changed",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?$(t).find("option:checked").html().toLowerCase():arguments[1];return function(){var n=$(t).parents(".form-group").siblings(".attachment_fields"),i=(new Date).getTime(),r=$(t).attr("name"),o="<div class='form-group input optional project_attachements'>";_.each(this.values[e],function(n,s){if(o+="<div class='col-sm-12'><input class='hidden optional form-control' value='"+e+"' name='"+r.replace("[kind]","[attachable_attributes]["+i+"][attachable_type]]")+"' /></div>",o+="<label class='select optional col-sm-2 control-label' for='project_attachements_attributes_"+i+"_"+s+"'>"+s+"</label>",o+="<div class='col-sm-10'>","string"==n)o+="<input class='input optional form-control' id='project_attachements_attributes_"+i+"_"+s+"' name='"+r.replace("[kind]","[attachable_attributes]["+i+"]["+s+"]")+"' />";else if("text"==n)o+="<textarea class='text optional form-control' id='project_attachements_attributes_"+i+"_"+s+"' name='"+r.replace("[kind]","[attachable_attributes]["+i+"]["+s+"]")+"' />";else if("upload"==n){o+="<input class='file optional form-control' type='file' id='project_attachements_attributes_"+i+"_"+s+"' name='"+r.replace("[kind]","[attachable_attributes]["+i+"]["+s+"]")+"' />";var a=$(t).parents("form").first();a&&a.attr("enctype","multipart/form-data")}o+="</div>"}),o+="</div>",$(n).html(o)}.apply(this,arguments)}}]),t}();(function(){function t(t){this.tokens=[],this.tokens.links={},this.options=t||u.defaults,this.rules=c.normal,this.options.gfm&&(this.options.tables?this.rules=c.tables:this.rules=c.gfm)}function e(t,e){if(this.options=e||u.defaults,this.links=t,this.rules=h.normal,this.renderer=this.options.renderer||new n,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=h.breaks:this.rules=h.gfm:this.options.pedantic&&(this.rules=h.pedantic)}function n(t){this.options=t||{}}function i(t){this.tokens=[],this.token=null,this.options=t||u.defaults,this.options.renderer=this.options.renderer||new n,this.renderer=this.options.renderer,this.renderer.options=this.options}function r(t,e){return t.replace(e?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function o(t){return t.replace(/&([#\w]+);/g,function(t,e){return e=e.toLowerCase(),"colon"===e?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""})}function s(t,e){return t=t.source,e=e||"",function n(i,r){return i?(r=r.source||r,r=r.replace(/(^|[^\[])\^/g,"$1"),t=t.replace(i,r),n):new RegExp(t,e)}}function a(){}function l(t){for(var e,n,i=1;i<arguments.length;i++){e=arguments[i];for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t}function u(e,n,o){if(o||"function"==typeof n){o||(o=n,n=null),n=l({},u.defaults,n||{});var s,a,c=n.highlight,h=0;try{s=t.lex(e,n)}catch(d){return o(d)}a=s.length;var p=function(t){if(t)return n.highlight=c,o(t);var e;try{e=i.parse(s,n)}catch(r){t=r}return n.highlight=c,t?o(t):o(null,e)};if(!c||c.length<3)return p();if(delete n.highlight,!a)return p();for(;h<s.length;h++)!function(t){return"code"!==t.type?--a||p():c(t.text,t.lang,function(e,n){return e?p(e):null==n||n===t.text?--a||p():(t.text=n,t.escaped=!0,void(--a||p()))})}(s[h])}else try{return n&&(n=l({},u.defaults,n)),i.parse(t.lex(e,n),n)}catch(d){if(d.message+="\nPlease report this to https://github.com/chjj/marked.",(n||u.defaults).silent)return"<p>An error occured:</p><pre>"+r(d.message+"",!0)+"</pre>";throw d}}var c={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:a,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:a,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:a,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};c.bullet=/(?:[*+-]|\d+\.)/,c.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,c.item=s(c.item,"gm")(/bull/g,c.bullet)(),c.list=s(c.list)(/bull/g,c.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+c.def.source+")")(),c.blockquote=s(c.blockquote)("def",c.def)(),c._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",c.html=s(c.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,c._tag)(),c.paragraph=s(c.paragraph)("hr",c.hr)("heading",c.heading)("lheading",c.lheading)("blockquote",c.blockquote)("tag","<"+c._tag)("def",c.def)(),c.normal=l({},c),c.gfm=l({},c.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),c.gfm.paragraph=s(c.paragraph)("(?!","(?!"+c.gfm.fences.source.replace("\\1","\\2")+"|"+c.list.source.replace("\\1","\\3")+"|")(),c.tables=l({},c.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),t.rules=c,t.lex=function(e,n){var i=new t(n);return i.lex(e)},t.prototype.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(t,!0)},t.prototype.token=function(t,e,n){for(var i,r,o,s,a,l,u,h,d,t=t.replace(/^ +$/gm,"");t;)if((o=this.rules.newline.exec(t))&&(t=t.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(t))t=t.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});else if(o=this.rules.fences.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]||""});else if(o=this.rules.heading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(e&&(o=this.rules.nptable.exec(t))){for(t=t.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")},h=0;h<l.align.length;h++)/^ *-+: *$/.test(l.align[h])?l.align[h]="right":/^ *:-+: *$/.test(l.align[h])?l.align[h]="center":/^ *:-+ *$/.test(l.align[h])?l.align[h]="left":l.align[h]=null;for(h=0;h<l.cells.length;h++)l.cells[h]=l.cells[h].split(/ *\| */);this.tokens.push(l)}else if(o=this.rules.lheading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(o=this.rules.hr.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,e,!0),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(t)){for(t=t.substring(o[0].length),s=o[2],this.tokens.push({type:"list_start",ordered:s.length>1}),o=o[0].match(this.rules.item),i=!1,d=o.length,h=0;d>h;h++)l=o[h],u=l.length,l=l.replace(/^ *([*+-]|\d+\.) +/,""),~l.indexOf("\n ")&&(u-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+u+"}","gm"),"")),this.options.smartLists&&h!==d-1&&(a=c.bullet.exec(o[h+1])[0],s===a||s.length>1&&a.length>1||(t=o.slice(h+1).join("\n")+t,h=d-1)),r=i||/\n\n(?!\s*$)/.test(l),h!==d-1&&(i="\n"===l.charAt(l.length-1),r||(r=i)),this.tokens.push({type:r?"loose_item_start":"list_item_start"}),this.token(l,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(t))t=t.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:o[0]});else if(!n&&e&&(o=this.rules.def.exec(t)))t=t.substring(o[0].length),this.tokens.links[o[1].toLowerCase()]={href:o[2],title:o[3]};else if(e&&(o=this.rules.table.exec(t))){for(t=t.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")},h=0;h<l.align.length;h++)/^ *-+: *$/.test(l.align[h])?l.align[h]="right":/^ *:-+: *$/.test(l.align[h])?l.align[h]="center":/^ *:-+ *$/.test(l.align[h])?l.align[h]="left":l.align[h]=null;for(h=0;h<l.cells.length;h++)l.cells[h]=l.cells[h].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(l)}else if(e&&(o=this.rules.paragraph.exec(t)))t=t.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return this.tokens};var h={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:a,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:a,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};h._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,h._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,h.link=s(h.link)("inside",h._inside)("href",h._href)(),h.reflink=s(h.reflink)("inside",h._inside)(),h.normal=l({},h),h.pedantic=l({},h.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),h.gfm=l({},h.normal,{escape:s(h.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:s(h.text)("]|","~]|")("|","|https?://|")()}),h.breaks=l({},h.gfm,{br:s(h.br)("{2,}","*")(),text:s(h.gfm.text)("{2,}","*")()}),e.rules=h,e.output=function(t,n,i){var r=new e(n,i);return r.output(t)},e.prototype.output=function(t){for(var e,n,i,o,s="";t;)if(o=this.rules.escape.exec(t))t=t.substring(o[0].length),s+=o[1];else if(o=this.rules.autolink.exec(t))t=t.substring(o[0].length),
"@"===o[2]?(n=":"===o[1].charAt(6)?this.mangle(o[1].substring(7)):this.mangle(o[1]),i=this.mangle("mailto:")+n):(n=r(o[1]),i=n),s+=this.renderer.link(i,null,n);else if(this.inLink||!(o=this.rules.url.exec(t))){if(o=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(o[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(o[0])&&(this.inLink=!1),t=t.substring(o[0].length),s+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):r(o[0]):o[0];else if(o=this.rules.link.exec(t))t=t.substring(o[0].length),this.inLink=!0,s+=this.outputLink(o,{href:o[2],title:o[3]}),this.inLink=!1;else if((o=this.rules.reflink.exec(t))||(o=this.rules.nolink.exec(t))){if(t=t.substring(o[0].length),e=(o[2]||o[1]).replace(/\s+/g," "),e=this.links[e.toLowerCase()],!e||!e.href){s+=o[0].charAt(0),t=o[0].substring(1)+t;continue}this.inLink=!0,s+=this.outputLink(o,e),this.inLink=!1}else if(o=this.rules.strong.exec(t))t=t.substring(o[0].length),s+=this.renderer.strong(this.output(o[2]||o[1]));else if(o=this.rules.em.exec(t))t=t.substring(o[0].length),s+=this.renderer.em(this.output(o[2]||o[1]));else if(o=this.rules.code.exec(t))t=t.substring(o[0].length),s+=this.renderer.codespan(r(o[2],!0));else if(o=this.rules.br.exec(t))t=t.substring(o[0].length),s+=this.renderer.br();else if(o=this.rules.del.exec(t))t=t.substring(o[0].length),s+=this.renderer.del(this.output(o[1]));else if(o=this.rules.text.exec(t))t=t.substring(o[0].length),s+=this.renderer.text(r(this.smartypants(o[0])));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else t=t.substring(o[0].length),n=r(o[1]),i=n,s+=this.renderer.link(i,null,n);return s},e.prototype.outputLink=function(t,e){var n=r(e.href),i=e.title?r(e.title):null;return"!"!==t[0].charAt(0)?this.renderer.link(n,i,this.output(t[1])):this.renderer.image(n,i,r(t[1]))},e.prototype.smartypants=function(t){return this.options.smartypants?t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026"):t},e.prototype.mangle=function(t){if(!this.options.mangle)return t;for(var e,n="",i=t.length,r=0;i>r;r++)e=t.charCodeAt(r),Math.random()>.5&&(e="x"+e.toString(16)),n+="&#"+e+";";return n},n.prototype.code=function(t,e,n){if(this.options.highlight){var i=this.options.highlight(t,e);null!=i&&i!==t&&(n=!0,t=i)}return e?'<pre><code class="'+this.options.langPrefix+r(e,!0)+'">'+(n?t:r(t,!0))+"\n</code></pre>\n":"<pre><code>"+(n?t:r(t,!0))+"\n</code></pre>"},n.prototype.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},n.prototype.html=function(t){return t},n.prototype.heading=function(t,e,n){return"<h"+e+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+t+"</h"+e+">\n"},n.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},n.prototype.list=function(t,e){var n=e?"ol":"ul";return"<"+n+">\n"+t+"</"+n+">\n"},n.prototype.listitem=function(t){return"<li>"+t+"</li>\n"},n.prototype.paragraph=function(t){return"<p>"+t+"</p>\n"},n.prototype.table=function(t,e){return"<table>\n<thead>\n"+t+"</thead>\n<tbody>\n"+e+"</tbody>\n</table>\n"},n.prototype.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},n.prototype.tablecell=function(t,e){var n=e.header?"th":"td",i=e.align?"<"+n+' style="text-align:'+e.align+'">':"<"+n+">";return i+t+"</"+n+">\n"},n.prototype.strong=function(t){return"<strong>"+t+"</strong>"},n.prototype.em=function(t){return"<em>"+t+"</em>"},n.prototype.codespan=function(t){return"<code>"+t+"</code>"},n.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},n.prototype.del=function(t){return"<del>"+t+"</del>"},n.prototype.link=function(t,e,n){if(this.options.sanitize){try{var i=decodeURIComponent(o(t)).replace(/[^\w:]/g,"").toLowerCase()}catch(r){return""}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:"))return""}var s='<a href="'+t+'"';return e&&(s+=' title="'+e+'"'),s+=">"+n+"</a>"},n.prototype.image=function(t,e,n){var i='<img src="'+t+'" alt="'+n+'"';return e&&(i+=' title="'+e+'"'),i+=this.options.xhtml?"/>":">"},n.prototype.text=function(t){return t},i.parse=function(t,e,n){var r=new i(e,n);return r.parse(t)},i.prototype.parse=function(t){this.inline=new e(t.links,this.options,this.renderer),this.tokens=t.reverse();for(var n="";this.next();)n+=this.tok();return n},i.prototype.next=function(){return this.token=this.tokens.pop()},i.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},i.prototype.parseText=function(){for(var t=this.token.text;"text"===this.peek().type;)t+="\n"+this.next().text;return this.inline.output(t)},i.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var t,e,n,i,r,o="",s="";for(n="",t=0;t<this.token.header.length;t++)i={header:!0,align:this.token.align[t]},n+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(o+=this.renderer.tablerow(n),t=0;t<this.token.cells.length;t++){for(e=this.token.cells[t],n="",r=0;r<e.length;r++)n+=this.renderer.tablecell(this.inline.output(e[r]),{header:!1,align:this.token.align[r]});s+=this.renderer.tablerow(n)}return this.renderer.table(o,s);case"blockquote_start":for(var s="";"blockquote_end"!==this.next().type;)s+=this.tok();return this.renderer.blockquote(s);case"list_start":for(var s="",a=this.token.ordered;"list_end"!==this.next().type;)s+=this.tok();return this.renderer.list(s,a);case"list_item_start":for(var s="";"list_item_end"!==this.next().type;)s+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(s);case"loose_item_start":for(var s="";"list_item_end"!==this.next().type;)s+=this.tok();return this.renderer.listitem(s);case"html":var l=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(l);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},a.exec=a,u.options=u.setOptions=function(t){return l(u.defaults,t),u},u.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new n,xhtml:!1},u.Parser=i,u.parser=i.parse,u.Renderer=n,u.Lexer=t,u.lexer=t.lex,u.InlineLexer=e,u.inlineLexer=e.output,u.parse=u,"undefined"!=typeof module&&"object"==typeof exports?module.exports=u:"function"==typeof define&&define.amd?define(function(){return u}):this.marked=u}).call(function(){return this||("undefined"!=typeof window?window:global)}());var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Markdownable=function(){function t(e){if(_classCallCheck(this,t),void 0==marked)logger.warn("Unable to find marked for client-side markdown compilation.");else{var n={markdownSelector:"[data-markdownable]",markdownAttribute:"data-markdownable"};this.opts=_.extend(n,e),this._generateMarkdown()}}return _createClass(t,[{key:"_generateMarkdown",value:function(){var t=this;$(this.opts.markdownSelector).each(function(){$(this).html(marked($(this).attr(t.opts.markdownAttribute).trim()))})}}]),t}();Markdownable.singleton=void 0,Markdownable.get=function(){return void 0===Markdownable.singleton&&(Markdownable.singleton=new Markdownable),Markdownable.singleton},Markdownable._generateMarkdown=function(){Markdownable.get()._generateMarkdown()};var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),MultipleActions=function(){function t(){_classCallCheck(this,t),this.selector=".table.admin_table",$(this.selector).length&&(this.bindAll(),$(this.selector).find(".btns").hide(),this.on_select_click())}return _createClass(t,[{key:"bindAll",value:function(){$(this.selector).on("click",".select.all",this.on_select_all_click.bind(this)),$(this.selector).on("click",".select.one",this.on_select_one_click.bind(this)),$(this.selector).on("click",".select",this.on_select_click.bind(this))}},{key:"on_select_click",value:function(t){var e=this;void 0!=t&&($(t.target).parents(this.selector).find(".btns")[$(t.target).parents(this.selector).find(".select.one").filter(":checked").length?"show":"hide"](),$(t.target).parents(this.selector).find(".btns a").each(function(n,i){var r=Array.from($(t.target).parents(e.selector).find(".select.one").filter(":checked"),function(t){return $(t).data("id")});r=r.to_rails_params($(t.target).parents(e.selector).data("model")),$(i).attr("href",$(i).attr("href").split("?")[0]+"?"+r)}))}},{key:"on_select_all_click",value:function(t){$(t.target).parents(this.selector).find(".select.one").prop("checked",!$(t.target).parents(this.selector).find(".select.one").filter(":checked").length),$(t.target).prop("checked",$(t.target).parents(this.selector).find(".select.one").filter(":checked").length)}},{key:"on_select_one_click",value:function(t){$(t.target).parents(this.selector).find(".select.all").prop("checked",!$(t.target).parents(this.selector).find(".select.one").not(":checked").length)}}]),t}(),Overlay=function p(t){var e=this;_classCallCheck(this,p);var n={selector:"data-overlay",trigger:"data-overlay-trigger",openClass:"open",closeSelector:".close",widthSelector:"data-overlay-width"};this.opts=_.extend(n,t),$("["+this.opts.trigger+"]").click(function(t){(0==$("["+e.opts.widthSelector+"]").length||$(window).width()<=parseInt($("["+e.opts.widthSelector+"]").attr(e.opts.widthSelector)))&&$("["+e.opts.selector+"]").toggleClass(""+e.opts.openClass)}),$("["+this.opts.selector+"] "+this.opts.closeSelector+", ["+this.opts.selector+"]").click(function(t){$("["+e.opts.selector+"]").removeClass(""+e.opts.openClass)})},_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),RemotePagination=function(){function t(){_classCallCheck(this,t),$("a[data-remote]").parents("[data-scroll]").length>0&&$(window).scroll(function(t){url=$(".pagination a[rel=next]").attr("href"),url&&$(window).scrollTop()>$(document).height()-$(window).height()-50&&($(".pagination").html("<li><span>Loading...</span></li>"),$.getScript(url+"?scroll=true"))}),this.loading_animation(),$(document).ajaxComplete(this.loading_animation)}return _createClass(t,[{key:"loading_animation",value:function(){var t=this;0!=$(".pagination a[data-remote]").length&&($("a[data-remote]").length>0&&0==$("a[data-remote]").parents("[data-scroll]").length&&$(".pagination").on("click","a[data-remote=true]",function(e){history.pushState("","New URL: "+$(t).attr("href"),$(t).attr("href")),$("ul.pagination").empty().html("<li><span>Loading...</span></li>"),$(window).scrollTop()>$("#main-container").offset().top-50&&$("html, body").animate({scrollTop:$("#main-container").offset().top-50},"fast")}),$("a[data-remote]").parents("[data-scroll]").length>0&&$(".pagination").hide())}}]),t}(),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),MenuTrigger=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];_classCallCheck(this,t),this.enabled=e,this._registerEvents()}return _createClass(t,[{key:"_registerEvents",value:function(){var t=this;this.enabled?$("[data-trigger-menu]").on("click",function(e){$(".left-main-container").toggleClass("opened"),$(t).toggleClass("closed")}):$("[data-trigger-menu]").hide()}}]),t}(),ScrollSpy=function f(){_classCallCheck(this,f),$("body").scrollspy({target:"#navbar-scale",offset:30})},_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Sort=function(){function t(){var e=this;_classCallCheck(this,t),this.sortables=[];var n=this._update;$("ul[data-sortable]").each(function(t,i){var r=$(i),o=r.data("group"),s={group:o,onUpdate:function(){n(r.data("update-url"),o,this.toArray())}};e.sortables.push(new Sortable(i,s))})}return _createClass(t,[{key:"_update",value:function(t,e,n){var i={};i[e]=n,$.post(t,i,function(t){noty({layout:"topRight",type:"success",text:"Updated",timeout:4e3})})}}]),t}(),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Tags=function(){function t(){_classCallCheck(this,t),$("[data-filter-tags]").keyup(function(){var t=_.snakeCase($(this).val().toLowerCase());$(".sidebar-tag-item").show(),t.length>0&&$(".sidebar-tag-item:not([data-tag-name*='"+t+"'])").hide()}),$("[data-tag-collapse]").each(this.onCollapse()),$("[data-tag-collapse]").click(this.onCollapse())}return _createClass(t,[{key:"onCollapse",value:function(){var t="iconf-minus-1",e="iconf-add-1";return function(){$(this).hasClass(e)?$(this).removeClass(e).addClass(t):$(this).removeClass(t).addClass(e);var n=$(this).parent().attr("data-tag-kind");$(".sidebar-tag-item[data-tag-kind='"+n+"']").toggle()}}}]),t}(),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),UserLink=function(){function t(e){_classCallCheck(this,t);var n={linkSelector:"[data-user-link]",loginAttr:"data-user-link",profileBaseUrl:$(".main-left-navbar a").first().attr("href")};this.opts=_.extend(n,e),this._bindUserLinks()}return _createClass(t,[{key:"_bindUserLinks",value:function(){$(this.opts.linkSelector).hover(this._onHover,this._onLeave)}},{key:"_onHover",value:function(t){var e=$(t.target),n=e.attr(this.opts.loginAttr);$("body").append(this._getPopupTemplate(n)),this._showBubbleFor(n,e)}},{key:"_getTriggerPosition",value:function(t,e){return{left:$(t).offset().left+$(t).innerWidth()/2-$(e).innerWidth()/2,top:$(t).offset().top-$(e).innerHeight()}}},{key:"_onLeave",value:function(t){var e=$(t.target),n=e.attr(this.opts.loginAttr);$("[data-user-popup='"+n+"']").remove()}},{key:"_showBubbleFor",value:function(t,e){var n=this;$.ajax({crossDomain:!0,type:"GET",dataType:"jsonp",url:this.opts.profileBaseUrl+"/users/"+t+".json",done:function(i){$("[data-user-popup='"+t+"']").html(n._getPopupContent(i.user)),newPopover=$("[data-user-popup='"+t+"']"),newPopover.css(n._getTriggerPosition(e,newPopover))}})}},{key:"_getPopupTemplate",value:function(t){return'\n    <div class="pop-over user-pop-over" role="tooltip" data-user-popup="'+t+'" style="position: absolute">\n      <h3 class="marked-title">Loading...</h3>\n    </div>\n    '}},{key:"_getPopupContent",value:function(t){return'\n        <div class="user-popup-image" style="background-image: url(https://cdn.intra.42.fr/userprofil/'+t.login+'.jpg)">\n        </div>\n        <div class="user-popup-info">\n          <h3 class="user-popup-login">'+t.full_name+'</h3>\n          <span class="user-popup-email marked-title">\n            <span class="icon-envelope"></span>\n            '+t.email+'\n          </span>\n          <h5 class="user-popup-location">\n            <span data-user-location="'+t.location+'" class="icon-circle"></span>\n            '+(t.location||"unavailable")+"\n          </h5>\n        </div>\n        "}}]),t}(),MarkdownPreview=function g(t){_classCallCheck(this,g);var e={bindSelector:"data-markdown-preview"};this.opts=_.extend(e,t);var n=this;$("["+this.opts.bindSelector+"]").each(function(t){var e=this,i=$(this).attr(n.opts.bindSelector);i&&($(e).html(marked($(i).val())),$(i).keyup(function(){$(e).html(marked($(this).val()))}))})},SimplePreview=function m(t){_classCallCheck(this,m);var e={bindSelector:"data-simple-preview"};this.opts=_.extend(e,t);var n=this;$("["+this.opts.bindSelector+"]").each(function(t){var e=this,i=$(this).attr(n.opts.bindSelector);i&&$(i).keyup(function(){$(e).html($(this).val())})})},_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),UserTooltip=function(){function t(){_classCallCheck(this,t);var e=this,n=500,i=null;$(".page").on("mouseenter","[data-tooltip-login]",function(){var t=$(this).data("tooltip-login"),r=$(this).data("tooltip-url"),o=$(this);i=setTimeout(function(n){0==$("[data-tooltip="+t+"]").length?0==e.checkIfOldTooltip(o,t)&&e.request(o,t,r):e.displayTooltip(o)},n)}),$(".page").on("mouseout","[data-tooltip-login]",function(){clearTimeout(i),$("[data-tooltip="+$(this).data("tooltip-login")+"]").css("visibility","hidden"),$("[data-tooltip]").css("visibility","hidden")})}return _createClass(t,[{key:"displayTooltip",value:function(t){$("[data-tooltip]").css("visibility","hidden");var e=t.data("tooltip-login");if(void 0!=$("[data-tooltip-login="+e+"]:hover")[0]){var n=t.first().offset(),i=t.first().innerWidth(),r=$("[data-tooltip="+e+"]").innerWidth();$("[data-tooltip="+e+"]").css("top",n.top-90+"px").css("left",n.left-r/2+i/2+"px").css("position","absolute").css("visibility","visible")}}},{key:"checkIfOldTooltip",value:function(t,e){var n=JSON.parse(sessionStorage.getItem(e));return null==n?!1:(this.addTooltipTemplate(n),this.displayTooltip(t),!0)}},{key:"request",value:function(t,e,n){var i=this;$.ajax({url:n+"/users/"+e+".json?ams=true",xhrFields:{withCredentials:!0},async:!0,success:function(e){i.addUserTooltip(e),i.displayTooltip(t)},error:function(t){return console.error("ajax error "+e+":"),console.log(t),null}})}},{key:"cleanInfo",value:function(t){var e=!1;if(t.location&&null!=t.location||(t.location="unavailable"),t.groups.length>0){var n=_.pluck(t.groups,"name").join(", ");t.groups=" \u2013 "+n,n.search("staff")>=0&&(e=!0,t.cursus=n,t.groups="")}if(t.cursus.length>0&&!e){var i=_.map(t.cursus,function(t){var e=_.keys(t)[0],n=Math.round(100*t[e].level)/100;return e+": lvl "+n}).join(", ");t.cursus=i}return t}},{key:"addTooltipTemplate",value:function(t){$("body").append("<div data-tooltip='"+t.login+"' class='tooltip-content'>\n		<div class='tooltip-img bg-image-item rounded' style='background-image: url("+t.image_url+")'></div>\n		<small><p class='tooltip-title'>"+t.full_name+"</p>\n		<p>"+t.location+"\n		"+t.groups+"</br>\n		"+t.cursus+"</p></small></div>")}},{key:"addUserTooltip",value:function(t){var e=this.cleanInfo(t);sessionStorage.setItem(e.login,JSON.stringify(e)),this.addTooltipTemplate(e)}}]),t}(),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Common=function(){function t(){var e=this;_classCallCheck(this,t),$(document).ready(function(t){e._ready()})}return _createClass(t,[{key:"_ready",value:function(){new BootstrapHelper,new ScrollSpy,new SimpleForm,new DataDate,new Importer,new Markdownable,new MarkdownPreview,new SimplePreview,void 0!=_flashes&&new Flashes,new Cache,new Copy,new Emojis,$("[data-attachments-url]").length&&new ManageAttachments,new Lockable,new Markdownable,new MultipleActions,new Overlay,new RemotePagination,new MenuTrigger,new Tags,new UserLink,new UserTooltip,new Sort,new Fullscreen,new Smart,new TypeaheadHelper,new TypeaheadSearch,new CallbackMessage,this._emitReady(),autosize(document.querySelectorAll("textarea")),DataEvents.refresh()}},{key:"_emitReady",value:function(){document.dispatchEvent(new Event("intra.ready")),$(".js-hidden").addClass("js-active").removeClass("js-hidden"),this.ready()}}]),t}(),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),BaseComponent=function(){function t(e,n){_classCallCheck(this,t),this.name=e,this.root=n,this.data=[],this._renderTemplate(),this.verbose=!0,this.bindEvents=["new","update","progress"],this.counterClass=".labeled",this.dispatcher=window.dispatcher||!1}return _createClass(t,[{key:"_channelNameFor",value:function(t){return this.name+"."+t}},{key:"_renderTemplate",value:function(){return""}},{key:"bind",value:function(t){switch(t){case"new":return this._onNew;case"update":return this._onUpdate;case"progress":return this._onProgress;default:return console.warn("Event "+t+" can't be binded on component..."),!1}}},{key:"_onNew",value:function(t){log("[new] requested !",t)}},{key:"_onUpdate",value:function(t){log("[update] requested !",t)}},{key:"_onProgress",value:function(t){this.verbose&&log("["+this.name+"] Progress "+this.name+" requested !",t)}},{key:"bindHandlers",value:function(t){var e=(arguments.length<=1||void 0===arguments[1]?"?":arguments[1],!0),n=!1,i=void 0;try{for(var r,o=this.bindEvents[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var s=r.value;t.bind(this._channelNameFor(s),this.bind(s))}}catch(a){n=!0,i=a}finally{try{!e&&o["return"]&&o["return"]()}finally{if(n)throw i}}}},{key:"bindPublicHandlers",value:function(t){this.dispatcher=t,this.bindHandlers(t.subscribe("global"),"global")}},{key:"_incrementCounters",value:function(){if(void 0!=this.root&&$(this.root).find(this.counterClass).length>0){var t=parseInt($(this.root).find(this.counterClass).text());$(this.root).find(this.counterClass).html(t+1),$(this.root).find(this.counterClass).attr("data-counter-count",t+1)}}},{key:"_resetCounters",value:function(){void 0!=this.root&&$(this.root).find(this.counterClass).length>0&&($(this.root).find(this.counterClass).html(0),$(this.root).find(this.counterClass).attr("data-counter-count",0))}}]),t}(),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,s=n;i=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var u=Object.getPrototypeOf(r);if(null===u)return void 0;t=u,e=o,n=s,i=!0,a=u=void 0}},DropComponent=function(t){function e(t,n){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,n),this.dateEvents=DataDate.get(),this.containerSelector=".notifications-container",this.url=$(this.containerSelector).attr("data-notifications-url"),this.data=[],this._handleEvents(),this._askForNotifications(function(t){console.info("Notifications")}),this.render()}return _inherits(e,t),_createClass(e,[{key:"render",value:function(){this.data=_.sortBy(this.data,function(t){return t.updated_at||t.text||t.progress}).reverse(),$(this.containerSelector).html(this._renderTemplate()),this.dateEvents&&this.dateEvents._updateAll(),this._position()}},{key:"_renderTemplate",value:function(){return this.template='\n      <header class="notifications--header">\n        <span>notifications</span>\n        <a href="'+this.url+'">See all notifications</a>\n      </header>\n      <ul class="menu-drop-list">'+_.map(this.data,this._renderCellTemplate).join("")+"</ul>\n    ",this.template}},{key:"_renderCellTemplate",value:function(t){return'\n    <li class="menu-drop-item dancer '+(t.read?"read":"unread")+'">\n      <a href="'+(t.link||"#")+'">\n    '+(t.image?'<div class="menu-drop-image full-bg square-s" style="background-image: url('+t.image+')"></div>':"")+('\n        <div class="menu-drop-content">\n        '+(t.title?'<div class="menu-drop-title">'+t.title+"</div>":"")+"\n        "+(t.text?'<div class="menu-drop-text">'+t.text+"</div>":"")+"\n        "+(t.updated_at?'<span class="menu-drop-created" data-short-date="'+t.updated_at+'">'+t.updated_at+"</span>":"")+"\n        "+(t.progress?'<div class="menu-drop-progress"><div class="progress"><div class="progress-bar" style="width:'+t.progress+'%"></div></div></div>':"")+"\n        </div>\n      </a>\n    </li>\n    ")}},{key:"_onNew",value:function(t){this.verbose&&log("["+this.name+"] New "+this.name+" requested !",t),this._addItem(t),this._createNotification(t)}},{key:"_onUpdate",value:function(t){this.verbose&&log("["+this.name+"] Update "+this.name+" requested !",t),this._updateItem(t)}},{key:"_onProgress",value:function(t){if(this.verbose&&log("["+this.name+"] Progress "+this.name+" requested !",t),t.progress){var e=_.findWhere(_notifications.read,{concern:t.concern});e&&(e.progress=t.progress,this._updateItem(t))}}},{key:"_askForNotifications",value:function(t){return"granted"==Notification.permission?!0:("denied"!=Notification.permission&&Notification.requestPermission(t),"granted"==Notification.permission)}},{key:"_createNotification",value:function(t){return content=t.title+": "+t.text,"Notification"in window?"granted"==Notification.permission?(notification=new Notification(content),notification.onClick=function(e){document.location=t.link}):"denied"!=Notification.permission&&this._askForNotifications(function(e){notification=new Notification(content),notification.onClick=function(e){document.location=t.link}}):console.warn("This browser does not support desktop notification"),"granted"==Notification.permission}},{key:"_addItem",value:function(t){t=this._filterObject(t),t.onCurrentPage()||(this.data.unshift(t),this.render(),t.read||this._incrementCounters())}},{key:"_updateItem",value:function(t){if(t.read=!1,t=this._filterObject(t),!t.onCurrentPage()){var e=_.findWhere(this.data,{title:t.title,concern:t.concern});e&&(this.data=_.reject(this.data,{title:t.title,concern:t.concern}),this.data.unshift(t),this.render(),e&&e.read&&this._incrementCounters())}}},{key:"_onOpen",value:function(){var t=this;$(this.containerSelector).addClass("open"),this.data.length>0&&(this.readingTimeout=setTimeout(function(e){var n=!0,i=!1,r=void 0;try{for(var o,s=t.data[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){o.value;t.data.read=!0}}catch(a){i=!0,r=a}finally{try{!n&&s["return"]&&s["return"]()}finally{if(i)throw r}}$(t.containerSelector+" .unread").addClass("read").removeClass("unread"),t._resetCounters(),t.readingTimeout=!1,t._markAllAsRead()},1e3))}},{key:"_onClose",value:function(){$(this.containerSelector).removeClass("open"),this.readingTimeout&&clearTimeout(this.readingTimeout)}},{key:"_markAllAsRead",value:function(){$.signedAjax({url:this.url+"/read_all",method:"POST"}).done(function(t){log("Sucessfully read all !",t)})}},{key:"_handleEvents",value:function(){var t=this;$(document).on("click",this.root,function(e){$(t.containerSelector).hasClass("open")?t._onClose():t._onOpen(),e.stopImmediatePropagation()}),$(document).on("click",function(e){$(t.containerSelector).removeClass("open")})}},{key:"_position",value:function(){var t=$(".main-navbar").height(),e=$(this.root).offset().left-265;$(this.containerSelector).css({top:t,left:e})}},{key:"_filterObject",value:function(t){var e=this;return t.read||(t.read=!1),t.progress||(t.progress=!1),t.image&&void 0!=t.image.url&&(t.image=t.image.url),t.markAsRead=function(n){e.dispatcher&&e.dispatcher.trigger("notifications.read",{concern:t.concern,title:t.title})},t.onCurrentPage=function(n){return t.concern&&$("[data-concern='"+e.concern+"']").length>0?(e.markAsRead(),!0):!1},t}}]),e}(BaseComponent),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_get=function(t,e,n){for(var i=!0;i;){var r=t,o=e,s=n;i=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var u=Object.getPrototypeOf(r);if(null===u)return void 0;t=u,e=o,n=s,i=!0,a=u=void 0}},FtNotification=function(t){function e(){_classCallCheck(this,e),$("[data-notification-drop]").length?(_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,"notification","[data-notification-drop]"),$(".dropdown").on("click",function(t){$(".notifications-container.open").removeClass("open")}),$("[data-notification-drop]").on("click",function(t){$(".dropdown.open").removeClass("open")}),this.manageExistingNotifications()):console.error("[FtNotification] Unable to find notifiable aera")}return _inherits(e,t),_createClass(e,[{key:"manageExistingNotifications",value:function(){if(void 0!=_notifications){var t=!0,e=!1,n=void 0;try{for(var i,r=_notifications.unread[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var o=i.value;this._addItem(o)}}catch(s){e=!0,n=s}finally{try{!t&&r["return"]&&r["return"]()}finally{if(e)throw n}}var a=!0,l=!1,u=void 0;try{for(var c,h=_notifications.read[Symbol.iterator]();!(a=(c=h.next()).done);a=!0){var o=c.value;this._addItem(o)}}catch(s){l=!0,u=s}finally{try{!a&&h["return"]&&h["return"]()}finally{if(l)throw u}}}}}]),e}(DropComponent);$(document).ready(function(){var t=[];t.push(new FtNotification)});var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),FormOptions=function(){function t(){_classCallCheck(this,t),self=this,parentForms=[];var e=!0,n=!1,i=void 0;try{for(var r,o=$("[data-hide-unless-form]")[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var s=r.value;parentForms.push($("form #"+s.dataset.hideUnlessForm))}}catch(a){n=!0,i=a}finally{try{!e&&o["return"]&&o["return"]()}finally{if(n)throw i}}var l=!0,u=!1,c=void 0;try{for(var h,d=parentForms[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){var p=h.value;p.on("change",self.hideForms)}}catch(a){u=!0,c=a}finally{try{!l&&d["return"]&&d["return"]()}finally{if(u)throw c}}form.trigger("change")}return _createClass(t,[{key:"hideForms",value:function(){""==$(this).val()?$("[data-hide-unless-value]").closest(".form-group").show():($('[data-hide-unless-form=#{$(this).attr("id")}]').closest(".form-group").hide(),$("[data-hide-unless-value~="+$(this).val()+"]").closest(".form-group").show())}}]),t}(),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),QuestsUser=function(){function t(){var e=this;_classCallCheck(this,t),$("[data-table-url]").on("keyup",".filter-search-input",function(t){$.getScript(e.make_request($(".filter-search-input").val()))}),$("[data-table-url]").on("click",".filter-search-input ~ span button",function(t){window.location.href=e.make_request($(".filter-search-input").val()).replace(".js","")})}return _createClass(t,[{key:"make_request",value:function(t){var e=$("[data-table-url]").data("table-url");return e+(-1==e.indexOf("?")?"?search=":"&search=")+encodeURI(t)}}]),t}(),Answer=function v(){_classCallCheck(this,v),$(document).on("change","[data-star-range]",function(){$(this).attr("data-star-range",$(this).val())})},_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Calendar=function(){function t(){var e=this;_classCallCheck(this,t);var n=this;this._$modal=$("#slotSelectionModalContainer"),this._$calendar=$("#calendar"),this._$loading=$("#loading"),
this._waitingAjax=!1,this.calendar=this._$calendar.fullCalendar({header:{left:"",center:"title",right:"today prev next"},axisFormat:"h:mm a",defaultDate:moment(),defaultView:"agendaWeek",firstDay:1,allDaySlot:!1,slotEventOverlap:!1,selectable:!1,selectHelper:!0,slotDuration:"00:30:00",snapDuration:"00:15:00",eventClick:function(t){if(!e._waitingAjax){var i=t.ids.split(",");console.log(i),n._populateModal(i,t),n._$modal.modal("show")}},loading:function(t){e._isLoading=t,e._isLoading?(e._intervalHandler=clearInterval(e._intervalHandler),e._timeOutHandler=setTimeout(function(t){e._loadingEnable=!0,e._$loading.show(),e._intervalHandler=setInterval(function(t){e._isLoading||(e._$loading.fadeOut(),e._loadingEnable=!1,e._intervalHandler=clearInterval(e._intervalHandler))},1e3)},100)):e._loadingEnable||clearTimeout(e._timeOutHandler)},events:function(t,e,i,r){var o={start:t.format(),end:e.format()};$.getJSON(n._$calendar.data("index-url"),o,function(t){r(t)})}}),this._bind()}return _createClass(t,[{key:"_bind",value:function(){this._$modal.on("hidden.bs.modal",".btn-primary",function(){$(this).off(".modal")}),this._$modal.on("click.modal",".btn-primary:not(.disable)",this._sendSelectedSession.bind(this))}},{key:"_sendSelectedSession",value:function(){var t=this,e=this._$modal.find(".modal-body select"),n=e.val()>>0,i=e.data("ids").split(",").slice(n,n+this._$calendar.data("duration")).join(","),r=this._$calendar.data("update-url").replace(":ids",i);this._waitingAjax=!0,this._$loading.show(),this._$modal.find(".btn-primary").addClass("disable"),$.ajax({url:r,type:"post",dataType:"json",data:{start:this._$calendar.fullCalendar("getView").start.format(),end:this._$calendar.fullCalendar("getView").end.format(),_method:"put"},success:function(e){200==e.status&&(document.location=t._$calendar.data("reload-url"))},complete:function(e){t._showNotification(e),t._$loading.fadeOut(),t._waitingAjax=!1},error:function(e){t._$modal.find(".btn-primary").removeClass("disable")}})}},{key:"_populateModal",value:function(t,e){var n=moment(e._start),i=this._$calendar.data("duration"),r=15,o=this._$modal.find(".modal-body select"),s=t.length-i+1,a=0;for(o.empty();s>a;)o.append($('<option value="'+a+'"> From '+e._start.format("LT")+" to "+e._start.add(r*i,"m").format("LT")+" </option>")),e._start.subtract((i-1)*r,"m"),a+=1;e._start=n,o.data("ids",t.join(","))}},{key:"_showNotification",value:function(t){t=t.responseJSON?t.responseJSON:{status:500,message:"Error"},noty({layout:"topRight",type:200==t.status?"success":"error",text:t.message,timeout:4e3})}}],[{key:"isCalendar",value:function(){return $("#calendar").length}}]),t}(),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),EvaluationForm=function(){function t(){var e=this;_classCallCheck(this,t),this.addReferalOption(),this.root_id=void 0,$(document).on("cocoon:after-remove",function(t){return e.addReferalOption()}),$(document).on("cocoon:after-insert",function(t){return e.addReferalOption()}),$(document).on("cocoon:after-remove",function(t){return e.addReferalOption()}),$(document).on("cocoon:after-insert",function(t){return e.addReferalOption()})}return _createClass(t,[{key:"addReferalOption",value:function(){var t={cursus:document.querySelector("select[name^='project[project_sessions_attributes][0][cursus_id]']"),campus:document.querySelector("select[name^='project[project_sessions_attributes][0][campus_id]']")};t.campus&&t.cursus&&""==t.campus.value&&""==t.cursus.value&&this.addOptionsEvaluations()}},{key:"addOptionsEvaluations",value:function(){$("select[data-kind]").each(function(){0==$(this).parents(".nested-fields").find("select[name^='project[project_sessions_attributes][0][campus_id]']").length?0==$(this).find("option[value='inherit_scale'], option[value='inherit_upload']").length:($(this).parents(".nested-fields").find('[data-association="evaluations_project_session"]').hide(),$(this).parents(".nested-fields").find(".eps-fields").hide())})}}]),t}(),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),OPTIONS=["name","duration","recommendation","registration"],SELECTOR="projects-list-container",ProjectsList=function(){function t(){_classCallCheck(this,t),this.options={valueNames:_.map(OPTIONS,function(t){return"project-"+t}),sortFunction:this._sort.bind(this)},$("[data-toggle=tooltip]").tooltip(),this.projectsList=new List(SELECTOR,this.options),this._bindSearch(),this._bindFilters()}return _createClass(t,[{key:"_bindSearch",value:function(){var t=this,e=document.getElementsByClassName("projects-list--search")[0];e&&e.addEventListener("keyup",function(n){t.projectsList.search(e.value,["project-name"])})}},{key:"_bindFilters",value:function(){var t=document.getElementsByClassName("projects-list--header")[0];if(t){var e=!0,n=!1,i=void 0;try{for(var r,o=t.getElementsByClassName("filter-trigger")[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var s=r.value;s.addEventListener("click",this._filter(s))}}catch(a){n=!0,i=a}finally{try{!e&&o["return"]&&o["return"]()}finally{if(n)throw i}}}}},{key:"_escapeValue",value:function(t){_.snakeCase(_.trim(_.deburr(t)))}},{key:"_cmp",value:function(t,e){if("project-duration"==e)return parseInt(t.elm.attributes.getNamedItem("data-"+e.slice(8)).value);var n=t.elm.attributes.getNamedItem("data-"+e.slice(8));return(n?n.value:"_")+t.elm.attributes.getNamedItem("data-name").value}},{key:"_sort",value:function(t,e,n){var i="asc"==n.order?1:-1;return this._cmp(t,n.valueName)<this._cmp(e,n.valueName)?-1*i:this._cmp(t,n.valueName)>this._cmp(e,n.valueName)?1*i:0}},{key:"_filter",value:function(t){var e=this;return function(n){if(t.classList.contains("active"))t.classList.remove("active"),t.parentElement.getElementsByClassName("filter-trigger")[0].classList.add("active"),e.projectsList.filter(e._filterClear);else{var i=!0,r=!1,o=void 0;try{for(var s,a=t.parentElement.getElementsByClassName("filter-trigger")[Symbol.iterator]();!(i=(s=a.next()).done);i=!0){var l=s.value;l.classList.remove("active")}}catch(u){r=!0,o=u}finally{try{!i&&a["return"]&&a["return"]()}finally{if(r)throw o}}t.classList.add("active");var c=e["_filter"+_.capitalize(_.camelCase(t.attributes.getNamedItem("data-filter").value))];e.projectsList.filter(c)}}}},{key:"_filterRecommendedProjects",value:function(t){return"a_recommended"==t.elm.attributes.getNamedItem("data-recommendation").value&&"znot_registered"==t.elm.attributes.getNamedItem("data-registration").value}},{key:"_filterClear",value:function(t){return!0}}],[{key:"isProjectsList",value:function(){return void 0!=document.getElementById(SELECTOR)}}]),t}(),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Scales=function(){function t(){_classCallCheck(this,t),this._sliderSlt='input[type="range"]',this._skillSummaryCtnSlt=".skillSummary",this._typeInputInputSlt="[data-skill-type]",this._questionKindInputSlt="[data-question-kind]",this._addSkillStl="[data-association='questions_skills'].add_nested_fields",this._getSummarySkills(),this._createSliders(),this._bind(),$(this._sliderSlt).parents(".form-group").show(),this._updateLimits(),this._updateSummary()}return _createClass(t,[{key:"_createSliders",value:function(){var t=this,e=this;console.log(this._sliderSlt),console.log($(this._sliderSlt).length),$(this._sliderSlt).not(".slided").each(function(n,i){var r=$(i),o=r.data("kind");r.attr("max","standard"==o?100:25),r.rangeslider({polyfill:!1,onSlide:function(){e._checkLimit.apply(e,$.merge(arguments,this.$element))},onSlideEnd:function(e){t._updateLimits(),t._updateSummary()}}),r.addClass("slided")})}},{key:"_bind",value:function(){var t=this;$(document).on("change",this._questionKindInputSlt,this._onQuestionKindChange),$(document).on("change",this._typeInputInputSlt,this._onSkillIdChange),$(document).on("nested:fieldRemoved",function(e){t._updateLimits(),t._updateSummary()}),$(document).on("nested:fieldAdded:questions",function(e){e.field.find(""+t._questionKindInputSlt).change()}),$(document).on("nested:fieldAdded:questions_skills",function(e){var n=$(t._sliderSlt).not(".slided"),i=n.parents(".fields:eq(1)").find(""+t._questionKindInputSlt).val();n.data("kind",i),t._createSliders(),n.parents(".fields:eq(0)").find("[data-skill-type]").change()})}},{key:"_onQuestionKindChange",value:function(t){var e=$(t.currentTarget),n=e.parents(".fields").first(),i=n.find(this._sliderSlt);i.data("kind",e.val()),i.val(0),i.rangeslider("destroy").removeClass("slided"),this._createSliders(),this._updateLimits(),this._updateSummary()}},{key:"_onSkillIdChange",value:function(t){var e=$(t.currentTarget),n=e.val(),i=e.parents(".form-group").next(),r=i.find(this._sliderSlt);n?(i.fadeIn("slow"),r.attr("data-slider-id",n)):i.fadeOut("slow"),r.val(0),this._updateLimits(),n&&r.val(r.data("slider-limit")).change(),this._updateLimits(),this._updateSummary()}},{key:"_checkLimit",value:function(t,e,n){$(n).next().find(".rangeslider__handle").html(""+e);var i=$(n).data("slider-limit");e>i&&$(n).val(i).change()}},{key:"_updateLimits",value:function(){var t=this._getUniqSliders();t.each(function(t,e){var n=$(e).attr("data-slider-id"),i=$(e).data("kind"),r=$(e).attr("max")>>0,o=$(e).attr("min")>>0,s=$(this._sliderSlt+":visible[data-slider-id="+n+"]").filter(function(t,e){return $(e).data("kind")==i}),a=r;s.each(function(t,e){a-=$(e).val()>>0}),o>a&&(a=o),s.each(function(t,e){$(e).data("slider-limit",a+($(e).val()>>0))})})}},{key:"_getUniqSliders",value:function(){var t=$(this._sliderSlt+":visible.slided"),e={standard:[],bonus:[]};return t.filter(function(t,n){var i=$(n).attr("data-slider-id"),r=$(n).data("kind");return-1==e[r].indexOf(i)?(e[r].push(i),!0):!1})}},{key:"_getSummarySkills",value:function(){return this._summarySkills=$(this._skillSummaryCtnSlt+" [data-skill-id]").map(function(t,e){return{id:$(e).attr("data-skill-id"),$element:$(e)}}),this._summarySkills}},{key:"_updateSummary",value:function(){var t=this;this._summarySkills.each(function(e,n){var i={standard:0,bonus:0};if(n.id){var r=$(t._sliderSlt+":visible[data-slider-id="+n.id+"]");r.each(function(t,e){var n=$(e).data("kind");i[n]+=$(e).val()>>0})}n.$element.find(".standard .value").html(i.standard),n.$element.find(".bonus .value").html(i.bonus)})}}],[{key:"isScales",value:function(){return $(".skillSummary").length}}]),t}(),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Radios=function(){function t(){_classCallCheck(this,t);var e=this;$("[data-radio-item] label").each(function(){var t=this,n=this;$("#"+$(this).attr("for")).on("change",function(t){return e._activate(n)}),$(this).on("click",function(n){return e._activate(t)})})}return _createClass(t,[{key:"_activate",value:function(t){var e=$(t).parent().attr("data-radio-item");$("[data-radio-item='"+e+"'] label").removeClass("active"),$(t).addClass("active"),$(t).hasClass("negative")?$(".scale-section-answers").addClass("hidden"):$(".scale-section-answers").removeClass("hidden")}}]),t}(),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Rules=function(){function t(){var e=this;_classCallCheck(this,t),this.reg=/(([^ ]|\\ )*)$/,this._save="",$("form .autocomplete").map(function(t,n){return e._bindAutoComplete(n)}),this.url=$("[data-select-url]").data("select-url"),$(".rules_select").each(function(){0==$(this).find("option:checked").attr("value").length&&$(this).parents(".form-group").siblings(".params_fields").html("")}),$("form").on("change",".rules_select",function(t){return e.changed(t.target)})}return _createClass(t,[{key:"_bindAutoComplete",value:function(t){var e=this,n=$(t),i=new Bloodhound({datumTokenizer:function(t){return Bloodhound.tokenizers.whitespace(t.displayKey)},queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:location.origin+"/completions.json?query=%QUERY",wildcard:"%QUERY",prepare:function(t,n){return t=t.substring(e.reg.exec(t).index),n.url=n.url.replace("%QUERY",encodeURIComponent(t)),n},transform:function(t){return _.flatten(_.chain(t).values().map(function(e,n){return _.map(e,function(e){return e.cat=_.keys(t)[n],e.value=e.name.replace(" ","\\ "),e}).value()}))}}});i.initialize(),n.typeahead({highlight:!1,hint:!1},{display:"value",source:i.ttAdapter(),templates:{suggestion:function(t){return"<p><span class='label label-primary'> "+t.cat+" </span> &nbsp; "+t.name+"</p>"}}}),n.on("typeahead:active, typeahead:idle",function(t){$(t.currentTarget).val()&&$(t.currentTarget).val(e._value)}),n.on("typeahead:render",function(t){e._value=$(t.currentTarget).val()}),n.on("typeahead:cursorchange",function(t,n){$(t.currentTarget).val(e._value)}),n.on("typeahead:select",function(t,n){setTimeout(function(i){e._value=e._value.substring(0,e.reg.exec(e._value).index),e._value+=n?n.value:"",$(t.currentTarget).val(e._value)},0)}),n.on("typeahead:change",function(t){setTimeout(function(n){$(t.currentTarget).val()&&$(t.currentTarget).val(e._value)},0)})}},{key:"changed",value:function(t){var e=this;console.log(t);var n=$(t).parents(".form-group").siblings(".params_fields"),i=function(t){n.find(".autocomplete").typeahead("destroy"),n.html("")};fetch=function(i){$.getJSON(i,function(i){var r=$("<div class='form-group input optional project_projects_rules_rule'></div>"),o=$(t).attr("name");$.each(i,function(t,e){var n=(new Date).getTime(),i="<label class='select optional col-sm-2 control-label' for='project_projects_rules_attributes_params_attributes_"+n+"_rule_id'>"+e.name+"</label>";i+=-1!=["projects","skill","cursus"].indexOf(e.name)?"<div class='col-sm-10'><input class='input optional autocomplete form-control' data-completion-url='"+location.origin+"/completions.json' value='"+e.default_value.replace(/(')/g,"&#39;")+"' id='project_projects_rules_attributes_params_attributes_"+n+"_value' name='"+o.replace("[rule_id]","[params_project_sessions_rules_attributes]["+n+t+"][value]")+"' /></div>":"<div class='col-sm-10'><input class='input optional form-control' value='"+e.default_value.replace(/(')/g,"&#39;")+"' id='project_projects_rules_attributes_params_attributes_"+n+"_value' name='"+o.replace("[rule_id]","[params_project_sessions_rules_attributes]["+n+t+"][value]")+"' /></div>",i+="<div class='col-sm-12'><input class='hidden optional form-control' value='"+e.id+"' name='"+o.replace("[rule_id]","[params_project_sessions_rules_attributes]["+n+t+"][param_id]")+"' /></div>",r.append(i)}),console.log(n[0],r),n.empty().append(r),r.find(".autocomplete").map(function(t,n){return e._bindAutoComplete(n)})})},0==$(t).find("option:checked").attr("value").length?i(n):fetch(this.url.replace(":id",$(t).find("option:checked").attr("value")))}}],[{key:"hasRules",value:function(){return $("[data-select-url]").length}}]),t}(),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Skills=function(){function t(){var e=this;_classCallCheck(this,t),$("[data-add-skill]").length&&(this._$form=$("form"),this._rangeSlt='input[type="range"]:visible',this._$difficulty=$("[data-difficulty]"),this._updateLimits(),console.log("Heeere"),$(this._rangeSlt).each(function(t,n){e._initSlider($(n))}),this._$difficulty.on("change",function(t){return e._updateRanges($(e._rangeSlt))}),$(document).on("nested:fieldRemoved:projects_skills",function(t){return e._updateLimits()}),$(document).on("nested:fieldAdded:projects_skills",function(t){return e._updateRanges($(e._rangeSlt).not(".slided"))}),$(document).on("nested:fieldRemoved:partnerships_skills",function(t){return e._updateLimits()}),$(document).on("nested:fieldAdded:partnerships_skills",function(t){return e._updateRanges($(e._rangeSlt).not(".slided"))}),$(document).on("cocoon:after-remove",function(t){return e._updateLimits()}),$(document).on("cocoon:after-insert",function(t){return e._updateRanges($(e._rangeSlt).not(".slided"))}),$(document).on("cocoon:after-remove",function(t){return e._updateLimits()}),$(document).on("cocoon:after-insert",function(t){return e._updateRanges($(e._rangeSlt).not(".slided"))}))}return _createClass(t,[{key:"_updateRanges",value:function(t){var e=this,n="0"==$("[data-difficulty]").val()?100:$("[data-difficulty]").val(),i=parseFloat(n);t.each(function(t,n){var r=$(n),o=r.attr("max"),s=i*r.val()/o,a=i/100;r.attr("max",i).attr("step",a),r.rangeslider("destroy"),r.val(s),e._initSlider(r),r.val(s)}),this._updateLimits()}},{key:"_initSlider",value:function(t){var e=this;t.rangeslider({polyfill:!1,onSlide:this._checkLimit,onSlideEnd:function(t){return e._updateLimits()}}),t.addClass("slided")}},{key:"_checkLimit",value:function(t,e){var n="0"==$("[data-difficulty]").val()?100:$("[data-difficulty]").val(),i=100*e/parseFloat(n);this.$element.next().find(".rangeslider__handle").attr("data-percent",i);var r=this.$element.data("rangeUntil");e>r&&this.$element.val(r).change()}},{key:"_updateLimits",value:function(){var t="0"==$("[data-difficulty]").val()?100:$("[data-difficulty]").val(),e=parseFloat(t);$(this._rangeSlt).each(function(t,n){e-=parseFloat($(n).val())}),0>e&&(e=0),$(this._rangeSlt).each(function(t,n){$(n).data("rangeUntil",parseFloat($(n).val())+e)})}},{key:"modalCondition",value:function(){var t=0;return $(""+this._rangeSlt).each(function(e,n){t+=$(n).next().find(".rangeslider__handle").data("percent")>>0}),100!=t&&"0"!=$("[data-difficulty]").val()}},{key:"modalConfirmation",value:function(){this._$form.submit()}}],[{key:"hasSkills",value:function(){return $("[data-add-skill]").length>0}}]),t}(),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Form=function(){function t(){_classCallCheck(this,t),console.log("constructor"),$(".new_project, .edit_project").length>0&&this._bindProject(),$(".new_scale, .edit_scale").length>0&&this._bindScale()}return _createClass(t,[{key:"_bindProject",value:function(){console.log("_bindProject"),this._bindNameCheck(),this._hideDependancies(),this._bindEstimations(),this._bindRules(),this._initRules(),this._updateSelectSkills(),$(document).on("change",".project_projects_skills_skill select",this._updateSelectSkills.bind(this)),$(document).on("cocoon:after-insert",this._updateSelectSkills.bind(this)),$(document).on("cocoon:after-remove",this._updateSelectSkills.bind(this)),$("#projects_sessions").on("cocoon:before-insert",this._addProjectSessionLink.bind(this)),$("#projects_sessions").on("cocoon:after-insert",this._addProjectSessionField.bind(this)),$("#projects_sessions").on("cocoon:before-remove",this._removeProjectSessionLink.bind(this)),$("#projects_sessions").on("cocoon:after-remove",this._removeProjectSessionField.bind(this)),$("a[data-add-session]").data("association-insertion-method","append").data("association-insertion-traversal","closest"),$(".add-ps a").click(function(){$("a[data-add-session]").trigger("click")}),$("#project_cursus_ids").change(this._updateSelectSkills.bind(this))}},{key:"_addProjectSessionLink",value:function(t,e){console.log("adding project session field",t,e),$(t.target).find("a[data-add-session]").length>0&&(ps_counter+=1,$("li.add-ps").before("<li role='presentation'><a aria-controls='main settings' data-toggle='tab' href='#project-session-"+ps_counter+"' role='tab'>unsaved Project session</a></li>"))}},{key:"_addProjectSessionField",value:function(t,e){if(console.log(e),$(t.target).find("a[data-add-session]").length>0){var n=$(".buffer-links .nested-fields").detach();n.appendTo(".main-project-session-tab-content"),n.wrap("<div class='tab-pane' id='project-session-"+ps_counter+"'></div>"),$("a[href='#project-session-"+ps_counter+"']").trigger("click")}}},{key:"_removeProjectSessionLink",value:function(t,e){if(console.log("REMOVE:before",t,e),void 0!==$(e.context).attr("data-remove-session")){var n=$(e).closest(".tab-pane").attr("id");$("a[href='#"+n+"']").parent().detach()}}},{key:"_removeProjectSessionField",value:function(t,e){console.log("REMOVE:after",t,e),void 0!==$(e.context).attr("data-remove-session")&&($(e).closest(".tab-pane").detach(),$("a[href^='#project-session']").trigger("click"))}},{key:"_bindNameCheck",value:function(){console.log("_bindNameCheck");var t=this;$("#project_name").keyup(function(){var e=this,n=$(this);$(this).val().length>0?!function(){var i=$(e).val();$.getJSON("#{location.origin}/projects.json",function(e){var r=_.findWhere(e,{name:i});r?(t._updateNextHelp(n,"#{name} is already taken"),t._updateNextHelp("#project_tag_ids","")):(t._updateNextHelp(n,"#{name} seems to be a nice name !"),t._updateNextHelp("#project_tag_ids","The tag #{name} will also be automaticaly created."))})}():(t._updateNextHelp(n,""),t._updateNextHelp("#project_tag_ids",""))})}},{key:"_bindEstimations",value:function(){console.log("_bindEstimations"),$("#project_estimate_time").val("604800")}},{key:"_initRules",value:function(){console.log("_initRules"),$(".rules_select").each(this._setRuleTemplate)}},{key:"_bindRules",value:function(){console.log("_bindRules"),$(document).on("change",".rules_select",this._setRuleTemplate)}},{key:"_setRuleTemplate",value:function(){console.log("_setRuleTemplate");var t=_.template("\n      <div class=\"col-sm-12 lead\">\n        <h4><%= kind.toUpperCase() %>: Rule <%= name %>\n          <small>\n            <%= description || 'No description' %>\n          </small>\n        </h4>\n      </div>\n    "),e=$(this).parents(".fields").find(".rule-description").first(),n=_.findWhere(rules_description,{id:parseInt($(this).val())});n.kind&&n.name&&e.html(t(n))}},{key:"_hideDependancies",value:function(){console.log("_hideDependancies"),""==$("#project_parent_id").val()&&$(".project_inherited_team").hide(),$("#project_parent_id").change(function(){""!=$(this).val()?$(".project_inherited_team").show():$(".project_inherited_team").hide()})}},{key:"_updateNextHelp",value:function(t,e){var n=$(t).parent().find(".help-block").last();$(n).length>0&&$(n).html(e)}},{key:"_bindScale",value:function(){var t=this;console.log("_bindScale"),this._bindMarkdownPreviews(),this._checkScales(),this._bindNavbarArchi(),$(document).on("cocoon:after-insert",function(e){t._bindNavbarArchi()}),$(".section-counter-item input[type='text']").keyup(function(e){t._bindNavbarArchi()})}},{key:"_checkScales",value:function(){console.log("_checkScales");var t=_.template("\n      <p class='text-warning primary-warning'>An other scale (<%= name %>) is already set as <b>primary</b>. You can <a href='<%= link %>/edit' target='_blank'>edit it now</a></p>\n    "),e=_.template("\n      <p class='text-warning primary-warning'>There is no other scale defined as primary for this project. Don't forget to set this scale as primary later if you want to use it for defenses.</a></p>\n    ");existing_scales&&$("#scale_is_primary").parents(".checkbox").after(t(existing_scales)),$("#scale_is_primary").change(function(){var n=this.checked;$(".primary-warning").detach(),n&&existing_scales?$("#scale_is_primary").parents(".checkbox").after(t(existing_scales)):n||existing_scales||$("#scale_is_primary").parents(".checkbox").after(e())})}},{key:"_bindMarkdownPreviews",value:function(){console.log("_bindMarkdownPreviews"),$("[data-markdown-preview]").each(function(t){var e=$("<div class='markdown-preview-container'></div>");$(this).after(e),$(this).keyup(function(){$(e).html(marked($(this).val()))})})}},{key:"_bindNavbarArchi",value:function(){var t=this;console.log("_bindNavbarArchi");var e=$("#navbar-scale-edit .nav .sections-list");e.html("<li><h5 class='marked-title'><a href='#sections'>Sections <small>("+$(".section-counter-item").length+" defined)</small></a></h5><ol class='section-root'></ol></li>"),$(".section-counter-item").each(function(n){var i=$(t).find(".scale_sections_name input"),r=$("<li><a href='#"+i.attr("id")+"'>"+i.val()+"</a></li>");$(t).find(".question-item").length>0&&(q_list=$("<ol></ol>"),$(t).find(".question-item").each(function(e){var n=$(t).find(".scale_sections_questions_name input"),i=$("<li><a href='#"+n.attr("id")+"'>"+n.val()+"</a></li>");q_list.append(i)}),r.append(q_list)),e.find(".section-root").append(r)})}},{key:"_getValuesSelectSkillInputs",value:function(){_.map($(".fields:visible .project_projects_skills_skill select.chosen"),function(t){return parseInt($(t).val(),10)})}},{key:"_getAvailableSkills",value:function(){var t,e=$("#project_cursus_ids").val()||[],n=_.map(e,function(t){return available_skills[parseInt(t,10)]});(t=_).merge.apply(t,_toConsumableArray(n))}},{key:"_updateSelectSkills",value:function(){console.log("!!! _updateSelectSkills");var t=this._getValuesSelectSkillInputs(),e=this._getAvailableSkills();console.log("selected_skills",t),console.log("skills",e),e&&(e=_.without(e,t),console.log("filtered skills",e),$(".fields:visible .project_projects_skills_skill select.chosen").each(function(t,n){$(n).children(":not(:selected)").each(function(t,n){var i=parseInt($(n).val(),10);$(n).prop("disabled",-1==e.indexOf(i))}),$(n).trigger("chosen:updated")}))}}]),t}(),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),ProjectUserList=function(){function t(){_classCallCheck(this,t),this.OPTIONS=["project-user--user","project-user--startedat","project-user--mark"],this.SELECTOR="projectuser-list-container",this.options={valueNames:this.OPTIONS,sortFunction:this._sort,page:500},this.projectUserList=new List(this.SELECTOR,this.options),this._bindSearch(),this._bindFilters()}return _createClass(t,[{key:"_bindSearch",value:function(){var t=this,e=document.getElementsByClassName("projects-list--search")[0];e&&e.addEventListener("keyup",function(n){t.projectUserList.search(e.value,["project-user--user","project-user--mark"])})}},{key:"_bindFilters",value:function(){var t=document.getElementsByClassName("projects-list--header")[0];if(t){var e=!0,n=!1,i=void 0;try{for(var r,o=t.getElementsByClassName("filter-trigger")[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var s=r.value;s.addEventListener("click",this._filter(s))}}catch(a){n=!0,i=a}finally{try{!e&&o["return"]&&o["return"]()}finally{if(n)throw i}}}}},{key:"_filter",value:function(t){var e=this;return function(n){if(t.classList.contains("active"))t.classList.remove("active"),t.parentElement.getElementsByClassName("filter-trigger")[0].classList.add("active"),e.projectUserList.filter(e._filterClear);else{var i=!0,r=!1,o=void 0;try{for(var s,a=t.parentElement.getElementsByClassName("filter-trigger")[Symbol.iterator]();!(i=(s=a.next()).done);i=!0){var l=s.value;l.classList.remove("active")}}catch(u){r=!0,o=u}finally{try{!i&&a["return"]&&a["return"]()}finally{if(r)throw o}}t.classList.add("active");e["_filter"+_.capitalize(_.camelCase(t.attributes.getNamedItem("data-filter").value))];e.projectUserList.filter(e._filterProjectUserList)}}}},{key:"_escapeValue",value:function(t){_.snakeCase(_.trim(_.deburr(t)))}},{key:"_cmp",value:function(t,e){return t.elm.attributes.getNamedItem("data-#{key}").value+t.elm.attributes.getNamedItem("data-pu-user").value}},{key:"_sort",value:function(t,e,n){var i="asc"==n.order?1:-1;return this._cmp(t,n.valueName)<this._cmp(e,n.valueName)?-1*i:this._cmp(t,n.valueName)>this._cmp(e,n.valueName)?1*i:0}},{key:"_filterProjectUserList",value:function(t){return filter=$(".filter-trigger.active").data("filter"),filter&&"clear"!=filter?t.elm.attributes.getNamedItem("data-status").value==filter:!0}},{key:"_filterClear",value:function(t){return!0}}],[{key:"isProjectUserList",value:function(){return void 0!=document.getElementById("projectuser-list-container")}}]),t}(),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),ProjectChart=function(){function t(){if(_classCallCheck(this,t),$("#project-chart-success").length){$("[data-toggle=tooltip]").tooltip();var e=this;Highcharts.theme={colors:["#00babc","#D84869","#5CB85C","#E6B291","#B378E6","#0583F2","#3F4351"],title:{style:{color:"#000",font:'16px "Noto Sans", sans-serif'}},subtitle:{style:{color:"#666",font:'12px "Noto Sans", sans-serif'}},credits:{enabled:!1},legend:{itemStyle:{font:'10px "Noto Sans", sans-serif',color:"#666"}}},Highcharts.setOptions(Highcharts.theme);var n=window.location.pathname.split("/")[2];$.getJSON("/projects/"+n+"/stats",function(t){e.drawSuccessChart(t.success),e.drawFinalmarkByCampusChart(t.final_mark_by_campus),e.drawTeamLifespanChart(t.average_team_lifespan),e.drawFlagsChart(t.flags)})}}return _createClass(t,[{key:"drawFlagsChart",value:function(t){if(t.length<=1)return void $("#project-chart-flags").remove();var e=!0,n=!1,i=void 0;try{for(var r,o=t[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var s=r.value;"Ok"==s.name?s.color="#00babc":s.color="#D84869"}}catch(a){n=!0,i=a}finally{try{!e&&o["return"]&&o["return"]()}finally{if(n)throw i}}$("#project-chart-flags").highcharts({chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:"Flag distribution"},tooltip:{pointFormat:"scale_teams: <b>{point.y}</b>"},plotOptions:{pie:{cursor:"pointer",dataLabels:{enabled:!0,format:"{point.name}: <b>{point.percentage:.1f}%</b>"}}},series:[{colorByPoint:!0,data:t}]})}},{key:"drawFinalmarkByCampusChart",value:function(t){var e=t.find(function(t){return t.data.length>0});if(!e)return void $("#project-chart-finalmark-by-campus").remove();var n=!0,i=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){for(var a=o.value,l=function(t){var e=a.data.find(function(e){return e[0]==10*t});void 0===e&&a.data.push([10*t,0])},u=0;12>=u;u++)l(u);a.data.sort(function(t,e){return t[0]-e[0]})}}catch(c){i=!0,r=c}finally{try{!n&&s["return"]&&s["return"]()}finally{if(i)throw r}}$("#project-chart-finalmark-by-campus").highcharts({chart:{type:"area"},title:{text:"Marks by campus"},tooltip:{useHTML:!0,pointFormat:"<b>{series.name}</b> mark: <b>~{point.x}</b> users: <b>{point.y:.1f}%</b></br>",shared:!0},xAxis:{min:0,max:120,title:{text:"Grade"}},yAxis:{title:{text:"Percent of users"},min:0},series:t})}},{key:"drawSuccessChart",value:function(t){return t["true"]||t["false"]?void $("#project-chart-success").highcharts({chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:"Success Rate"},tooltip:{pointFormat:"users: <b>{point.y}</b>"},plotOptions:{pie:{cursor:"pointer",dataLabels:{enabled:!0,format:"{point.name}: <b>{point.percentage:.1f}%</b>"}}},series:[{colorByPoint:!0,data:[{name:"No grade yet",y:t.none||0,color:"#ccc"},{name:"Success",y:t["true"]||0,color:"#00babc"},{name:"Fail",y:t["false"]||0,color:"#D8636F"}]}]}):void $("#project-chart-success").remove()}},{key:"drawTeamLifespanChart",value:function(t){return t.none||t["true"]||t["false"]?void $("#project-chart-team-lifespan").highcharts({chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"bar"},title:{text:"Average team lifespan"},tooltip:{pointFormat:"<b>{point.y}</b> days"},legend:{enabled:!1},plotOptions:{bar:{groupPadding:0}},xAxis:{categories:["No grade yet","Success","Fail"]},yAxis:{title:{text:"Number of days between team lock and team close"}},series:[{colorByPoint:!0,maxPointWidth:20,data:[{name:"No grade yet",y:t.none||0,color:"#ccc"},{name:"Success",y:t["true"]||0,color:"#00babc"},{name:"Fail",y:t["false"]||0,color:"#D8636F"}]}]}):void $("#project-chart-team-lifespan").remove()}}]),t}(),Project=function y(){_classCallCheck(this,y),Scales.isScales()&&new Scales,
Calendar.isCalendar()&&new Calendar,Rules.hasRules()&&new Rules,new Answer,new Radios,new EvaluationForm,Skills.hasSkills()&&new Skills,ProjectsList.isProjectsList()&&new ProjectsList,ProjectUserList.isProjectUserList()&&new ProjectUserList,new Form,new ProjectChart};"object"!=typeof window.Graph&&(window.Graph={}),Graph.data={},Graph.colors={grid:{fill:"#19191e"},unavailable:{fill:"#46484c",stroke:"#6f7278",strokeSize:3,text:"#6f7278",link:"#666666"},available:{fill:"#46464c",stroke:"white",strokeSize:10,text:"white",link:"white"},done:{fill:"#00BABC",stroke:"#00BABC",strokeSize:10,text:"white",link:"#00BABC"},fail:{fill:"#cc6256",stroke:"#cc6256",strokeSize:3,text:"white",link:"#cc6256"},in_progress:{fill:"#46464c",stroke:"#00BABC",strokeSize:3,text:"#00BABC",link:"#00BABC"}},Graph.styles={unavailable:{strokeColor:Graph.colors.unavailable.stroke,strokeWidth:3,fillColor:Graph.colors.unavailable.fill,text:{fontFamily:"Noto Sans",fontWeight:"bold",fontSize:20,fillColor:Graph.colors.unavailable.text,justification:"center"}},available:{strokeColor:Graph.colors.available.stroke,strokeWidth:10,fillColor:Graph.colors.available.fill,text:{fontFamily:"Noto Sans",fontWeight:"bold",fontSize:20,fillColor:Graph.colors.available.text,justification:"center"}},done:{strokeColor:Graph.colors.done.stroke,strokeWidth:10,fillColor:Graph.colors.done.fill,text:{fontFamily:"Noto Sans",fontWeight:"bold",fontSize:20,fillColor:Graph.colors.done.text,justification:"center"}},fail:{strokeColor:Graph.colors.fail.stroke,strokeWidth:3,fillColor:Graph.colors.fail.fill,text:{fontFamily:"Noto Sans",fontWeight:"bold",fontSize:20,fillColor:Graph.colors.fail.text,justification:"center"}},in_progress:{strokeColor:Graph.colors.in_progress.stroke,strokeWidth:3,fillColor:Graph.colors.in_progress.fill,text:{fontFamily:"Noto Sans",fontWeight:"bold",fontSize:20,fillColor:Graph.colors.in_progress.text,justification:"center"}}},Graph.grid={draw:function(t,e,n){t.activate(),new paper.Path.Rectangle({from:[0,0],to:[e,n]})}};var lastMousePosition=null,scaling=!1,scaling_distance=null,changeZoom=function(t,e,n){var i=t.viewToProject(n),r=getNewZoom(t,e),o=t.zoom/r,s=i.subtract(t.center),a=i.subtract(s.multiply(o)).subtract(t.center);t.zoom=r,e>0&&changeOffset(t,a),t.center=t.center.add(a)},getNewZoom=function(t,e){var n=1.08,i=getMinZoom(t),r=getMaxZoom(t);return 0>e?t.zoom*n>r?r:t.zoom*n:e>0?t.zoom/n<i?i:t.zoom/n:t.zoom},getMinZoom=function(t){return t.viewSize.height/t._project._activeLayer.getBounds().height},getMaxZoom=function(t){return 1.8},changeOffset=function(t,e){var n=t.getBounds(),i=t._project._activeLayer.getBounds();t.center.y+e.y<n.height/2&&(e.y=n.height/2-t.center.y),t.center.y+e.y+n.height/2>i.height&&(e.y=i.height-t.center.y-n.height/2),t.center.x+e.x<n.width/2&&(e.x=n.width/2-t.center.x),t.center.x+e.x+n.width/2>i.width&&(e.x=i.width-t.center.x-n.width/2),n.width>i.width&&(e.x=e.x+(n.width-i.width)/2),n.height>i.height&&(e.y=e.y+(n.height-i.height)/2)},on_frame_callback=[];Graph.zoom_handler={on_frame:function(){_.each(on_frame_callback,function(t){return t()})},zoom_to:function(t,e){var n=getMaxZoom(paper.view),i=e&&paper.view.zoom*e<n?paper.view.zoom*e:n,r=function o(){var e=paper.view.zoom;e>=i?on_frame_callback=on_frame_callback.slice(on_frame_callback.indexOf(o),0):(i>e&&Graph.zoom_handler.zoom_in(),Graph.zoom_handler.changeCenter(paper.view,t.subtract(paper.view.center),.3))};on_frame_callback.push(r)},zoom_in:function(){var t=arguments.length<=0||void 0===arguments[0]?1.08:arguments[0],e=paper.view.zoom*t,n=getMaxZoom(paper.view);paper.view.zoom=e>n?n:e},zoom_out:function(){var t=paper.view.zoom+paper.view.zoom*-.08,e=getMinZoom(paper.view);paper.view.zoom=e>t?e:t},reset_zoom:function(t){paper.view.center=t,paper.view.zoom=getMinZoom(paper.view)},changeCenter:function(t,e,n){e=e.multiply(n),changeOffset(t,e),t.center=t.center.add(e)},bind:function(t){t.mousewheel(function(t){t.shiftKey?(Graph.zoom_handler.changeCenter(paper.view,new paper.Point(t.deltaX,-t.deltaY),t.deltaFactor),t.preventDefault()):(lastMousePosition=new paper.Point(t.offsetX,t.offsetY),changeZoom(paper.view,-1*t.deltaY,lastMousePosition),t.preventDefault(),paper.view.draw())}),paper.view.onresize=function(){changeZoom(paper.view,0,lastMousePosition),paper.view.draw()},t.on("touchstart",function(t){2===t.originalEvent.touches.length&&(scaling=!0)}),t.on("touchmove",function(t){if(scaling){var e=t.originalEvent.touches,n=Math.sqrt((e[0].pageX-e[1].pageX)*(e[0].pageX-e[1].pageX)+(e[0].pageY-e[1].pageY)*(e[0].pageY-e[1].pageY));scaling_distance&&(n>scaling_distance&&Graph.zoom_handler.zoom_in(),scaling_distance>n&&Graph.zoom_handler.zoom_out(),scaling_distance=n)}}),t.on("touchend",function(t){scaling=!1,scaling_distance=null})}};var limit_double_click=200,mouse_down_point=null,last_mouse_up_time=new Date;Graph.mouse_handler={on_mouse_move:function(t){this.projects_layer.contains(t.point)?document.body.style.cursor="pointer":document.body.style.cursor="default"},on_mouse_up:function(t){if(mouse_down_point=null,this.projects_layer.contains(t.point)){var e=_.filter(Graph.data.projects,function(e){return e.$box.contains(t.point)});Graph.project.select(e,new Date-last_mouse_up_time<limit_double_click)}else{if(new Date-last_mouse_up_time<limit_double_click){var n=new paper.Point(t.event.offsetX,t.event.offsetY);Graph.zoom_handler.zoom_to(paper.view.viewToProject(n),3)}Graph.project.unselect()}last_mouse_up_time=new Date,Graph.help.hide(),Graph.search.hide()},on_mouse_drag:function(t){var e=t.point.subtract(mouse_down_point),n=-1*paper.view.zoom/2;Graph.zoom_handler.changeCenter(paper.view,e,n)},onMouseDown:function(t){mouse_down_point=t.point},bind:function(t){t.tool.onMouseDrag=Graph.mouse_handler.on_mouse_drag,t.tool.onMouseMove=Graph.mouse_handler.on_mouse_move.bind(t),t.tool.onMouseUp=Graph.mouse_handler.on_mouse_up.bind(t),t.tool.onMouseDown=Graph.mouse_handler.onMouseDown.bind(t)}};var $intra_search=$('.search-input[name="query"]'),keys_pressed={shift:!1,"+":!1,"-":!1,up:!1,down:!1,left:!1,right:!1},target_is_on_graph=function(t){return t.event.target!=$intra_search[0]},on_escape=function(){Graph.project.unselect(),Graph.search.on_escape(),Graph.help.hide()},on_key_up=function(t){target_is_on_graph(t)&&(_.isUndefined(keys_pressed[t.key])||(keys_pressed[t.key]=!1),"escape"===t.key?on_escape():"h"===t.key||"?"==t.key?Graph.help.toggle():"s"===t.key||"/"==t.key?Graph.search.show():"c"===t.key?Graph.cursus.toggle():"enter"===t.key&&Graph.description.click_on_link())},on_key_down=function(t){target_is_on_graph(t)&&(_.isUndefined(keys_pressed[t.key])||(keys_pressed[t.key]=!0))};Graph.key_handler={refresh_vars:function(){$intra_search=$('.search-input[name="query"]')},is_pressed:function(t){return keys_pressed[t]},bind:function(t){t.tool.onKeyUp=on_key_up,t.tool.onKeyDown=on_key_down}};var point=null,onFrame=function(t){Graph.key_handler.is_pressed("shift")&&(Graph.key_handler.is_pressed("up")&&Graph.zoom_handler.changeCenter(paper.view,point.set(0,-10),1),Graph.key_handler.is_pressed("down")&&Graph.zoom_handler.changeCenter(paper.view,point.set(0,10),1),Graph.key_handler.is_pressed("left")&&Graph.zoom_handler.changeCenter(paper.view,point.set(-10,0),1),Graph.key_handler.is_pressed("right")&&Graph.zoom_handler.changeCenter(paper.view,point.set(10,0),1)),Graph.key_handler.is_pressed("+")&&Graph.zoom_handler.zoom_in(),Graph.key_handler.is_pressed("-")&&Graph.zoom_handler.zoom_out(),Graph.zoom_handler.on_frame()};Graph.animation_handler={bind:function(){point=new paper.Point(0,0),paper.view.onFrame=onFrame}};var _slicedToArray=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&a["return"]&&a["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),is_an_internship=function(t){return"internship"===t.kind.slice(-10)},glow=function(t,e){var n={shadowBlur:0,shadowColor:null,shadowOffset:null};e&&(n={shadowBlur:180*paper.view.zoom,shadowColor:Graph.colors[t.state].stroke,shadowOffset:new paper.Point(0,0)}),t.$box.set(n),t.$box_internship&&t.$box_internship.set(n),paper.view.draw()};Graph.project={draw:function(t,e){var n=e[is_an_internship(t)?"internship":"project"];n.activate(),t.selected=!1,Graph.project["draw_"+t.kind](t,function(n){e.project.activate(),Graph.project.draw_label(t),Graph.project.set_style(t,n)})},set_style:function(t,e){t.$box&&(t.$box.style=Graph.styles[t.state])},draw_first_internship:function(t,e){t.$box_internship=new paper.Path.Circle({center:[t.x,t.y],radius:1e3,style:_.assign(_.cloneDeep(Graph.styles[t.state]),{fillColor:null})}),e()},draw_second_internship:function(t,e){t.$box_internship=new paper.Path.Circle({center:[t.x,t.y],radius:2200,style:_.assign(_.cloneDeep(Graph.styles[t.state]),{fillColor:null})}),e()},draw_rush:function(t,e){t.$box=new paper.Path.Rectangle({center:[t.x,t.y],size:new paper.Size(120,60),radius:25}),e()},draw_exam:function(t,e){t.$box=new paper.Path.Circle({center:[t.x,t.y],radius:80}),e()},draw_part_time:function(t,e){t.$box=new paper.Path.Circle({center:[t.x,t.y],radius:150}),e()},draw_project:function(t,e){t.$box=new paper.Path.Circle({center:[t.x,t.y],radius:50}),e()},draw_big_project:function(t,e){t.$box=new paper.Path.Circle({center:[t.x,t.y],radius:70}),e()},draw_piscine:function(t,e){t.$box=new paper.Path.Rectangle({center:[t.x,t.y],size:new paper.Size(180,60)}),e()},draw_label:function(t){var e=function(t,e,n,i){return new paper.Point([parseInt(n*Math.cos(i*Math.PI/180),10)+t,parseInt(n*Math.sin(i*Math.PI/180),10)+e])},n=function(t,e){t.scale(t.bounds.width>e.width-10?100*(e.width-10)/t.bounds.width/100:1)},i=function(t,e,i){t.y+=5;var r=new paper.PointText({point:t,content:i.name,style:Graph.styles[i.state].text});n(r,e)},r=function(){switch(t.kind){case"first_internship":return[e(3e3,3e3,1e3,45),new paper.Size(2e3,2e3)];case"second_internship":return[e(3e3,3e3,2200,45),new paper.Size(4400,4400)];default:return[new paper.Point(t.x,t.y),new paper.Size(t.$box.getBounds())]}}(),o=_slicedToArray(r,2),s=o[0],a=o[1];is_an_internship(t)&&(t.$box=new paper.Path.Circle({center:s,radius:100,style:Graph.styles[t.state]})),i(s,a,t)},select:function(t,e){Graph.project.unselect().then(function(){Graph.search.hide(),1===t.length&&Graph.description.show(t[0].project_id),_.each(t,function(t){t.selected=!0,glow(t,!0)}),e&&Graph.zoom_handler.zoom_to(_.last(t).$box.position)})},unselect:function(){return new Promise(function(t){Graph.description.hide(),_.each(_.filter(Graph.data.projects,{selected:!0}),function(t){t.selected=!1,glow(t,!1)}),t()})}};var get_style=function(t,e){var n=_.find(Graph.data.projects,"project_id",e.parent_id);return{strokeWidth:10,strokeColor:n&&"done"===n.state?Graph.colors[t.state].link:Graph.colors.unavailable.link}};Graph.link={draw:function(t,e){void 0!==e.by&&(t.activate(),e.$links=[],_.each(e.by,function(t){e.$links.push(new paper.Path({segments:t.points,style:get_style(e,t)}))}))}};var $description=$("#graph_description"),_template=_.template($("script.graph_description_template").html()),set_time_out_handler=null;Graph.description={refresh_vars:function(){$description=$("#graph_description"),_template=_.template($("script.graph_description_template").html())},show:function(t){var e=_.find(Graph.data.projects,{project_id:t});clearTimeout(set_time_out_handler),set_time_out_handler=setTimeout(function(){$description.html(_template(e)).fadeIn("fast")},200)},hide:function(){$description.fadeOut(0,function(){$description.empty()})},is_visible:function(){return $description.is(":visible")},click_on_link:function(){$description.is(":visible")&&(document.location=$description.find(".header > a")[0].href)}};var $search=$("#graph_search.typeahead"),$icon=$("#graph_search_icon"),on_select_project=function(t,e){return Graph.project.select(_.filter(Graph.data.projects,{project_id:e.value}),!0)};Graph.search={refresh_vars:function(){$search=$("#graph_search.typeahead"),$icon=$("#graph_search_icon")},show:function(){Graph.description.hide(),Graph.help.hide(),$search.fadeIn("fast").focus(),$icon.fadeTo(200,0)},hide:function(){$search.typeahead("val",""),$search.fadeOut("fast"),$icon.fadeTo(200,1)},is_visible:function(){return $search.is(":visible")},toggle:function(){Graph.search.is_visible()?Graph.search.hide():Graph.search.show()},on_escape:function(){Graph.search.is_visible()&&(0===$search.typeahead("val").length?Graph.search.hide():$search.typeahead("val",""))},bind:function(){$("#graph_search.typeahead").on("typeahead:selected",on_select_project),$("#graph_search_icon").on("click",Graph.search.show)}};var $help=$("#graph_help"),$helpIcon=$("#graph_help_icon");Graph.help={refresh_vars:function(){$help=$("#graph_help");$("#graph_help_icon")},show:function(t){Graph.search.is_visible()||(Graph.project.unselect(),$help.fadeIn("fast"),Graph.search.hide())},hide:function(){Graph.help.is_visible()&&$help.fadeOut("fast")},toggle:function(){Graph.help.is_visible()?Graph.help.hide():Graph.help.show()},is_visible:function(){return $help.is(":visible")},bind:function(){$helpIcon.on("click",Graph.help.toggle)}};var $cursus_selector=$("#graph_cursus");Graph.cursus={refresh_vars:function(){$cursus_selector=$("#graph_cursus")},show:function(){if(!Graph.search.is_visible())if(Graph.description.hide(),Graph.help.hide(),document.createEvent){var t=document.createEvent("MouseEvents");t.initMouseEvent("mousedown",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),$cursus_selector[0].dispatchEvent(t)}else element.fireEvent&&$cursus_selector.trigger("onmousedown")},toggle:function(){Graph.cursus.is_visible()||Graph.cursus.show()},is_visible:function(){return $cursus_selector.is(":selected")}};var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),HEIGHT=6e3,WIDTH=6e3,center_point=new paper.Point(WIDTH/2,HEIGHT/2),$window=$(window),$navbar=$(".main-navbar"),$ctn=$(".view_ctn"),$canvas=$("canvas#view"),$cursus_selector=$("#graph_cursus"),$campus_selector=$("#graph_campus"),ProjectGraph=function(){function t(e){_classCallCheck(this,t),this.fetch_url=e,this.refresh_vars(),this.$canvas=$canvas,this.$cursus_selector=$cursus_selector,this.$campus_selector=$campus_selector,this.set_ctn_height(),paper.setup($canvas[0]),this.tool=new paper.Tool,this.main_layer=paper.project.activeLayer,this.links_layer=new paper.Layer,this.internship_layer=new paper.Layer,this.projects_layer=new paper.Layer,Graph.grid.draw(this.main_layer,WIDTH,HEIGHT),this.bind(),$cursus_selector.trigger("change")}return _createClass(t,[{key:"refresh_vars",value:function(){$window=$(window),$navbar=$(".main-navbar"),$ctn=$(".view_ctn"),$canvas=$("canvas#view"),$cursus_selector=$("#graph_cursus"),$campus_selector=$("#graph_campus"),Graph.description.refresh_vars(),Graph.help.refresh_vars(),Graph.search.refresh_vars(),Graph.cursus.refresh_vars(),Graph.key_handler.refresh_vars()}},{key:"set_ctn_height",value:function(){$ctn.height($window.height()-$navbar.height())}},{key:"populate",value:function(t){var e=this;return new Promise(function(n,i){e.links_layer.removeChildren(),e.projects_layer.removeChildren(),e.internship_layer.removeChildren(),_.each(t,function(t){Graph.link.draw(e.links_layer,t),Graph.project.draw(t,{project:e.projects_layer,internship:e.internship_layer})}),n()})}},{key:"getData",value:function(){var t=this;return new Promise(function(e,n){return $.ajax({url:t.fetch_url.replace("%cursus_id",$("#graph_cursus").val()).replace("%campus_id",$("#graph_campus").val()),success:e,error:n})})}},{key:"bind",value:function(){$cursus_selector.on("change",this.on_cursus_selector_change.bind(this)),$campus_selector.on("change",this.on_cursus_selector_change.bind(this)),$window.on("resize",this.set_ctn_height),Graph.zoom_handler.bind($canvas),Graph.mouse_handler.bind(this),Graph.key_handler.bind(this),Graph.search.bind(this),Graph.help.bind(this),Graph.animation_handler.bind()}},{key:"on_cursus_selector_change",value:function(t){var e=this;Graph.zoom_handler.reset_zoom(center_point),this.getData(t.currentTarget.value).then(function(t){Graph.data.projects=t,e.populate(Graph.data.projects),e.main_layer.activate(),paper.view.draw()})}}]),t}();/*! rangeslider.js - v1.0.0 | (c) 2015 @andreruffert | MIT license | https://github.com/andreruffert/rangeslider.js */
!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){"use strict";function e(){var t=document.createElement("input");return t.setAttribute("type","range"),"text"!==t.type}function n(t,e){var n=Array.prototype.slice.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)}function i(t,e){return e=e||100,function(){if(!t.debouncing){var n=Array.prototype.slice.apply(arguments);t.lastReturnVal=t.apply(window,n),t.debouncing=!0}return clearTimeout(t.debounceTimeout),t.debounceTimeout=setTimeout(function(){t.debouncing=!1},e),t.lastReturnVal}}function r(t){return 0===t.offsetWidth||0===t.offsetHeight||t.open===!1?!0:!1}function o(t){for(var e=[],n=t.parentNode;r(n);)e.push(n),n=n.parentNode;return e}function s(t,e){function n(t){"undefined"!=typeof t.open&&(t.open=t.open?!1:!0)}var i=o(t),r=i.length,s=[],a=t[e];if(r){for(var l=0;r>l;l++)s[l]=i[l].style.display,i[l].style.display="block",i[l].style.height="0",i[l].style.overflow="hidden",i[l].style.visibility="hidden",n(i[l]);a=t[e];for(var u=0;r>u;u++)n(i[u]),i[u].style.display=s[u],i[u].style.height="",i[u].style.overflow="",i[u].style.visibility=""}return a}function a(e,r){if(this.$window=t(window),this.$document=t(document),this.$element=t(e),this.options=t.extend({},h,r),this.polyfill=this.options.polyfill,this.onInit=this.options.onInit,this.onSlide=this.options.onSlide,this.onSlideEnd=this.options.onSlideEnd,this.polyfill&&c)return!1;this.identifier="js-"+l+"-"+u++,this.startEvent=this.options.startEvent.join("."+this.identifier+" ")+"."+this.identifier,this.moveEvent=this.options.moveEvent.join("."+this.identifier+" ")+"."+this.identifier,this.endEvent=this.options.endEvent.join("."+this.identifier+" ")+"."+this.identifier,this.min=parseFloat(this.$element[0].getAttribute("min")||0),this.max=parseFloat(this.$element[0].getAttribute("max")||100),this.value=parseFloat(this.$element[0].value||this.min+(this.max-this.min)/2),this.step=parseFloat(this.$element[0].getAttribute("step")||1),this.toFixed=(this.step+"").replace(".","").length-1,this.$fill=t('<div class="'+this.options.fillClass+'" />'),this.$handle=t('<div class="'+this.options.handleClass+'" />'),this.$range=t('<div class="'+this.options.rangeClass+'" id="'+this.identifier+'" />').insertAfter(this.$element).prepend(this.$fill,this.$handle),this.$element.css({position:"absolute",width:"1px",height:"1px",overflow:"hidden",opacity:"0"}),this.handleDown=t.proxy(this.handleDown,this),this.handleMove=t.proxy(this.handleMove,this),this.handleEnd=t.proxy(this.handleEnd,this),this.init();var o=this;this.$window.on("resize."+this.identifier,i(function(){n(function(){o.update()},300)},20)),this.$document.on(this.startEvent,"#"+this.identifier+":not(."+this.options.disabledClass+")",this.handleDown),this.$element.on("change."+this.identifier,function(t,e){if(!e||e.origin!==o.identifier){var n=t.target.value,i=o.getPositionFromValue(n);o.setPosition(i)}})}var l="rangeslider",u=0,c=e(),h={polyfill:!0,rangeClass:"rangeslider",disabledClass:"rangeslider--disabled",fillClass:"rangeslider__fill",handleClass:"rangeslider__handle",startEvent:["mousedown","touchstart","pointerdown"],moveEvent:["mousemove","touchmove","pointermove"],endEvent:["mouseup","touchend","pointerup"]};a.prototype.init=function(){this.onInit&&"function"==typeof this.onInit&&this.onInit(),this.update()},a.prototype.update=function(){this.handleWidth=s(this.$handle[0],"offsetWidth"),this.rangeWidth=s(this.$range[0],"offsetWidth"),this.maxHandleX=this.rangeWidth-this.handleWidth,this.grabX=this.handleWidth/2,this.position=this.getPositionFromValue(this.value),this.$element[0].disabled?this.$range.addClass(this.options.disabledClass):this.$range.removeClass(this.options.disabledClass),this.setPosition(this.position)},a.prototype.handleDown=function(t){if(t.preventDefault(),this.$document.on(this.moveEvent,this.handleMove),this.$document.on(this.endEvent,this.handleEnd),!((" "+t.target.className+" ").replace(/[\n\t]/g," ").indexOf(this.options.handleClass)>-1)){var e=this.getRelativePosition(t),n=this.$range[0].getBoundingClientRect().left,i=this.getPositionFromNode(this.$handle[0])-n;this.setPosition(e-this.grabX),e>=i&&e<i+this.handleWidth&&(this.grabX=e-i)}},a.prototype.handleMove=function(t){t.preventDefault();var e=this.getRelativePosition(t);this.setPosition(e-this.grabX)},a.prototype.handleEnd=function(t){t.preventDefault(),this.$document.off(this.moveEvent,this.handleMove),this.$document.off(this.endEvent,this.handleEnd),this.$element.trigger("change",{origin:this.identifier}),this.onSlideEnd&&"function"==typeof this.onSlideEnd&&this.onSlideEnd(this.position,this.value)},a.prototype.cap=function(t,e,n){return e>t?e:t>n?n:t},a.prototype.setPosition=function(t){var e,n;e=this.getValueFromPosition(this.cap(t,0,this.maxHandleX)),n=this.getPositionFromValue(e),this.$fill[0].style.width=n+this.grabX+"px",this.$handle[0].style.left=n+"px",this.setValue(e),this.position=n,this.value=e,this.onSlide&&"function"==typeof this.onSlide&&this.onSlide(n,e)},a.prototype.getPositionFromNode=function(t){for(var e=0;null!==t;)e+=t.offsetLeft,t=t.offsetParent;return e},a.prototype.getRelativePosition=function(t){var e=this.$range[0].getBoundingClientRect().left,n=0;return"undefined"!=typeof t.pageX?n=t.pageX:"undefined"!=typeof t.originalEvent.clientX?n=t.originalEvent.clientX:t.originalEvent.touches&&t.originalEvent.touches[0]&&"undefined"!=typeof t.originalEvent.touches[0].clientX?n=t.originalEvent.touches[0].clientX:t.currentPoint&&"undefined"!=typeof t.currentPoint.x&&(n=t.currentPoint.x),n-e},a.prototype.getPositionFromValue=function(t){var e,n;return e=(t-this.min)/(this.max-this.min),n=e*this.maxHandleX},a.prototype.getValueFromPosition=function(t){var e,n;return e=t/(this.maxHandleX||1),n=this.step*Math.round(e*(this.max-this.min)/this.step)+this.min,Number(n.toFixed(this.toFixed))},a.prototype.setValue=function(t){t!==this.value&&this.$element.val(t).trigger("input",{origin:this.identifier})},a.prototype.destroy=function(){this.$document.off("."+this.identifier),this.$window.off("."+this.identifier),this.$element.off("."+this.identifier).removeAttr("style").removeData("plugin_"+l),this.$range&&this.$range.length&&this.$range[0].parentNode.removeChild(this.$range[0])},t.fn[l]=function(e){return this.each(function(){var n=t(this),i=n.data("plugin_"+l);i||n.data("plugin_"+l,i=new a(this,e)),"string"==typeof e&&i[e]()})}});var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),ScaleTeamUsers=function(){function t(e){_classCallCheck(this,t);var n={selector:"data-scale-team",userId:$("body").attr("data-id"),publicChannelName:"global",queryEvent:"scale_team_user.checkin"};this.opts=_.extend(n,e),console.log("Boot stu"),this.ws=!1,void 0!=dispatcher?(this.ws=dispatcher,this._bindWsHandler()):(console.warn("No websocket handler found :/"),this._bindAjaxHandler())}return _createClass(t,[{key:"_bindWsHandler",value:function(){var t=this;public_channel=this.ws.subscribe(this.opts.publicChannelName),public_channel.bind(this.opts.queryEvent,function(e){console.log("Checking event !",e),t._checkinFor(e.user_id,e.scale_team_id,e.login)})}},{key:"_bindAjaxHandler",value:function(){console.log("Ajax fallback :'(")}},{key:"_checkinFor",value:function(t,e,n){elt=$("[data-checkin-id='"+e+"-"+t+"']"),elt.attr("data-checkin-present","true"),noty({layout:"topRight",type:"success",text:n+" just checked in",timeout:4e3})}}],[{key:"isOnScaleTeamPage",value:function(){$("[data-scale-team]").length>0}}]),t}();!function(){function t(){var t,e,n=arguments,i={},r=function(t,e){var n,i;"object"!=typeof t&&(t={});for(i in e)e.hasOwnProperty(i)&&(n=e[i],t[i]=n&&"object"==typeof n&&"[object Array]"!==Object.prototype.toString.call(n)&&"renderTo"!==i&&"number"!=typeof n.nodeType?r(t[i]||{},n):e[i]);return t};for(n[0]===!0&&(i=n[1],n=Array.prototype.slice.call(n,2)),e=n.length,t=0;e>t;t++)i=r(i,n[t]);return i}function e(t,e){return parseInt(t,e||10)}function n(t){return"string"==typeof t}function i(t){return t&&"object"==typeof t}function r(t){return"[object Array]"===Object.prototype.toString.call(t)}function o(t){return"number"==typeof t}function s(t){return ot.log(t)/ot.LN10}function a(t){return ot.pow(10,t)}function l(t,e){for(var n=t.length;n--;)if(t[n]===e){t.splice(n,1);break}}function u(t){return t!==O&&null!==t}function c(t,e,r){var o,s;if(n(e))u(r)?t.setAttribute(e,r):t&&t.getAttribute&&(s=t.getAttribute(e));else if(u(e)&&i(e))for(o in e)t.setAttribute(o,e[o]);return s}function h(t){return r(t)?t:[t]}function d(t,e){yt&&!kt&&e&&e.opacity!==O&&(e.filter="alpha(opacity="+100*e.opacity+")"),jt(t.style,e)}function p(t,e,n,i,r){return t=it.createElement(t),e&&jt(t,e),r&&d(t,{padding:0,border:It,margin:0}),n&&d(t,n),i&&i.appendChild(t),t}function f(t,e){var n=function(){return O};return n.prototype=new t,jt(n.prototype,e),n}function g(t,e){return Array((e||2)+1-String(t).length).join(0)+t}function m(t){return 6e4*(q&&q(t)||W||0)}function v(t,e){for(var n,i,r,o,s,a="{",l=!1,u=[];-1!==(a=t.indexOf(a));){if(n=t.slice(0,a),l){for(i=n.split(":"),r=i.shift().split("."),s=r.length,n=e,o=0;s>o;o++)n=n[r[o]];i.length&&(i=i.join(":"),r=/\.([0-9])/,o=L.lang,s=void 0,/f$/.test(i)?(s=(s=i.match(r))?s[1]:-1,null!==n&&(n=nt.numberFormat(n,s,o.decimalPoint,i.indexOf(",")>-1?o.thousandsSep:""))):n=$(i,n))}u.push(n),t=t.slice(a+1),a=(l=!l)?"}":"{"}return u.push(t),u.join("")}function y(t){return ot.pow(10,at(ot.log(t)/ot.LN10))}function _(t,e,n,i,r){var o,s=t,n=Ft(n,1);for(o=t/n,e||(e=[1,2,2.5,5,10],i===!1&&(1===n?e=[1,2,5,10]:.1>=n&&(e=[1/n]))),i=0;i<e.length&&(s=e[i],!(r&&s*n>=t||!r&&o<=(e[i]+(e[i+1]||e[i]))/2));i++);return s*=n}function b(t,e){var n,i,r=t.length;for(i=0;r>i;i++)t[i].ss_i=i;for(t.sort(function(t,i){return n=e(t,i),0===n?t.ss_i-i.ss_i:n}),i=0;r>i;i++)delete t[i].ss_i}function w(t){for(var e=t.length,n=t[0];e--;)t[e]<n&&(n=t[e]);return n}function x(t){for(var e=t.length,n=t[0];e--;)t[e]>n&&(n=t[e]);return n}function C(t,e){for(var n in t)t[n]&&t[n]!==e&&t[n].destroy&&t[n].destroy(),delete t[n]}function k(t){N||(N=p(Ot)),t&&N.appendChild(t),N.innerHTML=""}function S(t,e){var n="Highcharts error #"+t+": www.highcharts.com/errors/"+t;if(e)throw n;rt.console&&console.log(n)}function E(t){return parseFloat(t.toPrecision(14))}function T(t,e){j=Ft(t,e.animation)}function D(){var t=L.global,e=t.useUTC,n=e?"getUTC":"get",i=e?"setUTC":"set";B=t.Date||window.Date,W=e&&t.timezoneOffset,q=e&&t.getTimezoneOffset,H=function(t,n,i,r,o,s){var a;return e?(a=B.UTC.apply(0,arguments),a+=m(a)):a=new B(t,n,Ft(i,1),Ft(r,0),Ft(o,0),Ft(s,0)).getTime(),a},Y=n+"Minutes",V=n+"Hours",U=n+"Day",G=n+"Date",X=n+"Month",K=n+"FullYear",Z=i+"Minutes",Q=i+"Hours",J=i+"Date",tt=i+"Month",et=i+"FullYear"}function A(){}function P(t,e,n,i){this.axis=t,this.pos=e,this.type=n||"",this.isNew=!0,!n&&!i&&this.addLabel()}function M(t,e,n,i,r){var o=t.chart.inverted;this.axis=t,this.isNegative=n,this.options=e,this.x=i,this.total=null,this.points={},this.stack=r,this.alignOptions={align:e.align||(o?n?"left":"right":"center"),verticalAlign:e.verticalAlign||(o?"middle":n?"bottom":"top"),y:Ft(e.y,o?4:n?14:-6),x:Ft(e.x,o?n?-6:6:0)},this.textAlign=e.textAlign||(o?n?"right":"left":"center")}var O,I,R,N,L,$,j,F,z,B,H,W,q,Y,V,U,G,X,K,Z,Q,J,tt,et,nt,it=document,rt=window,ot=Math,st=ot.round,at=ot.floor,lt=ot.ceil,ut=ot.max,ct=ot.min,ht=ot.abs,dt=ot.cos,pt=ot.sin,ft=ot.PI,gt=2*ft/360,mt=navigator.userAgent,vt=rt.opera,yt=/(msie|trident)/i.test(mt)&&!vt,_t=8===it.documentMode,bt=/AppleWebKit/.test(mt),wt=/Firefox/.test(mt),xt=/(Mobile|Android|Windows Phone)/.test(mt),Ct="http://www.w3.org/2000/svg",kt=!!it.createElementNS&&!!it.createElementNS(Ct,"svg").createSVGRect,St=wt&&parseInt(mt.split("Firefox/")[1],10)<4,Et=!kt&&!yt&&!!it.createElement("canvas").getContext,Tt={},Dt=0,At=function(){return O},Pt=[],Mt=0,Ot="div",It="none",Rt=/^[0-9]+$/,Nt=["plotTop","marginRight","marginBottom","plotLeft"],Lt="stroke-width",$t={};nt=rt.Highcharts=rt.Highcharts?S(16,!0):{},nt.seriesTypes=$t;var jt=nt.extend=function(t,e){var n;t||(t={});for(n in e)t[n]=e[n];return t},Ft=nt.pick=function(){var t,e,n=arguments,i=n.length;for(t=0;i>t;t++)if(e=n[t],e!==O&&null!==e)return e},zt=nt.wrap=function(t,e,n){var i=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(i),n.apply(this,t)}};$=function(t,e,n){if(!u(e)||isNaN(e))return"Invalid date";var i,t=Ft(t,"%Y-%m-%d %H:%M:%S"),r=new B(e-m(e)),o=r[V](),s=r[U](),a=r[G](),l=r[X](),c=r[K](),h=L.lang,d=h.weekdays,r=jt({a:d[s].substr(0,3),A:d[s],d:g(a),e:a,w:s,b:h.shortMonths[l],B:h.months[l],m:g(l+1),y:c.toString().substr(2,2),Y:c,H:g(o),I:g(o%12||12),l:o%12||12,M:g(r[Y]()),p:12>o?"AM":"PM",P:12>o?"am":"pm",S:g(r.getSeconds()),L:g(st(e%1e3),3)},nt.dateFormats);for(i in r)for(;-1!==t.indexOf("%"+i);)t=t.replace("%"+i,"function"==typeof r[i]?r[i](e):r[i]);return n?t.substr(0,1).toUpperCase()+t.substr(1):t},z={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},nt.numberFormat=function(t,n,i,r){var o=L.lang,t=+t||0,s=-1===n?(t.toString().split(".")[1]||"").length:isNaN(n=ht(n))?2:n,n=void 0===i?o.decimalPoint:i,r=void 0===r?o.thousandsSep:r,o=0>t?"-":"",i=String(e(t=ht(t).toFixed(s))),a=i.length>3?i.length%3:0;return o+(a?i.substr(0,a)+r:"")+i.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+r)+(s?n+ht(t-i).toFixed(s).slice(2):"")},F={init:function(t,e,n){var i,r,o,e=e||"",s=t.shift,a=e.indexOf("C")>-1,l=a?7:3,e=e.split(" "),n=[].concat(n),u=function(t){for(i=t.length;i--;)"M"===t[i]&&t.splice(i+1,0,t[i+1],t[i+2],t[i+1],t[i+2])};if(a&&(u(e),u(n)),t.isArea&&(r=e.splice(e.length-6,6),o=n.splice(n.length-6,6)),s<=n.length/l&&e.length===n.length)for(;s--;)n=[].concat(n).splice(0,l).concat(n);if(t.shift=0,e.length)for(t=n.length;e.length<t;)s=[].concat(e).splice(e.length-l,l),a&&(s[l-6]=s[l-2],s[l-5]=s[l-1]),e=e.concat(s);return r&&(e=e.concat(r),n=n.concat(o)),[e,n]},step:function(t,e,n,i){var r=[],o=t.length;if(1===n)r=i;else if(o===e.length&&1>n)for(;o--;)i=parseFloat(t[o]),r[o]=isNaN(i)?t[o]:n*parseFloat(e[o]-i)+i;else r=e;return r}},function(t){rt.HighchartsAdapter=rt.HighchartsAdapter||t&&{init:function(e){var i=t.fx;t.extend(t.easing,{easeOutQuad:function(t,e,n,i,r){return-i*(e/=r)*(e-2)+n}}),t.each(["cur","_default","width","height","opacity"],function(e,n){var r,o=i.step;"cur"===n?o=i.prototype:"_default"===n&&t.Tween&&(o=t.Tween.propHooks[n],n="set"),(r=o[n])&&(o[n]=function(t){var i,t=e?t:this;return"align"!==t.prop?(i=t.elem,i.attr?i.attr(t.prop,"cur"===n?O:t.now):r.apply(this,arguments)):void 0})}),zt(t.cssHooks.opacity,"get",function(t,e,n){return e.attr?e.opacity||0:t.call(this,e,n)}),this.addAnimSetter("d",function(t){var n,i=t.elem;t.started||(n=e.init(i,i.d,i.toD),t.start=n[0],t.end=n[1],t.started=!0),i.attr("d",e.step(t.start,t.end,t.pos,i.toD))}),this.each=Array.prototype.forEach?function(t,e){return Array.prototype.forEach.call(t,e)}:function(t,e){var n,i=t.length;for(n=0;i>n;n++)if(e.call(t[n],t[n],n,t)===!1)return n},t.fn.highcharts=function(){var t,e,i="Chart",r=arguments;return this[0]&&(n(r[0])&&(i=r[0],r=Array.prototype.slice.call(r,1)),t=r[0],t!==O&&(t.chart=t.chart||{},t.chart.renderTo=this[0],new nt[i](t,r[1]),e=this),t===O&&(e=Pt[c(this[0],"data-highcharts-chart")])),e}},addAnimSetter:function(e,n){t.Tween?t.Tween.propHooks[e]={set:n}:t.fx.step[e]=n},getScript:t.getScript,inArray:t.inArray,adapterRun:function(e,n){return t(e)[n]()},grep:t.grep,map:function(t,e){for(var n=[],i=0,r=t.length;r>i;i++)n[i]=e.call(t[i],t[i],i,t);return n},offset:function(e){return t(e).offset()},addEvent:function(e,n,i){t(e).bind(n,i)},removeEvent:function(e,n,i){var r=it.removeEventListener?"removeEventListener":"detachEvent";it[r]&&e&&!e[r]&&(e[r]=function(){}),t(e).unbind(n,i)},fireEvent:function(e,n,i,r){var o,s=t.Event(n),a="detached"+n;!yt&&i&&(delete i.layerX,delete i.layerY,delete i.returnValue),jt(s,i),e[n]&&(e[a]=e[n],e[n]=null),t.each(["preventDefault","stopPropagation"],function(t,e){var n=s[e];s[e]=function(){try{n.call(s)}catch(t){"preventDefault"===e&&(o=!0)}}}),t(e).trigger(s),e[a]&&(e[n]=e[a],e[a]=null),r&&!s.isDefaultPrevented()&&!o&&r(s)},washMouseEvent:function(t){var e=t.originalEvent||t;return e.pageX===O&&(e.pageX=t.pageX,e.pageY=t.pageY),e},animate:function(e,n,i){var r=t(e);e.style||(e.style={}),n.d&&(e.toD=n.d,n.d=1),r.stop(),n.opacity!==O&&e.attr&&(n.opacity+="px"),e.hasAnim=1,r.animate(n,i)},stop:function(e){e.hasAnim&&t(e).stop()}}}(rt.jQuery);var Bt=rt.HighchartsAdapter,Ht=Bt||{};Bt&&Bt.init.call(Bt,F);var Wt=Ht.adapterRun,qt=Ht.getScript,Yt=Ht.inArray,Vt=nt.each=Ht.each,Ut=Ht.grep,Gt=Ht.offset,Xt=Ht.map,Kt=Ht.addEvent,Zt=Ht.removeEvent,Qt=Ht.fireEvent,Jt=Ht.washMouseEvent,te=Ht.animate,ee=Ht.stop;L={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#2b908f,#f45b5b,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/4.1.1/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.1.1/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":nt.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:kt,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:xt?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var ne=L.plotOptions,Bt=ne.line;D();var ie=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,re=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,oe=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,se=function(n){var i,r,s=[];return function(t){t&&t.stops?r=Xt(t.stops,function(t){return se(t[1])}):(i=ie.exec(t))?s=[e(i[1]),e(i[2]),e(i[3]),parseFloat(i[4],10)]:(i=re.exec(t))?s=[e(i[1],16),e(i[2],16),e(i[3],16),1]:(i=oe.exec(t))&&(s=[e(i[1]),e(i[2]),e(i[3]),1])}(n),{get:function(e){var i;return r?(i=t(n),i.stops=[].concat(i.stops),Vt(r,function(t,n){i.stops[n]=[i.stops[n][0],t.get(e)]})):i=s&&!isNaN(s[0])?"rgb"===e?"rgb("+s[0]+","+s[1]+","+s[2]+")":"a"===e?s[3]:"rgba("+s.join(",")+")":n,i},brighten:function(t){if(r)Vt(r,function(e){e.brighten(t)});else if(o(t)&&0!==t){var n;for(n=0;3>n;n++)s[n]+=e(255*t),s[n]<0&&(s[n]=0),s[n]>255&&(s[n]=255)}return this},rgba:s,setOpacity:function(t){return s[3]=t,this}}};A.prototype={opacity:1,textProps:"fontSize,fontWeight,fontFamily,color,lineHeight,width,textDecoration,textShadow".split(","),init:function(t,e){this.element="span"===e?p(e):it.createElementNS(Ct,e),this.renderer=t},animate:function(e,n,i){return n=Ft(n,j,!0),ee(this),n?(n=t(n,{}),i&&(n.complete=i),te(this,e,n)):(this.attr(e),i&&i()),this},colorGradient:function(e,n,i){var o,s,a,l,c,h,d,p,f,g,m=this.renderer,v=[];if(e.linearGradient?s="linearGradient":e.radialGradient&&(s="radialGradient"),s){a=e[s],l=m.gradients,h=e.stops,f=i.radialReference,r(a)&&(e[s]=a={x1:a[0],y1:a[1],x2:a[2],y2:a[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===s&&f&&!u(a.gradientUnits)&&(a=t(a,{cx:f[0]-f[2]/2+a.cx*f[2],cy:f[1]-f[2]/2+a.cy*f[2],r:a.r*f[2],gradientUnits:"userSpaceOnUse"}));for(g in a)"id"!==g&&v.push(g,a[g]);for(g in h)v.push(h[g]);v=v.join(","),l[v]?e=l[v].attr("id"):(a.id=e="highcharts-"+Dt++,l[v]=c=m.createElement(s).attr(a).add(m.defs),c.stops=[],Vt(h,function(t){0===t[1].indexOf("rgba")?(o=se(t[1]),d=o.get("rgb"),p=o.get("a")):(d=t[1],p=1),t=m.createElement("stop").attr({offset:t[0],"stop-color":d,"stop-opacity":p}).add(c),c.stops.push(t)})),i.setAttribute(n,"url("+m.url+"#"+e+")")}},applyTextShadow:function(t){var n,i=this.element,r=-1!==t.indexOf("contrast"),o=mt.indexOf("Safari")>0&&-1===mt.indexOf("Chrome"),o=i.style.textShadow!==O&&!yt&&!o;r&&(t=t.replace(/contrast/g,this.renderer.getContrast(i.style.fill))),o?r&&d(i,{textShadow:t}):(this.ySetter=this.xSetter,n=[].slice.call(i.getElementsByTagName("tspan")),Vt(t.split(/\s?,\s?/g),function(t){var r,o,s=i.firstChild,t=t.split(" ");r=t[t.length-1],(o=t[t.length-2])&&Vt(n,function(t,n){var a;0===n&&(t.setAttribute("x",i.getAttribute("x")),n=i.getAttribute("y"),t.setAttribute("y",n||0),null===n&&i.setAttribute("y",0)),a=t.cloneNode(1),c(a,{stroke:r,"stroke-opacity":1/ut(e(o),3),"stroke-width":o,"stroke-linejoin":"round"}),i.insertBefore(a,s)})}))},attr:function(t,e){var n,i,r,o,s=this.element,a=this;if("string"==typeof t&&e!==O&&(n=t,t={},t[n]=e),"string"==typeof t)a=(this[t+"Getter"]||this._defaultGetter).call(this,t,s);else{for(n in t)i=t[n],o=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(n)&&(r||(this.symbolAttr(t),r=!0),o=!0),!this.rotation||"x"!==n&&"y"!==n||(this.doTransform=!0),o||(this[n+"Setter"]||this._defaultSetter).call(this,i,n,s),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(n)&&this.updateShadows(n,i);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return a},updateShadows:function(t,e){for(var n=this.shadows,i=n.length;i--;)n[i].setAttribute(t,"height"===t?ut(e-(n[i].cutHeight||0),0):"d"===t?this.d:e)},addClass:function(t){var e=this.element,n=c(e,"class")||"";return-1===n.indexOf(t)&&c(e,"class",n+" "+t),this},symbolAttr:function(t){var e=this;Vt("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(n){e[n]=Ft(t[n],e[n])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":It)},crisp:function(t){var e,n,i={},r=t.strokeWidth||this.strokeWidth||0;n=st(r)%2/2,t.x=at(t.x||this.x||0)+n,t.y=at(t.y||this.y||0)+n,t.width=at((t.width||this.width||0)-2*n),t.height=at((t.height||this.height||0)-2*n),t.strokeWidth=r;for(e in t)this[e]!==t[e]&&(this[e]=i[e]=t[e]);return i},css:function(t){var n,i,r=this.styles,o={},s=this.element,a="";if(n=!r,t&&t.color&&(t.fill=t.color),r)for(i in t)t[i]!==r[i]&&(o[i]=t[i],n=!0);if(n){if(n=this.textWidth=t&&t.width&&"text"===s.nodeName.toLowerCase()&&e(t.width)||this.textWidth,r&&(t=jt(r,o)),this.styles=t,n&&(Et||!kt&&this.renderer.forExport)&&delete t.width,yt&&!kt)d(this.element,t);else{r=function(t,e){return"-"+e.toLowerCase()};for(i in t)a+=i.replace(/([A-Z])/g,r)+":"+t[i]+";";c(s,"style",a)}n&&this.added&&this.renderer.buildText(this)}return this},on:function(t,e){var n=this,i=n.element;return R&&"click"===t?(i.ontouchstart=function(t){n.touchEventFired=B.now(),t.preventDefault(),e.call(i,t)},i.onclick=function(t){(-1===mt.indexOf("Android")||B.now()-(n.touchEventFired||0)>1100)&&e.call(i,t)}):i["on"+t]=e,this},setRadialReference:function(t){return this.element.radialReference=t,this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(){return this.inverted=!0,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,n=this.scaleX,i=this.scaleY,r=this.inverted,o=this.rotation,s=this.element;r&&(t+=this.attr("width"),e+=this.attr("height")),t=["translate("+t+","+e+")"],r?t.push("rotate(90) scale(-1,1)"):o&&t.push("rotate("+o+" "+(s.getAttribute("x")||0)+" "+(s.getAttribute("y")||0)+")"),(u(n)||u(i))&&t.push("scale("+Ft(n,1)+" "+Ft(i,1)+")"),t.length&&s.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var r,o,s,a,u={};return o=this.renderer,s=o.alignedObjects,t?(this.alignOptions=t,this.alignByTranslate=e,(!i||n(i))&&(this.alignTo=r=i||"renderer",l(s,this),s.push(this),i=null)):(t=this.alignOptions,e=this.alignByTranslate,r=this.alignTo),i=Ft(i,o[r],o),r=t.align,o=t.verticalAlign,s=(i.x||0)+(t.x||0),a=(i.y||0)+(t.y||0),("right"===r||"center"===r)&&(s+=(i.width-(t.width||0))/{right:1,center:2}[r]),u[e?"translateX":"x"]=st(s),("bottom"===o||"middle"===o)&&(a+=(i.height-(t.height||0))/({bottom:1,middle:2}[o]||1)),u[e?"translateY":"y"]=st(a),this[this.placed?"animate":"attr"](u),this.placed=!0,this.alignAttr=u,this},getBBox:function(t){var e,n,i=this.renderer,r=this.rotation;n=this.element;var o,s=this.styles,a=r*gt,l=this.textStr;if(l!==O&&(o=["",r||0,s&&s.fontSize,n.style.width].join(","),o=""===l||Rt.test(l)?"num:"+l.toString().length+o:l+o),o&&!t&&(e=i.cache[o]),!e){if(n.namespaceURI===Ct||i.forExport){try{e=n.getBBox?jt({},n.getBBox()):{width:n.offsetWidth,height:n.offsetHeight}}catch(u){}(!e||e.width<0)&&(e={width:0,height:0})}else e=this.htmlGetBBox();i.isSVG&&(t=e.width,n=e.height,yt&&s&&"11px"===s.fontSize&&"16.9"===n.toPrecision(3)&&(e.height=n=14),r&&(e.width=ht(n*pt(a))+ht(t*dt(a)),e.height=ht(n*dt(a))+ht(t*pt(a)))),i.cache[o]=e}return e},show:function(t){return t&&this.element.namespaceURI===Ct?this.element.removeAttribute("visibility"):this.attr({visibility:t?"inherit":"visible"}),this},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,n=this.renderer,i=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&n.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:n.box).appendChild(i),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,n=this,i=n.element||{},r=n.shadows,o=n.renderer.isSVG&&"SPAN"===i.nodeName&&n.parentGroup;if(i.onclick=i.onmouseout=i.onmouseover=i.onmousemove=i.point=null,ee(n),n.clipPath&&(n.clipPath=n.clipPath.destroy()),n.stops){for(e=0;e<n.stops.length;e++)n.stops[e]=n.stops[e].destroy();n.stops=null}for(n.safeRemoveChild(i),r&&Vt(r,function(t){n.safeRemoveChild(t)});o&&o.div&&0===o.div.childNodes.length;)i=o.parentGroup,n.safeRemoveChild(o.div),delete o.div,o=i;n.alignTo&&l(n.renderer.alignedObjects,n);for(t in n)delete n[t];return null},shadow:function(t,e,n){var i,r,o,s,a,l,u=[],h=this.element;if(t){for(s=Ft(t.width,3),a=(t.opacity||.15)/s,l=this.parentInverted?"(-1,-1)":"("+Ft(t.offsetX,1)+", "+Ft(t.offsetY,1)+")",i=1;s>=i;i++)r=h.cloneNode(0),o=2*s+1-2*i,c(r,{isShadow:"true",stroke:t.color||"black","stroke-opacity":a*i,"stroke-width":o,transform:"translate"+l,fill:It}),n&&(c(r,"height",ut(c(r,"height")-o,0)),r.cutHeight=o),e?e.element.appendChild(r):h.parentNode.insertBefore(r,h),u.push(r);this.shadows=u}return this},xGetter:function(t){return"circle"===this.element.nodeName&&(t={x:"cx",y:"cy"}[t]||t),this._defaultGetter(t)},_defaultGetter:function(t){return t=Ft(this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(t,e,n){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),n.setAttribute(e,t),this[e]=t},dashstyleSetter:function(t){var n;if(t=t&&t.toLowerCase()){for(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),n=t.length;n--;)t[n]=e(t[n])*this["stroke-width"];t=t.join(",").replace("NaN","none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,n){this[e]=t,n.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=it.createElementNS(Ct,"title"),this.element.appendChild(e)),e.textContent=Ft(t,"").replace(/<[^>]*>/g,"")},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,n){"string"==typeof t?n.setAttribute(e,t):t&&this.colorGradient(t,e,n)},zIndexSetter:function(t,n){var i,r,o,s,a=this.renderer,l=this.parentGroup,a=(l||a).element||a.box,h=this.element;if(u(t)&&(h.setAttribute(n,t),this[n]=+t),this.added){for((t=this.zIndex)&&l&&(l.handleZ=!0),l=a.childNodes,s=0;s<l.length&&!o;s++)i=l[s],r=c(i,"zIndex"),i!==h&&(e(r)>t||!u(t)&&u(r))&&(a.insertBefore(h,i),o=!0);o||a.appendChild(h)}return o},_defaultSetter:function(t,e,n){n.setAttribute(e,t)}},A.prototype.yGetter=A.prototype.xGetter,A.prototype.translateXSetter=A.prototype.translateYSetter=A.prototype.rotationSetter=A.prototype.verticalAlignSetter=A.prototype.scaleXSetter=A.prototype.scaleYSetter=function(t,e){this[e]=t,this.doTransform=!0},A.prototype["stroke-widthSetter"]=A.prototype.strokeSetter=function(t,e,n){this[e]=t,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],A.prototype.fillSetter.call(this,this.stroke,"stroke",n),n.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===e&&0===t&&this.hasStroke&&(n.removeAttribute("stroke"),this.hasStroke=!1)};var ae=function(){this.init.apply(this,arguments)};if(ae.prototype={Element:A,init:function(t,e,n,i,r){var o,s=location,i=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(i));o=i.element,t.appendChild(o),-1===t.innerHTML.indexOf("xmlns")&&c(o,"xmlns",Ct),this.isSVG=!0,this.box=o,this.boxWrapper=i,this.alignedObjects=[],this.url=(wt||bt)&&it.getElementsByTagName("base").length?s.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(it.createTextNode("Created with Highcharts 4.1.1")),this.defs=this.createElement("defs").add(),this.forExport=r,this.gradients={},this.cache={},this.setSize(e,n,!1);var a;wt&&t.getBoundingClientRect&&(this.subPixelFix=e=function(){d(t,{left:0,top:0}),a=t.getBoundingClientRect(),d(t,{left:lt(a.left)-a.left+"px",top:lt(a.top)-a.top+"px"})},e(),Kt(rt,"resize",e))},getStyle:function(t){return this.style=jt({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},isHidden:function(){
return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),C(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.subPixelFix&&Zt(rt,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:function(){},buildText:function(t){for(var n,i,r=t.element,o=this,s=o.forExport,a=Ft(t.textStr,"").toString(),l=-1!==a.indexOf("<"),u=r.childNodes,h=c(r,"x"),p=t.styles,f=t.textWidth,g=p&&p.lineHeight,m=p&&p.textShadow,v=p&&"ellipsis"===p.textOverflow,y=u.length,_=f&&!t.added&&this.box,b=function(t){return g?e(g):o.fontMetrics(/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:p&&p.fontSize||o.style.fontSize||12,t).h},w=function(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">")};y--;)r.removeChild(u[y]);l||m||v||-1!==a.indexOf(" ")?(n=/<.*style="([^"]+)".*>/,i=/<.*href="(http[^"]+)".*>/,_&&_.appendChild(r),a=l?a.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[a],""===a[a.length-1]&&a.pop(),Vt(a,function(e,a){var l,u=0,e=e.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");l=e.split("|||"),Vt(l,function(e){if(""!==e||1===l.length){var g,m={},y=it.createElementNS(Ct,"tspan");if(n.test(e)&&(g=e.match(n)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),c(y,"style",g)),i.test(e)&&!s&&(c(y,"onclick",'location.href="'+e.match(i)[1]+'"'),d(y,{cursor:"pointer"})),e=w(e.replace(/<(.|\n)*?>/g,"")||" ")," "!==e){if(y.appendChild(it.createTextNode(e)),u?m.dx=0:a&&null!==h&&(m.x=h),c(y,m),r.appendChild(y),!u&&a&&(!kt&&s&&d(y,{display:"block"}),c(y,"dy",b(y))),f){for(var _,x,C,m=e.replace(/([^\^])-/g,"$1- ").split(" "),k=l.length>1||a||m.length>1&&"nowrap"!==p.whiteSpace,S=[],E=b(y),T=1,D=t.rotation,A=e,P=A.length;(k||v)&&(m.length||S.length);)t.rotation=0,_=t.getBBox(!0),C=_.width,!kt&&o.forExport&&(C=o.measureSpanWidth(y.firstChild.data,t.styles)),_=C>f,void 0===x&&(x=_),v&&x?(P/=2,""===A||!_&&.5>P?m=[]:(_&&(x=!0),A=e.substring(0,A.length+(_?-1:1)*lt(P)),m=[A+"\u2026"],y.removeChild(y.firstChild))):_&&1!==m.length?(y.removeChild(y.firstChild),S.unshift(m.pop())):(m=S,S=[],m.length&&(T++,y=it.createElementNS(Ct,"tspan"),c(y,{dy:E,x:h}),g&&c(y,"style",g),r.appendChild(y)),C>f&&(f=C)),m.length&&y.appendChild(it.createTextNode(m.join(" ").replace(/- /g,"-")));x&&t.attr("title",t.textStr),t.rotation=D}u++}}})}),_&&_.removeChild(r),m&&t.applyTextShadow&&t.applyTextShadow(m)):r.appendChild(it.createTextNode(w(a)))},getContrast:function(t){return t=se(t).rgba,t[0]+t[1]+t[2]>384?"#000":"#FFF"},button:function(e,n,i,r,o,s,a,l,u){var c,h,d,p,f,g,m=this.label(e,n,i,u,null,null,null,null,"button"),v=0,e={x1:0,y1:0,x2:0,y2:1},o=t({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:e,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},o);return d=o.style,delete o.style,s=t(o,{stroke:"#68A",fill:{linearGradient:e,stops:[[0,"#FFF"],[1,"#ACF"]]}},s),p=s.style,delete s.style,a=t(o,{stroke:"#68A",fill:{linearGradient:e,stops:[[0,"#9BD"],[1,"#CDF"]]}},a),f=a.style,delete a.style,l=t(o,{style:{color:"#CCC"}},l),g=l.style,delete l.style,Kt(m.element,yt?"mouseover":"mouseenter",function(){3!==v&&m.attr(s).css(p)}),Kt(m.element,yt?"mouseout":"mouseleave",function(){3!==v&&(c=[o,s,a][v],h=[d,p,f][v],m.attr(c).css(h))}),m.setState=function(t){(m.state=v=t)?2===t?m.attr(a).css(f):3===t&&m.attr(l).css(g):m.attr(o).css(d)},m.on("click",function(){3!==v&&r.call(m)}).attr(o).css(jt({cursor:"default"},d))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=st(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=st(t[2])+e%2/2),t},path:function(t){var e={fill:It};return r(t)?e.d=t:i(t)&&jt(e,t),this.createElement("path").attr(e)},circle:function(t,e,n){return t=i(t)?t:{x:t,y:e,r:n},e=this.createElement("circle"),e.xSetter=function(t){this.element.setAttribute("cx",t)},e.ySetter=function(t){this.element.setAttribute("cy",t)},e.attr(t)},arc:function(t,e,n,r,o,s){return i(t)&&(e=t.y,n=t.r,r=t.innerR,o=t.start,s=t.end,t=t.x),t=this.symbol("arc",t||0,e||0,n||0,n||0,{innerR:r||0,start:o||0,end:s||0}),t.r=n,t},rect:function(t,e,n,r,o,s){var o=i(t)?t.r:o,a=this.createElement("rect"),t=i(t)?t:t===O?{}:{x:t,y:e,width:ut(n,0),height:ut(r,0)};return s!==O&&(t.strokeWidth=s,t=a.crisp(t)),o&&(t.r=o),a.rSetter=function(t){c(this.element,{rx:t,ry:t})},a.attr(t)},setSize:function(t,e,n){var i=this.alignedObjects,r=i.length;for(this.width=t,this.height=e,this.boxWrapper[Ft(n,!0)?"animate":"attr"]({width:t,height:e});r--;)i[r].align()},g:function(t){var e=this.createElement("g");return u(t)?e.attr({"class":"highcharts-"+t}):e},image:function(t,e,n,i,r){var o={preserveAspectRatio:It};return arguments.length>1&&jt(o,{x:e,y:n,width:i,height:r}),o=this.createElement("image").attr(o),o.element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):o.element.setAttribute("hc-svg-href",t),o},symbol:function(t,e,n,i,r,o){var s,a,l,u=this.symbols[t],u=u&&u(st(e),st(n),i,r,o),c=/^url\((.*?)\)$/;return u?(s=this.path(u),jt(s,{symbolName:t,x:e,y:n,width:i,height:r}),o&&jt(s,o)):c.test(t)&&(l=function(t,e){t.element&&(t.attr({width:e[0],height:e[1]}),t.alignByTranslate||t.translate(st((i-e[0])/2),st((r-e[1])/2)))},a=t.match(c)[1],t=Tt[a]||o&&o.width&&o.height&&[o.width,o.height],s=this.image(a).attr({x:e,y:n}),s.isImg=!0,t?l(s,t):(s.attr({width:0,height:0}),p("img",{onload:function(){l(s,Tt[a]=[this.width,this.height])},src:a}))),s},symbols:{circle:function(t,e,n,i){var r=.166*n;return["M",t+n/2,e,"C",t+n+r,e,t+n+r,e+i,t+n/2,e+i,"C",t-r,e+i,t-r,e,t+n/2,e,"Z"]},square:function(t,e,n,i){return["M",t,e,"L",t+n,e,t+n,e+i,t,e+i,"Z"]},triangle:function(t,e,n,i){return["M",t+n/2,e,"L",t+n,e+i,t,e+i,"Z"]},"triangle-down":function(t,e,n,i){return["M",t,e,"L",t+n,e,t+n/2,e+i,"Z"]},diamond:function(t,e,n,i){return["M",t+n/2,e,"L",t+n,e+i/2,t+n/2,e+i,t,e+i/2,"Z"]},arc:function(t,e,n,i,r){var o=r.start,n=r.r||n||i,s=r.end-.001,i=r.innerR,a=r.open,l=dt(o),u=pt(o),c=dt(s),s=pt(s),r=r.end-o<ft?0:1;return["M",t+n*l,e+n*u,"A",n,n,0,r,1,t+n*c,e+n*s,a?"M":"L",t+i*c,e+i*s,"A",i,i,0,r,0,t+i*l,e+i*u,a?"":"Z"]},callout:function(t,e,n,i,r){var o=ct(r&&r.r||0,n,i),s=o+6,a=r&&r.anchorX,l=r&&r.anchorY,r=st(r.strokeWidth||0)%2/2;return t+=r,e+=r,r=["M",t+o,e,"L",t+n-o,e,"C",t+n,e,t+n,e,t+n,e+o,"L",t+n,e+i-o,"C",t+n,e+i,t+n,e+i,t+n-o,e+i,"L",t+o,e+i,"C",t,e+i,t,e+i,t,e+i-o,"L",t,e+o,"C",t,e,t,e,t+o,e],a&&a>n&&l>e+s&&e+i-s>l?r.splice(13,3,"L",t+n,l-6,t+n+6,l,t+n,l+6,t+n,e+i-o):a&&0>a&&l>e+s&&e+i-s>l?r.splice(33,3,"L",t,l+6,t-6,l,t,l-6,t,e+o):l&&l>i&&a>t+s&&t+n-s>a?r.splice(23,3,"L",a+6,e+i,a,e+i+6,a-6,e+i,t+o,e+i):l&&0>l&&a>t+s&&t+n-s>a&&r.splice(3,3,"L",a-6,e,a,e-6,a+6,e,n-o,e),r}},clipRect:function(t,e,n,i){var r="highcharts-"+Dt++,o=this.createElement("clipPath").attr({id:r}).add(this.defs),t=this.rect(t,e,n,i,0).add(o);return t.id=r,t.clipPath=o,t.count=0,t},text:function(t,e,n,i){var r=Et||!kt&&this.forExport,o={};return i&&!this.forExport?this.html(t,e,n):(o.x=Math.round(e||0),n&&(o.y=Math.round(n)),(t||0===t)&&(o.text=t),t=this.createElement("text").attr(o),r&&t.css({position:"absolute"}),i||(t.xSetter=function(t,e,n){var i,r,o=n.getElementsByTagName("tspan"),s=n.getAttribute(e);for(r=0;r<o.length;r++)i=o[r],i.getAttribute(e)===s&&i.setAttribute(e,t);n.setAttribute(e,t)}),t)},fontMetrics:function(t,n){t=t||this.style.fontSize,n&&rt.getComputedStyle&&(n=n.element||n,t=rt.getComputedStyle(n,"").fontSize);var t=/px/.test(t)?e(t):/em/.test(t)?12*parseFloat(t):12,i=24>t?t+3:st(1.2*t),r=st(.8*i);return{h:i,b:r,f:t}},rotCorr:function(t,e,n){var i=t;return e&&n&&(i=ut(i*dt(e*gt),4)),{x:-t/3*pt(e*gt),y:i}},label:function(e,n,i,r,o,s,a,l,c){function h(){var t,e;t=k.element.style,g=(void 0===m||void 0===v||C.styles.textAlign)&&u(k.textStr)&&k.getBBox(),C.width=(m||g.width||0)+2*E+T,C.height=(v||g.height||0)+2*E,b=E+x.fontMetrics(t&&t.fontSize,k).b,w&&(f||(t=st(-S*E),e=l?-b:0,C.box=f=r?x.symbol(r,t,e,C.width,C.height,P):x.rect(t,e,C.width,C.height,0,P[Lt]),f.attr("fill",It).add(C)),f.isImg||f.attr(jt({width:st(C.width),height:st(C.height)},P)),P=null)}function d(){var t,e=C.styles,e=e&&e.textAlign,n=T+E*(1-S);t=l?0:b,u(m)&&g&&("center"===e||"right"===e)&&(n+={center:.5,right:1}[e]*(m-g.width)),(n!==k.x||t!==k.y)&&(k.attr("x",n),t!==O&&k.attr("y",t)),k.x=n,k.y=t}function p(t,e){f?f.attr(t,e):P[t]=e}var f,g,m,v,y,_,b,w,x=this,C=x.g(c),k=x.text("",0,0,a).attr({zIndex:1}),S=0,E=3,T=0,D=0,P={};C.onAdd=function(){k.add(C),C.attr({text:e||0===e?e:"",x:n,y:i}),f&&u(o)&&C.attr({anchorX:o,anchorY:s})},C.widthSetter=function(t){m=t},C.heightSetter=function(t){v=t},C.paddingSetter=function(t){u(t)&&t!==E&&(E=C.padding=t,d())},C.paddingLeftSetter=function(t){u(t)&&t!==T&&(T=t,d())},C.alignSetter=function(t){S={left:0,center:.5,right:1}[t]},C.textSetter=function(t){t!==O&&k.textSetter(t),h(),d()},C["stroke-widthSetter"]=function(t,e){t&&(w=!0),D=t%2/2,p(e,t)},C.strokeSetter=C.fillSetter=C.rSetter=function(t,e){"fill"===e&&t&&(w=!0),p(e,t)},C.anchorXSetter=function(t,e){o=t,p(e,t+D-y)},C.anchorYSetter=function(t,e){s=t,p(e,t-_)},C.xSetter=function(t){C.x=t,S&&(t-=S*((m||g.width)+E)),y=st(t),C.attr("translateX",y)},C.ySetter=function(t){_=C.y=st(t),C.attr("translateY",_)};var M=C.css;return jt(C,{css:function(e){if(e){var n={},e=t(e);Vt(C.textProps,function(t){e[t]!==O&&(n[t]=e[t],delete e[t])}),k.css(n)}return M.call(C,e)},getBBox:function(){return{width:g.width+2*E,height:g.height+2*E,x:g.x-E,y:g.y-E}},shadow:function(t){return f&&f.shadow(t),C},destroy:function(){Zt(C.element,"mouseenter"),Zt(C.element,"mouseleave"),k&&(k=k.destroy()),f&&(f=f.destroy()),A.prototype.destroy.call(C),C=x=h=d=p=null}})}},I=ae,jt(A.prototype,{htmlCss:function(t){var e=this.element;return(e=t&&"SPAN"===e.tagName&&t.width)&&(delete t.width,this.textWidth=e,this.updateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=jt(this.styles,t),d(this.element,t),this},htmlGetBBox:function(){var t=this.element;return"text"===t.nodeName&&(t.style.position="absolute"),{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,n=this.element,i=this.translateX||0,r=this.translateY||0,o=this.x||0,s=this.y||0,a=this.textAlign||"left",l={left:0,center:.5,right:1}[a],c=this.shadows,h=this.styles;if(d(n,{marginLeft:i,marginTop:r}),c&&Vt(c,function(t){d(t,{marginLeft:i+1,marginTop:r+1})}),this.inverted&&Vt(n.childNodes,function(e){t.invertChild(e,n)}),"SPAN"===n.tagName){var p,f=this.rotation,g=e(this.textWidth),m=[f,a,n.innerHTML,this.textWidth].join(",");m!==this.cTT&&(p=t.fontMetrics(n.style.fontSize).b,u(f)&&this.setSpanRotation(f,l,p),c=Ft(this.elemWidth,n.offsetWidth),c>g&&/[ \-]/.test(n.textContent||n.innerText)&&(d(n,{width:g+"px",display:"block",whiteSpace:h&&h.whiteSpace||"normal"}),c=g),this.getSpanCorrection(c,p,l,f,a)),d(n,{left:o+(this.xCorr||0)+"px",top:s+(this.yCorr||0)+"px"}),bt&&(p=n.offsetHeight),this.cTT=m}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,n){var i={},r=yt?"-ms-transform":bt?"-webkit-transform":wt?"MozTransform":vt?"-o-transform":"";i[r]=i.transform="rotate("+t+"deg)",i[r+(wt?"Origin":"-origin")]=i.transformOrigin=100*e+"% "+n+"px",d(this.element,i)},getSpanCorrection:function(t,e,n){this.xCorr=-t*n,this.yCorr=-e}}),jt(ae.prototype,{html:function(t,e,n){var i=this.createElement("span"),r=i.element,o=i.renderer;return i.textSetter=function(t){t!==r.innerHTML&&delete this.bBox,r.innerHTML=this.textStr=t},i.xSetter=i.ySetter=i.alignSetter=i.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),i[e]=t,i.htmlUpdateTransform()},i.attr({text:t,x:st(e),y:st(n)}).css({position:"absolute",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),r.style.whiteSpace="nowrap",i.css=i.htmlCss,o.isSVG&&(i.add=function(t){var e,n=o.box.parentNode,s=[];if(this.parentGroup=t){if(e=t.div,!e){for(;t;)s.push(t),t=t.parentGroup;Vt(s.reverse(),function(t){var i;e=t.div=t.div||p(Ot,{className:c(t.element,"class")},{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px"},e||n),i=e.style,jt(t,{translateXSetter:function(e,n){i.left=e+"px",t[n]=e,t.doTransform=!0},translateYSetter:function(e,n){i.top=e+"px",t[n]=e,t.doTransform=!0},visibilitySetter:function(t,e){i[e]=t}})})}}else e=n;return e.appendChild(r),i.added=!0,i.alignOnAdd&&i.htmlUpdateTransform(),i}),i}}),!kt&&!Et){Ht={init:function(t,e){var n=["<",e,' filled="f" stroked="f"'],i=["position: ","absolute",";"],r=e===Ot;("shape"===e||r)&&i.push("left:0;top:0;width:1px;height:1px;"),i.push("visibility: ",r?"hidden":"visible"),n.push(' style="',i.join(""),'"/>'),e&&(n=r||"span"===e||"img"===e?n.join(""):t.prepVML(n),this.element=p(n)),this.renderer=t},add:function(t){var e=this.renderer,n=this.element,i=e.box,i=t?t.element||t:i;return t&&t.inverted&&e.invertChild(n,i),i.appendChild(n),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this},updateTransform:A.prototype.htmlUpdateTransform,setSpanRotation:function(){var t=this.rotation,e=dt(t*gt),n=pt(t*gt);d(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",e,", M12=",-n,", M21=",n,", M22=",e,", sizingMethod='auto expand')"].join(""):It})},getSpanCorrection:function(t,e,n,i,r){var o,s=i?dt(i*gt):1,a=i?pt(i*gt):0,l=Ft(this.elemHeight,this.element.offsetHeight);this.xCorr=0>s&&-t,this.yCorr=0>a&&-l,o=0>s*a,this.xCorr+=a*e*(o?1-n:n),this.yCorr-=s*e*(i?o?n:1-n:1),r&&"left"!==r&&(this.xCorr-=t*n*(0>s?-1:1),i&&(this.yCorr-=l*n*(0>a?-1:1)),d(this.element,{textAlign:r}))},pathToVML:function(t){for(var e=t.length,n=[];e--;)o(t[e])?n[e]=st(10*t[e])-5:"Z"===t[e]?n[e]="x":(n[e]=t[e],!t.isArc||"wa"!==t[e]&&"at"!==t[e]||(n[e+5]===n[e+7]&&(n[e+7]+=t[e+7]>t[e+5]?1:-1),n[e+6]===n[e+8]&&(n[e+8]+=t[e+8]>t[e+6]?1:-1)));return n.join(" ")||"x"},clip:function(t){var e,n=this;return t?(e=t.members,l(e,n),e.push(n),n.destroyClip=function(){l(e,n)},t=t.getCSS(n)):(n.destroyClip&&n.destroyClip(),t={clip:_t?"inherit":"rect(auto)"}),n.css(t)},css:A.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&k(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),A.prototype.destroy.apply(this)},on:function(t,e){return this.element["on"+t]=function(){var t=rt.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,n){var i,t=t.split(/[ ,]/);return i=t.length,(9===i||11===i)&&(t[i-4]=t[i-2]=e(t[i-2])-10*n),t.join(" ")},shadow:function(t,n,i){var r,o,s,a,l,u,c,h=[],d=this.element,f=this.renderer,g=d.style,m=d.path;if(m&&"string"!=typeof m.value&&(m="x"),l=m,t){for(u=Ft(t.width,3),c=(t.opacity||.15)/u,r=1;3>=r;r++)a=2*u+1-2*r,i&&(l=this.cutOffPath(m.value,a+.5)),s=['<shape isShadow="true" strokeweight="',a,'" filled="false" path="',l,'" coordsize="10 10" style="',d.style.cssText,'" />'],o=p(f.prepVML(s),null,{left:e(g.left)+Ft(t.offsetX,1),top:e(g.top)+Ft(t.offsetY,1)}),i&&(o.cutOff=a+1),s=['<stroke color="',t.color||"black",'" opacity="',c*r,'"/>'],p(f.prepVML(s),null,null,o),n?n.element.appendChild(o):d.parentNode.insertBefore(o,d),h.push(o);this.shadows=h}return this},updateShadows:At,setAttr:function(t,e){_t?this.element[t]=e:this.element.setAttribute(t,e)},classSetter:function(t){this.element.className=t},dashstyleSetter:function(t,e,n){(n.getElementsByTagName("stroke")[0]||p(this.renderer.prepVML(["<stroke/>"]),null,null,n))[e]=t||"solid",this[e]=t},dSetter:function(t,e,n){var i=this.shadows,t=t||[];if(this.d=t.join&&t.join(" "),n.path=t=this.pathToVML(t),i)for(n=i.length;n--;)i[n].path=i[n].cutOff?this.cutOffPath(t,i[n].cutOff):t;this.setAttr(e,t)},fillSetter:function(t,e,n){var i=n.nodeName;"SPAN"===i?n.style.color=t:"IMG"!==i&&(n.filled=t!==It,this.setAttr("fillcolor",this.renderer.color(t,n,e,this)))},opacitySetter:At,rotationSetter:function(t,e,n){n=n.style,this[e]=n[e]=t,n.left=-st(pt(t*gt)+1)+"px",n.top=st(dt(t*gt))+"px"},strokeSetter:function(t,e,n){this.setAttr("strokecolor",this.renderer.color(t,n,e))},"stroke-widthSetter":function(t,e,n){n.stroked=!!t,this[e]=t,o(t)&&(t+="px"),this.setAttr("strokeweight",t)},titleSetter:function(t,e){this.setAttr(e,t)},visibilitySetter:function(t,e,n){"inherit"===t&&(t="visible"),this.shadows&&Vt(this.shadows,function(n){n.style[e]=t}),"DIV"===n.nodeName&&(t="hidden"===t?"-999em":0,_t||(n.style[e]=t?"visible":"hidden"),e="top"),n.style[e]=t},xSetter:function(t,e,n){this[e]=t,"x"===e?e="left":"y"===e&&(e="top"),this.updateClipping?(this[e]=t,this.updateClipping()):n.style[e]=t},zIndexSetter:function(t,e,n){n.style[e]=t}},nt.VMLElement=Ht=f(A,Ht),Ht.prototype.ySetter=Ht.prototype.widthSetter=Ht.prototype.heightSetter=Ht.prototype.xSetter;var le={Element:Ht,isIE8:mt.indexOf("MSIE 8.0")>-1,init:function(t,e,n,i){var r;if(this.alignedObjects=[],i=this.createElement(Ot).css(jt(this.getStyle(i),{position:"relative"})),r=i.element,t.appendChild(i.element),this.isVML=!0,this.box=r,this.boxWrapper=i,this.cache={},this.setSize(e,n,!1),!it.namespaces.hcv){it.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{it.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(o){it.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,e,n,r){var o=this.createElement(),s=i(t);return jt(o,{members:[],count:0,left:(s?t.x:t)+1,top:(s?t.y:e)+1,width:(s?t.width:n)-1,height:(s?t.height:r)-1,getCSS:function(t){var e=t.element,n=e.nodeName,t=t.inverted,i=this.top-("shape"===n?e.offsetTop:0),r=this.left,e=r+this.width,o=i+this.height,i={clip:"rect("+st(t?r:i)+"px,"+st(t?o:e)+"px,"+st(t?e:o)+"px,"+st(t?i:r)+"px)"};return!t&&_t&&"DIV"===n&&jt(i,{width:e+"px",height:o+"px"}),i},updateClipping:function(){Vt(o.members,function(t){t.element&&t.css(o.getCSS(t))})}})},color:function(t,e,n,i){var r,o,s,a=this,l=/^rgba/,u=It;if(t&&t.linearGradient?s="gradient":t&&t.radialGradient&&(s="pattern"),s){var c,h,d,f,g,m,v,y,_=t.linearGradient||t.radialGradient,b="",t=t.stops,w=[],x=function(){o=['<fill colors="'+w.join(",")+'" opacity="',g,'" o:opacity2="',f,'" type="',s,'" ',b,'focus="100%" method="any" />'],p(a.prepVML(o),null,null,e)};if(d=t[0],y=t[t.length-1],d[0]>0&&t.unshift([0,d[1]]),y[0]<1&&t.push([1,y[1]]),Vt(t,function(t,e){l.test(t[1])?(r=se(t[1]),c=r.get("rgb"),h=r.get("a")):(c=t[1],h=1),w.push(100*t[0]+"% "+c),e?(g=h,m=c):(f=h,v=c)}),"fill"===n)if("gradient"===s)n=_.x1||_[0]||0,t=_.y1||_[1]||0,d=_.x2||_[2]||0,_=_.y2||_[3]||0,b='angle="'+(90-180*ot.atan((_-t)/(d-n))/ft)+'"',x();else{var C,u=_.r,k=2*u,S=2*u,E=_.cx,T=_.cy,D=e.radialReference,u=function(){D&&(C=i.getBBox(),E+=(D[0]-C.x)/C.width-.5,T+=(D[1]-C.y)/C.height-.5,k*=D[2]/C.width,S*=D[2]/C.height),b='src="'+L.global.VMLRadialGradientURL+'" size="'+k+","+S+'" origin="0.5,0.5" position="'+E+","+T+'" color2="'+v+'" ',x()};i.added?u():i.onAdd=u,u=m}else u=c}else l.test(t)&&"IMG"!==e.tagName?(r=se(t),o=["<",n,' opacity="',r.get("a"),'"/>'],p(this.prepVML(o),null,null,e),u=r.get("rgb")):(u=e.getElementsByTagName(n),u.length&&(u[0].opacity=1,u[0].type="solid"),u=t);return u},prepVML:function(t){var e=this.isIE8,t=t.join("");return e?(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),t=-1===t.indexOf('style="')?t.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):t.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):t=t.replace("<","<hcv:"),t},text:ae.prototype.html,path:function(t){var e={coordsize:"10 10"};return r(t)?e.d=t:i(t)&&jt(e,t),this.createElement("shape").attr(e)},circle:function(t,e,n){var r=this.symbol("circle");return i(t)&&(n=t.r,e=t.y,t=t.x),r.isCircle=!0,r.r=n,r.attr({x:t,y:e})},g:function(t){var e;return t&&(e={className:"highcharts-"+t,"class":"highcharts-"+t}),this.createElement(Ot).attr(e)},image:function(t,e,n,i,r){var o=this.createElement("img").attr({src:t});return arguments.length>1&&o.attr({x:e,y:n,width:i,height:r}),o},createElement:function(t){return"rect"===t?this.symbol(t):ae.prototype.createElement.call(this,t)},invertChild:function(t,n){var i=this,r=n.style,o="IMG"===t.tagName&&t.style;d(t,{flip:"x",left:e(r.width)-(o?e(o.top):1),top:e(r.height)-(o?e(o.left):1),rotation:-90}),Vt(t.childNodes,function(e){i.invertChild(e,t)})},symbols:{arc:function(t,e,n,i,r){var o=r.start,s=r.end,a=r.r||n||i,n=r.innerR,i=dt(o),l=pt(o),u=dt(s),c=pt(s);return s-o===0?["x"]:(o=["wa",t-a,e-a,t+a,e+a,t+a*i,e+a*l,t+a*u,e+a*c],r.open&&!n&&o.push("e","M",t,e),o.push("at",t-n,e-n,t+n,e+n,t+n*u,e+n*c,t+n*i,e+n*l,"x","e"),o.isArc=!0,o)},circle:function(t,e,n,i,r){return r&&(n=i=2*r.r),r&&r.isCircle&&(t-=n/2,e-=i/2),["wa",t,e,t+n,e+i,t+n,e+i/2,t+n,e+i/2,"e"]},rect:function(t,e,n,i,r){return ae.prototype.symbols[u(r)&&r.r?"callout":"square"].call(0,t,e,n,i,r)}}};nt.VMLRenderer=Ht=function(){this.init.apply(this,arguments)},Ht.prototype=t(ae.prototype,le),I=Ht}ae.prototype.measureSpanWidth=function(t,e){var n,i=it.createElement("span");return n=it.createTextNode(t),i.appendChild(n),d(i,e),this.box.appendChild(i),n=i.offsetWidth,k(i),n};var ue;Et&&(nt.CanVGRenderer=Ht=function(){Ct="http://www.w3.org/1999/xhtml"},Ht.prototype.symbols={},ue=function(){function t(){var t,n=e.length;for(t=0;n>t;t++)e[t]();e=[]}var e=[];return{push:function(n,i){0===e.length&&qt(i,t),e.push(n)}}}(),I=Ht),P.prototype={addLabel:function(){var e,n=this.axis,i=n.options,r=n.chart,o=n.categories,s=n.names,l=this.pos,c=i.labels,h=n.tickPositions,d=l===h[0],p=l===h[h.length-1],s=o?Ft(o[l],s[l],l):l,o=this.label,h=h.info;n.isDatetimeAxis&&h&&(e=i.dateTimeLabelFormats[h.higherRanks[l]||h.unitName]),this.isFirst=d,this.isLast=p,i=n.labelFormatter.call({axis:n,chart:r,isFirst:d,isLast:p,dateTimeLabelFormat:e,value:n.isLog?E(a(s)):s}),u(o)?o&&o.attr({text:i}):(this.labelLength=(this.label=o=u(i)&&c.enabled?r.renderer.text(i,0,0,c.useHTML).css(t(c.style)).add(n.labelGroup):null)&&o.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,n=this.axis,i=t.x,r=n.chart.chartWidth,o=n.chart.spacing,s=Ft(n.labelLeft,o[3]),o=Ft(n.labelRight,r-o[1]),a=this.label,l=this.rotation,u={left:0,center:.5,right:1}[n.labelAlign],c=a.getBBox().width,n=n.slotWidth;l?0>l&&s>i-u*c?e=st(i/dt(l*gt)-s):l>0&&i+u*c>o&&(e=st((r-i)/dt(l*gt))):(r=i-u*c,i+=u*c,s>r?(n-=s-r,t.x=s,a.attr({align:"left"})):i>o&&(n-=i-o,t.x=o,a.attr({align:"right"})),c>n&&(e=n)),e&&a.css({width:e,textOverflow:"ellipsis"})},getPosition:function(t,e,n,i){var r=this.axis,o=r.chart,s=i&&o.oldChartHeight||o.chartHeight;return{x:t?r.translate(e+n,null,null,i)+r.transB:r.left+r.offset+(r.opposite?(i&&o.oldChartWidth||o.chartWidth)-r.right-r.left:0),y:t?s-r.bottom+r.offset-(r.opposite?r.height:0):s-r.translate(e+n,null,null,i)-r.transB}},getLabelPosition:function(t,e,n,i,r,o,s,a){var l=this.axis,u=l.transA,c=l.reversed,h=l.staggerLines,d=l.tickRotCorr||{x:0,y:0},n=Ft(r.y,d.y+(2===l.side?8:-(n.getBBox().height/2))),t=t+r.x+d.x-(o&&i?o*u*(c?-1:1):0),e=e+n-(o&&!i?o*u*(c?1:-1):0);return h&&(e+=s/(a||1)%h*(l.labelOffset/h)),{x:t,y:st(e)}},getMarkPath:function(t,e,n,i,r,o){return o.crispLine(["M",t,e,"L",t+(r?0:-n),e+(r?n:0)],i)},render:function(t,e,n){var i=this.axis,r=i.options,o=i.chart.renderer,s=i.horiz,a=this.type,l=this.label,u=this.pos,c=r.labels,h=this.gridLine,d=a?a+"Grid":"grid",p=a?a+"Tick":"tick",f=r[d+"LineWidth"],g=r[d+"LineColor"],m=r[d+"LineDashStyle"],v=r[p+"Length"],d=r[p+"Width"]||0,y=r[p+"Color"],_=r[p+"Position"],p=this.mark,b=c.step,w=!0,x=i.tickmarkOffset,C=this.getPosition(s,u,x,e),k=C.x,C=C.y,S=s&&k===i.pos+i.len||!s&&C===i.pos?-1:1,n=Ft(n,1);this.isActive=!0,f&&(u=i.getPlotLinePath(u+x,f*S,e,!0),h===O&&(h={stroke:g,"stroke-width":f},m&&(h.dashstyle=m),a||(h.zIndex=1),e&&(h.opacity=0),this.gridLine=h=f?o.path(u).attr(h).add(i.gridGroup):null),!e&&h&&u&&h[this.isNew?"attr":"animate"]({d:u,opacity:n})),d&&v&&("inside"===_&&(v=-v),i.opposite&&(v=-v),a=this.getMarkPath(k,C,v,d*S,s,o),p?p.animate({d:a,opacity:n}):this.mark=o.path(a).attr({stroke:y,"stroke-width":d,opacity:n}).add(i.axisGroup)),l&&!isNaN(k)&&(l.xy=C=this.getLabelPosition(k,C,l,s,c,x,t,b),this.isFirst&&!this.isLast&&!Ft(r.showFirstLabel,1)||this.isLast&&!this.isFirst&&!Ft(r.showLastLabel,1)?w=!1:s&&!i.isRadial&&!c.step&&!c.rotation&&!e&&0!==n&&this.handleOverflow(C),b&&t%b&&(w=!1),w&&!isNaN(C.y)?(C.opacity=n,l[this.isNew?"attr":"animate"](C),this.isNew=!1):l.attr("y",-9999))},destroy:function(){C(this,this.axis)}},nt.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},nt.PlotLineOrBand.prototype={render:function(){var e,n=this,i=n.axis,r=i.horiz,o=n.options,a=o.label,l=n.label,c=o.width,h=o.to,d=o.from,p=u(d)&&u(h),f=o.value,g=o.dashStyle,m=n.svgElem,v=[],y=o.color,_=o.zIndex,b=o.events,C={},k=i.chart.renderer;if(i.isLog&&(d=s(d),h=s(h),f=s(f)),c)v=i.getPlotLinePath(f,c),C={stroke:y,"stroke-width":c},g&&(C.dashstyle=g);else{if(!p)return;v=i.getPlotBandPath(d,h,o),y&&(C.fill=y),o.borderWidth&&(C.stroke=o.borderColor,C["stroke-width"]=o.borderWidth)}if(u(_)&&(C.zIndex=_),m)v?m.animate({d:v},null,m.onGetPath):(m.hide(),m.onGetPath=function(){m.show()},l&&(n.label=l=l.destroy()));else if(v&&v.length&&(n.svgElem=m=k.path(v).attr(C).add(),b))for(e in o=function(t){m.on(t,function(e){b[t].apply(n,[e])})},b)o(e);return a&&u(a.text)&&v&&v.length&&i.width>0&&i.height>0?(a=t({align:r&&p&&"center",x:r?!p&&4:10,verticalAlign:!r&&p&&"middle",y:r?p?16:10:p?6:-4,rotation:r&&!p&&90},a),l||(C={align:a.textAlign||a.align,rotation:a.rotation},u(_)&&(C.zIndex=_),n.label=l=k.text(a.text,0,0,a.useHTML).attr(C).css(a.style).add()),i=[v[1],v[4],p?v[6]:v[1]],p=[v[2],v[5],p?v[7]:v[2]],v=w(i),r=w(p),l.align(a,!1,{x:v,y:r,width:x(i)-v,height:x(p)-r}),l.show()):l&&l.hide(),n},destroy:function(){l(this.axis.plotLinesAndBands,this),delete this.axis,C(this)}};var ce=nt.Axis=function(){this.init.apply(this,arguments)};ce.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0,y:15},lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return nt.numberFormat(this.total,-1)},style:ne.line.dataLabels.style}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0,y:-15},title:{rotation:0}},init:function(t,e){var n=e.isX;this.horiz=t.inverted?!n:n,this.coll=(this.isXAxis=n)?"xAxis":"yAxis",this.opposite=e.opposite,this.side=e.side||(this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(e);var i=this.options,r=i.type;this.labelFormatter=i.labels.formatter||this.defaultLabelFormatter,this.userOptions=e,this.minPixelPadding=0,this.chart=t,this.reversed=i.reversed,this.zoomEnabled=i.zoomEnabled!==!1,this.categories=i.categories||"category"===r,this.names=[],this.isLog="logarithmic"===r,this.isDatetimeAxis="datetime"===r,this.isLinked=u(i.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=i.minRange||i.maxZoom,this.range=i.range,this.offset=i.offset||0,this.stacks={},this.oldStacks={},this.min=this.max=null,this.crosshair=Ft(i.crosshair,h(t.options.tooltip.crosshairs)[n?0:1],!1);var o,i=this.options.events;-1===Yt(this,t.axes)&&(n&&!this.isColorAxis?t.axes.splice(t.xAxis.length,0,this):t.axes.push(this),t[this.coll].push(this)),this.series=this.series||[],t.inverted&&n&&this.reversed===O&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(o in i)Kt(this,o,i[o]);this.isLog&&(this.val2lin=s,this.lin2val=a)},setOptions:function(e){this.options=t(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],t(L[this.coll],e))},defaultLabelFormatter:function(){var t,e=this.axis,n=this.value,i=e.categories,r=this.dateTimeLabelFormat,o=L.lang.numericSymbols,s=o&&o.length,a=e.options.labels.format,e=e.isLog?n:e.tickInterval;if(a)t=v(a,this);else if(i)t=n;else if(r)t=$(r,n);else if(s&&e>=1e3)for(;s--&&t===O;)i=Math.pow(1e3,s+1),e>=i&&null!==o[s]&&(t=nt.numberFormat(n/i,-1)+o[s]);return t===O&&(t=ht(n)>=1e4?nt.numberFormat(n,0):nt.numberFormat(n,-1,O,"")),t},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.ignoreMinPadding=t.ignoreMaxPadding=null,t.buildStacks&&t.buildStacks(),Vt(t.series,function(n){if(n.visible||!e.options.chart.ignoreHiddenSeries){var i;i=n.options.threshold;var r;t.hasVisibleSeries=!0,t.isLog&&0>=i&&(i=null),t.isXAxis?(i=n.xData,i.length&&(t.dataMin=ct(Ft(t.dataMin,i[0]),w(i)),t.dataMax=ut(Ft(t.dataMax,i[0]),x(i)))):(n.getExtremes(),r=n.dataMax,n=n.dataMin,u(n)&&u(r)&&(t.dataMin=ct(Ft(t.dataMin,n),n),t.dataMax=ut(Ft(t.dataMax,r),r)),u(i)&&(t.dataMin>=i?(t.dataMin=i,t.ignoreMinPadding=!0):t.dataMax<i&&(t.dataMax=i,t.ignoreMaxPadding=!0)))}})},translate:function(t,e,n,i,r,s){var a=1,l=0,u=i?this.oldTransA:this.transA,i=i?this.oldMin:this.min,c=this.minPixelPadding,r=(this.postTranslate||this.isLog&&r)&&this.lin2val;return u||(u=this.transA),n&&(a*=-1,l=this.len),this.reversed&&(a*=-1,l-=a*(this.sector||this.len)),e?(t=t*a+l,t-=c,t=t/u+i,r&&(t=this.lin2val(t))):(r&&(t=this.val2lin(t)),"between"===s&&(s=.5),t=a*(t-i)*u+l+a*c+(o(s)?u*s*this.pointRange:0)),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,n,i,r){var o,s,a,l=this.chart,u=this.left,c=this.top,h=n&&l.oldChartHeight||l.chartHeight,d=n&&l.oldChartWidth||l.chartWidth;o=this.transB;var p=function(t,e,n){return(e>t||t>n)&&(i?t=ct(ut(e,t),n):a=!0),t},r=Ft(r,this.translate(t,null,null,n)),t=n=st(r+o);return o=s=st(h-r-o),isNaN(r)?a=!0:this.horiz?(o=c,s=h-this.bottom,t=n=p(t,u,u+this.width)):(t=u,n=d-this.right,o=s=p(o,c,c+this.height)),a&&!i?null:l.renderer.crispLine(["M",t,o,"L",n,s],e||1)},getLinearTickPositions:function(t,e,n){var i,r=E(at(e/t)*t),s=E(lt(n/t)*t),a=[];if(e===n&&o(e))return[e];for(e=r;s>=e&&(a.push(e),e=E(e+t),e!==i);)i=e;return a},getMinorTickPositions:function(){var t=this.options,e=this.tickPositions,n=this.minorTickInterval,i=[],r=this.min,o=this.max;if((o-r)/n<this.len/3)if(this.isLog)for(r=e.length,t=1;r>t;t++)i=i.concat(this.getLogTickPositions(n,e[t-1],e[t],!0));else if(this.isDatetimeAxis&&"auto"===t.minorTickInterval)i=i.concat(this.getTimeTicks(this.normalizeTimeTickInterval(n),r,o,t.startOfWeek));else if(this.isDatetimeAxis&&"auto"===t.minorTickInterval)i=i.concat(this.getTimeTicks(this.normalizeTimeTickInterval(n),this.min,this.max,t.startOfWeek));else for(e=this.min+(e[0]-this.min)%n;e<=this.max;e+=n)i.push(e);return this.trimTicks(i),i},adjustForMinRange:function(){var t,e,n,i,r,o,s=this.options,a=this.min,l=this.max,c=this.dataMax-this.dataMin>=this.minRange;if(this.isXAxis&&this.minRange===O&&!this.isLog&&(u(s.min)||u(s.max)?this.minRange=null:(Vt(this.series,function(t){for(r=t.xData,n=o=t.xIncrement?1:r.length-1;n>0;n--)i=r[n]-r[n-1],(e===O||e>i)&&(e=i)}),this.minRange=ct(5*e,this.dataMax-this.dataMin))),l-a<this.minRange){var h=this.minRange;t=(h-l+a)/2,t=[a-t,Ft(s.min,a-t)],c&&(t[2]=this.dataMin),a=x(t),l=[a+h,Ft(s.max,a+h)],c&&(l[2]=this.dataMax),l=w(l),h>l-a&&(t[0]=l-h,t[1]=Ft(s.min,l-h),a=x(t))}this.min=a,this.max=l},setAxisTranslation:function(t){var e,i=this,r=i.max-i.min,o=i.axisPointRange||0,s=0,a=0,l=i.linkedParent,c=!!i.categories,h=i.transA;(i.isXAxis||c||o)&&(l?(s=l.minPointOffset,
a=l.pointRangePadding):Vt(i.series,function(t){var l=c?1:i.isXAxis?t.pointRange:i.axisPointRange||0,h=t.options.pointPlacement,d=t.closestPointRange;l>r&&(l=0),o=ut(o,l),i.single||(s=ut(s,n(h)?0:l/2),a=ut(a,"on"===h?0:l)),!t.noSharedTooltip&&u(d)&&(e=u(e)?ct(e,d):d)}),l=i.ordinalSlope&&e?i.ordinalSlope/e:1,i.minPointOffset=s*=l,i.pointRangePadding=a*=l,i.pointRange=ct(o,r),i.closestPointRange=e),t&&(i.oldTransA=h),i.translationSlope=i.transA=h=i.len/(r+a||1),i.transB=i.horiz?i.left:i.bottom,i.minPixelPadding=h*s},setTickInterval:function(t){var e=this,n=e.chart,i=e.options,r=e.isLog,a=e.isDatetimeAxis,l=e.isXAxis,c=e.isLinked,h=i.maxPadding,d=i.minPadding,p=i.tickInterval,f=i.tickPixelInterval,g=e.categories;!a&&!g&&!c&&this.getTickAmount(),c?(e.linkedParent=n[e.coll][i.linkedTo],n=e.linkedParent.getExtremes(),e.min=Ft(n.min,n.dataMin),e.max=Ft(n.max,n.dataMax),i.type!==e.linkedParent.options.type&&S(11,1)):(e.min=Ft(e.userMin,i.min,e.dataMin),e.max=Ft(e.userMax,i.max,e.dataMax)),r&&(!t&&ct(e.min,Ft(e.dataMin,e.min))<=0&&S(10,1),e.min=E(s(e.min)),e.max=E(s(e.max))),e.range&&u(e.max)&&(e.userMin=e.min=ut(e.min,e.max-e.range),e.userMax=e.max,e.range=null),e.beforePadding&&e.beforePadding(),e.adjustForMinRange(),g||e.axisPointRange||e.usePercentage||c||!u(e.min)||!u(e.max)||!(n=e.max-e.min)||(u(i.min)||u(e.userMin)||!d||!(e.dataMin<0)&&e.ignoreMinPadding||(e.min-=n*d),u(i.max)||u(e.userMax)||!h||!(e.dataMax>0)&&e.ignoreMaxPadding||(e.max+=n*h)),o(i.floor)&&(e.min=ut(e.min,i.floor)),o(i.ceiling)&&(e.max=ct(e.max,i.ceiling)),e.tickInterval=e.min===e.max||void 0===e.min||void 0===e.max?1:c&&!p&&f===e.linkedParent.options.tickPixelInterval?e.linkedParent.tickInterval:Ft(p,this.tickAmount?(e.max-e.min)/ut(this.tickAmount-1,1):void 0,g?1:(e.max-e.min)*f/ut(e.len,f)),l&&!t&&Vt(e.series,function(t){t.processData(e.min!==e.oldMin||e.max!==e.oldMax)}),e.setAxisTranslation(!0),e.beforeSetTickPositions&&e.beforeSetTickPositions(),e.postProcessTickInterval&&(e.tickInterval=e.postProcessTickInterval(e.tickInterval)),e.pointRange&&(e.tickInterval=ut(e.pointRange,e.tickInterval)),t=Ft(i.minTickInterval,e.isDatetimeAxis&&e.closestPointRange),!p&&e.tickInterval<t&&(e.tickInterval=t),a||r||p||(e.tickInterval=_(e.tickInterval,null,y(e.tickInterval),Ft(i.allowDecimals,!(e.tickInterval>.5&&e.tickInterval<5&&e.max>1e3&&e.max<9999)),!!this.tickAmount)),!this.tickAmount&&this.len&&(e.tickInterval=e.unsquish()),this.setTickPositions()},setTickPositions:function(){var t,e,n=this.options,i=n.tickPositions,r=n.tickPositioner,o=n.startOnTick,s=n.endOnTick;this.tickmarkOffset=this.categories&&"between"===n.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===n.minorTickInterval&&this.tickInterval?this.tickInterval/5:n.minorTickInterval,this.tickPositions=t=n.tickPositions&&n.tickPositions.slice(),!t&&(this.tickPositions=t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,n.units),this.min,this.max,n.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),r&&(r=r.apply(this,[this.min,this.max])))&&(this.tickPositions=t=r),this.isLinked||(this.trimTicks(t,o,s),this.min===this.max&&u(this.min)&&!this.tickAmount&&(e=!0,this.min-=.5,this.max+=.5),this.single=e,!i&&!r&&this.adjustTickAmount())},trimTicks:function(t,e,n){var i=t[0],r=t[t.length-1],o=this.minPointOffset||0;e?this.min=i:this.min-o>i&&t.shift(),n?this.max=r:this.max+o<r&&t.pop(),0===t.length&&u(i)&&t.push((r+i)/2)},getTickAmount:function(){var t,e={},n=this.options,i=n.tickAmount,r=n.tickPixelInterval;!u(n.tickInterval)&&this.len<r&&!this.isRadial&&!this.isLog&&n.startOnTick&&n.endOnTick&&(i=2),!i&&this.chart.options.chart.alignTicks!==!1&&n.alignTicks!==!1&&(Vt(this.chart[this.coll],function(n){var i=n.options,n=n.horiz,i=[n?i.left:i.top,n?i.width:i.height,i.pane].join(",");e[i]?t=!0:e[i]=1}),t&&(i=lt(this.len/r)+1)),4>i&&(this.finalTickAmt=i,i=5),this.tickAmount=i},adjustTickAmount:function(){var t=this.tickInterval,e=this.tickPositions,n=this.tickAmount,i=this.finalTickAmt,r=e&&e.length;if(n>r){for(;e.length<n;)e.push(E(e[e.length-1]+t));this.transA*=(r-1)/(n-1),this.max=e[e.length-1]}else r>n&&(this.tickInterval*=2,this.setTickPositions());if(u(i)){for(t=n=e.length;t--;)(3===i&&t%2===1||2>=i&&t>0&&n-1>t)&&e.splice(t,1);this.finalTickAmt=O}},setScale:function(){var t,e,n,i,r=this.stacks;if(this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),i=this.len!==this.oldAxisLength,Vt(this.series,function(t){(t.isDirtyData||t.isDirty||t.xAxis.isDirty)&&(n=!0)}),i||n||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(!this.isXAxis)for(t in r)for(e in r[t])r[t][e].total=null,r[t][e].cum=0;this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=i||this.min!==this.oldMin||this.max!==this.oldMax)}else if(!this.isXAxis){this.oldStacks&&(r=this.stacks=this.oldStacks);for(t in r)for(e in r[t])r[t][e].cum=r[t][e].total}},setExtremes:function(t,e,n,i,r){var o=this,s=o.chart,n=Ft(n,!0);Vt(o.series,function(t){delete t.kdTree}),r=jt(r,{min:t,max:e}),Qt(o,"setExtremes",r,function(){o.userMin=t,o.userMax=e,o.eventArgs=r,o.isDirtyExtremes=!0,n&&s.redraw(i)})},zoom:function(t,e){var n=this.dataMin,i=this.dataMax,r=this.options;return this.allowZoomOutside||(u(n)&&t<=ct(n,Ft(r.min,n))&&(t=O),u(i)&&e>=ut(i,Ft(r.max,i))&&(e=O)),this.displayBtn=t!==O||e!==O,this.setExtremes(t,e,!1,O,{trigger:"zoom"}),!0},setAxisSize:function(){var t=this.chart,e=this.options,n=e.offsetLeft||0,i=this.horiz,r=Ft(e.width,t.plotWidth-n+(e.offsetRight||0)),o=Ft(e.height,t.plotHeight),s=Ft(e.top,t.plotTop),e=Ft(e.left,t.plotLeft+n),n=/%$/;n.test(o)&&(o=parseFloat(o)/100*t.plotHeight),n.test(s)&&(s=parseFloat(s)/100*t.plotHeight+t.plotTop),this.left=e,this.top=s,this.width=r,this.height=o,this.bottom=t.chartHeight-o-s,this.right=t.chartWidth-r-e,this.len=ut(i?r:o,0),this.pos=i?e:s},getExtremes:function(){var t=this.isLog;return{min:t?E(a(this.min)):this.min,max:t?E(a(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=this.isLog,n=e?a(this.min):this.min,e=e?a(this.max):this.max;return n>t||null===t?t=n:t>e&&(t=e),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){return t=(Ft(t,0)-90*this.side+720)%360,t>15&&165>t?"right":t>195&&345>t?"left":"center"},unsquish:function(){var t,e,n,i=this.ticks,r=this.options.labels,o=this.horiz,s=this.tickInterval,a=s,l=this.len/(((this.categories?1:0)+this.max-this.min)/s),c=r.rotation,h=this.chart.renderer.fontMetrics(r.style.fontSize,i[0]&&i[0].label),d=Number.MAX_VALUE,p=function(t){return t/=l||1,t=t>1?lt(t):1,t*s};return o?(n=u(c)?[c]:80>l&&!r.staggerLines&&!r.step&&r.autoRotation)&&Vt(n,function(n){var i;n&&n>=-90&&90>=n&&(e=p(ht(h.h/pt(gt*n))),i=e+ht(n/360),d>i&&(d=i,t=n,a=e))}):a=p(h.h),this.autoRotation=n,this.labelRotation=t,a},renderUnsquish:function(){var e,i=this.chart,r=i.renderer,o=this.tickPositions,s=this.ticks,a=this.options.labels,l=this.horiz,u=i.margin,c=this.slotWidth=l&&!a.step&&!a.rotation&&(this.staggerLines||1)*i.plotWidth/o.length||!l&&(u[3]&&u[3]-i.spacing[3]||.33*i.chartWidth),h=ut(1,st(c-2*(a.padding||5))),d={},u=r.fontMetrics(a.style.fontSize,s[0]&&s[0].label),p=0;if(n(a.rotation)||(d.rotation=a.rotation),this.autoRotation)Vt(o,function(t){(t=s[t])&&t.labelLength>p&&(p=t.labelLength)}),p>h&&p>u.h?d.rotation=this.labelRotation:this.labelRotation=0;else if(c)for(e={width:h+"px",textOverflow:"clip"},c=o.length;!l&&c--;)h=o[c],(h=s[h].label)&&this.len/o.length-4<h.getBBox().height&&(h.specCss={textOverflow:"ellipsis"});d.rotation&&(e={width:(p>.5*i.chartHeight?.33*i.chartHeight:i.chartHeight)+"px",textOverflow:"ellipsis"}),this.labelAlign=d.align=a.align||this.autoLabelAlign(this.labelRotation),Vt(o,function(n){var i=(n=s[n])&&n.label;i&&(e&&i.css(t(e,i.specCss)),delete i.specCss,i.attr(d),n.rotation=d.rotation)}),this.tickRotCorr=r.rotCorr(u.b,this.labelRotation||0,2===this.side)},getOffset:function(){var t,e,n,i,r=this,o=r.chart,s=o.renderer,a=r.options,l=r.tickPositions,c=r.ticks,h=r.horiz,d=r.side,p=o.inverted?[1,0,3,2][d]:d,f=0,g=0,m=a.title,v=a.labels,y=0,_=o.axisOffset,o=o.clipOffset,b=[-1,1,1,-1][d];if(r.hasData=t=r.hasVisibleSeries||u(r.min)&&u(r.max)&&!!l,r.showAxis=e=t||Ft(a.showEmpty,!0),r.staggerLines=r.horiz&&v.staggerLines,r.axisGroup||(r.gridGroup=s.g("grid").attr({zIndex:a.gridZIndex||1}).add(),r.axisGroup=s.g("axis").attr({zIndex:a.zIndex||2}).add(),r.labelGroup=s.g("axis-labels").attr({zIndex:v.zIndex||7}).addClass("highcharts-"+r.coll.toLowerCase()+"-labels").add()),t||r.isLinked)Vt(l,function(t){c[t]?c[t].addLabel():c[t]=new P(r,t)}),r.renderUnsquish(),Vt(l,function(t){(0===d||2===d||{1:"left",3:"right"}[d]===r.labelAlign)&&(y=ut(c[t].getLabelSize(),y))}),r.staggerLines&&(y*=r.staggerLines,r.labelOffset=y);else for(i in c)c[i].destroy(),delete c[i];m&&m.text&&m.enabled!==!1&&(r.axisTitle||(r.axisTitle=s.text(m.text,0,0,m.useHTML).attr({zIndex:7,rotation:m.rotation||0,align:m.textAlign||{low:"left",middle:"center",high:"right"}[m.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(m.style).add(r.axisGroup),r.axisTitle.isNew=!0),e&&(f=r.axisTitle.getBBox()[h?"height":"width"],n=m.offset,g=u(n)?0:Ft(m.margin,h?5:10)),r.axisTitle[e?"show":"hide"]()),r.offset=b*Ft(a.offset,_[d]),r.tickRotCorr=r.tickRotCorr||{x:0,y:0},s=2===d?r.tickRotCorr.y:0,h=y+g+(y&&b*(h?Ft(v.y,r.tickRotCorr.y+8):v.x)-s),r.axisTitleMargin=Ft(n,h),_[d]=ut(_[d],r.axisTitleMargin+f+b*r.offset,h),o[p]=ut(o[p],2*at(a.lineWidth/2))},getLinePath:function(t){var e=this.chart,n=this.opposite,i=this.offset,r=this.horiz,o=this.left+(n?this.width:0)+i,i=e.chartHeight-this.bottom-(n?this.height:0)+i;return n&&(t*=-1),e.renderer.crispLine(["M",r?this.left:o,r?i:this.top,"L",r?e.chartWidth-this.right:o,r?i:e.chartHeight-this.bottom],t)},getTitlePosition:function(){var t=this.horiz,n=this.left,i=this.top,r=this.len,o=this.options.title,s=t?n:i,a=this.opposite,l=this.offset,u=e(o.style.fontSize||12),r={low:s+(t?0:r),middle:s+r/2,high:s+(t?r:0)}[o.align],n=(t?i+this.height:n)+(t?1:-1)*(a?-1:1)*this.axisTitleMargin+(2===this.side?u:0);return{x:t?r:n+(a?this.width:0)+l+(o.x||0),y:t?n-(a?this.height:0)+l:r+(o.y||0)}},render:function(){var t,e=this,n=e.chart,i=n.renderer,r=e.options,o=e.isLog,s=e.isLinked,l=e.tickPositions,c=e.axisTitle,h=e.ticks,d=e.minorTicks,p=e.alternateBands,f=r.stackLabels,g=r.alternateGridColor,m=e.tickmarkOffset,v=r.lineWidth,y=n.hasRendered&&u(e.oldMin)&&!isNaN(e.oldMin);t=e.hasData;var _,b,w=e.showAxis;e.labelEdge.length=0,e.overlap=!1,Vt([h,d,p],function(t){for(var e in t)t[e].isActive=!1}),(t||s)&&(e.minorTickInterval&&!e.categories&&Vt(e.getMinorTickPositions(),function(t){d[t]||(d[t]=new P(e,t,"minor")),y&&d[t].isNew&&d[t].render(null,!0),d[t].render(null,!1,1)}),l.length&&(Vt(l,function(t,n){(!s||t>=e.min&&t<=e.max)&&(h[t]||(h[t]=new P(e,t)),y&&h[t].isNew&&h[t].render(n,!0,.1),h[t].render(n))}),m&&(0===e.min||e.single))&&(h[-1]||(h[-1]=new P(e,-1,null,!0)),h[-1].render(-1)),g&&Vt(l,function(t,n){n%2===0&&t<e.max&&(p[t]||(p[t]=new nt.PlotLineOrBand(e)),_=t+m,b=l[n+1]!==O?l[n+1]+m:e.max,p[t].options={from:o?a(_):_,to:o?a(b):b,color:g},p[t].render(),p[t].isActive=!0)}),e._addedPlotLB||(Vt((r.plotLines||[]).concat(r.plotBands||[]),function(t){e.addPlotBandOrLine(t)}),e._addedPlotLB=!0)),Vt([h,d,p],function(t){var e,i,r=[],o=j?j.duration||500:0,s=function(){for(i=r.length;i--;)t[r[i]]&&!t[r[i]].isActive&&(t[r[i]].destroy(),delete t[r[i]])};for(e in t)t[e].isActive||(t[e].render(e,!1,0),t[e].isActive=!1,r.push(e));t!==p&&n.hasRendered&&o?o&&setTimeout(s,o):s()}),v&&(t=e.getLinePath(v),e.axisLine?e.axisLine.animate({d:t}):e.axisLine=i.path(t).attr({stroke:r.lineColor,"stroke-width":v,zIndex:7}).add(e.axisGroup),e.axisLine[w?"show":"hide"]()),c&&w&&(c[c.isNew?"attr":"animate"](e.getTitlePosition()),c.isNew=!1),f&&f.enabled&&e.renderStackTotals(),e.isDirty=!1},redraw:function(){this.render(),Vt(this.plotLinesAndBands,function(t){t.render()}),Vt(this.series,function(t){t.isDirty=!0})},destroy:function(t){var e,n=this,i=n.stacks,r=n.plotLinesAndBands;t||Zt(n);for(e in i)C(i[e]),i[e]=null;for(Vt([n.ticks,n.minorTicks,n.alternateBands],function(t){C(t)}),t=r.length;t--;)r[t].destroy();Vt("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","),function(t){n[t]&&(n[t]=n[t].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(t,e){var n,i=this.crosshair,r=i.animation;!this.crosshair||(u(e)||!Ft(this.crosshair.snap,!0))===!1||u(e)&&Ft(this.crosshair.snap,!0)&&(!e.series||e.series[this.isXAxis?"xAxis":"yAxis"]!==this)?this.hideCrosshair():(Ft(i.snap,!0)?u(e)&&(n=this.chart.inverted!=this.horiz?e.plotX:this.len-e.plotY):n=this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos,n=this.isRadial?this.getPlotLinePath(this.isXAxis?e.x:Ft(e.stackY,e.y))||null:this.getPlotLinePath(null,null,null,null,n)||null,null===n?this.hideCrosshair():this.cross?this.cross.attr({visibility:"visible"})[r?"animate":"attr"]({d:n},r):(r=this.categories&&!this.isRadial,r={"stroke-width":i.width||(r?this.transA:1),stroke:i.color||(r?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:i.zIndex||2},i.dashStyle&&(r.dashstyle=i.dashStyle),this.cross=this.chart.renderer.path(n).attr(r).add()))},hideCrosshair:function(){this.cross&&this.cross.hide()}},jt(ce.prototype,{getPlotBandPath:function(t,e){var n=this.getPlotLinePath(e,null,null,!0),i=this.getPlotLinePath(t,null,null,!0);return i&&n?i.push(n[4],n[5],n[1],n[2]):i=null,i},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(t,e){var n=new nt.PlotLineOrBand(this,t).render(),i=this.userOptions;return n&&(e&&(i[e]=i[e]||[],i[e].push(t)),this.plotLinesAndBands.push(n)),n},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,n=this.options,i=this.userOptions,r=e.length;r--;)e[r].id===t&&e[r].destroy();Vt([n.plotLines||[],i.plotLines||[],n.plotBands||[],i.plotBands||[]],function(e){for(r=e.length;r--;)e[r].id===t&&l(e,e[r])})}}),ce.prototype.getTimeTicks=function(t,e,n,i){var r,o=[],s={},a=L.global.useUTC,l=new B(e-m(e)),c=t.unitRange,h=t.count;if(u(e)){l.setMilliseconds(c>=z.second?0:h*at(l.getMilliseconds()/h)),c>=z.second&&l.setSeconds(c>=z.minute?0:h*at(l.getSeconds()/h)),c>=z.minute&&l[Z](c>=z.hour?0:h*at(l[Y]()/h)),c>=z.hour&&l[Q](c>=z.day?0:h*at(l[V]()/h)),c>=z.day&&l[J](c>=z.month?1:h*at(l[G]()/h)),c>=z.month&&(l[tt](c>=z.year?0:h*at(l[X]()/h)),r=l[K]()),c>=z.year&&(r-=r%h,l[et](r)),c===z.week&&l[J](l[G]()-l[U]()+Ft(i,1)),e=1,(W||q)&&(l=l.getTime(),l=new B(l+m(l))),r=l[K]();for(var i=l.getTime(),d=l[X](),p=l[G](),f=(z.day+(a?m(l):6e4*l.getTimezoneOffset()))%z.day;n>i;)o.push(i),c===z.year?i=H(r+e*h,0):c===z.month?i=H(r,d+e*h):a||c!==z.day&&c!==z.week?i+=c*h:i=H(r,d,p+e*h*(c===z.day?1:7)),e++;o.push(i),Vt(Ut(o,function(t){return c<=z.hour&&t%z.day===f}),function(t){s[t]="day"})}return o.info=jt(t,{higherRanks:s,totalRange:c*h}),o},ce.prototype.normalizeTimeTickInterval=function(t,e){var n,i=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],r=i[i.length-1],o=z[r[0]],s=r[1];for(n=0;n<i.length&&(r=i[n],o=z[r[0]],s=r[1],!(i[n+1]&&t<=(o*s[s.length-1]+z[i[n+1][0]])/2));n++);return o===z.year&&5*o>t&&(s=[1,2,5]),i=_(t/o,s,"year"===r[0]?ut(y(t/o),1):1),{unitRange:o,count:i,unitName:r[0]}},ce.prototype.getLogTickPositions=function(t,e,n,i){var r=this.options,o=this.len,l=[];if(i||(this._minorAutoInterval=null),t>=.5)t=st(t),l=this.getLinearTickPositions(t,e,n);else if(t>=.08)for(var u,c,h,d,p,o=at(e),r=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];n+1>o&&!p;o++)for(c=r.length,u=0;c>u&&!p;u++)h=s(a(o)*r[u]),h>e&&(!i||n>=d)&&d!==O&&l.push(d),d>n&&(p=!0),d=h;else e=a(e),n=a(n),t=r[i?"minorTickInterval":"tickInterval"],t=Ft("auto"===t?null:t,this._minorAutoInterval,(n-e)*(r.tickPixelInterval/(i?5:1))/((i?o/this.tickPositions.length:o)||1)),t=_(t,null,y(t)),l=Xt(this.getLinearTickPositions(t,e,n),s),i||(this._minorAutoInterval=t/5);return i||(this.tickInterval=t),l};var he=nt.Tooltip=function(){this.init.apply(this,arguments)};he.prototype={init:function(t,n){var i=n.borderWidth,r=n.style,o=e(r.padding);this.chart=t,this.options=n,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=t.renderer.label("",0,0,n.shape||"callout",null,null,n.useHTML,null,"tooltip").attr({padding:o,fill:n.backgroundColor,"stroke-width":i,r:n.borderRadius,zIndex:8}).css(r).css({padding:0}).add().attr({y:-9999}),Et||this.label.shadow(n.shadow),this.shared=n.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,e,n,i){var r=this,o=r.now,s=r.options.animation!==!1&&!r.isHidden&&(ht(t-o.x)>1||ht(e-o.y)>1),a=r.followPointer||r.len>1;jt(o,{x:s?(2*o.x+t)/3:t,y:s?(o.y+e)/2:e,anchorX:a?O:s?(2*o.anchorX+n)/3:n,anchorY:a?O:s?(o.anchorY+i)/2:i}),r.label.attr(o),s&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){r&&r.move(t,e,n,i)},32))},hide:function(t){var e,n=this;clearTimeout(this.hideTimer),this.isHidden||(e=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){n.label.fadeOut(),n.isHidden=!0},Ft(t,this.options.hideDelay,500)),e&&Vt(e,function(t){t.setState()}),this.chart.hoverPoints=null,this.chart.hoverSeries=null)},getAnchor:function(t,e){var n,i,r,o=this.chart,s=o.inverted,a=o.plotTop,l=o.plotLeft,u=0,c=0,t=h(t);return n=t[0].tooltipPos,this.followPointer&&e&&(e.chartX===O&&(e=o.pointer.normalize(e)),n=[e.chartX-o.plotLeft,e.chartY-a]),n||(Vt(t,function(t){i=t.series.yAxis,r=t.series.xAxis,u+=t.plotX+(!s&&r?r.left-l:0),c+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!s&&i?i.top-a:0)}),u/=t.length,c/=t.length,n=[s?o.plotWidth-c:u,this.shared&&!s&&t.length>1&&e?e.chartY-a:s?o.plotHeight-u:c]),Xt(n,st)},getPosition:function(t,e,n){var i,r=this.chart,o=this.distance,s={},a=["y",r.chartHeight,e,n.plotY+r.plotTop],l=["x",r.chartWidth,t,n.plotX+r.plotLeft],u=Ft(n.ttBelow,r.inverted&&!n.negative||!r.inverted&&n.negative),c=function(t,e,n,i){var r=i-o>n,e=e>i+o+n,n=i-o-n;if(i+=o,u&&e)s[t]=i;else if(!u&&r)s[t]=n;else if(r)s[t]=n;else{if(!e)return!1;s[t]=i}},h=function(t,e,n,i){return o>i||i>e-o?!1:void(s[t]=n/2>i?1:i>e-n/2?e-n-2:i-n/2)},d=function(t){var e=a;a=l,l=e,i=t},p=function(){c.apply(0,a)!==!1?h.apply(0,l)===!1&&!i&&(d(!0),p()):i?s.x=s.y=0:(d(!0),p())};return(r.inverted||this.len>1)&&d(),p(),s},defaultFormatter:function(t){var e,n=this.points||h(this);return e=[t.tooltipFooterHeaderFormatter(n[0])],e=e.concat(t.bodyFormatter(n)),e.push(t.tooltipFooterHeaderFormatter(n[0],!0)),e.join("")},refresh:function(t,e){var n,i,r,o=this.chart,s=this.label,a=this.options,l={},u=[];r=a.formatter||this.defaultFormatter;var c,l=o.hoverPoints,d=this.shared;clearTimeout(this.hideTimer),this.followPointer=h(t)[0].series.tooltipOptions.followPointer,i=this.getAnchor(t,e),n=i[0],i=i[1],!d||t.series&&t.series.noSharedTooltip?l=t.getLabelConfig():(o.hoverPoints=t,l&&Vt(l,function(t){t.setState()}),Vt(t,function(t){t.setState("hover"),u.push(t.getLabelConfig())}),l={x:t[0].category,y:t[0].y},l.points=u,this.len=u.length,t=t[0]),r=r.call(l,this),l=t.series,this.distance=Ft(l.tooltipOptions.distance,16),r===!1?this.hide():(this.isHidden&&(ee(s),s.attr("opacity",1).show()),s.attr({text:r}),c=a.borderColor||t.color||l.color||"#606060",s.attr({stroke:c}),this.updatePosition({plotX:n,plotY:i,negative:t.negative,ttBelow:t.ttBelow}),this.isHidden=!1),Qt(o,"tooltipRefresh",{text:r,x:n+o.plotLeft,y:i+o.plotTop,borderColor:c})},updatePosition:function(t){var e=this.chart,n=this.label,n=(this.options.positioner||this.getPosition).call(this,n.width,n.height,t);this.move(st(n.x),st(n.y),t.plotX+e.plotLeft,t.plotY+e.plotTop)},getXDateFormat:function(t,e,n){var i,r,o,s,e=e.dateTimeLabelFormats,a=n&&n.closestPointRange,l={millisecond:15,second:12,minute:9,hour:6,day:3};if(a){o=$("%m-%d %H:%M:%S.%L",t.x);for(r in z){if(a===z.week&&+$("%w",t.x)===n.options.startOfWeek&&"00:00:00.000"===o.substr(6)){r="week";break}if(z[r]>a){r=s;break}if(l[r]&&o.substr(l[r])!=="01-01 00:00:00.000".substr(l[r]))break;"week"!==r&&(s=r)}r&&(i=e[r])}else i=e.day;return i||e.year},tooltipFooterHeaderFormatter:function(t,e){var n=e?"footer":"header",i=t.series,r=i.tooltipOptions,s=r.xDateFormat,a=i.xAxis,l=a&&"datetime"===a.options.type&&o(t.key),n=r[n+"Format"];return l&&!s&&(s=this.getXDateFormat(t,r,a)),l&&s&&(n=n.replace("{point.key}","{point.key:"+s+"}")),v(n,{point:t,series:i})},bodyFormatter:function(t){return Xt(t,function(t){var e=t.series.tooltipOptions;return(e.pointFormatter||t.point.tooltipFormatter).call(t.point,e.pointFormat)})}};var de;R=it.documentElement.ontouchstart!==O;var pe=nt.Pointer=function(t,e){this.init(t,e)};if(pe.prototype={init:function(t,e){var n,i=e.chart,r=i.events,o=Et?"":i.zoomType,i=t.inverted;this.options=e,this.chart=t,this.zoomX=n=/x/.test(o),this.zoomY=o=/y/.test(o),this.zoomHor=n&&!i||o&&i,this.zoomVert=o&&!i||n&&i,this.hasZoom=n||o,this.runChartClick=r&&!!r.click,this.pinchDown=[],this.lastValidTouch={},nt.Tooltip&&e.tooltip.enabled&&(t.tooltip=new he(t,e.tooltip),this.followTouchMove=Ft(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},normalize:function(t,e){var n,i,t=t||window.event,t=Jt(t);return t.target||(t.target=t.srcElement),i=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,e||(this.chartPosition=e=Gt(this.chart.container)),i.pageX===O?(n=ut(t.x,t.clientX-e.left),i=t.y):(n=i.pageX-e.left,i=i.pageY-e.top),jt(t,{chartX:st(n),chartY:st(i)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return Vt(this.chart.axes,function(n){e[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(t[n.horiz?"chartX":"chartY"])})}),e},runPointActions:function(t){var e,n,i,r=this.chart,o=r.series,s=r.tooltip,a=s?s.shared:!1,l=r.hoverPoint,c=r.hoverSeries,h=r.chartWidth,d=r.chartWidth,p=[];if(!a&&!c)for(e=0;e<o.length;e++)(o[e].directTouch||!o[e].options.stickyTracking)&&(o=[]);if(c&&c.noSharedTooltip||!a&&c?i=c?c.searchPoint(t):O:(Vt(o,function(e){n=e.noSharedTooltip&&a,e.visible&&!n&&Ft(e.options.enableMouseTracking,!0)&&p.push(e.searchPoint(t))}),Vt(p,function(t){t&&u(t.plotX)&&u(t.plotY)&&(t.dist.distX<h||(t.dist.distX===h||t.series.kdDimensions>1)&&t.dist.distR<d)&&(h=t.dist.distX,d=t.dist.distR,i=t)})),i&&s&&i!==l)if(a&&!i.series.noSharedTooltip){for(e=p.length,o=i.plotX+i.series.xAxis.left;e--;)c=p[e].plotX+p[e].series.xAxis.left,(p[e].x!==i.x||c!==o||!u(p[e].y)||p[e].series.noSharedTooltip)&&p.splice(e,1);s.refresh(p,t),Vt(p,function(e){e.onMouseOver(t)})}else s.refresh(i,t),i.onMouseOver(t);else e=c&&c.tooltipOptions.followPointer,s&&e&&!s.isHidden&&(e=s.getAnchor([{}],t),s.updatePosition({plotX:e[0],plotY:e[1]}));Vt(r.axes,function(e){e.drawCrosshair(t,Ft(i,l))})},reset:function(t,e){var n=this.chart,i=n.hoverSeries,r=n.hoverPoint,o=n.tooltip,s=o&&o.shared?n.hoverPoints:r;(t=t&&o&&s)&&h(s)[0].plotX===O&&(t=!1),t?(o.refresh(s),r&&(r.setState(r.state,!0),Vt(n.axes,function(e){Ft(e.options.crosshair&&e.options.crosshair.snap,!0)?e.drawCrosshair(null,t):e.hideCrosshair()}))):(r&&r.onMouseOut(),i&&i.onMouseOut(),o&&o.hide(e),this._onDocumentMouseMove&&(Zt(it,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),Vt(n.axes,function(t){t.hideCrosshair()}),this.hoverX=null)},scaleGroups:function(t,e){var n,i=this.chart;Vt(i.series,function(r){n=t||r.getPlotBox(),r.xAxis&&r.xAxis.zoomEnabled&&(r.group.attr(n),r.markerGroup&&(r.markerGroup.attr(n),r.markerGroup.clip(e?i.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(n))}),i.clipRect.attr(e||i.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,n=this.chart,i=n.options.chart,r=t.chartX,o=t.chartY,s=this.zoomHor,a=this.zoomVert,l=n.plotLeft,u=n.plotTop,c=n.plotWidth,h=n.plotHeight,d=this.mouseDownX,p=this.mouseDownY,f=i.panKey&&t[i.panKey+"Key"];l>r?r=l:r>l+c&&(r=l+c),u>o?o=u:o>u+h&&(o=u+h),this.hasDragged=Math.sqrt(Math.pow(d-r,2)+Math.pow(p-o,2)),this.hasDragged>10&&(e=n.isInsidePlot(d-l,p-u),n.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!f&&!this.selectionMarker&&(this.selectionMarker=n.renderer.rect(l,u,s?1:c,a?1:h,0).attr({fill:i.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),this.selectionMarker&&s&&(r-=d,this.selectionMarker.attr({width:ht(r),x:(r>0?0:r)+d})),this.selectionMarker&&a&&(r=o-p,this.selectionMarker.attr({height:ht(r),y:(r>0?0:r)+p})),e&&!this.selectionMarker&&i.panning&&n.pan(t,i.panning))},drop:function(t){var e=this,n=this.chart,i=this.hasPinched;if(this.selectionMarker){var r,o={xAxis:[],yAxis:[],originalEvent:t.originalEvent||t},s=this.selectionMarker,a=s.attr?s.attr("x"):s.x,l=s.attr?s.attr("y"):s.y,c=s.attr?s.attr("width"):s.width,h=s.attr?s.attr("height"):s.height;(this.hasDragged||i)&&(Vt(n.axes,function(n){if(n.zoomEnabled&&u(n.min)&&(i||e[{xAxis:"zoomX",yAxis:"zoomY"}[n.coll]])){var s=n.horiz,d="touchend"===t.type?n.minPixelPadding:0,p=n.toValue((s?a:l)+d),s=n.toValue((s?a+c:l+h)-d);o[n.coll].push({axis:n,min:ct(p,s),max:ut(p,s)}),r=!0}}),r&&Qt(n,"selection",o,function(t){n.zoom(jt(t,i?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),i&&this.scaleGroups()}n&&(d(n.container,{cursor:n._cursor}),n.cancelClick=this.hasDragged>10,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),t.preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(t){Pt[de]&&Pt[de].pointer.drop(t)},onDocumentMouseMove:function(t){var e=this.chart,n=this.chartPosition,i=e.hoverSeries,t=this.normalize(t,n);n&&i&&!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&this.reset()},onContainerMouseLeave:function(){var t=Pt[de];t&&(t.pointer.reset(),t.pointer.chartPosition=null)},onContainerMouseMove:function(t){var e=this.chart;de=e.index,t=this.normalize(t),t.returnValue=!1,"mousedown"===e.mouseIsDown&&this.drag(t),(this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop))&&!e.openMenu&&this.runPointActions(t)},inClass:function(t,e){for(var n;t;){if(n=c(t,"class")){if(-1!==n.indexOf(e))return!0;if(-1!==n.indexOf("highcharts-container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries,n=(t=t.relatedTarget||t.toElement)&&t.point&&t.point.series;!e||e.options.stickyTracking||this.inClass(t,"highcharts-tooltip")||n===e||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,n=e.hoverPoint,i=e.plotLeft,r=e.plotTop,t=this.normalize(t);t.cancelBubble=!0,e.cancelClick||(n&&this.inClass(t.target,"highcharts-tracker")?(Qt(n.series,"click",jt(t,{point:n})),e.hoverPoint&&n.firePointEvent("click",t)):(jt(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-i,t.chartY-r)&&Qt(e,"click",t)))},setDOMEvents:function(){var t=this,e=t.chart.container;e.onmousedown=function(e){t.onContainerMouseDown(e)},e.onmousemove=function(e){t.onContainerMouseMove(e)},e.onclick=function(e){t.onContainerClick(e)},Kt(e,"mouseleave",t.onContainerMouseLeave),1===Mt&&Kt(it,"mouseup",t.onDocumentMouseUp),R&&(e.ontouchstart=function(e){t.onContainerTouchStart(e)},e.ontouchmove=function(e){t.onContainerTouchMove(e)},1===Mt&&Kt(it,"touchend",t.onDocumentTouchEnd))},destroy:function(){var t;Zt(this.chart.container,"mouseleave",this.onContainerMouseLeave),Mt||(Zt(it,"mouseup",this.onDocumentMouseUp),Zt(it,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(t in this)this[t]=null}},jt(nt.Pointer.prototype,{pinchTranslate:function(t,e,n,i,r,o){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,t,e,n,i,r,o),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,t,e,n,i,r,o)},pinchTranslateDirection:function(t,e,n,i,r,o,s,a){var l,u,c,h=this.chart,d=t?"x":"y",p=t?"X":"Y",f="chart"+p,g=t?"width":"height",m=h["plot"+(t?"Left":"Top")],v=a||1,y=h.inverted,_=h.bounds[t?"h":"v"],b=1===e.length,w=e[0][f],x=n[0][f],C=!b&&e[1][f],k=!b&&n[1][f],n=function(){!b&&ht(w-C)>20&&(v=a||ht(x-k)/ht(w-C)),u=(m-x)/v+w,l=h["plot"+(t?"Width":"Height")]/v};n(),e=u,e<_.min?(e=_.min,c=!0):e+l>_.max&&(e=_.max-l,c=!0),c?(x-=.8*(x-s[d][0]),b||(k-=.8*(k-s[d][1])),n()):s[d]=[x,k],y||(o[d]=u-m,o[g]=l),o=y?1/v:v,r[g]=l,r[d]=e,i[y?t?"scaleY":"scaleX":"scale"+p]=v,i["translate"+p]=o*m+(x-o*w)},pinch:function(t){var e=this,n=e.chart,i=e.pinchDown,r=t.touches,o=r.length,s=e.lastValidTouch,a=e.hasZoom,l=e.selectionMarker,u={},c=1===o&&(e.inClass(t.target,"highcharts-tracker")&&n.runTrackerClick||e.runChartClick),h={};a&&!c&&t.preventDefault(),Xt(r,function(t){return e.normalize(t)}),"touchstart"===t.type?(Vt(r,function(t,e){i[e]={chartX:t.chartX,chartY:t.chartY}}),s.x=[i[0].chartX,i[1]&&i[1].chartX],s.y=[i[0].chartY,i[1]&&i[1].chartY],Vt(n.axes,function(t){if(t.zoomEnabled){var e=n.bounds[t.horiz?"h":"v"],i=t.minPixelPadding,r=t.toPixels(Ft(t.options.min,t.dataMin)),o=t.toPixels(Ft(t.options.max,t.dataMax)),s=ct(r,o),r=ut(r,o);e.min=ct(t.pos,s-i),e.max=ut(t.pos+t.len,r+i)}}),e.res=!0):i.length&&(l||(e.selectionMarker=l=jt({destroy:At},n.plotBox)),e.pinchTranslate(i,r,u,l,h,s),e.hasPinched=a,e.scaleGroups(u,h),!a&&e.followTouchMove&&1===o?this.runPointActions(e.normalize(t)):e.res&&(e.res=!1,this.reset(!1,0)))},onContainerTouchStart:function(t){var e=this.chart;de=e.index,1===t.touches.length?(t=this.normalize(t),e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&!e.openMenu?(this.runPointActions(t),this.pinch(t)):this.reset()):2===t.touches.length&&this.pinch(t)},onContainerTouchMove:function(t){(1===t.touches.length||2===t.touches.length)&&this.pinch(t)},onDocumentTouchEnd:function(t){Pt[de]&&Pt[de].pointer.drop(t)}}),rt.PointerEvent||rt.MSPointerEvent){var fe={},ge=!!rt.PointerEvent,me=function(){var t,e=[];e.item=function(t){return this[t]};for(t in fe)fe.hasOwnProperty(t)&&e.push({pageX:fe[t].pageX,pageY:fe[t].pageY,target:fe[t].target});return e},ve=function(t,e,n,i){t=t.originalEvent||t,"touch"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_TOUCH||!Pt[de]||(i(t),i=Pt[de].pointer,i[e]({type:n,target:t.currentTarget,preventDefault:At,touches:me()}))};jt(pe.prototype,{onContainerPointerDown:function(t){ve(t,"onContainerTouchStart","touchstart",function(t){fe[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){ve(t,"onContainerTouchMove","touchmove",function(t){fe[t.pointerId]={pageX:t.pageX,pageY:t.pageY},fe[t.pointerId].target||(fe[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){ve(t,"onContainerTouchEnd","touchend",function(t){delete fe[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,ge?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,ge?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(it,ge?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),zt(pe.prototype,"init",function(t,e,n){t.call(this,e,n),(this.hasZoom||this.followTouchMove)&&d(e.container,{"-ms-touch-action":It,"touch-action":It})}),zt(pe.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(Kt)}),zt(pe.prototype,"destroy",function(t){this.batchMSEvents(Zt),t.call(this)})}var ye=nt.Legend=function(t,e){this.init(t,e)};ye.prototype={init:function(e,n){var i=this,r=n.itemStyle,o=n.itemMarginTop||0;this.options=n,n.enabled&&(i.itemStyle=r,i.itemHiddenStyle=t(r,n.itemHiddenStyle),i.itemMarginTop=o,i.padding=r=Ft(n.padding,8),i.initialItemX=r,i.initialItemY=r-5,i.maxItemWidth=0,i.chart=e,i.itemHeight=0,i.symbolWidth=Ft(n.symbolWidth,16),i.pages=[],i.render(),Kt(i.chart,"endResize",function(){i.positionCheckboxes()}))},colorizeItem:function(t,e){var n,i=this.options,r=t.legendItem,o=t.legendLine,s=t.legendSymbol,a=this.itemHiddenStyle.color,i=e?i.itemStyle.color:a,l=e?t.legendColor||t.color||"#CCC":a,a=t.options&&t.options.marker,u={fill:l};if(r&&r.css({fill:i,color:i}),o&&o.attr({stroke:l}),s){if(a&&s.isMarker)for(n in u.stroke=l,a=t.convertAttribs(a))r=a[n],r!==O&&(u[n]=r);s.attr(u)}},positionItem:function(t){var e=this.options,n=e.symbolPadding,e=!e.rtl,i=t._legendItemPos,r=i[0],i=i[1],o=t.checkbox;t.legendGroup&&t.legendGroup.translate(e?r:this.legendWidth-r-2*n-4,i),
o&&(o.x=r,o.y=i)},destroyItem:function(t){var e=t.checkbox;Vt(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&k(t.checkbox)},destroy:function(){var t=this.group,e=this.box;e&&(this.box=e.destroy()),t&&(this.group=t.destroy())},positionCheckboxes:function(t){var e,n=this.group.alignAttr,i=this.clipHeight||this.legendHeight;n&&(e=n.translateY,Vt(this.allItems,function(r){var o,s=r.checkbox;s&&(o=e+s.y+(t||0)+3,d(s,{left:n.translateX+r.checkboxOffset+s.x-20+"px",top:o+"px",display:o>e-6&&e+i-6>o?"":It}))}))},renderTitle:function(){var t=this.padding,e=this.options.title,n=0;e.text&&(this.title||(this.title=this.chart.renderer.label(e.text,t-3,t-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(e.style).add(this.group)),t=this.title.getBBox(),n=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:n})),this.titleHeight=n},renderItem:function(e){var n=this.chart,i=n.renderer,r=this.options,o="horizontal"===r.layout,s=this.symbolWidth,a=r.symbolPadding,l=this.itemStyle,u=this.itemHiddenStyle,c=this.padding,h=o?Ft(r.itemDistance,20):0,d=!r.rtl,p=r.width,f=r.itemMarginBottom||0,g=this.itemMarginTop,m=this.initialItemX,y=e.legendItem,_=e.series&&e.series.drawLegendSymbol?e.series:e,b=_.options,b=this.createCheckboxForItem&&b&&b.showCheckbox,w=r.useHTML;y||(e.legendGroup=i.g("legend-item").attr({zIndex:1}).add(this.scrollGroup),e.legendItem=y=i.text(r.labelFormat?v(r.labelFormat,e):r.labelFormatter.call(e),d?s+a:-a,this.baseline||0,w).css(t(e.visible?l:u)).attr({align:d?"left":"right",zIndex:2}).add(e.legendGroup),this.baseline||(this.baseline=i.fontMetrics(l.fontSize,y).f+3+g,y.attr("y",this.baseline)),_.drawLegendSymbol(this,e),this.setItemEvents&&this.setItemEvents(e,y,w,l,u),this.colorizeItem(e,e.visible),b&&this.createCheckboxForItem(e)),i=y.getBBox(),s=e.checkboxOffset=r.itemWidth||e.legendItemWidth||s+a+i.width+h+(b?20:0),this.itemHeight=a=st(e.legendItemHeight||i.height),o&&this.itemX-m+s>(p||n.chartWidth-2*c-m-r.x)&&(this.itemX=m,this.itemY+=g+this.lastLineHeight+f),this.maxItemWidth=ut(this.maxItemWidth,s),this.lastItemY=g+this.itemY+f,this.lastLineHeight=ut(a,this.lastLineHeight),e._legendItemPos=[this.itemX,this.itemY],o?this.itemX+=s:(this.itemY+=g+a+f,this.lastLineHeight=a),this.offsetWidth=p||ut((o?this.itemX-m-h:s)+c,this.offsetWidth)},getAllItems:function(){var t=[];return Vt(this.chart.series,function(e){var n=e.options;Ft(n.showInLegend,u(n.linkedTo)?!1:O,!0)&&(t=t.concat(e.legendItems||("point"===n.legendType?e.data:e)))}),t},adjustMargins:function(t,e){var n=this.chart,i=this.options,r=i.align[0]+i.verticalAlign[0]+i.layout[0];this.display&&!i.floating&&Vt([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(o,s){o.test(r)&&!u(t[s])&&(n[Nt[s]]=ut(n[Nt[s]],n.legend[(s+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][s]*i[s%2?"x":"y"]+Ft(i.margin,12)+e[s]))})},render:function(){var t,e,n,i,r=this,o=r.chart,s=o.renderer,a=r.group,l=r.box,u=r.options,c=r.padding,h=u.borderWidth,d=u.backgroundColor;r.itemX=r.initialItemX,r.itemY=r.initialItemY,r.offsetWidth=0,r.lastItemY=0,a||(r.group=a=s.g("legend").attr({zIndex:7}).add(),r.contentGroup=s.g().attr({zIndex:1}).add(a),r.scrollGroup=s.g().add(r.contentGroup)),r.renderTitle(),t=r.getAllItems(),b(t,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),u.reversed&&t.reverse(),r.allItems=t,r.display=e=!!t.length,r.lastLineHeight=0,Vt(t,function(t){r.renderItem(t)}),n=(u.width||r.offsetWidth)+c,i=r.lastItemY+r.lastLineHeight+r.titleHeight,i=r.handleOverflow(i),i+=c,(h||d)&&(l?n>0&&i>0&&(l[l.isNew?"attr":"animate"](l.crisp({width:n,height:i})),l.isNew=!1):(r.box=l=s.rect(0,0,n,i,u.borderRadius,h||0).attr({stroke:u.borderColor,"stroke-width":h||0,fill:d||It}).add(a).shadow(u.shadow),l.isNew=!0),l[e?"show":"hide"]()),r.legendWidth=n,r.legendHeight=i,Vt(t,function(t){r.positionItem(t)}),e&&a.align(jt({width:n,height:i},u),!0,"spacingBox"),o.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e,n,i=this,r=this.chart,o=r.renderer,s=this.options,a=s.y,a=r.spacingBox.height+("top"===s.verticalAlign?-a:a)-this.padding,l=s.maxHeight,u=this.clipRect,c=s.navigation,h=Ft(c.animation,!0),d=c.arrowSize||12,p=this.nav,f=this.pages,g=this.allItems;return"horizontal"===s.layout&&(a/=2),l&&(a=ct(a,l)),f.length=0,t>a&&!s.useHTML?(this.clipHeight=e=ut(a-20-this.titleHeight-this.padding,0),this.currentPage=Ft(this.currentPage,1),this.fullHeight=t,Vt(g,function(t,i){var r=t._legendItemPos[1],o=st(t.legendItem.getBBox().height),s=f.length;(!s||r-f[s-1]>e&&(n||r)!==f[s-1])&&(f.push(n||r),s++),i===g.length-1&&r+o-f[s-1]>e&&f.push(r),r!==n&&(n=r)}),u||(u=i.clipRect=o.clipRect(0,this.padding,9999,0),i.contentGroup.clip(u)),u.attr({height:e}),p||(this.nav=p=o.g().attr({zIndex:1}).add(this.group),this.up=o.symbol("triangle",0,0,d,d).on("click",function(){i.scroll(-1,h)}).add(p),this.pager=o.text("",15,10).css(c.style).add(p),this.down=o.symbol("triangle-down",0,0,d,d).on("click",function(){i.scroll(1,h)}).add(p)),i.scroll(0),t=a):p&&(u.attr({height:r.chartHeight}),p.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var n=this.pages,i=n.length,r=this.currentPage+t,o=this.clipHeight,s=this.options.navigation,a=s.activeColor,s=s.inactiveColor,l=this.pager,u=this.padding;r>i&&(r=i),r>0&&(e!==O&&T(e,this.chart),this.nav.attr({translateX:u,translateY:o+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:1===r?s:a}).css({cursor:1===r?"default":"pointer"}),l.attr({text:r+"/"+i}),this.down.attr({x:18+this.pager.getBBox().width,fill:r===i?s:a}).css({cursor:r===i?"default":"pointer"}),n=-n[r-1]+this.initialItemY,this.scrollGroup.animate({translateY:n}),this.currentPage=r,this.positionCheckboxes(n))}},le=nt.LegendSymbolMixin={drawRectangle:function(t,e){var n=t.options.symbolHeight||12;e.legendSymbol=this.chart.renderer.rect(0,t.baseline-5-n/2,t.symbolWidth,n,t.options.symbolRadius||0).attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,n=this.options,i=n.marker;e=t.symbolWidth;var r,o=this.chart.renderer,s=this.legendGroup,t=t.baseline-st(.3*o.fontMetrics(t.options.itemStyle.fontSize,this.legendItem).b);n.lineWidth&&(r={"stroke-width":n.lineWidth},n.dashStyle&&(r.dashstyle=n.dashStyle),this.legendLine=o.path(["M",0,t,"L",e,t]).attr(r).add(s)),i&&i.enabled!==!1&&(n=i.radius,this.legendSymbol=e=o.symbol(this.symbol,e/2-n,t-n,2*n,2*n).add(s),e.isMarker=!0)}},(/Trident\/7\.0/.test(mt)||wt)&&zt(ye.prototype,"positionItem",function(t,e){var n=this,i=function(){e._legendItemPos&&t.call(n,e)};i(),setTimeout(i)}),Ht=nt.Chart=function(){this.init.apply(this,arguments)},Ht.prototype={callbacks:[],init:function(e,n){var i,r=e.series;e.series=null,i=t(L,e),i.series=e.series=r,this.userOptions=e,r=i.chart,this.margin=this.splashArray("margin",r),this.spacing=this.splashArray("spacing",r);var o=r.events;this.bounds={h:{},v:{}},this.callback=n,this.isResizing=0,this.options=i,this.axes=[],this.series=[],this.hasCartesianSeries=r.showAxes;var s,a=this;if(a.index=Pt.length,Pt.push(a),Mt++,r.reflow!==!1&&Kt(a,"load",function(){a.initReflow()}),o)for(s in o)Kt(a,s,o[s]);a.xAxis=[],a.yAxis=[],a.animation=Et?!1:Ft(r.animation,!0),a.pointCount=a.colorCounter=a.symbolCounter=0,a.firstRender()},initSeries:function(t){var e=this.options.chart;return(e=$t[t.type||e.type||e.defaultSeriesType])||S(17,!0),e=new e,e.init(this,t),e},isInsidePlot:function(t,e,n){var i=n?e:t,t=n?t:e;return i>=0&&i<=this.plotWidth&&t>=0&&t<=this.plotHeight},redraw:function(t){var e,n,i=this.axes,r=this.series,o=this.pointer,s=this.legend,a=this.isDirtyLegend,l=this.hasCartesianSeries,u=this.isDirtyBox,c=r.length,h=c,d=this.renderer,p=d.isHidden(),f=[];for(T(t,this),p&&this.cloneRenderTo(),this.layOutTitles();h--;)if(t=r[h],t.options.stacking&&(e=!0,t.isDirty)){n=!0;break}if(n)for(h=c;h--;)t=r[h],t.options.stacking&&(t.isDirty=!0);Vt(r,function(t){t.isDirty&&"point"===t.options.legendType&&(a=!0)}),a&&s.options.enabled&&(s.render(),this.isDirtyLegend=!1),e&&this.getStacks(),l&&!this.isResizing&&(this.maxTicks=null,Vt(i,function(t){t.setScale()})),this.getMargins(),l&&(Vt(i,function(t){t.isDirty&&(u=!0)}),Vt(i,function(t){t.isDirtyExtremes&&(t.isDirtyExtremes=!1,f.push(function(){Qt(t,"afterSetExtremes",jt(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(u||e)&&t.redraw()})),u&&this.drawChartBox(),Vt(r,function(t){t.isDirty&&t.visible&&(!t.isCartesian||t.xAxis)&&t.redraw()}),o&&o.reset(!0),d.draw(),Qt(this,"redraw"),p&&this.cloneRenderTo(!0),Vt(f,function(t){t.call()})},get:function(t){var e,n,i=this.axes,r=this.series;for(e=0;e<i.length;e++)if(i[e].options.id===t)return i[e];for(e=0;e<r.length;e++)if(r[e].options.id===t)return r[e];for(e=0;e<r.length;e++)for(n=r[e].points||[],i=0;i<n.length;i++)if(n[i].id===t)return n[i];return null},getAxes:function(){var t=this,e=this.options,n=e.xAxis=h(e.xAxis||{}),e=e.yAxis=h(e.yAxis||{});Vt(n,function(t,e){t.index=e,t.isX=!0}),Vt(e,function(t,e){t.index=e}),n=n.concat(e),Vt(n,function(e){new ce(t,e)})},getSelectedPoints:function(){var t=[];return Vt(this.series,function(e){t=t.concat(Ut(e.points||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return Ut(this.series,function(t){return t.selected})},getStacks:function(){var t=this;Vt(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),Vt(t.series,function(e){!e.options.stacking||e.visible!==!0&&t.options.chart.ignoreHiddenSeries!==!1||(e.stackKey=e.type+Ft(e.options.stack,""))})},setTitle:function(e,n,i){var r,o,s=this,a=s.options;o=a.title=t(a.title,e),r=a.subtitle=t(a.subtitle,n),a=r,Vt([["title",e,o],["subtitle",n,a]],function(t){var e=t[0],n=s[e],i=t[1],t=t[2];n&&i&&(s[e]=n=n.destroy()),t&&t.text&&!n&&(s[e]=s.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,"class":"highcharts-"+e,zIndex:t.zIndex||4}).css(t.style).add())}),s.layOutTitles(i)},layOutTitles:function(t){var e=0,n=this.title,i=this.subtitle,r=this.options,o=r.title,r=r.subtitle,s=this.renderer,a=this.spacingBox.width-44;!n||(n.css({width:(o.width||a)+"px"}).align(jt({y:s.fontMetrics(o.style.fontSize,n).b-3},o),!1,"spacingBox"),o.floating||o.verticalAlign)||(e=n.getBBox().height),i&&(i.css({width:(r.width||a)+"px"}).align(jt({y:e+(o.margin-13)+s.fontMetrics(o.style.fontSize,i).b},r),!1,"spacingBox"),!r.floating&&!r.verticalAlign&&(e=lt(e+i.getBBox().height))),n=this.titleOffset!==e,this.titleOffset=e,!this.isDirtyBox&&n&&(this.isDirtyBox=n,this.hasRendered&&Ft(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var t=this.options.chart,e=t.width,t=t.height,n=this.renderToClone||this.renderTo;u(e)||(this.containerWidth=Wt(n,"width")),u(t)||(this.containerHeight=Wt(n,"height")),this.chartWidth=ut(0,e||this.containerWidth||600),this.chartHeight=ut(0,Ft(t,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(t){var e=this.renderToClone,n=this.container;t?e&&(this.renderTo.appendChild(n),k(e),delete this.renderToClone):(n&&n.parentNode===this.renderTo&&this.renderTo.removeChild(n),this.renderToClone=e=this.renderTo.cloneNode(0),d(e,{position:"absolute",top:"-9999px",display:"block"}),e.style.setProperty&&e.style.setProperty("display","block","important"),it.body.appendChild(e),n&&e.appendChild(n))},getContainer:function(){var t,i,r,o,s=this.options.chart;this.renderTo=t=s.renderTo,o="highcharts-"+Dt++,n(t)&&(this.renderTo=t=it.getElementById(t)),t||S(13,!0),i=e(c(t,"data-highcharts-chart")),!isNaN(i)&&Pt[i]&&Pt[i].hasRendered&&Pt[i].destroy(),c(t,"data-highcharts-chart",this.index),t.innerHTML="",!s.skipClone&&!t.offsetWidth&&this.cloneRenderTo(),this.getChartSize(),i=this.chartWidth,r=this.chartHeight,this.container=t=p(Ot,{className:"highcharts-container"+(s.className?" "+s.className:""),id:o},jt({position:"relative",overflow:"hidden",width:i+"px",height:r+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},s.style),this.renderToClone||t),this._cursor=t.style.cursor,this.renderer=s.forExport?new ae(t,i,r,s.style,!0):new I(t,i,r,s.style),Et&&this.renderer.create(this,t,i,r),this.renderer.chartIndex=this.index},getMargins:function(t){var e=this.spacing,n=this.margin,i=this.titleOffset;this.resetMargins(),i&&!u(n[0])&&(this.plotTop=ut(this.plotTop,i+this.options.title.margin+e[0])),this.legend.adjustMargins(n,e),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],n=t.margin;t.hasCartesianSeries&&Vt(t.axes,function(t){t.getOffset()}),Vt(Nt,function(i,r){u(n[r])||(t[i]+=e[r])}),t.setChartSize()},reflow:function(t){var e=this,n=e.options.chart,i=e.renderTo,r=n.width||Wt(i,"width"),o=n.height||Wt(i,"height"),n=t?t.target:rt,i=function(){e.container&&(e.setSize(r,o,!1),e.hasUserSize=null)};e.hasUserSize||!r||!o||n!==rt&&n!==it||((r!==e.containerWidth||o!==e.containerHeight)&&(clearTimeout(e.reflowTimeout),t?e.reflowTimeout=setTimeout(i,100):i()),e.containerWidth=r,e.containerHeight=o)},initReflow:function(){var t=this,e=function(e){t.reflow(e)};Kt(rt,"resize",e),Kt(t,"destroy",function(){Zt(rt,"resize",e)})},setSize:function(t,e,n){var i,r,o,s=this;s.isResizing+=1,o=function(){s&&Qt(s,"endResize",null,function(){s.isResizing-=1})},T(n,s),s.oldChartHeight=s.chartHeight,s.oldChartWidth=s.chartWidth,u(t)&&(s.chartWidth=i=ut(0,st(t)),s.hasUserSize=!!i),u(e)&&(s.chartHeight=r=ut(0,st(e))),(j?te:d)(s.container,{width:i+"px",height:r+"px"},j),s.setChartSize(!0),s.renderer.setSize(i,r,n),s.maxTicks=null,Vt(s.axes,function(t){t.isDirty=!0,t.setScale()}),Vt(s.series,function(t){t.isDirty=!0}),s.isDirtyLegend=!0,s.isDirtyBox=!0,s.layOutTitles(),s.getMargins(),s.redraw(n),s.oldChartHeight=null,Qt(s,"resize"),j===!1?o():setTimeout(o,j&&j.duration||500)},setChartSize:function(t){var e,n,i,r,o=this.inverted,s=this.renderer,a=this.chartWidth,l=this.chartHeight,u=this.options.chart,c=this.spacing,h=this.clipOffset;this.plotLeft=e=st(this.plotLeft),this.plotTop=n=st(this.plotTop),this.plotWidth=i=ut(0,st(a-e-this.marginRight)),this.plotHeight=r=ut(0,st(l-n-this.marginBottom)),this.plotSizeX=o?r:i,this.plotSizeY=o?i:r,this.plotBorderWidth=u.plotBorderWidth||0,this.spacingBox=s.spacingBox={x:c[3],y:c[0],width:a-c[3]-c[1],height:l-c[0]-c[2]},this.plotBox=s.plotBox={x:e,y:n,width:i,height:r},a=2*at(this.plotBorderWidth/2),o=lt(ut(a,h[3])/2),s=lt(ut(a,h[0])/2),this.clipBox={x:o,y:s,width:at(this.plotSizeX-ut(a,h[1])/2-o),height:ut(0,at(this.plotSizeY-ut(a,h[2])/2-s))},t||Vt(this.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this;Vt(Nt,function(e,n){t[e]=Ft(t.margin[n],t.spacing[n])}),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e=this.options.chart,n=this.renderer,i=this.chartWidth,r=this.chartHeight,o=this.chartBackground,s=this.plotBackground,a=this.plotBorder,l=this.plotBGImage,u=e.borderWidth||0,c=e.backgroundColor,h=e.plotBackgroundColor,d=e.plotBackgroundImage,p=e.plotBorderWidth||0,f=this.plotLeft,g=this.plotTop,m=this.plotWidth,v=this.plotHeight,y=this.plotBox,_=this.clipRect,b=this.clipBox;t=u+(e.shadow?8:0),(u||c)&&(o?o.animate(o.crisp({width:i-t,height:r-t})):(o={fill:c||It},u&&(o.stroke=e.borderColor,o["stroke-width"]=u),this.chartBackground=n.rect(t/2,t/2,i-t,r-t,e.borderRadius,u).attr(o).addClass("highcharts-background").add().shadow(e.shadow))),h&&(s?s.animate(y):this.plotBackground=n.rect(f,g,m,v,0).attr({fill:h}).add().shadow(e.plotShadow)),d&&(l?l.animate(y):this.plotBGImage=n.image(d,f,g,m,v).add()),_?_.animate({width:b.width,height:b.height}):this.clipRect=n.clipRect(b),p&&(a?a.animate(a.crisp({x:f,y:g,width:m,height:v,strokeWidth:-p})):this.plotBorder=n.rect(f,g,m,v,0,-p).attr({stroke:e.plotBorderColor,"stroke-width":p,fill:It,zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var t,e,n,i=this,r=i.options.chart,o=i.options.series;Vt(["inverted","angular","polar"],function(s){for(t=$t[r.type||r.defaultSeriesType],n=i[s]||r[s]||t&&t.prototype[s],e=o&&o.length;!n&&e--;)(t=$t[o[e].type])&&t.prototype[s]&&(n=!0);i[s]=n})},linkSeries:function(){var t=this,e=t.series;Vt(e,function(t){t.linkedSeries.length=0}),Vt(e,function(e){var i=e.options.linkedTo;n(i)&&(i=":previous"===i?t.series[e.index-1]:t.get(i))&&(i.linkedSeries.push(e),e.linkedParent=i)})},renderSeries:function(){Vt(this.series,function(t){t.translate(),t.render()})},renderLabels:function(){var t=this,n=t.options.labels;n.items&&Vt(n.items,function(i){var r=jt(n.style,i.style),o=e(r.left)+t.plotLeft,s=e(r.top)+t.plotTop+12;delete r.left,delete r.top,t.renderer.text(i.html,o,s).attr({zIndex:2}).css(r).add()})},render:function(){var t,e,n,i,r=this.axes,o=this.renderer,s=this.options;this.setTitle(),this.legend=new ye(this,s.legend),this.getStacks(),this.getMargins(!0),this.setChartSize(),t=this.plotWidth,e=this.plotHeight-=13,Vt(r,function(t){t.setScale()}),this.getAxisMargins(),n=t/this.plotWidth>1.2,i=e/this.plotHeight>1.1,(n||i)&&(this.maxTicks=null,Vt(r,function(t){(t.horiz&&n||!t.horiz&&i)&&t.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&Vt(r,function(t){t.render()}),this.seriesGroup||(this.seriesGroup=o.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.showCredits(s.credits),this.hasRendered=!0},showCredits:function(t){t.enabled&&!this.credits&&(this.credits=this.renderer.text(t.text,0,0).on("click",function(){t.href&&(location.href=t.href)}).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position))},destroy:function(){var t,e=this,n=e.axes,i=e.series,r=e.container,o=r&&r.parentNode;for(Qt(e,"destroy"),Pt[e.index]=O,Mt--,e.renderTo.removeAttribute("data-highcharts-chart"),Zt(e),t=n.length;t--;)n[t]=n[t].destroy();for(t=i.length;t--;)i[t]=i[t].destroy();Vt("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(t){var n=e[t];n&&n.destroy&&(e[t]=n.destroy())}),r&&(r.innerHTML="",Zt(r),o&&k(r));for(t in e)delete e[t]},isReadyToRender:function(){var t=this;return!kt&&rt==rt.top&&"complete"!==it.readyState||Et&&!rt.canvg?(Et?ue.push(function(){t.firstRender()},t.options.global.canvasToolsURL):it.attachEvent("onreadystatechange",function(){it.detachEvent("onreadystatechange",t.firstRender),"complete"===it.readyState&&t.firstRender()}),!1):!0},firstRender:function(){var t=this,e=t.options,n=t.callback;t.isReadyToRender()&&(t.getContainer(),Qt(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),Vt(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),Qt(t,"beforeRender"),nt.Pointer&&(t.pointer=new pe(t,e)),t.render(),t.renderer.draw(),n&&n.apply(t,[t]),Vt(t.callbacks,function(e){t.index!==O&&e.apply(t,[t])}),Qt(t,"load"),t.cloneRenderTo(!0))},splashArray:function(t,e){var n=e[t],n=i(n)?n:[n,n,n,n];return[Ft(e[t+"Top"],n[0]),Ft(e[t+"Right"],n[1]),Ft(e[t+"Bottom"],n[2]),Ft(e[t+"Left"],n[3])]}};var _e=nt.CenteredSeriesMixin={getCenter:function(){var t,n,i=this.options,r=this.chart,o=2*(i.slicedOffset||0),s=r.plotWidth-2*o,a=r.plotHeight-2*o,r=i.center,i=[Ft(r[0],"50%"),Ft(r[1],"50%"),i.size||"100%",i.innerSize||0],l=ct(s,a);return Xt(i,function(i,r){return n=/%$/.test(i),t=2>r||2===r&&n,(n?[s,a,l,l][r]*e(i)/100:i)+(t?o:0)})}},be=function(){};be.prototype={init:function(t,e,n){return this.series=t,this.color=t.color,this.applyOptions(e,n),this.pointAttr={},t.options.colorByPoint&&(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter++],t.colorCounter===e.length)&&(t.colorCounter=0),t.chart.pointCount++,this},applyOptions:function(t,e){var n=this.series,i=n.options.pointValKey||n.pointValKey,t=be.prototype.optionsToObject.call(this,t);return jt(this,t),this.options=this.options?jt(this.options,t):t,i&&(this.y=this[i]),this.x===O&&n&&(this.x=e===O?n.autoIncrement():e),this},optionsToObject:function(t){var e={},n=this.series,i=n.pointArrayMap||["y"],o=i.length,s=0,a=0;if("number"==typeof t||null===t)e[i[0]]=t;else if(r(t))for(t.length>o&&(n=typeof t[0],"string"===n?e.name=t[0]:"number"===n&&(e.x=t[0]),s++);o>a;)e[i[a++]]=t[s++];else"object"==typeof t&&(e=t,t.dataLabels&&(n._hasPointLabels=!0),t.marker&&(n._hasPointMarkers=!0));return e},destroy:function(){var t,e=this.series.chart,n=e.hoverPoints;e.pointCount--,n&&(this.setState(),l(n,this),!n.length)&&(e.hoverPoints=null),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(Zt(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this);for(t in this)this[t]=null},destroyElements:function(){for(var t,e="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),n=6;n--;)t=e[n],this[t]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,n=e.tooltipOptions,i=Ft(n.valueDecimals,""),r=n.valuePrefix||"",o=n.valueSuffix||"";return Vt(e.pointArrayMap||["y"],function(e){e="{point."+e,(r||o)&&(t=t.replace(e+"}",r+e+"}"+o)),t=t.replace(e+"}",e+":,."+i+"f}")}),v(t,{point:this,series:this.series})},firePointEvent:function(t,e,n){var i=this,r=this.series.options;(r.point.events[t]||i.options&&i.options.events&&i.options.events[t])&&this.importEvents(),"click"===t&&r.allowPointSelect&&(n=function(t){i.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),Qt(this,t,e,n)}};var we=nt.Series=function(){};we.prototype={isCartesian:!0,type:"line",pointClass:be,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(t,e){var n,i,r=this,o=t.series,s=function(t,e){return Ft(t.options.index,t._i)-Ft(e.options.index,e._i)};r.chart=t,r.options=e=r.setOptions(e),r.linkedSeries=[],r.bindAxes(),jt(r,{name:e.name,state:"",pointAttr:{},visible:e.visible!==!1,selected:e.selected===!0}),Et&&(e.animation=!1),i=e.events;for(n in i)Kt(r,n,i[n]);(i&&i.click||e.point&&e.point.events&&e.point.events.click||e.allowPointSelect)&&(t.runTrackerClick=!0),r.getColor(),r.getSymbol(),Vt(r.parallelArrays,function(t){r[t+"Data"]=[]}),r.setData(e.data,!1),r.isCartesian&&(t.hasCartesianSeries=!0),o.push(r),r._i=o.length-1,b(o,s),this.yAxis&&b(this.yAxis.series,s),Vt(o,function(t,e){t.index=e,t.name=t.name||"Series "+(e+1)})},bindAxes:function(){var t,e=this,n=e.options,i=e.chart;Vt(e.axisTypes||[],function(r){Vt(i[r],function(i){t=i.options,(n[r]===t.index||n[r]!==O&&n[r]===t.id||n[r]===O&&0===t.index)&&(i.series.push(e),e[r]=i,i.isDirty=!0)}),!e[r]&&e.optionalAxis!==r&&S(18,!0)})},updateParallelArrays:function(t,e){var n=t.series,i=arguments;Vt(n.parallelArrays,"number"==typeof e?function(i){var r="y"===i&&n.toYData?n.toYData(t):t[i];n[i+"Data"][e]=r}:function(t){Array.prototype[e].apply(n[t+"Data"],Array.prototype.slice.call(i,2))})},autoIncrement:function(){var t,e=this.options,n=this.xIncrement,i=e.pointIntervalUnit,n=Ft(n,e.pointStart,0);return this.pointInterval=t=Ft(this.pointInterval,e.pointInterval,1),("month"===i||"year"===i)&&(e=new B(n),e="month"===i?+e[tt](e[X]()+t):+e[et](e[K]()+t),t=e-n),this.xIncrement=n+t,n},getSegments:function(){var t,e=-1,n=[],i=this.points,r=i.length;if(r)if(this.options.connectNulls){for(t=r;t--;)null===i[t].y&&i.splice(t,1);i.length&&(n=[i])}else Vt(i,function(t,o){null===t.y?(o>e+1&&n.push(i.slice(e+1,o)),e=o):o===r-1&&n.push(i.slice(e+1,o+1))});this.segments=n},setOptions:function(e){var n=this.chart,i=n.options.plotOptions,n=n.userOptions||{},r=n.plotOptions||{},o=i[this.type];return this.userOptions=e,i=t(o,i.series,e),this.tooltipOptions=t(L.tooltip,L.plotOptions[this.type].tooltip,n.tooltip,r.series&&r.series.tooltip,r[this.type]&&r[this.type].tooltip,e.tooltip),null===o.marker&&delete i.marker,this.zoneAxis=i.zoneAxis,e=this.zones=(i.zones||[]).slice(),!i.negativeColor&&!i.negativeFillColor||i.zones||e.push({value:i[this.zoneAxis+"Threshold"]||i.threshold||0,color:i.negativeColor,fillColor:i.negativeFillColor}),e.length&&u(e[e.length-1].value)&&e.push({color:this.color,fillColor:this.fillColor}),i},getCyclic:function(t,e,n){var i=this.userOptions,r="_"+t+"Index",o=t+"Counter";e||(u(i[r])?e=i[r]:(i[r]=e=this.chart[o]%n.length,this.chart[o]+=1),e=n[e]),this[t]=e},getColor:function(){this.options.colorByPoint||this.getCyclic("color",this.options.color||ne[this.type].color,this.chart.options.colors)},getSymbol:function(){var t=this.options.marker;this.getCyclic("symbol",t.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(t.radius=0)},drawLegendSymbol:le.drawLineMarker,setData:function(t,e,i,s){var a,l=this,u=l.points,c=u&&u.length||0,h=l.options,d=l.chart,p=null,f=l.xAxis,g=f&&!!f.categories,m=h.turboThreshold,v=this.xData,y=this.yData,_=(a=l.pointArrayMap)&&a.length,t=t||[];if(a=t.length,e=Ft(e,!0),s!==!1&&a&&c===a&&!l.cropped&&!l.hasGroupedData&&l.visible)Vt(t,function(t,e){u[e].update(t,!1,null,!1)});else{if(l.xIncrement=null,l.pointRange=g?1:h.pointRange,l.colorCounter=0,Vt(this.parallelArrays,function(t){l[t+"Data"].length=0}),m&&a>m){for(i=0;null===p&&a>i;)p=t[i],i++;if(o(p)){for(g=Ft(h.pointStart,0),h=Ft(h.pointInterval,1),i=0;a>i;i++)v[i]=g,y[i]=t[i],g+=h;l.xIncrement=g}else if(r(p))if(_)for(i=0;a>i;i++)h=t[i],v[i]=h[0],y[i]=h.slice(1,_+1);else for(i=0;a>i;i++)h=t[i],v[i]=h[0],y[i]=h[1];else S(12)}else for(i=0;a>i;i++)t[i]!==O&&(h={series:l},l.pointClass.prototype.applyOptions.apply(h,[t[i]]),l.updateParallelArrays(h,i),g&&h.name)&&(f.names[h.x]=h.name);for(n(y[0])&&S(14,!0),l.data=[],l.options.data=t,i=c;i--;)u[i]&&u[i].destroy&&u[i].destroy();f&&(f.minRange=f.userMinRange),l.isDirty=l.isDirtyData=d.isDirtyBox=!0,i=!1}e&&d.redraw(i)},processData:function(t){var e,n=this.xData,i=this.yData,r=n.length;e=0;var o,s,a,l=this.xAxis,u=this.options;a=u.cropThreshold;var c,h,d=this.isCartesian;if(d&&!this.isDirty&&!l.isDirty&&!this.yAxis.isDirty&&!t)return!1;for(l&&(t=l.getExtremes(),c=t.min,h=t.max),d&&this.sorted&&(!a||r>a||this.forceCrop)&&(n[r-1]<c||n[0]>h?(n=[],i=[]):(n[0]<c||n[r-1]>h)&&(e=this.cropData(this.xData,this.yData,c,h),n=e.xData,i=e.yData,e=e.start,o=!0)),a=n.length-1;a>=0;a--)r=n[a]-n[a-1],r>0&&(s===O||s>r)?s=r:0>r&&this.requireSorting&&S(15);this.cropped=o,this.cropStart=e,this.processedXData=n,this.processedYData=i,null===u.pointRange&&(this.pointRange=s||1),this.closestPointRange=s},cropData:function(t,e,n,i){var r,o=t.length,s=0,a=o,l=Ft(this.cropShoulder,1);for(r=0;o>r;r++)if(t[r]>=n){s=ut(0,r-l);break}for(;o>r;r++)if(t[r]>i){a=r+l;break}return{xData:t.slice(s,a),yData:e.slice(s,a),start:s,end:a}},generatePoints:function(){var t,e,n,i,r=this.options.data,o=this.data,s=this.processedXData,a=this.processedYData,l=this.pointClass,u=s.length,c=this.cropStart||0,d=this.hasGroupedData,p=[];for(o||d||(o=[],o.length=r.length,o=this.data=o),i=0;u>i;i++)e=c+i,d?p[i]=(new l).init(this,[s[i]].concat(h(a[i]))):(o[e]?n=o[e]:r[e]!==O&&(o[e]=n=(new l).init(this,r[e],s[i])),p[i]=n),p[i].index=e;if(o&&(u!==(t=o.length)||d))for(i=0;t>i;i++)i===c&&!d&&(i+=u),o[i]&&(o[i].destroyElements(),o[i].plotX=O);this.data=o,this.points=p},getExtremes:function(t){var e,n=this.yAxis,i=this.processedXData,r=[],o=0;e=this.xAxis.getExtremes();var s,a,l,u,c=e.min,h=e.max,t=t||this.stackedYData||this.processedYData;for(e=t.length,u=0;e>u;u++)if(a=i[u],l=t[u],s=null!==l&&l!==O&&(!n.isLog||l.length||l>0),a=this.getExtremesFromAll||this.cropped||(i[u+1]||a)>=c&&(i[u-1]||a)<=h,s&&a)if(s=l.length)for(;s--;)null!==l[s]&&(r[o++]=l[s]);else r[o++]=l;this.dataMin=Ft(void 0,w(r)),this.dataMax=Ft(void 0,x(r))},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var t,e,n,i=this.options,r=i.stacking,s=this.xAxis,a=s.categories,l=this.yAxis,c=this.points,h=c.length,d=!!this.modifyValue,p=i.pointPlacement,f="between"===p||o(p),g=i.threshold,m=Number.MAX_VALUE,i=0;h>i;i++){var v=c[i],y=v.x,_=v.y;e=v.low;var b=r&&l.stacks[(this.negStacks&&g>_?"-":"")+this.stackKey];l.isLog&&null!==_&&0>=_&&(v.y=_=null,S(10)),v.plotX=t=s.translate(y,0,0,0,1,p,"flags"===this.type),r&&this.visible&&b&&b[y]&&(b=b[y],_=b.points[this.index+","+i],e=_[0],_=_[1],0===e&&(e=Ft(g,l.min)),l.isLog&&0>=e&&(e=null),v.total=v.stackTotal=b.total,v.percentage=b.total&&v.y/b.total*100,v.stackY=_,b.setOffset(this.pointXOffset||0,this.barW||0)),v.yBottom=u(e)?l.translate(e,0,1,0,1):null,d&&(_=this.modifyValue(_,v)),v.plotY=e="number"==typeof _&&_!==1/0?ct(ut(-1e5,l.translate(_,0,1,0,1)),1e5):O,v.isInside=e!==O&&e>=0&&e<=l.len&&t>=0&&t<=s.len,v.clientX=f?s.translate(y,0,0,0,1):t,v.negative=v.y<(g||0),v.category=a&&a[v.x]!==O?a[v.x]:v.x,i&&(m=ct(m,ht(t-n))),n=t}this.closestPointRangePx=m,this.getSegments()},setClip:function(t){var e=this.chart,n=e.renderer,i=e.inverted,r=this.clipBox,o=r||e.clipBox,s=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,o.height].join(","),a=e[s],l=e[s+"m"];a||(t&&(o.width=0,e[s+"m"]=l=n.clipRect(-99,i?-e.plotLeft:-e.plotTop,99,i?e.chartWidth:e.chartHeight)),e[s]=a=n.clipRect(o)),t&&(a.count+=1),this.options.clip!==!1&&(this.group.clip(t||r?a:e.clipRect),this.markerGroup.clip(l),this.sharedClipKey=s),t||(a.count-=1,a.count<=0&&s&&e[s]&&(r||(e[s]=e[s].destroy()),e[s+"m"]&&(e[s+"m"]=e[s+"m"].destroy())))},animate:function(t){var e,n=this.chart,r=this.options.animation;r&&!i(r)&&(r=ne[this.type].animation),t?this.setClip(r):(e=this.sharedClipKey,(t=n[e])&&t.animate({width:n.plotSizeX},r),n[e+"m"]&&n[e+"m"].animate({width:n.plotSizeX+99},r),this.animate=null)},afterAnimate:function(){this.setClip(),Qt(this,"afterAnimate")},drawPoints:function(){var t,e,n,i,r,o,s,a,l,u,c,h,d=this.points,p=this.chart,f=this.options.marker,g=this.pointAttr[""],m=this.markerGroup,v=Ft(f.enabled,this.xAxis.isRadial,this.closestPointRangePx>2*f.radius);if(f.enabled!==!1||this._hasPointMarkers)for(i=d.length;i--;)r=d[i],e=at(r.plotX),n=r.plotY,l=r.graphic,u=r.marker||{},c=!!r.marker,t=v&&u.enabled===O||u.enabled,h=r.isInside,t&&n!==O&&!isNaN(n)&&null!==r.y?(t=r.pointAttr[r.selected?"select":""]||g,o=t.r,s=Ft(u.symbol,this.symbol),a=0===s.indexOf("url"),l?l[h?"show":"hide"](!0).animate(jt({x:e-o,y:n-o},l.symbolName?{width:2*o,height:2*o}:{})):h&&(o>0||a)&&(r.graphic=p.renderer.symbol(s,e-o,n-o,2*o,2*o,c?u:f).attr(t).add(m))):l&&(r.graphic=l.destroy())},convertAttribs:function(t,e,n,i){var r,o,s=this.pointAttrToOptions,a={},t=t||{},e=e||{},n=n||{},i=i||{};for(r in s)o=s[r],a[r]=Ft(t[o],e[r],n[r],i[r]);return a},getAttribs:function(){var t,e=this,n=e.options,i=ne[e.type].marker?n.marker:n,r=i.states,o=r.hover,s=e.color,a=e.options.negativeColor;t={stroke:s,fill:s};var l,c,h=e.points||[],d=[],p=e.pointAttrToOptions;c=e.hasPointSpecificOptions;var f=i.lineColor,g=i.fillColor;l=n.turboThreshold;var m,v=e.zones,y=e.zoneAxis||"y";if(n.marker?(o.radius=o.radius||i.radius+o.radiusPlus,o.lineWidth=o.lineWidth||i.lineWidth+o.lineWidthPlus):(o.color=o.color||se(o.color||s).brighten(o.brightness).get(),o.negativeColor=o.negativeColor||se(o.negativeColor||a).brighten(o.brightness).get()),d[""]=e.convertAttribs(i,t),Vt(["hover","select"],function(t){d[t]=e.convertAttribs(r[t],d[""])}),e.pointAttr=d,s=h.length,!l||l>s||c)for(;s--;){if(l=h[s],(i=l.options&&l.options.marker||l.options)&&i.enabled===!1&&(i.radius=0),v.length){for(c=0,t=v[c];l[y]>=t.value;)t=v[++c];l.color=l.fillColor=t.color}if(c=n.colorByPoint||l.color,l.options)for(m in p)u(i[p[m]])&&(c=!0);c?(i=i||{},c=[],r=i.states||{},t=r.hover=r.hover||{},n.marker||(t.color=t.color||!l.options.color&&o[l.negative&&a?"negativeColor":"color"]||se(l.color).brighten(t.brightness||o.brightness).get()),t={color:l.color},g||(t.fillColor=l.color),f||(t.lineColor=l.color),c[""]=e.convertAttribs(jt(t,i),d[""]),c.hover=e.convertAttribs(r.hover,d.hover,c[""]),c.select=e.convertAttribs(r.select,d.select,c[""])):c=d,l.pointAttr=c}},destroy:function(){var t,e,n,i,r,o=this,s=o.chart,a=/AppleWebKit\/533/.test(mt),u=o.data||[];for(Qt(o,"destroy"),Zt(o),Vt(o.axisTypes||[],function(t){(r=o[t])&&(l(r.series,o),r.isDirty=r.forceRedraw=!0)}),o.legendItem&&o.chart.legend.destroyItem(o),e=u.length;e--;)(n=u[e])&&n.destroy&&n.destroy();o.points=null,clearTimeout(o.animationTimeout),Vt("area,graph,dataLabelsGroup,group,markerGroup,tracker,graphNeg,areaNeg,posClip,negClip".split(","),function(e){o[e]&&(t=a&&"group"===e?"hide":"destroy",o[e][t]())}),s.hoverSeries===o&&(s.hoverSeries=null),l(s.series,o);for(i in o)delete o[i]},getSegmentPath:function(t){var e=this,n=[],i=e.options.step;
return Vt(t,function(r,o){var s,a=r.plotX,l=r.plotY;e.getPointSpline?n.push.apply(n,e.getPointSpline(t,r,o)):(n.push(o?"L":"M"),i&&o&&(s=t[o-1],"right"===i?n.push(s.plotX,l):"center"===i?n.push((s.plotX+a)/2,s.plotY,(s.plotX+a)/2,l):n.push(a,s.plotY)),n.push(r.plotX,r.plotY))}),n},getGraphPath:function(){var t,e=this,n=[],i=[];return Vt(e.segments,function(r){t=e.getSegmentPath(r),r.length>1?n=n.concat(t):i.push(r[0])}),e.singlePoints=i,e.graphPath=n},drawGraph:function(){var t=this,e=this.options,n=[["graph",e.lineColor||this.color,e.dashStyle]],i=e.lineWidth,r="square"!==e.linecap,o=this.getGraphPath(),s=this.fillGraph&&this.color||It;Vt(this.zones,function(i,r){n.push(["colorGraph"+r,i.color||t.color,i.dashStyle||e.dashStyle])}),Vt(n,function(n,a){var l=n[0],u=t[l];u?(ee(u),u.animate({d:o})):(i||s)&&o.length&&(u={stroke:n[1],"stroke-width":i,fill:s,zIndex:1},n[2]?u.dashstyle=n[2]:r&&(u["stroke-linecap"]=u["stroke-linejoin"]="round"),t[l]=t.chart.renderer.path(o).attr(u).add(t.group).shadow(!a&&e.shadow))})},applyZones:function(){var t,e,n,i=this,r=this.chart,o=r.renderer,s=this.zones,a=this.clips||[],l=this.graph,u=this.area,c=ut(r.chartWidth,r.chartHeight),h=this[(this.zoneAxis||"y")+"Axis"],d=h.reversed,p=h.horiz;s.length&&(l||u)&&(l.hide(),u&&u.hide(),Vt(s,function(s,l){t=Ft(e,d?p?r.plotWidth:0:p?0:h.toPixels(h.min)),e=st(h.toPixels(Ft(s.value,h.max),!0)),h.isXAxis?(n={x:d?e:t,y:0,width:Math.abs(t-e),height:c},p||(n.x=r.plotHeight-n.x)):(n={x:0,y:d?t:e,width:c,height:Math.abs(t-e)},p&&(n.y=r.plotWidth-n.y)),r.inverted&&o.isVML&&(n=h.isXAxis?{x:0,y:d?t:e,height:n.width,width:r.chartWidth}:{x:n.y-r.plotLeft-r.spacingBox.x,y:0,width:n.height,height:r.chartHeight}),a[l]?a[l].animate(n):(a[l]=o.clipRect(n),i["colorGraph"+l].clip(a[l]),u&&i["colorArea"+l].clip(a[l]))}),this.clips=a)},invertGroups:function(){function t(){var t={width:e.yAxis.len,height:e.xAxis.len};Vt(["group","markerGroup"],function(n){e[n]&&e[n].attr(t).invert()})}var e=this,n=e.chart;e.xAxis&&(Kt(n,"resize",t),Kt(e,"destroy",function(){Zt(n,"resize",t)}),t(),e.invertGroups=t)},plotGroup:function(t,e,n,i,r){var o=this[t],s=!o;return s&&(this[t]=o=this.chart.renderer.g(e).attr({visibility:n,zIndex:i||.1}).add(r)),o[s?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){var t=this.chart,e=this.xAxis,n=this.yAxis;return t.inverted&&(e=n,n=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:n?n.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,n=e.chart;t=e.options;var i=t.animation,i=i&&!!e.animate&&n.renderer.isSVG&&Ft(i.duration,500)||0,r=e.visible?"visible":"hidden",o=t.zIndex,s=e.hasRendered,a=n.seriesGroup;t=e.plotGroup("group","series",r,o,a),e.markerGroup=e.plotGroup("markerGroup","markers",r,o,a),i&&e.animate(!0),e.getAttribs(),t.inverted=e.isCartesian?n.inverted:!1,e.drawGraph&&(e.drawGraph(),e.applyZones()),Vt(e.points,function(t){t.redraw&&t.redraw()}),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&e.options.enableMouseTracking!==!1&&e.drawTracker(),n.inverted&&e.invertGroups(),i&&e.animate(),s||(i?e.animationTimeout=setTimeout(function(){e.afterAnimate()},i):e.afterAnimate()),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var t=this.chart,e=this.isDirtyData,n=this.group,i=this.xAxis,r=this.yAxis;n&&(t.inverted&&n.attr({width:t.plotWidth,height:t.plotHeight}),n.animate({translateX:Ft(i&&i.left,t.plotLeft),translateY:Ft(r&&r.top,t.plotTop)})),this.translate(),this.render(),e&&Qt(this,"updatedData")},kdDimensions:1,kdTree:null,kdAxisArray:["plotX","plotY"],kdComparer:"distX",searchPoint:function(t){var e=this.xAxis,n=this.yAxis,i=this.chart.inverted;return t.plotX=i?e.len-t.chartY+e.pos:t.chartX-e.pos,t.plotY=i?n.len-t.chartX+n.pos:t.chartY-n.pos,this.searchKDTree(t)},buildKDTree:function(){function t(e,i,r){var o,s;return(s=e&&e.length)?(o=n.kdAxisArray[i%r],e.sort(function(t,e){return t[o]-e[o]}),s=Math.floor(s/2),{point:e[s],left:t(e.slice(0,s),i+1,r),right:t(e.slice(s+1),i+1,r)}):void 0}function e(){n.kdTree=t(n.points,i,i)}var n=this,i=n.kdDimensions;delete n.kdTree,n.options.kdSync?e():setTimeout(e)},searchKDTree:function(t){function e(t,s,a,l){var c,h=s.point,d=n.kdAxisArray[a%l],p=h;c=u(t[r])&&u(h[r])?Math.pow(t[r]-h[r],2):null;var f=u(t[o])&&u(h[o])?Math.pow(t[o]-h[o],2):null,g=(c||0)+(f||0);return c={distX:u(c)?Math.sqrt(c):Number.MAX_VALUE,distY:u(f)?Math.sqrt(f):Number.MAX_VALUE,distR:u(g)?Math.sqrt(g):Number.MAX_VALUE},h.dist=c,d=t[d]-h[d],c=0>d?"left":"right",s[c]&&(c=e(t,s[c],a+1,l),p=c.dist[i]<p.dist[i]?c:h,h=0>d?"right":"left",s[h]&&Math.sqrt(d*d)<p.dist[i]&&(t=e(t,s[h],a+1,l),p=t.dist[i]<p.dist[i]?t:p)),p}var n=this,i=this.kdComparer,r=this.kdAxisArray[0],o=this.kdAxisArray[1];return this.kdTree||this.buildKDTree(),this.kdTree?e(t,this.kdTree,this.kdDimensions,this.kdDimensions):O}},M.prototype={destroy:function(){C(this,this.axis)},render:function(t){var e=this.options,n=e.format,n=n?v(n,this):e.formatter.call(this);this.label?this.label.attr({text:n,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(n,null,null,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:"hidden"}).add(t)},setOffset:function(t,e){var n=this.axis,i=n.chart,r=i.inverted,o=this.isNegative,s=n.translate(n.usePercentage?100:this.total,0,0,0,1),n=n.translate(0),n=ht(s-n),a=i.xAxis[0].translate(this.x)+t,l=i.plotHeight,o={x:r?o?s:s-n:a,y:r?l-a-e:o?l-s-n:l-s,width:r?n:e,height:r?e:n};(r=this.label)&&(r.align(this.alignOptions,null,o),o=r.alignAttr,r[this.options.crop===!1||i.isInsidePlot(o.x,o.y)?"show":"hide"](!0))}},ce.prototype.buildStacks=function(){var t=this.series,e=Ft(this.options.reversedStacks,!0),n=t.length;if(!this.isXAxis){for(this.usePercentage=!1;n--;)t[e?n:t.length-n-1].setStackedPoints();if(this.usePercentage)for(n=0;n<t.length;n++)t[n].setPercentStacks()}},ce.prototype.renderStackTotals=function(){var t,e,n=this.chart,i=n.renderer,r=this.stacks,o=this.stackTotalGroup;o||(this.stackTotalGroup=o=i.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),o.translate(n.plotLeft,n.plotTop);for(t in r)for(e in n=r[t])n[e].render(o)},we.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var t,e,n,i,r,o,s=this.processedXData,a=this.processedYData,l=[],u=a.length,c=this.options,h=c.threshold,d=c.stack,c=c.stacking,p=this.stackKey,f="-"+p,g=this.negStacks,m=this.yAxis,v=m.stacks,y=m.oldStacks;for(i=0;u>i;i++)r=s[i],o=a[i],n=this.index+","+i,e=(t=g&&h>o)?f:p,v[e]||(v[e]={}),v[e][r]||(y[e]&&y[e][r]?(v[e][r]=y[e][r],v[e][r].total=null):v[e][r]=new M(m,m.options.stackLabels,t,r,d)),e=v[e][r],e.points[n]=[e.cum||0],"percent"===c?(t=t?p:f,g&&v[t]&&v[t][r]?(t=v[t][r],e.total=t.total=ut(t.total,e.total)+ht(o)||0):e.total=E(e.total+(ht(o)||0))):e.total=E(e.total+(o||0)),e.cum=(e.cum||0)+(o||0),e.points[n].push(e.cum),l[i]=e.cum;"percent"===c&&(m.usePercentage=!0),this.stackedYData=l,m.oldStacks={}}},we.prototype.setPercentStacks=function(){var t=this,e=t.stackKey,n=t.yAxis.stacks,i=t.processedXData;Vt([e,"-"+e],function(e){for(var r,o,s,a=i.length;a--;)o=i[a],r=(s=n[e]&&n[e][o])&&s.points[t.index+","+a],(o=r)&&(s=s.total?100/s.total:0,o[0]=E(o[0]*s),o[1]=E(o[1]*s),t.stackedYData[a]=o[1])})},jt(Ht.prototype,{addSeries:function(t,e,n){var i,r=this;return t&&(e=Ft(e,!0),Qt(r,"addSeries",{options:t},function(){i=r.initSeries(t),r.isDirtyLegend=!0,r.linkSeries(),e&&r.redraw(n)})),i},addAxis:function(e,n,i,r){var o=n?"xAxis":"yAxis",s=this.options;new ce(this,t(e,{index:this[o].length,isX:n})),s[o]=h(s[o]||{}),s[o].push(e),Ft(i,!0)&&this.redraw(r)},showLoading:function(t){var e=this,n=e.options,i=e.loadingDiv,r=n.loading,o=function(){i&&d(i,{left:e.plotLeft+"px",top:e.plotTop+"px",width:e.plotWidth+"px",height:e.plotHeight+"px"})};i||(e.loadingDiv=i=p(Ot,{className:"highcharts-loading"},jt(r.style,{zIndex:10,display:It}),e.container),e.loadingSpan=p("span",null,r.labelStyle,i),Kt(e,"redraw",o)),e.loadingSpan.innerHTML=t||n.lang.loading,e.loadingShown||(d(i,{opacity:0,display:""}),te(i,{opacity:r.style.opacity},{duration:r.showDuration||0}),e.loadingShown=!0),o()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&te(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){d(e,{display:It})}}),this.loadingShown=!1}}),jt(be.prototype,{update:function(t,e,n,o){function s(){l.applyOptions(t),i(t)&&!r(t)&&(l.redraw=function(){c&&(t&&t.marker&&t.marker.symbol?l.graphic=c.destroy():c.attr(l.pointAttr[l.state||""])),t&&t.dataLabels&&l.dataLabel&&(l.dataLabel=l.dataLabel.destroy()),l.redraw=null}),a=l.index,u.updateParallelArrays(l,a),p&&l.name&&(p[l.x]=l.name),d.data[a]=l.options,u.isDirty=u.isDirtyData=!0,!u.fixedBox&&u.hasCartesianSeries&&(h.isDirtyBox=!0),"point"===d.legendType&&h.legend.destroyItem(l),e&&h.redraw(n)}var a,l=this,u=l.series,c=l.graphic,h=u.chart,d=u.options,p=u.xAxis&&u.xAxis.names,e=Ft(e,!0);o===!1?s():l.firePointEvent("update",{options:t},s)},remove:function(t,e){this.series.removePoint(Yt(this,this.series.data),t,e)}}),jt(we.prototype,{addPoint:function(t,e,n,i){var r,o=this.options,s=this.data,a=this.graph,l=this.area,u=this.chart,c=this.xAxis&&this.xAxis.names,h=a&&a.shift||0,d=o.data,p=this.xData;if(T(i,u),n&&Vt([a,l,this.graphNeg,this.areaNeg],function(t){t&&(t.shift=h+1)}),l&&(l.isArea=!0),e=Ft(e,!0),i={series:this},this.pointClass.prototype.applyOptions.apply(i,[t]),a=i.x,l=p.length,this.requireSorting&&a<p[l-1])for(r=!0;l&&p[l-1]>a;)l--;this.updateParallelArrays(i,"splice",l,0,0),this.updateParallelArrays(i,l),c&&i.name&&(c[a]=i.name),d.splice(l,0,t),r&&(this.data.splice(l,0,null),this.processData()),"point"===o.legendType&&this.generatePoints(),n&&(s[0]&&s[0].remove?s[0].remove(!1):(s.shift(),this.updateParallelArrays(i,"shift"),d.shift())),delete this.kdTree,this.isDirtyData=this.isDirty=!0,e&&(this.getAttribs(),u.redraw())},removePoint:function(t,e,n){var i=this,r=i.data,o=r[t],s=i.points,a=i.chart,l=function(){r.length===s.length&&s.splice(t,1),r.splice(t,1),i.options.data.splice(t,1),i.updateParallelArrays(o||{series:i},"splice",t,1),o&&o.destroy(),delete i.kdTree,i.isDirty=!0,i.isDirtyData=!0,e&&a.redraw()};T(n,a),e=Ft(e,!0),o?o.firePointEvent("remove",null,l):l()},remove:function(t,e){var n=this,i=n.chart,t=Ft(t,!0);n.isRemoving||(n.isRemoving=!0,Qt(n,"remove",null,function(){n.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,i.linkSeries(),t&&i.redraw(e)})),n.isRemoving=!1},update:function(e,n){var i,r=this,o=this.chart,s=this.userOptions,a=this.type,l=$t[a].prototype,u=["group","markerGroup","dataLabelsGroup"];(e.type&&e.type!==a||void 0!==e.zIndex)&&(u.length=0),Vt(u,function(t){u[t]=r[t],delete r[t]}),e=t(s,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},e),this.remove(!1);for(i in l)this[i]=O;jt(this,$t[e.type||a].prototype),Vt(u,function(t){r[t]=u[t]}),this.init(o,e),o.linkSeries(),Ft(n,!0)&&o.redraw(!1)}}),jt(ce.prototype,{update:function(e,n){var i=this.chart,e=i.options[this.coll][this.options.index]=t(this.userOptions,e);this.destroy(!0),this._addedPlotLB=O,this.init(i,jt(e,{events:O})),i.isDirtyBox=!0,Ft(n,!0)&&i.redraw()},remove:function(t){for(var e=this.chart,n=this.coll,i=this.series,r=i.length;r--;)i[r]&&i[r].remove(!1);l(e.axes,this),l(e[n],this),e.options[n].splice(this.options.index,1),Vt(e[n],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,Ft(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}});var xe=f(we);$t.line=xe,ne.area=t(Bt,{threshold:0});var Ce=f(we,{type:"area",getSegments:function(){var t,e,n,i,r=this,o=[],s=[],a=[],l=this.xAxis,u=this.yAxis,c=u.stacks[this.stackKey],h={},d=this.points,p=this.options.connectNulls;if(this.options.stacking&&!this.cropped){for(n=0;n<d.length;n++)h[d[n].x]=d[n];for(i in c)null!==c[i].total&&a.push(+i);a.sort(function(t,e){return t-e}),Vt(a,function(i){var o,a=0;if(!p||h[i]&&null!==h[i].y)if(h[i])s.push(h[i]);else{for(n=r.index;n<=u.series.length;n++)if(o=c[i].points[n+","+i]){a=o[1];break}t=l.translate(i),e=u.toPixels(a,!0),s.push({y:null,plotX:t,clientX:t,plotY:e,yBottom:e,onMouseOver:At})}}),s.length&&o.push(s)}else we.prototype.getSegments.call(this),o=this.segments;this.segments=o},getSegmentPath:function(t){var e,n=we.prototype.getSegmentPath.call(this,t),i=[].concat(n),r=this.options;e=n.length;var o,s=this.yAxis.getThreshold(r.threshold);if(3===e&&i.push("L",n[1],n[2]),r.stacking&&!this.closedStacks)for(e=t.length-1;e>=0;e--)o=Ft(t[e].yBottom,s),e<t.length-1&&r.step&&i.push(t[e+1].plotX,o),i.push(t[e].plotX,o);else this.closeSegment(i,t,s);return this.areaPath=this.areaPath.concat(i),n},closeSegment:function(t,e,n){t.push("L",e[e.length-1].plotX,n,"L",e[0].plotX,n)},drawGraph:function(){this.areaPath=[],we.prototype.drawGraph.apply(this);var t=this,e=this.areaPath,n=this.options,i=[["area",this.color,n.fillColor]];Vt(this.zones,function(e,r){i.push(["colorArea"+r,e.color||t.color,e.fillColor||n.fillColor])}),Vt(i,function(i){var r=i[0],o=t[r];o?o.animate({d:e}):t[r]=t.chart.renderer.path(e).attr({fill:Ft(i[2],se(i[1]).setOpacity(Ft(n.fillOpacity,.75)).get()),zIndex:0}).add(t.group)})},drawLegendSymbol:le.drawRectangle});$t.area=Ce,ne.spline=t(Bt),xe=f(we,{type:"spline",getPointSpline:function(t,e,n){var i,r,o,s,a=e.plotX,l=e.plotY,u=t[n-1],c=t[n+1];if(u&&c){t=u.plotY,o=c.plotX;var h,c=c.plotY;i=(1.5*a+u.plotX)/2.5,r=(1.5*l+t)/2.5,o=(1.5*a+o)/2.5,s=(1.5*l+c)/2.5,h=(s-r)*(o-a)/(o-i)+l-s,r+=h,s+=h,r>t&&r>l?(r=ut(t,l),s=2*l-r):t>r&&l>r&&(r=ct(t,l),s=2*l-r),s>c&&s>l?(s=ut(c,l),r=2*l-s):c>s&&l>s&&(s=ct(c,l),r=2*l-s),e.rightContX=o,e.rightContY=s}return n?(e=["C",u.rightContX||u.plotX,u.rightContY||u.plotY,i||a,r||l,a,l],u.rightContX=u.rightContY=null):e=["M",a,l],e}}),$t.spline=xe,ne.areaspline=t(ne.area),Ce=Ce.prototype,xe=f(xe,{type:"areaspline",closedStacks:!0,getSegmentPath:Ce.getSegmentPath,closeSegment:Ce.closeSegment,drawGraph:Ce.drawGraph,drawLegendSymbol:le.drawRectangle}),$t.areaspline=xe,ne.column=t(Bt,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,tooltip:{distance:6},threshold:0}),xe=f(we,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){we.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&Vt(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e,n=this,i=n.options,r=n.xAxis,o=n.yAxis,s=r.reversed,a={},l=0;i.grouping===!1?l=1:Vt(n.chart.series,function(i){var r=i.options,s=i.yAxis;i.type===n.type&&i.visible&&o.len===s.len&&o.pos===s.pos&&(r.stacking?(t=i.stackKey,a[t]===O&&(a[t]=l++),e=a[t]):r.grouping!==!1&&(e=l++),i.columnIndex=e)});var r=ct(ht(r.transA)*(r.ordinalSlope||i.pointRange||r.closestPointRange||r.tickInterval||1),r.len),c=r*i.groupPadding,h=(r-2*c)/l,d=i.pointWidth,i=u(d)?(h-d)/2:h*i.pointPadding,d=Ft(d,h-2*i);return n.columnMetrics={width:d,offset:i+(c+((s?l-(n.columnIndex||0):n.columnIndex)||0)*h-r/2)*(s?-1:1)}},translate:function(){var t=this,e=t.chart,n=t.options,i=t.borderWidth=Ft(n.borderWidth,t.closestPointRange*t.xAxis.transA<2?0:1),r=t.yAxis,o=t.translatedThreshold=r.getThreshold(n.threshold),s=Ft(n.minPointLength,5),a=t.getColumnMetrics(),l=a.width,u=t.barW=ut(l,1+2*i),c=t.pointXOffset=a.offset,h=-(i%2?.5:0),d=i%2?.5:1;e.renderer.isVML&&e.inverted&&(d+=1),n.pointPadding&&(u=lt(u)),we.prototype.translate.apply(t),Vt(t.points,function(n){var i,a=Ft(n.yBottom,o),p=ct(ut(-999-a,n.plotY),r.len+999+a),f=n.plotX+c,g=u,m=ct(p,a);i=ut(p,a)-m,ht(i)<s&&s&&(i=s,m=st(ht(m-o)>s?a-s:o-(r.translate(n.y,0,1,0,1)<=o?s:0))),n.barX=f,n.pointWidth=l,n.tooltipPos=e.inverted?[r.len+r.pos-e.plotLeft-p,t.xAxis.len-f-g/2]:[f+g/2,p+r.pos-e.plotTop],g=st(f+g)+h,f=st(f)+h,g-=f,a=ht(m)<.5,i=ct(st(m+i)+d,9e4),m=st(m)+d,i-=m,a&&(m-=1,i+=1),n.shapeType="rect",n.shapeArgs={x:f,y:m,width:g,height:i}})},getSymbol:At,drawLegendSymbol:le.drawRectangle,drawGraph:At,drawPoints:function(){var e,n,i=this,r=this.chart,o=i.options,s=r.renderer,a=o.animationLimit||250;Vt(i.points,function(l){var c=l.plotY,h=l.graphic;c===O||isNaN(c)||null===l.y?h&&(l.graphic=h.destroy()):(e=l.shapeArgs,c=u(i.borderWidth)?{"stroke-width":i.borderWidth}:{},n=l.pointAttr[l.selected?"select":""]||i.pointAttr[""],h?(ee(h),h.attr(c)[r.pointCount<a?"animate":"attr"](t(e))):l.graphic=s[l.shapeType](e).attr(c).attr(n).add(i.group).shadow(o.shadow,null,o.stacking&&!o.borderRadius))})},animate:function(t){var e=this.yAxis,n=this.options,i=this.chart.inverted,r={};kt&&(t?(r.scaleY=.001,t=ct(e.pos+e.len,ut(e.pos,e.toPixels(n.threshold))),i?r.translateX=t-e.len:r.translateY=t,this.group.attr(r)):(r.scaleY=1,r[i?"translateX":"translateY"]=e.pos,this.group.animate(r,this.options.animation),this.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&Vt(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),we.prototype.remove.apply(t,arguments)}}),$t.column=xe,ne.bar=t(ne.column),Ce=f(xe,{type:"bar",inverted:!0}),$t.bar=Ce,ne.scatter=t(Bt,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{series.color}">\u25cf</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),Ce=f(we,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,kdComparer:"distR",drawGraph:function(){this.options.lineWidth&&we.prototype.drawGraph.call(this)}}),$t.scatter=Ce,ne.pie=t(Bt,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),Bt={type:"pie",isCartesian:!1,pointClass:f(be,{init:function(){be.prototype.init.apply(this,arguments);var t,e=this;return jt(e,{visible:e.visible!==!1,name:Ft(e.name,"Slice")}),t=function(t){e.slice("select"===t.type)},Kt(e,"select",t),Kt(e,"unselect",t),e},setVisible:function(t){var e=this,n=e.series,i=n.chart;e.visible=e.options.visible=t=t===O?!e.visible:t,n.options.data[Yt(e,n.data)]=e.options,Vt(["graphic","dataLabel","connector","shadowGroup"],function(n){e[n]&&e[n][t?"show":"hide"](!0)}),e.legendItem&&i.legend.colorizeItem(e,t),!n.isDirty&&n.options.ignoreHiddenPoint&&(n.isDirty=!0,i.redraw())},slice:function(t,e,n){var i=this.series;T(n,i.chart),Ft(e,!0),this.sliced=this.options.sliced=t=u(t)?t:!this.sliced,i.options.data[Yt(this,i.data)]=this.options,t=t?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(t),this.shadowGroup&&this.shadowGroup.animate(t)},haloPath:function(t){var e=this.shapeArgs,n=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(n.plotLeft+e.x,n.plotTop+e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r,start:e.start,end:e.end})}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:At,animate:function(t){var e=this,n=e.points,i=e.startAngleRad;t||(Vt(n,function(t){var n=t.graphic,t=t.shapeArgs;n&&(n.attr({r:e.center[3]/2,start:i,end:i}),n.animate({r:t.r,start:t.start,end:t.end},e.options.animation))}),e.animate=null)},setData:function(t,e,n,i){we.prototype.setData.call(this,t,!1,n,i),this.processData(),this.generatePoints(),Ft(e,!0)&&this.chart.redraw(n)},generatePoints:function(){var t,e,n,i,r=0,o=this.options.ignoreHiddenPoint;for(we.prototype.generatePoints.call(this),e=this.points,n=e.length,t=0;n>t;t++)i=e[t],i.y<0&&(i.y=null),r+=o&&!i.visible?0:i.y;for(this.total=r,t=0;n>t;t++)i=e[t],i.percentage=r>0?i.y/r*100:0,i.total=r},translate:function(t){this.generatePoints();var e,n,i,r,o,s=0,a=this.options,l=a.slicedOffset,u=l+a.borderWidth,c=a.startAngle||0,h=this.startAngleRad=ft/180*(c-90),c=(this.endAngleRad=ft/180*(Ft(a.endAngle,c+360)-90))-h,d=this.points,p=a.dataLabels.distance,a=a.ignoreHiddenPoint,f=d.length;for(t||(this.center=t=this.getCenter()),this.getX=function(e,n){return i=ot.asin(ct((e-t[1])/(t[2]/2+p),1)),t[0]+(n?-1:1)*dt(i)*(t[2]/2+p)},r=0;f>r;r++)o=d[r],e=h+s*c,(!a||o.visible)&&(s+=o.percentage/100),n=h+s*c,o.shapeType="arc",o.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:st(1e3*e)/1e3,end:st(1e3*n)/1e3},i=(n+e)/2,i>1.5*ft?i-=2*ft:-ft/2>i&&(i+=2*ft),o.slicedTranslation={translateX:st(dt(i)*l),translateY:st(pt(i)*l)},e=dt(i)*t[2]/2,n=pt(i)*t[2]/2,o.tooltipPos=[t[0]+.7*e,t[1]+.7*n],o.half=-ft/2>i||i>ft/2?1:0,o.angle=i,u=ct(u,p/2),o.labelPos=[t[0]+e+dt(i)*p,t[1]+n+pt(i)*p,t[0]+e+dt(i)*u,t[1]+n+pt(i)*u,t[0]+e,t[1]+n,0>p?"center":o.half?"right":"left",i]},drawGraph:null,drawPoints:function(){var t,e,n,i,r=this,o=r.chart.renderer,s=r.options.shadow;s&&!r.shadowGroup&&(r.shadowGroup=o.g("shadow").add(r.group)),Vt(r.points,function(a){e=a.graphic,i=a.shapeArgs,n=a.shadowGroup,s&&!n&&(n=a.shadowGroup=o.g("shadow").add(r.shadowGroup)),t=a.sliced?a.slicedTranslation:{translateX:0,translateY:0},n&&n.attr(t),e?e.animate(jt(i,t)):a.graphic=e=o[a.shapeType](i).setRadialReference(r.center).attr(a.pointAttr[a.selected?"select":""]).attr({"stroke-linejoin":"round"}).attr(t).add(r.group).shadow(s,n),void 0!==a.visible&&a.setVisible(a.visible)})},searchPoint:At,sortByAngle:function(t,e){t.sort(function(t,n){return void 0!==t.angle&&(n.angle-t.angle)*e})},drawLegendSymbol:le.drawRectangle,getCenter:_e.getCenter,getSymbol:At},Bt=f(we,Bt),$t.pie=Bt,we.prototype.drawDataLabels=function(){var e,n,i,r,o=this,s=o.options,a=s.cursor,l=s.dataLabels,c=o.points,h=o.hasRendered||0,d=o.chart.renderer;(l.enabled||o._hasPointLabels)&&(o.dlProcessOptions&&o.dlProcessOptions(l),r=o.plotGroup("dataLabelsGroup","data-labels",l.defer?"hidden":"visible",l.zIndex||6),Ft(l.defer,!0)&&(r.attr({opacity:+h}),h||Kt(o,"afterAnimate",function(){o.visible&&r.show(),r[s.animation?"animate":"attr"]({opacity:1},{duration:200})})),n=l,Vt(c,function(c){var h,p,f,g,m=c.dataLabel,y=c.connector,_=!0,b={};if(e=c.dlOptions||c.options&&c.options.dataLabels,h=Ft(e&&e.enabled,n.enabled),m&&!h)c.dataLabel=m.destroy();else if(h){if(l=t(n,e),g=l.style,h=l.rotation,p=c.getLabelConfig(),i=l.format?v(l.format,p):l.formatter.call(p,l),g.color=Ft(l.color,g.color,o.color,"black"),m)u(i)?(m.attr({text:i}),_=!1):(c.dataLabel=m=m.destroy(),y&&(c.connector=y.destroy()));else if(u(i)){m={fill:l.backgroundColor,stroke:l.borderColor,"stroke-width":l.borderWidth,r:l.borderRadius||0,rotation:h,padding:l.padding,zIndex:1},"contrast"===g.color&&(b.color=l.inside||l.distance<0||s.stacking?d.getContrast(c.color||o.color):"#000000"),a&&(b.cursor=a);for(f in m)m[f]===O&&delete m[f];m=c.dataLabel=d[h?"text":"label"](i,0,-999,null,null,null,l.useHTML).attr(m).css(jt(g,b)).add(r).shadow(l.shadow)}m&&o.alignDataLabel(c,m,l,null,_)}}))},we.prototype.alignDataLabel=function(t,e,n,i,r){var o=this.chart,s=o.inverted,a=Ft(t.plotX,-999),l=Ft(t.plotY,-999),u=e.getBBox(),c=o.renderer.fontMetrics(n.style.fontSize).b;(t=this.visible&&(t.series.forceDL||o.isInsidePlot(a,st(l),s)||i&&o.isInsidePlot(a,s?i.x+1:i.y+i.height-1,s)))&&(i=jt({x:s?o.plotWidth-l:a,y:st(s?o.plotHeight-a:l),width:0,height:0},i),jt(n,{width:u.width,height:u.height}),n.rotation?(o=o.renderer.rotCorr(c,n.rotation),e[r?"attr":"animate"]({x:i.x+n.x+i.width/2+o.x,y:i.y+n.y+i.height/2}).attr({align:n.align})):(e.align(n,null,i),s=e.alignAttr,"justify"===Ft(n.overflow,"justify")?this.justifyDataLabel(e,n,s,u,i,r):Ft(n.crop,!0)&&(t=o.isInsidePlot(s.x,s.y)&&o.isInsidePlot(s.x+u.width,s.y+u.height)))),t||(e.attr({y:-999}),e.placed=!1)},we.prototype.justifyDataLabel=function(t,e,n,i,r,o){var s,a,l=this.chart,u=e.align,c=e.verticalAlign,h=t.box?0:t.padding||0;s=n.x+h,0>s&&("right"===u?e.align="left":e.x=-s,a=!0),s=n.x+i.width-h,s>l.plotWidth&&("left"===u?e.align="right":e.x=l.plotWidth-s,a=!0),s=n.y+h,0>s&&("bottom"===c?e.verticalAlign="top":e.y=-s,a=!0),s=n.y+i.height-h,s>l.plotHeight&&("top"===c?e.verticalAlign="bottom":e.y=l.plotHeight-s,a=!0),a&&(t.placed=!o,t.align(e,null,r))},$t.pie&&($t.pie.prototype.drawDataLabels=function(){var t,e,n,i,r,o,s,a,l,u,c,h=this,d=h.data,p=h.chart,f=h.options.dataLabels,g=Ft(f.connectorPadding,10),m=Ft(f.connectorWidth,1),v=p.plotWidth,y=p.plotHeight,_=Ft(f.softConnector,!0),b=f.distance,w=h.center,C=w[2]/2,k=w[1],S=b>0,E=[[],[]],T=[0,0,0,0],D=function(t,e){return e.y-t.y};if(h.visible&&(f.enabled||h._hasPointLabels)){for(we.prototype.drawDataLabels.apply(h),Vt(d,function(t){t.dataLabel&&t.visible&&E[t.half].push(t)}),u=2;u--;){var A,P=[],M=[],O=E[u],I=O.length;if(I){for(h.sortByAngle(O,u-.5),c=d=0;!d&&O[c];)d=O[c]&&O[c].dataLabel&&(O[c].dataLabel.getBBox().height||21),c++;if(b>0){for(r=ct(k+C+b,p.plotHeight),c=ut(0,k-C-b);r>=c;c+=d)P.push(c);if(r=P.length,I>r){for(t=[].concat(O),t.sort(D),c=I;c--;)t[c].rank=c;for(c=I;c--;)O[c].rank>=r&&O.splice(c,1);I=O.length}for(c=0;I>c;c++){t=O[c],o=t.labelPos,t=9999;var R,N;for(N=0;r>N;N++)R=ht(P[N]-o[1]),t>R&&(t=R,A=N);if(c>A&&null!==P[c])A=c;else for(I-c+A>r&&null!==P[c]&&(A=r-I+c);null===P[A];)A++;M.push({i:A,y:P[A]}),P[A]=null}M.sort(D)}for(c=0;I>c;c++)t=O[c],o=t.labelPos,i=t.dataLabel,l=t.visible===!1?"hidden":"visible",t=o[1],b>0?(r=M.pop(),A=r.i,a=r.y,(t>a&&null!==P[A+1]||a>t&&null!==P[A-1])&&(a=ct(ut(0,t),p.plotHeight))):a=t,s=f.justify?w[0]+(u?-1:1)*(C+b):h.getX(a===k-C-b||a===k+C+b?t:a,u),i._attr={visibility:l,align:o[6]},i._pos={x:s+f.x+({left:g,right:-g}[o[6]]||0),y:a+f.y-10},i.connX=s,i.connY=a,null===this.options.size&&(r=i.width,g>s-r?T[3]=ut(st(r-s+g),T[3]):s+r>v-g&&(T[1]=ut(st(s+r-v+g),T[1])),0>a-d/2?T[0]=ut(st(-a+d/2),T[0]):a+d/2>y&&(T[2]=ut(st(a+d/2-y),T[2])))}}(0===x(T)||this.verifyDataLabelOverflow(T))&&(this.placeDataLabels(),S&&m&&Vt(this.points,function(t){e=t.connector,o=t.labelPos,(i=t.dataLabel)&&i._pos?(l=i._attr.visibility,s=i.connX,a=i.connY,n=_?["M",s+("left"===o[6]?5:-5),a,"C",s,a,2*o[2]-o[4],2*o[3]-o[5],o[2],o[3],"L",o[4],o[5]]:["M",s+("left"===o[6]?5:-5),a,"L",o[2],o[3],"L",o[4],o[5]],e?(e.animate({d:n}),e.attr("visibility",l)):t.connector=e=h.chart.renderer.path(n).attr({"stroke-width":m,stroke:f.connectorColor||t.color||"#606060",visibility:l}).add(h.dataLabelsGroup)):e&&(t.connector=e.destroy())}))}},$t.pie.prototype.placeDataLabels=function(){Vt(this.points,function(t){var e,t=t.dataLabel;t&&((e=t._pos)?(t.attr(t._attr),t[t.moved?"animate":"attr"](e),t.moved=!0):t&&t.attr({y:-999}))})},$t.pie.prototype.alignDataLabel=At,$t.pie.prototype.verifyDataLabelOverflow=function(t){var e,n=this.center,i=this.options,r=i.center,o=i=i.minSize||80;return null!==r[0]?o=ut(n[2]-ut(t[1],t[3]),i):(o=ut(n[2]-t[1]-t[3],i),n[0]+=(t[3]-t[1])/2),null!==r[1]?o=ut(ct(o,n[2]-ut(t[0],t[2])),i):(o=ut(ct(o,n[2]-t[0]-t[2]),i),n[1]+=(t[0]-t[2])/2),o<n[2]?(n[2]=o,this.translate(n),Vt(this.points,function(t){t.dataLabel&&(t.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):e=!0,e}),$t.column&&($t.column.prototype.alignDataLabel=function(e,n,i,r,o){var s=this.chart.inverted,a=e.series,l=e.dlBox||e.shapeArgs,u=e.below||e.plotY>Ft(this.translatedThreshold,a.yAxis.len),c=Ft(i.inside,!!this.options.stacking);l&&(r=t(l),s&&(r={x:a.yAxis.len-r.y-r.height,y:a.xAxis.len-r.x-r.width,width:r.height,height:r.width}),!c)&&(s?(r.x+=u?0:r.width,r.width=0):(r.y+=u?r.height:0,r.height=0)),i.align=Ft(i.align,!s||c?"center":u?"right":"left"),i.verticalAlign=Ft(i.verticalAlign,s||c?"middle":u?"top":"bottom"),we.prototype.alignDataLabel.call(this,e,n,i,r,o)}),function(t){var e=t.Chart,n=t.each,i=HighchartsAdapter.addEvent;e.prototype.callbacks.push(function(t){function e(){var e=[];n(t.series,function(t){var i=t.options.dataLabels;(i.enabled||t._hasPointLabels)&&!i.allowOverlap&&n(t.points,function(t){t.dataLabel&&(t.dataLabel.labelrank=t.labelrank,e.push(t.dataLabel))})}),t.hideOverlappingLabels(e)}e(),i(t,"redraw",e)}),e.prototype.hideOverlappingLabels=function(t){var e,n,i,r,o=t.length;for(n=0;o>n;n++)(e=t[n])&&(e.oldOpacity=e.opacity,e.newOpacity=1);for(n=0;o>n;n++)for(i=t[n],e=n+1;o>e;++e)r=t[e],i&&r&&i.placed&&r.placed&&0!==i.newOpacity&&0!==r.newOpacity&&!(r.alignAttr.x>i.alignAttr.x+i.width||r.alignAttr.x+r.width<i.alignAttr.x||r.alignAttr.y>i.alignAttr.y+i.height||r.alignAttr.y+r.height<i.alignAttr.y)&&((i.labelrank<r.labelrank?i:r).newOpacity=0);for(n=0;o>n;n++)(e=t[n])&&(e.oldOpacity!==e.newOpacity&&e.placed&&(e.alignAttr.opacity=e.newOpacity,e[e.isOld&&e.newOpacity?"animate":"attr"](e.alignAttr)),e.isOld=!0)}}(nt),Bt=nt.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart,n=e.pointer,i=t.options.cursor,r=i&&{cursor:i},o=function(n){var i,r=n.target;for(e.hoverSeries!==t&&t.onMouseOver();r&&!i;)i=r.point,r=r.parentNode;i!==O&&i!==e.hoverPoint&&i.onMouseOver(n)};Vt(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.element.point=t)}),t._hasTracking||(Vt(t.trackerGroups,function(e){t[e]&&(t[e].addClass("highcharts-tracker").on("mouseover",o).on("mouseout",function(t){n.onTrackerMouseOut(t)}).css(r),R)&&t[e].on("touchstart",o)}),t._hasTracking=!0)},drawTrackerGraph:function(){var t,e=this,n=e.options,i=n.trackByArea,r=[].concat(i?e.areaPath:e.graphPath),o=r.length,s=e.chart,a=s.pointer,l=s.renderer,u=s.options.tooltip.snap,c=e.tracker,h=n.cursor,d=h&&{cursor:h},h=e.singlePoints,p=function(){s.hoverSeries!==e&&e.onMouseOver()},f="rgba(192,192,192,"+(kt?1e-4:.002)+")";if(o&&!i)for(t=o+1;t--;)"M"===r[t]&&r.splice(t+1,0,r[t+1]-u,r[t+2],"L"),(t&&"M"===r[t]||t===o)&&r.splice(t,0,"L",r[t-2]+u,r[t-1]);for(t=0;t<h.length;t++)o=h[t],r.push("M",o.plotX-u,o.plotY,"L",o.plotX+u,o.plotY);c?c.attr({d:r}):(e.tracker=l.path(r).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:f,fill:i?f:It,"stroke-width":n.lineWidth+(i?0:2*u),zIndex:2}).add(e.group),Vt([e.tracker,e.markerGroup],function(t){t.addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(t){a.onTrackerMouseOut(t)}).css(d),R&&t.on("touchstart",p)}))}},$t.column&&(xe.prototype.drawTracker=Bt.drawTrackerPoint),$t.pie&&($t.pie.prototype.drawTracker=Bt.drawTrackerPoint),$t.scatter&&(Ce.prototype.drawTracker=Bt.drawTrackerPoint),jt(ye.prototype,{setItemEvents:function(t,e,n,i,r){var o=this;(n?e:t.legendGroup).on("mouseover",function(){t.setState("hover"),e.css(o.options.itemHoverStyle)}).on("mouseout",function(){e.css(t.visible?i:r),t.setState()}).on("click",function(e){var n=function(){t.setVisible()},e={browserEvent:e};t.firePointEvent?t.firePointEvent("legendItemClick",e,n):Qt(t,"legendItemClick",e,n)})},createCheckboxForItem:function(t){t.checkbox=p("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),Kt(t.checkbox,"click",function(e){Qt(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},function(){t.select()})})}}),L.legend.itemStyle.cursor="pointer",jt(Ht.prototype,{showResetZoom:function(){var t=this,e=L.lang,n=t.options.chart.resetZoomButton,i=n.theme,r=i.states,o="chart"===n.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},i,r&&r.hover).attr({align:n.position.align,title:e.resetZoomTitle}).add().align(n.position,!1,o)},zoomOut:function(){var t=this;Qt(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,n,r=this.pointer,o=!1;!t||t.resetSelection?Vt(this.axes,function(t){e=t.zoom()}):Vt(t.xAxis.concat(t.yAxis),function(t){var n=t.axis,i=n.isXAxis;(r[i?"zoomX":"zoomY"]||r[i?"pinchX":"pinchY"])&&(e=n.zoom(t.min,t.max),n.displayBtn&&(o=!0))}),n=this.resetZoomButton,o&&!n?this.showResetZoom():!o&&i(n)&&(this.resetZoomButton=n.destroy()),e&&this.redraw(Ft(this.options.chart.animation,t&&t.animation,this.pointCount<100))},pan:function(t,e){var n,i=this,r=i.hoverPoints;r&&Vt(r,function(t){t.setState()}),Vt("xy"===e?[1,0]:[1],function(e){var r=t[e?"chartX":"chartY"],o=i[e?"xAxis":"yAxis"][0],s=i[e?"mouseDownX":"mouseDownY"],a=(o.pointRange||0)/2,l=o.getExtremes(),u=o.toValue(s-r,!0)+a,a=o.toValue(s+i[e?"plotWidth":"plotHeight"]-r,!0)-a,s=s>r;o.series.length&&(s||u>ct(l.dataMin,l.min))&&(!s||a<ut(l.dataMax,l.max))&&(o.setExtremes(u,a,!1,!1,{trigger:"pan"}),n=!0),i[e?"mouseDownX":"mouseDownY"]=r}),n&&i.redraw(!1),d(i.container,{cursor:"move"})}}),jt(be.prototype,{select:function(t,e){
var n=this,i=n.series,r=i.chart,t=Ft(t,!n.selected);n.firePointEvent(t?"select":"unselect",{accumulate:e},function(){n.selected=n.options.selected=t,i.options.data[Yt(n,i.data)]=n.options,n.setState(t&&"select"),e||Vt(r.getSelectedPoints(),function(t){t.selected&&t!==n&&(t.selected=t.options.selected=!1,i.options.data[Yt(t,i.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(t){var e=this.series,n=e.chart,i=n.tooltip,r=n.hoverPoint;r&&r!==this&&r.onMouseOut(),this.firePointEvent("mouseOver"),i&&(!i.shared||e.noSharedTooltip)&&i.refresh(this,t),this.setState("hover"),n.hoverPoint=this},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;this.firePointEvent("mouseOut"),e&&-1!==Yt(this,e)||(this.setState(),t.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var e,n=t(this.series.options.point,this.options).events;this.events=n;for(e in n)Kt(this,e,n[e]);this.hasImportedEvents=!0}},setState:function(e,n){var i,r=this.plotX,o=this.plotY,s=this.series,a=s.options.states,l=ne[s.type].marker&&s.options.marker,u=l&&!l.enabled,c=l&&l.states[e],h=c&&c.enabled===!1,d=s.stateMarkerGraphic,p=this.marker||{},f=s.chart,g=s.halo,e=e||"";i=this.pointAttr[e]||s.pointAttr[e],e===this.state&&!n||this.selected&&"select"!==e||a[e]&&a[e].enabled===!1||e&&(h||u&&c.enabled===!1)||e&&p.states&&p.states[e]&&p.states[e].enabled===!1||(this.graphic?(l=l&&this.graphic.symbolName&&i.r,this.graphic.attr(t(i,l?{x:r-l,y:o-l,width:2*l,height:2*l}:{})),d&&d.hide()):(e&&c&&(l=c.radius,p=p.symbol||s.symbol,d&&d.currentSymbol!==p&&(d=d.destroy()),d?d[n?"animate":"attr"]({x:r-l,y:o-l}):p&&(s.stateMarkerGraphic=d=f.renderer.symbol(p,r-l,o-l,2*l,2*l).attr(i).add(s.markerGroup),d.currentSymbol=p)),d&&d[e&&f.isInsidePlot(r,o,f.inverted)?"show":"hide"]()),(r=a[e]&&a[e].halo)&&r.size?(g||(s.halo=g=f.renderer.path().add(f.seriesGroup)),g.attr(jt({fill:se(this.color||s.color).setOpacity(r.opacity).get()},r.attributes))[n?"animate":"attr"]({d:this.haloPath(r.size)})):g&&g.attr({d:[]}),this.state=e)},haloPath:function(t){var e=this.series,n=e.chart,i=e.getPlotBox(),r=n.inverted;return n.renderer.symbols.circle(i.translateX+(r?e.yAxis.len-this.plotY:this.plotX)-t,i.translateY+(r?e.xAxis.len-this.plotX:this.plotY)-t,2*t,2*t)}}),jt(we.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&Qt(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,n=e.tooltip,i=e.hoverPoint;i&&i.onMouseOut(),this&&t.events.mouseOut&&Qt(this,"mouseOut"),n&&!t.stickyTracking&&(!n.shared||this.noSharedTooltip)&&n.hide(),this.setState(),e.hoverSeries=null},setState:function(t){var e=this.options,n=this.graph,i=this.graphNeg,r=e.states,e=e.lineWidth,t=t||"";this.state!==t&&(this.state=t,r[t]&&r[t].enabled===!1||(t&&(e=(r[t].lineWidth||e)+(r[t].lineWidthPlus||0)),n&&!n.dashstyle&&(t={"stroke-width":e},n.attr(t),i&&i.attr(t))))},setVisible:function(t,e){var n,i=this,r=i.chart,o=i.legendItem,s=r.options.chart.ignoreHiddenSeries,a=i.visible;n=(i.visible=t=i.userOptions.visible=t===O?!a:t)?"show":"hide",Vt(["group","dataLabelsGroup","markerGroup","tracker"],function(t){i[t]&&i[t][n]()}),r.hoverSeries===i&&i.onMouseOut(),o&&r.legend.colorizeItem(i,t),i.isDirty=!0,i.options.stacking&&Vt(r.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),Vt(i.linkedSeries,function(e){e.setVisible(t,!1)}),s&&(r.isDirtyBox=!0),e!==!1&&r.redraw(),Qt(i,n)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=t===O?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),Qt(this,t?"select":"unselect")},drawTracker:Bt.drawTrackerGraph}),jt(nt,{Color:se,Point:be,Tick:P,Renderer:I,SVGElement:A,SVGRenderer:ae,arrayMin:w,arrayMax:x,charts:Pt,dateFormat:$,error:S,format:v,pathAnim:F,getOptions:function(){return L},hasBidiBug:St,isTouchDevice:xt,setOptions:function(e){return L=t(!0,L,e),D(),L},addEvent:Kt,removeEvent:Zt,createElement:p,discardElement:k,css:d,each:Vt,map:Xt,merge:t,splat:h,extendClass:f,pInt:e,svg:kt,canvas:Et,vml:!kt&&!Et,product:"Highcharts",version:"4.1.1"})}(),function(t,e){function n(t,e,n){this.init.call(this,t,e,n)}var i=t.arrayMin,r=t.arrayMax,o=t.each,s=t.extend,a=t.merge,l=t.map,u=t.pick,c=t.pInt,h=t.getOptions().plotOptions,d=t.seriesTypes,p=t.extendClass,f=t.splat,g=t.wrap,m=t.Axis,v=t.Tick,y=t.Point,_=t.Pointer,b=t.CenteredSeriesMixin,w=t.TrackerMixin,x=t.Series,C=Math,k=C.round,S=C.floor,E=C.max,T=t.Color,D=function(){};s(n.prototype,{init:function(t,e,n){var i=this,r=i.defaultOptions;i.chart=e,e.angular&&(r.background={}),i.options=t=a(r,t),(t=t.background)&&o([].concat(f(t)).reverse(),function(t){var e=t.backgroundColor,r=n.userOptions,t=a(i.defaultBackgroundOptions,t);e&&(t.backgroundColor=e),t.color=t.backgroundColor,n.options.plotBands.unshift(t),r.plotBands=r.plotBands||[],r.plotBands.unshift(t)})},defaultOptions:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"silver",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#DDD"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}});var A=m.prototype,v=v.prototype,P={getOffset:D,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:D,setCategories:D,setTitle:D},M={isRadial:!0,defaultRadialGaugeOptions:{labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:"circle",labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(t){t=this.options=a(this.defaultOptions,this.defaultRadialOptions,t),t.plotBands||(t.plotBands=[])},getOffset:function(){A.getOffset.call(this),this.chart.axisOffset[this.side]=0,this.center=this.pane.center=b.getCenter.call(this.pane)},getLinePath:function(t,e){var n=this.center,e=u(e,n[2]/2-this.offset);return this.chart.renderer.symbols.arc(this.left+n[0],this.top+n[1],e,e,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})},setAxisTranslation:function(){A.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.center[2]/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)},beforeSetTickPositions:function(){this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)},setAxisSize:function(){A.setAxisSize.call(this),this.isRadial&&(this.center=this.pane.center=t.CenteredSeriesMixin.getCenter.call(this.pane),this.isCircular&&(this.sector=this.endAngleRad-this.startAngleRad),this.len=this.width=this.height=this.center[2]*u(this.sector,1)/2)},getPosition:function(t,e){return this.postTranslate(this.isCircular?this.translate(t):0,u(this.isCircular?e:this.translate(t),this.center[2]/2)-this.offset)},postTranslate:function(t,e){var n=this.chart,i=this.center,t=this.startAngleRad+t;return{x:n.plotLeft+i[0]+Math.cos(t)*e,y:n.plotTop+i[1]+Math.sin(t)*e}},getPlotBandPath:function(t,e,n){var i,r=this.center,o=this.startAngleRad,s=r[2]/2,a=[u(n.outerRadius,"100%"),n.innerRadius,u(n.thickness,10)],h=/%$/,d=this.isCircular;return"polygon"===this.options.gridLineInterpolation?r=this.getPlotLinePath(t).concat(this.getPlotLinePath(e,!0)):(t=Math.max(t,this.min),e=Math.min(e,this.max),d||(a[0]=this.translate(t),a[1]=this.translate(e)),a=l(a,function(t){return h.test(t)&&(t=c(t,10)*s/100),t}),"circle"!==n.shape&&d?(t=o+this.translate(t),e=o+this.translate(e)):(t=-Math.PI/2,e=1.5*Math.PI,i=!0),r=this.chart.renderer.symbols.arc(this.left+r[0],this.top+r[1],a[0],a[0],{start:Math.min(t,e),end:Math.max(t,e),innerR:u(a[1],a[0]-a[2]),open:i})),r},getPlotLinePath:function(t,e){var n,i,r,s=this,a=s.center,l=s.chart,u=s.getPosition(t);return s.isCircular?r=["M",a[0]+l.plotLeft,a[1]+l.plotTop,"L",u.x,u.y]:"circle"===s.options.gridLineInterpolation?(t=s.translate(t))&&(r=s.getLinePath(0,t)):(o(l.xAxis,function(t){t.pane===s.pane&&(n=t)}),r=[],t=s.translate(t),a=n.tickPositions,n.autoConnect&&(a=a.concat([a[0]])),e&&(a=[].concat(a).reverse()),o(a,function(e,o){i=n.getPosition(e,t),r.push(o?"L":"M",i.x,i.y)})),r},getTitlePosition:function(){var t=this.center,e=this.chart,n=this.options.title;return{x:e.plotLeft+t[0]+(n.x||0),y:e.plotTop+t[1]-{high:.5,middle:.25,low:0}[n.align]*t[2]+(n.y||0)}}};g(A,"init",function(t,i,r){var o,l,c,h=i.angular,d=i.polar,p=r.isX,g=h&&p;c=i.options;var m=r.pane||0;h?(s(this,g?P:M),(l=!p)&&(this.defaultRadialOptions=this.defaultRadialGaugeOptions)):d&&(s(this,M),this.defaultRadialOptions=(l=p)?this.defaultRadialXOptions:a(this.defaultYAxisOptions,this.defaultRadialYOptions)),t.call(this,i,r),g||!h&&!d||(t=this.options,i.panes||(i.panes=[]),this.pane=(o=i.panes[m]=i.panes[m]||new n(f(c.pane)[m],i,this),m=o),m=m.options,i.inverted=!1,c.chart.zoomType=null,this.startAngleRad=i=(m.startAngle-90)*Math.PI/180,this.endAngleRad=c=(u(m.endAngle,m.startAngle+360)-90)*Math.PI/180,this.offset=t.offset||0,(this.isCircular=l)&&r.max===e&&c-i===2*Math.PI&&(this.autoConnect=!0))}),g(v,"getPosition",function(t,e,n,i,r){var o=this.axis;return o.getPosition?o.getPosition(n):t.call(this,e,n,i,r)}),g(v,"getLabelPosition",function(t,e,n,i,r,o,s,a,l){var c=this.axis,h=o.y,d=20,p=o.align,f=(c.translate(this.pos)+c.startAngleRad+Math.PI/2)/Math.PI*180%360;return c.isRadial?(t=c.getPosition(this.pos,c.center[2]/2+u(o.distance,-25)),"auto"===o.rotation?i.attr({rotation:f}):null===h&&(h=c.chart.renderer.fontMetrics(i.styles.fontSize).b-i.getBBox().height/2),null===p&&(c.isCircular?(this.label.getBBox().width>c.len*c.tickInterval/(c.max-c.min)&&(d=0),p=f>d&&180-d>f?"left":f>180+d&&360-d>f?"right":"center"):p="center",i.attr({align:p})),t.x+=o.x,t.y+=h):t=t.call(this,e,n,i,r,o,s,a,l),t}),g(v,"getMarkPath",function(t,e,n,i,r,o,s){var a=this.axis;return a.isRadial?(t=a.getPosition(this.pos,a.center[2]/2+i),e=["M",e,n,"L",t.x,t.y]):e=t.call(this,e,n,i,r,o,s),e}),h.arearange=a(h.area,{lineWidth:1,marker:null,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:null,verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},states:{hover:{halo:!1}}}),d.arearange=p(d.area,{type:"arearange",pointArrayMap:["low","high"],toYData:function(t){return[t.low,t.high]},pointValKey:"low",deferTranslatePolar:!0,highToXY:function(t){var e=this.chart,n=this.xAxis.postTranslate(t.rectPlotX,this.yAxis.len-t.plotHigh);t.plotHighX=n.x-e.plotLeft,t.plotHigh=n.y-e.plotTop},getSegments:function(){var t=this;o(t.points,function(e){t.options.connectNulls||null!==e.low&&null!==e.high?null===e.low&&null!==e.high&&(e.y=e.high):e.y=null}),x.prototype.getSegments.call(this)},translate:function(){var t=this,e=t.yAxis;d.area.prototype.translate.apply(t),o(t.points,function(t){var n=t.low,i=t.high,r=t.plotY;null===i&&null===n?t.y=null:null===n?(t.plotLow=t.plotY=null,t.plotHigh=e.translate(i,0,1,0,1)):null===i?(t.plotLow=r,t.plotHigh=null):(t.plotLow=r,t.plotHigh=e.translate(i,0,1,0,1))}),this.chart.polar&&o(this.points,function(e){t.highToXY(e)})},getSegmentPath:function(t){var e,n,i,r=[],o=t.length,s=x.prototype.getSegmentPath;i=this.options;var a=i.step;for(e=HighchartsAdapter.grep(t,function(t){return null!==t.plotLow});o--;)n=t[o],null!==n.plotHigh&&r.push({plotX:n.plotHighX||n.plotX,plotY:n.plotHigh});return t=s.call(this,e),a&&(a===!0&&(a="left"),i.step={left:"right",center:"center",right:"left"}[a]),r=s.call(this,r),i.step=a,i=[].concat(t,r),this.chart.polar||(r[0]="L"),this.areaPath=this.areaPath.concat(t,r),i},drawDataLabels:function(){var t,e,n=this.data,i=n.length,r=[],o=x.prototype,s=this.options.dataLabels,a=s.align,l=this.chart.inverted;if(s.enabled||this._hasPointLabels){for(t=i;t--;)e=n[t],e.y=e.high,e._plotY=e.plotY,e.plotY=e.plotHigh,r[t]=e.dataLabel,e.dataLabel=e.dataLabelUpper,e.below=!1,l?(a||(s.align="left"),s.x=s.xHigh):s.y=s.yHigh;for(o.drawDataLabels&&o.drawDataLabels.apply(this,arguments),t=i;t--;)e=n[t],e.dataLabelUpper=e.dataLabel,e.dataLabel=r[t],e.y=e.low,e.plotY=e._plotY,e.below=!0,l?(a||(s.align="right"),s.x=s.xLow):s.y=s.yLow;o.drawDataLabels&&o.drawDataLabels.apply(this,arguments)}s.align=a},alignDataLabel:function(){d.column.prototype.alignDataLabel.apply(this,arguments)},setStackedPoints:D,getSymbol:D,drawPoints:D}),h.areasplinerange=a(h.arearange),d.areasplinerange=p(d.arearange,{type:"areasplinerange",getPointSpline:d.spline.prototype.getPointSpline}),function(){var t=d.column.prototype;h.columnrange=a(h.column,h.arearange,{lineWidth:1,pointRange:null}),d.columnrange=p(d.arearange,{type:"columnrange",translate:function(){var e,n=this,i=n.yAxis;t.translate.apply(n),o(n.points,function(t){var r,o=t.shapeArgs,s=n.options.minPointLength;t.tooltipPos=null,t.plotHigh=e=i.translate(t.high,0,1,0,1),t.plotLow=t.plotY,r=e,t=t.plotY-e,s>t&&(s-=t,t+=s,r-=s/2),o.height=t,o.y=r})},trackerGroups:["group","dataLabelsGroup"],drawGraph:D,pointAttrToOptions:t.pointAttrToOptions,drawPoints:t.drawPoints,drawTracker:t.drawTracker,animate:t.animate,getColumnMetrics:t.getColumnMetrics})}(),h.gauge=a(h.line,{dataLabels:{enabled:!0,defer:!1,y:15,borderWidth:1,borderColor:"silver",borderRadius:3,crop:!1,verticalAlign:"top",zIndex:2},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1}),w={type:"gauge",pointClass:p(y,{setState:function(t){this.state=t}}),angular:!0,drawGraph:D,fixedBox:!0,forceDL:!0,trackerGroups:["group","dataLabelsGroup"],translate:function(){var t=this.yAxis,e=this.options,n=t.center;this.generatePoints(),o(this.points,function(i){var r=a(e.dial,i.dial),o=c(u(r.radius,80))*n[2]/200,s=c(u(r.baseLength,70))*o/100,l=c(u(r.rearLength,10))*o/100,h=r.baseWidth||3,d=r.topWidth||1,p=e.overshoot,f=t.startAngleRad+t.translate(i.y,null,null,null,!0);p&&"number"==typeof p?(p=p/180*Math.PI,f=Math.max(t.startAngleRad-p,Math.min(t.endAngleRad+p,f))):e.wrap===!1&&(f=Math.max(t.startAngleRad,Math.min(t.endAngleRad,f))),f=180*f/Math.PI,i.shapeType="path",i.shapeArgs={d:r.path||["M",-l,-h/2,"L",s,-h/2,o,-d/2,o,d/2,s,h/2,-l,h/2,"z"],translateX:n[0],translateY:n[1],rotation:f},i.plotX=n[0],i.plotY=n[1]})},drawPoints:function(){var t=this,e=t.yAxis.center,n=t.pivot,i=t.options,r=i.pivot,s=t.chart.renderer;o(t.points,function(e){var n=e.graphic,r=e.shapeArgs,o=r.d,l=a(i.dial,e.dial);n?(n.animate(r),r.d=o):e.graphic=s[e.shapeType](r).attr({stroke:l.borderColor||"none","stroke-width":l.borderWidth||0,fill:l.backgroundColor||"black",rotation:r.rotation}).add(t.group)}),n?n.animate({translateX:e[0],translateY:e[1]}):t.pivot=s.circle(0,0,u(r.radius,5)).attr({"stroke-width":r.borderWidth||0,stroke:r.borderColor||"silver",fill:r.backgroundColor||"black"}).translate(e[0],e[1]).add(t.group)},animate:function(t){var e=this;t||(o(e.points,function(t){var n=t.graphic;n&&(n.attr({rotation:180*e.yAxis.startAngleRad/Math.PI}),n.animate({rotation:t.shapeArgs.rotation},e.options.animation))}),e.animate=null)},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup),x.prototype.render.call(this),this.group.clip(this.chart.clipRect)},setData:function(t,e){x.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),u(e,!0)&&this.chart.redraw()},drawTracker:w&&w.drawTrackerPoint},d.gauge=p(d.line,w),h.boxplot=a(h.column,{fillColor:"#FFFFFF",lineWidth:1,medianWidth:2,states:{hover:{brightness:-.3}},threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",whiskerWidth:2}),d.boxplot=p(d.column,{type:"boxplot",pointArrayMap:["low","q1","median","q3","high"],toYData:function(t){return[t.low,t.q1,t.median,t.q3,t.high]},pointValKey:"high",pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth"},drawDataLabels:D,translate:function(){var t=this.yAxis,e=this.pointArrayMap;d.column.prototype.translate.apply(this),o(this.points,function(n){o(e,function(e){null!==n[e]&&(n[e+"Plot"]=t.translate(n[e],0,1,0,1))})})},drawPoints:function(){var t,n,i,r,s,a,l,c,h,d,p,f,g,m,v,y,_,b,w,x,C,E,T=this,D=T.points,A=T.options,P=T.chart.renderer,M=T.doQuartiles!==!1,O=parseInt(T.options.whiskerLength,10)/100;o(D,function(o){h=o.graphic,C=o.shapeArgs,p={},m={},y={},E=o.color||T.color,o.plotY!==e&&(t=o.pointAttr[o.selected?"selected":""],_=C.width,b=S(C.x),w=b+_,x=k(_/2),n=S(M?o.q1Plot:o.lowPlot),i=S(M?o.q3Plot:o.lowPlot),r=S(o.highPlot),s=S(o.lowPlot),p.stroke=o.stemColor||A.stemColor||E,p["stroke-width"]=u(o.stemWidth,A.stemWidth,A.lineWidth),p.dashstyle=o.stemDashStyle||A.stemDashStyle,m.stroke=o.whiskerColor||A.whiskerColor||E,m["stroke-width"]=u(o.whiskerWidth,A.whiskerWidth,A.lineWidth),y.stroke=o.medianColor||A.medianColor||E,y["stroke-width"]=u(o.medianWidth,A.medianWidth,A.lineWidth),l=p["stroke-width"]%2/2,c=b+x+l,d=["M",c,i,"L",c,r,"M",c,n,"L",c,s],M&&(l=t["stroke-width"]%2/2,c=S(c)+l,n=S(n)+l,i=S(i)+l,b+=l,w+=l,f=["M",b,i,"L",b,n,"L",w,n,"L",w,i,"L",b,i,"z"]),O&&(l=m["stroke-width"]%2/2,r+=l,s+=l,g=["M",c-x*O,r,"L",c+x*O,r,"M",c-x*O,s,"L",c+x*O,s]),l=y["stroke-width"]%2/2,a=k(o.medianPlot)+l,v=["M",b,a,"L",w,a],h?(o.stem.animate({d:d}),O&&o.whiskers.animate({d:g}),M&&o.box.animate({d:f}),o.medianShape.animate({d:v})):(o.graphic=h=P.g().add(T.group),o.stem=P.path(d).attr(p).add(h),O&&(o.whiskers=P.path(g).attr(m).add(h)),M&&(o.box=P.path(f).attr(t).add(h)),o.medianShape=P.path(v).attr(y).add(h)))})}}),h.errorbar=a(h.boxplot,{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}),d.errorbar=p(d.boxplot,{type:"errorbar",pointArrayMap:["low","high"],toYData:function(t){return[t.low,t.high]},pointValKey:"high",doQuartiles:!1,drawDataLabels:d.arearange?d.arearange.prototype.drawDataLabels:D,getColumnMetrics:function(){return this.linkedParent&&this.linkedParent.columnMetrics||d.column.prototype.getColumnMetrics.call(this)}}),h.waterfall=a(h.column,{lineWidth:1,lineColor:"#333",dashStyle:"dot",borderColor:"#333",dataLabels:{inside:!0},states:{hover:{lineWidthPlus:0}}}),d.waterfall=p(d.column,{type:"waterfall",upColorProp:"fill",pointArrayMap:["low","y"],pointValKey:"y",translate:function(){var t,e,n,i,r,o,s,a,l,u=this.options,c=this.yAxis,h=u.threshold,p=u.stacking;for(d.column.prototype.translate.apply(this),s=a=h,e=this.points,t=0,u=e.length;u>t;t++)n=e[t],o=this.processedYData[t],i=n.shapeArgs,l=(r=p&&c.stacks[(this.negStacks&&h>o?"-":"")+this.stackKey])?r[n.x].points[this.index+","+t]:[0,o],(n.isSum||n.isIntermediateSum)&&(n.y=o),r=E(s,s+n.y)+l[0],i.y=c.translate(r,0,1),n.isSum?(i.y=c.translate(l[1],0,1),i.height=c.translate(l[0],0,1)-i.y):n.isIntermediateSum?(i.y=c.translate(l[1],0,1),i.height=c.translate(a,0,1)-i.y,a=l[1]):s+=o,i.height<0&&(i.y+=i.height,i.height*=-1),n.plotY=i.y=k(i.y)-this.borderWidth%2/2,i.height=E(k(i.height),.001),n.yBottom=i.y+i.height,i=n.plotY+(n.negative?i.height:0),this.chart.inverted?n.tooltipPos[0]=c.len-i:n.tooltipPos[1]=i},processData:function(t){var e,n,i,r,o,s,a,l=this.yData,u=this.options.data,c=l.length;for(i=n=r=o=this.options.threshold||0,a=0;c>a;a++)s=l[a],e=u&&u[a]?u[a]:{},"sum"===s||e.isSum?l[a]=i:"intermediateSum"===s||e.isIntermediateSum?l[a]=n:(i+=s,n+=s),r=Math.min(i,r),o=Math.max(i,o);x.prototype.processData.call(this,t),this.dataMin=r,this.dataMax=o},toYData:function(t){return t.isSum?0===t.x?null:"sum":t.isIntermediateSum?0===t.x?null:"intermediateSum":t.y},getAttribs:function(){d.column.prototype.getAttribs.apply(this,arguments);var e=this,n=e.options,i=n.states,r=n.upColor||e.color,n=t.Color(r).brighten(.1).get(),s=a(e.pointAttr),l=e.upColorProp;s[""][l]=r,s.hover[l]=i.hover.upColor||n,s.select[l]=i.select.upColor||r,o(e.points,function(t){t.options.color||(t.y>0?(t.pointAttr=s,t.color=r):t.pointAttr=e.pointAttr)})},getGraphPath:function(){var t,e,n,i=this.data,r=i.length,o=k(this.options.lineWidth+this.borderWidth)%2/2,s=[];for(n=1;r>n;n++)e=i[n].shapeArgs,t=i[n-1].shapeArgs,e=["M",t.x+t.width,t.y+o,"L",e.x,t.y+o],i[n-1].y<0&&(e[2]+=t.height,e[5]+=t.height),s=s.concat(e);return s},getExtremes:D,drawGraph:x.prototype.drawGraph}),h.polygon=a(h.scatter,{marker:{enabled:!1}}),d.polygon=p(d.scatter,{type:"polygon",fillGraph:!0,getSegmentPath:function(t){return x.prototype.getSegmentPath.call(this,t).concat("z")},drawGraph:x.prototype.drawGraph,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle}),h.bubble=a(h.scatter,{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:"middle"},marker:{lineColor:null,lineWidth:1},minSize:8,maxSize:"20%",states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),w=p(y,{haloPath:function(){return y.prototype.haloPath.call(this,this.shapeArgs.r+this.series.options.states.hover.halo.size)},ttBelow:!1}),d.bubble=p(d.scatter,{type:"bubble",pointClass:w,pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],bubblePadding:!0,zoneAxis:"z",pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor"},applyOpacity:function(t){var e=this.options.marker,n=u(e.fillOpacity,.5),t=t||e.fillColor||this.color;return 1!==n&&(t=T(t).setOpacity(n).get("rgba")),t},convertAttribs:function(){var t=x.prototype.convertAttribs.apply(this,arguments);return t.fill=this.applyOpacity(t.fill),t},getRadii:function(t,e,n,i){var r,o,s,a=this.zData,l=[],u="width"!==this.options.sizeBy;for(o=0,r=a.length;r>o;o++)s=e-t,s=s>0?(a[o]-t)/(e-t):.5,u&&s>=0&&(s=Math.sqrt(s)),l.push(C.ceil(n+s*(i-n))/2);this.radii=l},animate:function(t){var e=this.options.animation;t||(o(this.points,function(t){var n=t.graphic,t=t.shapeArgs;n&&t&&(n.attr("r",1),n.animate({r:t.r},e))}),this.animate=null)},translate:function(){var t,n,i,r=this.data,o=this.radii;for(d.scatter.prototype.translate.call(this),t=r.length;t--;)n=r[t],i=o?o[t]:0,i>=this.minPxSize/2?(n.shapeType="circle",n.shapeArgs={x:n.plotX,y:n.plotY,r:i},n.dlBox={x:n.plotX-i,y:n.plotY-i,width:2*i,height:2*i}):n.shapeArgs=n.plotY=n.dlBox=e},drawLegendSymbol:function(t,e){var n=c(t.itemStyle.fontSize)/2;e.legendSymbol=this.chart.renderer.circle(n,t.baseline-n,n).attr({zIndex:3}).add(e.legendGroup),e.legendSymbol.isMarker=!0},drawPoints:d.column.prototype.drawPoints,alignDataLabel:d.column.prototype.alignDataLabel,buildKDTree:D,applyZones:D}),m.prototype.beforePadding=function(){var t=this,n=this.len,s=this.chart,a=0,l=n,h=this.isXAxis,d=h?"xData":"yData",p=this.min,f={},g=C.min(s.plotWidth,s.plotHeight),m=Number.MAX_VALUE,v=-Number.MAX_VALUE,y=this.max-p,_=n/y,b=[];o(this.series,function(e){var n=e.options;!e.bubblePadding||!e.visible&&s.options.chart.ignoreHiddenSeries||(t.allowZoomOutside=!0,b.push(e),h&&(o(["minSize","maxSize"],function(t){var e=n[t],i=/%$/.test(e),e=c(e);f[t]=i?g*e/100:e}),e.minPxSize=f.minSize,e=e.zData,e.length&&(m=u(n.zMin,C.min(m,C.max(i(e),n.displayNegative===!1?n.zThreshold:-Number.MAX_VALUE))),v=u(n.zMax,C.max(v,r(e))))))}),o(b,function(t){var e,n=t[d],i=n.length;if(h&&t.getRadii(m,v,f.minSize,f.maxSize),y>0)for(;i--;)"number"==typeof n[i]&&(e=t.radii[i],a=Math.min((n[i]-p)*_-e,a),l=Math.max((n[i]-p)*_+e,l))}),b.length&&y>0&&u(this.options.min,this.userMin)===e&&u(this.options.max,this.userMax)===e&&(l-=n,_*=(n+a-l)/n,this.min+=a/_,this.max+=l/_)},function(){function t(t,e,n){t.call(this,e,n),this.chart.polar&&(this.closeSegment=function(t){var e=this.xAxis.center;t.push("L",e[0],e[1])},this.closedStacks=!0)}function e(t,e){var n=this.chart,i=this.options.animation,r=this.group,o=this.markerGroup,s=this.xAxis.center,a=n.plotLeft,l=n.plotTop;n.polar?n.renderer.isSVG&&(i===!0&&(i={}),e?(n={translateX:s[0]+a,translateY:s[1]+l,scaleX:.001,scaleY:.001},r.attr(n),o&&o.attr(n)):(n={translateX:a,translateY:l,scaleX:1,scaleY:1},r.animate(n,i),o&&o.animate(n,i),this.animate=null)):t.call(this,e)}var n,i=x.prototype,r=_.prototype;i.searchPolarPoint=function(t){var e=this.chart,n=this.xAxis.pane.center,i=t.chartX-n[0]-e.plotLeft,t=t.chartY-n[1]-e.plotTop;return this.kdAxisArray=["clientX"],t={clientX:180+Math.atan2(i,t)*(-180/Math.PI)},this.searchKDTree(t)},g(i,"buildKDTree",function(t){this.chart.polar&&(this.kdAxisArray=["clientX"]),t.apply(this)}),g(i,"searchPoint",function(t,e){return this.chart.polar?this.searchPolarPoint(e):t.call(this,e)}),i.toXY=function(t){var e,n=this.chart,i=t.plotX;e=t.plotY,t.rectPlotX=i,t.rectPlotY=e,i=(i/Math.PI*180+this.xAxis.pane.options.startAngle)%360,0>i&&(i+=360),t.clientX=i,e=this.xAxis.postTranslate(t.plotX,this.yAxis.len-e),t.plotX=t.polarPlotX=e.x-n.plotLeft,t.plotY=t.polarPlotY=e.y-n.plotTop},d.area&&g(d.area.prototype,"init",t),d.areaspline&&g(d.areaspline.prototype,"init",t),d.spline&&g(d.spline.prototype,"getPointSpline",function(t,e,n,i){var r,o,s,a,l,u,c;return this.chart.polar?(r=n.plotX,o=n.plotY,t=e[i-1],s=e[i+1],this.connectEnds&&(t||(t=e[e.length-2]),s||(s=e[1])),t&&s&&(a=t.plotX,l=t.plotY,e=s.plotX,u=s.plotY,a=(1.5*r+a)/2.5,l=(1.5*o+l)/2.5,s=(1.5*r+e)/2.5,c=(1.5*o+u)/2.5,e=Math.sqrt(Math.pow(a-r,2)+Math.pow(l-o,2)),u=Math.sqrt(Math.pow(s-r,2)+Math.pow(c-o,2)),a=Math.atan2(l-o,a-r),l=Math.atan2(c-o,s-r),c=Math.PI/2+(a+l)/2,Math.abs(a-c)>Math.PI/2&&(c-=Math.PI),a=r+Math.cos(c)*e,l=o+Math.sin(c)*e,s=r+Math.cos(Math.PI+c)*u,c=o+Math.sin(Math.PI+c)*u,n.rightContX=s,n.rightContY=c),i?(n=["C",t.rightContX||t.plotX,t.rightContY||t.plotY,a||r,l||o,r,o],t.rightContX=t.rightContY=null):n=["M",r,o]):n=t.call(this,e,n,i),n}),g(i,"translate",function(t){if(t.call(this),this.chart.polar&&!this.preventPostTranslate)for(var t=this.points,e=t.length;e--;)this.toXY(t[e])}),g(i,"getSegmentPath",function(t,e){var n=this.points;return this.chart.polar&&this.options.connectEnds!==!1&&e[e.length-1]===n[n.length-1]&&null!==n[0].y&&(this.connectEnds=!0,e=[].concat(e,[n[0]])),t.call(this,e)}),g(i,"animate",e),d.column&&(n=d.column.prototype,g(n,"animate",e),g(n,"translate",function(t){var e,n,i=this.xAxis,r=this.yAxis.len,o=i.center,s=i.startAngleRad,a=this.chart.renderer;if(this.preventPostTranslate=!0,t.call(this),i.isRadial)for(i=this.points,n=i.length;n--;)e=i[n],t=e.barX+s,e.shapeType="path",e.shapeArgs={d:a.symbols.arc(o[0],o[1],r-e.plotY,null,{start:t,end:t+e.pointWidth,innerR:r-u(e.yBottom,r)})},this.toXY(e),e.tooltipPos=[e.plotX,e.plotY],e.ttBelow=e.plotY>o[1]}),g(n,"alignDataLabel",function(t,e,n,r,o,s){this.chart.polar?(t=e.rectPlotX/Math.PI*180,null===r.align&&(r.align=t>20&&160>t?"left":t>200&&340>t?"right":"center"),null===r.verticalAlign&&(r.verticalAlign=45>t||t>315?"bottom":t>135&&225>t?"top":"middle"),i.alignDataLabel.call(this,e,n,r,o,s)):t.call(this,e,n,r,o,s)})),g(r,"getCoordinates",function(t,e){var n=this.chart,i={xAxis:[],yAxis:[]};return n.polar?o(n.axes,function(t){var r=t.isXAxis,o=t.center,s=e.chartX-o[0]-n.plotLeft,o=e.chartY-o[1]-n.plotTop;i[r?"xAxis":"yAxis"].push({axis:t,value:t.translate(r?Math.PI-Math.atan2(s,o):Math.sqrt(Math.pow(s,2)+Math.pow(o,2)),!0)})}):i=t.call(this,e),i})}()}(Highcharts),function(){var t,e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};new(t=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.ready=function(){return $("select.select:not(.chosen)").each(function(){return $(this).val($(this).find("option[selected='selected']").val())}),$("canvas.graph-canvas").length?(new ProjectGraph($("canvas#view").data("fetch-url")),sessionStorage.getItem("seenHelp")||($("#graph_help").show(),sessionStorage.setItem("seenHelp",!0))):new ProjectGraph,new TypeaheadHelper,$(".form-group:has(input.array), .form-group:has(textarea.array)").length>0&&new SimpleFormArray,$(".scale-section-answers, .scale_team_feedback").length>0&&$('input[type="range"]').rangeslider({polyfill:!1}),ScaleTeamUsers.isOnScaleTeamPage()&&new ScaleTeamUsers,$("select#quest_kind").length>0&&new QuestFormOptions,new QuestsUser,new Project},e}(Common))}.call(this);