<!DOCTYPE html>
<!-- saved from url=(0088)https://projects.intrav2.42.fr/projects/piscine-php-d04/scales/33/scale_teams/42528/edit -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Intranet 42</title>
<meta content="authenticity_token" name="csrf-param">
<meta content="032RdX7eAe7WWaL63WTaBN9SKQvHCbjkNspNxbzYJgc=" name="csrf-token">
<meta charset="utf-8">
<meta content="IE=Edge,chrome=1" http-equiv="X-UA-Compatible">
<meta content="width=device-width,height=device-height,user-scalable=no,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0" name="viewport">
<meta content="yes" name="mobile-web-app-capable">
<meta content="yes" name="apple-mobile-web-app-capable">
<meta content="translucent-black" name="apple-mobile-web-app-status-bar-style">
<meta content="Intranet 42" name="apple-mobile-web-app-title">
<meta content="on" http-equiv="cleartype">
<link href="https://profile.intrav2.42.fr/assets/42_logo_black-0dcc25d1cdb873c2857bc80734364451.png" rel="icon" type="image/svg">
<link href="https://profile.intrav2.42.fr/assets/42_logo_black-0dcc25d1cdb873c2857bc80734364451.png" rel="shortcut icon" type="image/svg">
<!--[if lt IE 9]>
<script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js"></script>
<![endif]-->
<link href="PiscinePHP_j04_files/application-0990c964295fe19cb3a90fcb10e3bd91.css" media="all" rel="stylesheet">
<script async="" src="./PiscinePHP_j04_files/analytics.js"></script><script src="./PiscinePHP_j04_files/require-bda0ed7529a31c9f1b6d46ba76289e1b.js"></script><script>require.config({"baseUrl":"/assets","packages":["vendor","common","common/media","common/add_on","common/callback","common/modal","common/simple_form","common/typeahead","project","galaxy","galaxy/profile","galaxy/infoBox","galaxy/galaxy","animMaster"],"paths":{"common/main":"/assets/common/main-25967bdbf19d9450356fcc7feeaf2d07","vendor/main":"/assets/vendor/main-ab7b6a96b22ff77af79ec6ea4c20391a","application":"/assets/application-73dba619f83f174fa7f52f606d965c15"},"shim":{"scrollspy":{"deps":["jquery"]},"vendor/video-dev":{"deps":["jquery"]},"vendor/video-markers":{"deps":["vendor/video-dev"]},"vendor/video-resolutions":{"deps":["vendor/video-dev"]},"datetimepicker":{"deps":["jquery","moment"]},"rangeslider":{"deps":["jquery"]},"fullcalendar":{"deps":["jquery","moment"]},"jquery_nested_form":{"deps":["jquery"]},"highcharts-release":{"deps":["jquery"],"exports":"Highcharts"},"jquery-textcomplete":{"deps":["jquery"]},"chosen-jquery":{"deps":["jquery"]},"maxlength":{"deps":["jquery"]},"moment-twitter":{"deps":["moment"]},"jquery-ujs":{"deps":["jquery"]},"onScreen":{"deps":["jquery"]},"typeahead":{"deps":["jquery"]},"bloodhound":{"deps":["jquery"]},"bootstrap":{"deps":["jquery"]},"easel":{"exports":"createjs"},"tween":{"deps":["easel"],"exports":"Tween"},"stats":{"deps":["jquery"],"exports":"Stats"}}}); require(["application"]);</script>
<script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="application" src="./PiscinePHP_j04_files/application-73dba619f83f174fa7f52f606d965c15.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="vendor/main" src="./PiscinePHP_j04_files/main-ab7b6a96b22ff77af79ec6ea4c20391a.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="common/main" src="./PiscinePHP_j04_files/main-25967bdbf19d9450356fcc7feeaf2d07.js"></script></head><body data-id="11990" data-url="//websocket.intrav2.42.fr/" class="visible">
<div class="main-navbar">
<div class="main-navbar-left">
<div class="main-navbar-logo">
<a href="https://profile.intrav2.42.fr/"><img alt="42 logo" src="./PiscinePHP_j04_files/42_logo-0e3c2f415e527aa6703482c3b9a4a7bd.svg">
</a></div>
<span class="hidden-sidebars main-menu-trigger lines-button x" data-trigger-menu="">
<span class="lines"></span>
</span>
<form action="https://profile.intrav2.42.fr/searches/search" class="main-navbar-search hidden-xs" data-user-url="https://profile.intrav2.42.fr/users/" method="get">
<input class="search-input" name="query" placeholder="search...">
</form>
</div>
<div class="main-navbar-user-nav">
<span class="dropdown">
<a data-toggle="dropdown" href="https://projects.intrav2.42.fr/projects/piscine-php-d04/scales/33/scale_teams/42528/edit#">
<span data-login="login">
Login
</span>
<div class="user-profile-picture visible-sidebars" style="background-image: url( https://cdn.42.fr/userprofil/profilview/login.jpg)"></div>
</a>
<ul aria-labelledby="User menu" class="dropdown-menu" role="menu">
<li>
<a href="https://profile.intrav2.42.fr/slots"><span class="icon-calendar"></span>
Manage slots
</a></li>
<li>
<a href="https://profile.intrav2.42.fr/users/login"><span class="icon-user"></span>
View my profile
</a></li>
<li class="visible-xs">
<a data-method="delete" href="https://signin.intrav2.42.fr/logout" rel="nofollow"><span class="icon-power-off"></span>
Logout
</a></li>
</ul>
</span>
<div class="user-actions hidden-xs">
<a class="user-action labelable" data-notification-drop="" href="https://projects.intrav2.42.fr/projects/piscine-php-d04/scales/33/scale_teams/42528/edit#"><span class="icon-envelope-o"></span>
<span class="labeled">0</span>
</a><a class="user-action labelable" data-method="delete" href="https://signin.intrav2.42.fr/logout" rel="nofollow"><span class="icon-power-off unlabeled"></span>
</a></div>
</div>
</div>

<div class="page">
<div class="left-sidebar-fix with-main-menu"></div>
<div class="page-sidebar left-main-container page-sidebar-fixed-left under-main-navbar"><ul class="main-left-navbar">
<li>
<a class="inactive" href="https://profile.intrav2.42.fr/">
<span class="icon-scale-1"></span>
<span class="visible-overlay">
Profile
</span>
</a>
</li>
<li>
<a class="active" href="https://projects.intrav2.42.fr/">
<span class="icon-network-2-1"></span>
<span class="visible-overlay">
Projets
</span>
</a>
</li>
<li>
<a class="inactive" href="https://elearning.intrav2.42.fr/">
<span class="icon-movie-play-1"></span>
<span class="visible-overlay">
E-learning
</span>
</a>
</li>
<li>
<a class="inactive" href="https://forum.intrav2.42.fr/">
<span class="icon-bubble-conversation-5"></span>
<span class="visible-overlay">
Forum
</span>
</a>
</li>
<li>
<a class="inactive" href="https://meta.intrav2.42.fr/">
<span class="icon-compass-2"></span>
<span class="visible-overlay">
Meta
</span>
</a>
</li>
</ul><div class="app-sidebar-left">
<div class="marked-title inverse">Go to</div>
<div class="projects-menu-list">
<a class="project-item sidebar-item" href="https://projects.intrav2.42.fr/"><span class="icon-briefcase project-status-icon"></span>
My projects
</a><a class="project-item sidebar-item" href="https://projects.intrav2.42.fr/projects"><span class="icon-list-1 project-status-icon"></span>
All projects
</a></div>
<div class="marked-title inverse">Your projects</div>
<div class="projects-menu-list">
<a class="project-item sidebar-item" href="https://projects.intrav2.42.fr/projects/libft"><span class="project-status-icon icon-check project-status-finished"></span>
Libft
</a><a class="project-item sidebar-item" href="https://projects.intrav2.42.fr/projects/get_next_line"><span class="project-status-icon icon-check project-status-finished"></span>
Get_Next_Line
</a><a class="project-item sidebar-item" href="https://projects.intrav2.42.fr/projects/ft_ls"><span class="project-status-icon icon-check project-status-finished"></span>
ft_ls
</a><a class="project-item sidebar-item" href="https://projects.intrav2.42.fr/projects/fdf"><span class="project-status-icon icon-check project-status-finished"></span>
FdF
</a><a class="project-item sidebar-item" href="https://projects.intrav2.42.fr/projects/ft_sh1"><span class="project-status-icon icon-check project-status-finished"></span>
ft_sh1
</a><a class="project-item sidebar-item" href="https://projects.intrav2.42.fr/projects/wolf3d"><span class="project-status-icon icon-check project-status-finished"></span>
Wolf3d
</a><a class="project-item sidebar-item" href="https://projects.intrav2.42.fr/projects/exam-c"><span class="project-status-icon icon-clock project-status-progress"></span>
Exam C
</a><a class="project-item sidebar-item" href="https://projects.intrav2.42.fr/projects/fract-ol"><span class="project-status-icon icon-check project-status-finished"></span>
Fract'ol
</a><a class="project-item sidebar-item" href="https://projects.intrav2.42.fr/projects/push_swap"><span class="project-status-icon icon-check project-status-finished"></span>
Push_swap
</a><a class="project-item sidebar-item" href="https://projects.intrav2.42.fr/projects/philosophers"><span class="project-status-icon icon-check project-status-finished"></span>
Philosophers
</a><a class="project-item sidebar-item" href="https://projects.intrav2.42.fr/projects/ft_p"><span class="project-status-icon icon-clock project-status-waiting"></span>
ft_p
</a><a class="project-item sidebar-item" href="https://projects.intrav2.42.fr/projects/rushes"><span class="project-status-icon icon-clock project-status-waiting"></span>
Rushes
</a><a class="project-item sidebar-item" href="https://projects.intrav2.42.fr/projects/libftasm"><span class="project-status-icon icon-clock project-status-progress"></span>
LibftASM
</a><a class="project-item sidebar-item" href="https://projects.intrav2.42.fr/projects/savoir-relier"><span class="project-status-icon icon-check project-status-finished"></span>
Savoir Relier
</a><a class="project-item sidebar-item" href="https://projects.intrav2.42.fr/projects/docker"><span class="project-status-icon icon-clock project-status-progress"></span>
Docker
</a></div>
</div></div>
<div class="page-content">
<div class="row">

<div class="main-top-menu">

</div>
<div class="container-item">
<h1 class="main-title primary">
Scale for project
<a href="https://projects.intrav2.42.fr/projects/piscine-php">Piscine PHP</a> / 
<a href="https://projects.intrav2.42.fr/projects/piscine-php-d04">D04</a>
</h1>
<h4 class="marked-title">Git repository</h4>
<div class="container-inner-item project-repo">
<div class="input-group">
<input class="form-control" data-git-url="" disabled="" type="text" value="**link**">
<span class="input-group-addon" data-copy="[data-git-url]">
<span class="icon-paste"></span>
</span>
</div>
</div>
<div class="scale-guidelines dancer from-down" id="guidelines-33">
<h3>Guidelines</h3>
<p>
Les préliminaires c'est important !
<br>
<br>- Tout le monde est présent ?
<br>- faites alors un git clone du repo dans votre vhost j04. Le but est que vos propres accès sur http://j04.local.42.fr:8080/ arrivent sur la racine du rendu
<br>- Commencez la soutenance.
<br>
<br>On utilise Chrome (celui du dump !) et curl (celui du dump !) pour cette soutenance.
<br>
<br>Si il n'y a aucun rendu, mettez 0 et arrêtez l'évaluation.
<br>Discutez de ce qui a posé problème (pas forcement au niveau technique) et de comment éviter la même situation demain.
</p>
</div>
</div>
<div class="container-item dancer from-down hidden-xlg" id="ratings-33">
<h2>Ratings</h2>
<div class="on-grey">
<p class="marked-title">Define the type of error (if there is an error), which ended the correction.</p>
<div class="btn-group block" data-radio-item="flag-small">
<label class="btn btn-default btn-success label_flag_ok on-active" for="scale_team_flag_ok" name="scale_team[flag]">
<span class="icon-checkmark"></span>
Ok
</label>
<label class="btn btn-danger btn-default label_flag_empty_work on-active" for="scale_team_flag_empty_work" name="scale_team[flag]">
<span class="icon-question-circle"></span>
Empty work
</label>
<label class="btn btn-danger btn-default label_flag_incomplete_work on-active" for="scale_team_flag_incomplete_work" name="scale_team[flag]">
<span class="icon-exclamation-circle"></span>
Incomplete work
</label>
<label class="btn btn-danger btn-default label_flag_no_author_file on-active" for="scale_team_flag_no_author_file" name="scale_team[flag]">
<span class="icon-user"></span>
No author file
</label>
<label class="btn btn-danger btn-default label_flag_invalid_compilation on-active" for="scale_team_flag_invalid_compilation" name="scale_team[flag]">
<span class="icon-gears"></span>
Invalid compilation
</label>
<label class="btn btn-danger btn-default label_flag_norme on-active" for="scale_team_flag_norme" name="scale_team[flag]">
<span class="icon-book"></span>
Norme
</label>
<label class="btn btn-danger btn-default label_flag_cheat on-active" for="scale_team_flag_cheat" name="scale_team[flag]">
<span class="icon-times-circle"></span>
Cheat
</label>
<label class="btn btn-danger btn-default label_flag_crash on-active" for="scale_team_flag_crash" name="scale_team[flag]">
<span class="icon-fire2"></span>
Crash
</label>
</div>
</div>
</div>
<div class="container-item dancer from-down" id="attachments-33">
<h2>Attachments</h2>
<div class="project-attachments-list">
</div>


<div class="project-attachments-list">
<div class="project-attachment-item">
<h4 class="attachment-name">
<span class="icon-link-2"></span>
<a href="https://elearning.intrav2.42.fr/notions/39/subnotions" target="_blank">Intra - Elearning - Subnotions</a>
</h4>
</div>
<div class="project-attachment-item">
<h4 class="attachment-name">
<span class="icon-file"></span>
<a href="https://cdn.intrav2.42.fr/pdf/pdf/38/13e4477d8fdefebbd146f55a583c867c-subject.pdf" target="_blank">subject</a>
</h4>
</div>
</div>


</div>
<form accept-charset="UTF-8" action="https://projects.intrav2.42.fr/projects/piscine-php-d04/scales/33/scale_teams/42528" class="simple_form form-horizontal edit_scale_team" id="edit_scale_team_42528" method="post" novalidate="novalidate"><div style="display:none"><input name="utf8" type="hidden" value="✓"><input name="_method" type="hidden" value="patch"><input name="authenticity_token" type="hidden" value="032RdX7eAe7WWaL63WTaBN9SKQvHCbjkNspNxbzYJgc="></div><div class="container-item scale-section-answers">
<h2 class="main-title primary">Sections</h2>
<div class="on-grey">
<section class="scale-section-item dancer from-down" id="section-152">
<h3 class="main-title">ex00 vhost</h3>
<p>Le but était de configurer un vhost http://j04.local.42.fr:8080/</p>
<h4 class="scale-question-name">ex00 vhost</h4>
<p class="scale-section-guidelines">
Vérifiez que le vhost fonctionne
<br>
<br>- dans le rendu bitnami-apps-vhosts.conf a bien été modifié pour inclure ~/mamp/apps/j04/conf/httpd-vhosts.conf ?
<br>
<br>il faut que le path soit complet, par exemple:
<br>$&gt; more bitnami-apps-vhosts.conf
<br># Bitnami applications installed in a Virtual Host
<br>Include "/Users/xlogin/mamp/apps/j04/conf/httpd-vhosts.conf"
<br>
<br>- dans le rendu bitnami-apps-vhosts.conf a bien été modifié pour definir le bon DocumentRoot et inclure ~/mamp/apps/j04/conf/httpd-app.conf ?
<br>
<br></p><pre><br>$&gt; more httpd-vhosts.conf 
<br>&lt;VirtualHost *:8080&gt;
<br>  ServerName j04.local.42.fr
<br>  DocumentRoot "/Users/xlogin/mamp/apps/j04/htdocs"
<br>  Include "/Users/xlogin/mamp/apps/j04/conf/httpd-app.conf"                                                                                           
<br>&lt;/VirtualHost&gt;
<br></pre>
<br>
<br>- dans le rendu ex00/httpd-app.conf a bien été modifié pour utiliser ~/mamp/apps/j04/htdocs ?
<br>
<br><pre><br>$&gt; more httpd-app.conf 
<br>&lt;Directory "/Users/xlogin/mamp/apps/j04/htdocs"&gt;
<br>    Options Indexes MultiViews
<br>    AllowOverride All
<br>    &lt;IfVersion &lt; 2.3 &gt;
<br>    Order allow,deny
<br>    Allow from all
<br>    &lt;/IfVersion&gt;
<br>    &lt;IfVersion &gt;= 2.3&gt;
<br>    Require all granted
<br>    &lt;/IfVersion&gt;
<br>&lt;/Directory&gt;
<br></pre>
<br>
<br>Tout est bon ?
<br>
<p></p>
<div class="scale-question-answers">
<div class="form-group hidden scale_team_answer_id"><div class="col-sm-10"><input class="hidden form-control" id="scale_team_answer_id" name="[scale_team][answers_attributes][0][id]" type="hidden"></div></div>
<div class="form-group hidden scale_team_answer_question_id"><div class="col-sm-10"><input class="hidden form-control" id="scale_team_answer_question_id" name="[scale_team][answers_attributes][0][question_id]" type="hidden" value="309"></div></div>
<div class="btn-group block">
<input autocomplete="off" class="checkbox-input" id="radio_[scale_team][answers_attributes][0][value]_true" name="[scale_team][answers_attributes][0][value]" type="radio" value="1">
<label class="btn btn-success checkbox-label light-bg" for="radio_[scale_team][answers_attributes][0][value]_true">
<span class="icon-check"></span>
Yes
</label>
<input autocomplete="off" checked="checked" class="checkbox-input" id="radio_[scale_team][answers_attributes][0][value]_false" name="[scale_team][answers_attributes][0][value]" type="radio" value="0">
<label class="btn btn-danger checkbox-label light-bg" for="radio_[scale_team][answers_attributes][0][value]_false">
<span class="icon-times"></span>
No
</label>
</div>
</div>
</section>
<section class="scale-section-item dancer from-down" id="section-153">
<h3 class="main-title">ex01 session</h3>
<p></p>
<h4 class="scale-question-name">ex01 session</h4>
<p class="scale-section-guidelines">
- index.php est un fomulaire, utilisant la méthode GET, l'identifiant s'appelle "login", le mot de passe "passwd", le bouton de validation s'appelle "submit" et a pour valeur "OK" ? -&gt; 3pt
<br>
<br></p><pre><br>$&gt; curl -v -c cook.txt 'http://j04.local.42.fr:8080/ex01/index.php'
<br>...
<br>&gt; GET /ex01/index.php HTTP/1.1
<br>...
<br>&gt; Host: j04.local.42.fr:8080
<br>&gt; Accept: */*
<br>&gt; 
<br>&lt; HTTP/1.1 200 OK
<br>...
<br>* Added cookie PHPSESSID="ji22ln1iua24au9eo97ubbego0" for domain j04.local.42.fr, path /, expire 0
<br>&lt; Set-Cookie: PHPSESSID=ji22ln1iua24au9eo97ubbego0; path=/
<br>&lt; Expires: Thu, 19 Nov 1981 08:52:00 GMT
<br>...
<br>&lt;html&gt;&lt;body&gt;
<br>&lt;form method="get" action="index.php"&gt;
<br>   Identifiant: &lt;input type="text" name="login" value="" /&gt;
<br>   &lt;br /&gt;
<br>   Mot de passe: &lt;input type="password" name="passwd" value="" /&gt;
<br>  &lt;input type="submit" name="submit" value="OK" /&gt;
<br>&lt;/form&gt;
<br>* Connection #0 to host j04.local.42.fr left intact
<br>&lt;/body&gt;&lt;/html&gt;* Closing connection #0
<br>$&gt; 
<br></pre>
<br>
<br>- les valeurs login/passwd soumises sont sauvées dans la session et relues et intégrées dans le formulaire comme valeures par défaut ? -&gt; 2pt
<br>
<br><pre><br>$&gt; curl -v -b cook.txt 'http://j04.local.42.fr:8080/ex01/index.php?login=sb&amp;passwd=beeone&amp;submit=OK'
<br>...
<br>&gt; GET /ex01/index.php?login=sb&amp;passwd=beeone&amp;submit=OK HTTP/1.1
<br>...
<br>&gt; Host: j04.local.42.fr:8080
<br>&gt; Accept: */*
<br>&gt; Cookie: PHPSESSID=ji22ln1iua24au9eo97ubbego0
<br>&gt; 
<br>&lt; HTTP/1.1 200 OK
<br>...
<br>&lt; 
<br>&lt;html&gt;&lt;body&gt;
<br>&lt;form method="get" action="index.php"&gt;
<br>   Identifiant: &lt;input type="text" name="login" value="sb" /&gt;
<br>   &lt;br /&gt;
<br>   Mot de passe: &lt;input type="password" name="passwd" value="beeone" /&gt;
<br>  &lt;input type="submit" name="submit" value="OK" /&gt;
<br>&lt;/form&gt;
<br>* Connection #0 to host j04.local.42.fr left intact
<br>&lt;/body&gt;&lt;/html&gt;* Closing connection #0
<br>$&gt;
<br></pre>
<p></p>
<div class="scale-question-answers">
<div class="form-group hidden scale_team_answer_id"><div class="col-sm-10"><input class="hidden form-control" id="scale_team_answer_id" name="[scale_team][answers_attributes][1][id]" type="hidden"></div></div>
<div class="form-group hidden scale_team_answer_question_id"><div class="col-sm-10"><input class="hidden form-control" id="scale_team_answer_question_id" name="[scale_team][answers_attributes][1][question_id]" type="hidden" value="310"></div></div>
<div class="marked-title text-center">Rate it from 0 (failed) through 5 (excellent)</div>
<input autocomplete="off" class="star-range slided" data-star-range="" max="5" name="[scale_team][answers_attributes][1][value]" step="1" type="range" value="0" style="position: absolute; width: 1px; height: 1px; overflow: hidden; opacity: 0;"><div class="rangeslider" id="js-rangeslider-0"><div class="rangeslider__fill" style="width: 20px;"></div><div class="rangeslider__handle" style="left: 0px;"></div></div>
</div>
</section>
<section class="scale-section-item dancer from-down" id="section-154">
<h3 class="main-title">ex02 create_account</h3>
<p>Le but était de créer un formulaire permettant de créer son compte avec un identifiant et son mot de passe.

- les infos doivent être stockées dans /private/passwd
- pas 2 fois le même identifiant
</p>
<h4 class="scale-question-name">ex02 create_account</h4>
<p class="scale-section-guidelines">
- création simple: ça fonctionne ? +2pt
<br>
<br></p><pre><br>$&gt; curl -d login=truc -d passwd=titi1 -d submit=OK 'http://j04.local.42.fr:8080/ex02/create.php'
<br>OK
<br>$&gt; more ~/mamp/apps/j04/htdocs/private/passwd
<br>a:1:{i:0;a:2:{s:5:"login";s:4:"truc";s:6:"passwd";s:128:"2bdd45b3c828273786937ac1b4ca7908a431019e8b93c9fd337317f92fac80dace29802bedc33d9259c8b55d1572cb8a6c1df8579cdaa02256099ed52a905d38";}}
<br></pre>
<br>
<br>- gestion d'erreur: ça refuse 2 fois le même identifiant et un mot de passe vide ? +2pt
<br>
<br><pre><br>$&gt; curl -d login=truc -d passwd=titi1 -d submit=OK 'http://j04.local.42.fr:8080/ex02/create.php'
<br>ERROR
<br>$&gt; curl -d login=machin -d passwd= -d submit=OK 'http://j04.local.42.fr:8080/ex02/create.php'
<br>ERROR
<br>$&gt; 
<br></pre>
<br>
<br>- algo de hashage: utilise autre chose que md5 ou sha1 ? +1pt
<br>
<br>- stock le mot de passe en clair ? 0 à l'exercice
<br>
<p></p>
<div class="scale-question-answers">
<div class="form-group hidden scale_team_answer_id"><div class="col-sm-10"><input class="hidden form-control" id="scale_team_answer_id" name="[scale_team][answers_attributes][2][id]" type="hidden"></div></div>
<div class="form-group hidden scale_team_answer_question_id"><div class="col-sm-10"><input class="hidden form-control" id="scale_team_answer_question_id" name="[scale_team][answers_attributes][2][question_id]" type="hidden" value="311"></div></div>
<div class="marked-title text-center">Rate it from 0 (failed) through 5 (excellent)</div>
<input autocomplete="off" class="star-range slided" data-star-range="" max="5" name="[scale_team][answers_attributes][2][value]" step="1" type="range" value="0" style="position: absolute; width: 1px; height: 1px; overflow: hidden; opacity: 0;"><div class="rangeslider" id="js-rangeslider-1"><div class="rangeslider__fill" style="width: 20px;"></div><div class="rangeslider__handle" style="left: 0px;"></div></div>
</div>
</section>
<section class="scale-section-item dancer from-down" id="section-155">
<h3 class="main-title">ex03 modif_account</h3>
<p></p>
<h4 class="scale-question-name">ex03 modif_account</h4>
<p class="scale-section-guidelines">
On efface le fichier de l'exo précédent pour être tranquille
<br>
<br></p><pre>$&gt; rm ~/mamp/apps/j04/htdocs/private/passwd</pre>
<br>
<br>on crée un compte avec l'exo précédent
<br>
<br><pre>$&gt; curl -d login=z -d passwd=42 -d submit=OK 'http://j04.local.42.fr:8080/ex02/create.php'
<br>OK</pre>
<br>
<br>on change son pass et on vérifie que c'est bien le cas dans /private/passwd -&gt; +2pt
<br>
<br><pre><br>$&gt; curl -d login=z -d oldpw=42 -d newpw=84 -d submit=OK 'http://j04.local.42.fr:8080/ex03/modif.php'
<br>OK
<br>$&gt; more ~/mamp/apps/j04/htdocs/private/passwd
<br>a:1:{i:0;a:2:{s:5:"login";s:1:"z";s:6:"passwd";s:128:"76936d1331bb87561dead9036bce3a29e7667d5a228a85ea825210d3944c2fad2f15c36aa6affa729d703d84857cf826aba199f0a9f45780c64261f1b22c0b7f";}}
<br></pre>
<br>
<br>Gestion d'erreur: on vérifie que sur un mauvais mot de passe le formulaire répond bien erreur et qu'il refuse un nouveau mot de passe vide -&gt; +2pt
<br>
<br><pre><br>$&gt; curl -d login=z -d oldpw=42 -d newpw=84 -d submit=OK 'http://j04.local.42.fr:8080/ex03/modif.php'
<br>ERROR
<br>$&gt; curl -d login=x -d oldpw=42 -d newpw= -d submit=OK 'http://j04.local.42.fr:8080/ex03/modif.php'
<br>ERROR
<br>$&gt; 
<br></pre>
<br>
<br>- algo de hashage: utilise autre chose que md5 ou sha1 ? +1pt
<br>
<br>- stock le mot de passe en clair ? 0 à l'exercice
<br>
<p></p>
<div class="scale-question-answers">
<div class="form-group hidden scale_team_answer_id"><div class="col-sm-10"><input class="hidden form-control" id="scale_team_answer_id" name="[scale_team][answers_attributes][3][id]" type="hidden"></div></div>
<div class="form-group hidden scale_team_answer_question_id"><div class="col-sm-10"><input class="hidden form-control" id="scale_team_answer_question_id" name="[scale_team][answers_attributes][3][question_id]" type="hidden" value="312"></div></div>
<div class="marked-title text-center">Rate it from 0 (failed) through 5 (excellent)</div>
<input autocomplete="off" class="star-range slided" data-star-range="" max="5" name="[scale_team][answers_attributes][3][value]" step="1" type="range" value="0" style="position: absolute; width: 1px; height: 1px; overflow: hidden; opacity: 0;"><div class="rangeslider" id="js-rangeslider-2"><div class="rangeslider__fill" style="width: 20px;"></div><div class="rangeslider__handle" style="left: 0px;"></div></div>
</div>
</section>
<section class="scale-section-item dancer from-down" id="section-156">
<h3 class="main-title">ex04 auth</h3>
<p>Le but de cet exercice est d'utiliser en même temps les session et la gestion du login/pass, afin de stocker dans la session que l'utilisateur est bien identifié sans faire transiter en permanence son mot de passe sur le réseau.

Il fallait commence par écrire une fonction vérifiant le login/pass soumis par l'utilisateur 
function auth($login, $passwd);
La fonction renvoie TRUE ou FALSE si c'est un couple login/pass valide ou non.

Puis créer un fichier login.php qui utilise cette fonction et si elle répond TRUE stock le login dans la variable de session $_SESSION['loggued_on_user'] sinon une chaîne vide.

Puis créer un fichier logout.php qui détruit la session.

Puis créer un fichier whoami.php qui affiche le contenu de $_SESSION['loggued_on_user']. Si cette dernière est vide ou inexistante, cela signifie qu'aucun utilisateur n'est identifié sur cette session. Dans ce cas répondre "ERROR\n"</p>
<h4 class="scale-question-name">ex04 auth</h4>
<p class="scale-section-guidelines">
login.php et whoami.php fonctionnent ? +3pt
<br>
<br></p><pre><br>$&gt; rm ~/mamp/apps/j04/htdocs/private/passwd
<br>$&gt; curl -d login=toto -d passwd=titi -d submit=OK 'http://j04.local.42.fr:8080/ex02/create.php'
<br>OK
<br>$&gt; curl -c cook.txt 'http://j04.local.42.fr:8080/ex04/login.php?login=toto&amp;passwd=titi'
<br>OK
<br>$&gt; curl -b cook.txt 'http://j04.local.42.fr:8080/ex04/whoami.php'
<br>toto
<br>$&gt;
<br></pre>
<br>
<br>login.php inclus bien auth.php ? +1pt
<br>
<br>logout.php détruit bien la session ? +1pt
<br>
<br><pre><br>$&gt; curl -b cook.txt 'http://j04.local.42.fr:8080/ex04/logout.php'
<br>$&gt; curl -b cook.txt 'http://j04.local.42.fr:8080/ex04/whoami.php'
<br>ERROR
<br>$&gt;
<br></pre>
<p></p>
<div class="scale-question-answers">
<div class="form-group hidden scale_team_answer_id"><div class="col-sm-10"><input class="hidden form-control" id="scale_team_answer_id" name="[scale_team][answers_attributes][4][id]" type="hidden"></div></div>
<div class="form-group hidden scale_team_answer_question_id"><div class="col-sm-10"><input class="hidden form-control" id="scale_team_answer_question_id" name="[scale_team][answers_attributes][4][question_id]" type="hidden" value="313"></div></div>
<div class="marked-title text-center">Rate it from 0 (failed) through 5 (excellent)</div>
<input autocomplete="off" class="star-range slided" data-star-range="" max="5" name="[scale_team][answers_attributes][4][value]" step="1" type="range" value="0" style="position: absolute; width: 1px; height: 1px; overflow: hidden; opacity: 0;"><div class="rangeslider" id="js-rangeslider-3"><div class="rangeslider__fill" style="width: 20px;"></div><div class="rangeslider__handle" style="left: 0px;"></div></div>
</div>
</section>
<section class="scale-section-item dancer from-down" id="section-157">
<h3 class="main-title">ex05 42chat</h3>
<p>Le but de cet exercice est de créer un chat multi-utilisateur en réutilisant les fichiers des exercices précédents
</p>
<h4 class="scale-question-name">ex05 42chat 1/2</h4>
<p class="scale-section-guidelines">
- index.html contient un formulaire permettant de se logguer, un lien permettant de créer son compte, un lien permettant de le modifier ? +1pt
<br>
<br>- une fois son compte créé on peut se logguer et la page affiche 2 iframes ? +1pt
<br>
<br></p><pre><br>$&gt; curl -d login=user1 -d passwd=pass1 -d submit=OK 'http://j04.local.42.fr:8080/ex05/create.php'
<br>OK
<br>$&gt; curl -d login=user2 -d passwd=pass2 -d submit=OK 'http://j04.local.42.fr:8080/ex05/create.php'
<br>OK
<br>$&gt; curl -c user1.txt -d login=user1 -d passwd=pass1 -d submit=OK 'http://j04.local.42.fr:8080/ex05/login.php'
<br>...
<br>  &lt;iframe name="chat" src="chat.php" width="100%" height="550px"&gt;&lt;/iframe&gt;
<br>  &lt;iframe name="speak" src="speak.php" width="100%" height="50px"&gt;&lt;/iframe&gt;
<br>...
<br></pre>
<br>
<br>- l'iframe du bas contient un formulaire qui permet via speak.php d'ajouter une ligne au chat (/private/chat) ? +1pt
<br>
<br><pre><br>$&gt; curl -b user1.txt -d submit=OK -d msg=Bonjours 'http://j04.local.42.fr:8080/ex05/speak.php'
<br>...
<br>$&gt; curl -c user2.txt -d login=user2 -d passwd=pass2 -d submit=OK 'http://j04.local.42.fr:8080/ex05/login.php'
<br>...
<br>$&gt; curl -b user2.txt -d submit=OK -d msg=Hello 'http://j04.local.42.fr:8080/ex05/speak.php'
<br>...
<br></pre>
<br>
<br>- le fichier /private/chat se rempli (le champ time bien sûr ne sera pas identique à l'exemple) ? +1pt
<br>
<br><pre><br>$&gt; more ~/mamp/apps/j04/htdocs/private/chat
<br>a:2:{i:0;a:3:{s:5:"login";s:5:"user1";s:4:"time";i:1364287362;s:3:"msg";s:8:"Bonjours";}i:1;a:3:{s:5:"login";s:5:"user2";s:4:"time";i:1364287423;s:3:"msg";s:5:"Hello";}}
<br></pre>
<br>
<br>- le fichier chat.php formate et affiche le contenu de /private/chat ? +1pt
<br>
<br><pre><br>$&gt; curl -b user2.txt 'http://j04.local.42.fr:8080/ex05/chat.php'
<br>[09:42] &lt;b&gt;user1&lt;/b&gt;: Bonjours&lt;br /&gt;
<br>[09:43] &lt;b&gt;user2&lt;/b&gt;: Hello&lt;br /&gt;
<br>$&gt; 
<br></pre>
<p></p>
<div class="scale-question-answers">
<div class="form-group hidden scale_team_answer_id"><div class="col-sm-10"><input class="hidden form-control" id="scale_team_answer_id" name="[scale_team][answers_attributes][5][id]" type="hidden"></div></div>
<div class="form-group hidden scale_team_answer_question_id"><div class="col-sm-10"><input class="hidden form-control" id="scale_team_answer_question_id" name="[scale_team][answers_attributes][5][question_id]" type="hidden" value="314"></div></div>
<div class="marked-title text-center">Rate it from 0 (failed) through 5 (excellent)</div>
<input autocomplete="off" class="star-range slided" data-star-range="" max="5" name="[scale_team][answers_attributes][5][value]" step="1" type="range" value="0" style="position: absolute; width: 1px; height: 1px; overflow: hidden; opacity: 0;"><div class="rangeslider" id="js-rangeslider-4"><div class="rangeslider__fill" style="width: 20px;"></div><div class="rangeslider__handle" style="left: 0px;"></div></div>
</div>
<h4 class="scale-question-name">ex05 42chat 2/2</h4>
<p class="scale-section-guidelines">
- quand on valide le formulaire de speak.php, l'autre iframe (chat.php) se reload ? +1pt
<br>
<br>- on peut se délogguer et speak.php n'autorise pas à poster un nouveau message ? +1pt
<br>
<br></p><pre><br>&gt; curl -b user1.txt -c user1.txt 'http://j04.local.42.fr:8080/ex05/logout.php'
<br>$&gt; curl -b user1.txt -d submit=OK -d msg=Bonjours 'http://j04.local.42.fr:8080/ex05/speak.php'
<br>ERROR
<br>$&gt; 
<br></pre>
<br>
<br>- utilisation de flock dans speak.php pour ne pas écrire à plusieurs simultanément dans /private/chat -&gt; +2pt
<br>- utilisation de flock dans chat.php pour ne pas lire /private/chat alors que quelqu'un est en train de le modifier -&gt; +1pt
<br>
<p></p>
<div class="scale-question-answers">
<div class="form-group hidden scale_team_answer_id"><div class="col-sm-10"><input class="hidden form-control" id="scale_team_answer_id" name="[scale_team][answers_attributes][6][id]" type="hidden"></div></div>
<div class="form-group hidden scale_team_answer_question_id"><div class="col-sm-10"><input class="hidden form-control" id="scale_team_answer_question_id" name="[scale_team][answers_attributes][6][question_id]" type="hidden" value="315"></div></div>
<div class="marked-title text-center">Rate it from 0 (failed) through 5 (excellent)</div>
<input autocomplete="off" class="star-range slided" data-star-range="" max="5" name="[scale_team][answers_attributes][6][value]" step="1" type="range" value="0" style="position: absolute; width: 1px; height: 1px; overflow: hidden; opacity: 0;"><div class="rangeslider" id="js-rangeslider-5"><div class="rangeslider__fill" style="width: 20px;"></div><div class="rangeslider__handle" style="left: 0px;"></div></div>
</div>
</section>
</div>
</div>
<div class="container-item">
<h2 class="main-title primary">Conclusion</h2>
<div class="on-grey">
<div class="scale-final-evaluation hidden">
<div class="form-group radio_buttons optional scale_team_flag"><label class="radio_buttons optional col-sm-2 control-label">Flag</label><div class="col-sm-10"><span class="radio"><label for="scale_team_flag_ok" name="scale_team[flag]"><input checked="checked" class="radio_buttons optional" id="scale_team_flag_ok" name="scale_team[flag]" type="radio" value="ok">Ok</label></span><span class="radio"><label for="scale_team_flag_empty_work" name="scale_team[flag]"><input class="radio_buttons optional" id="scale_team_flag_empty_work" name="scale_team[flag]" type="radio" value="empty_work">Empty Work</label></span><span class="radio"><label for="scale_team_flag_incomplete_work" name="scale_team[flag]"><input class="radio_buttons optional" id="scale_team_flag_incomplete_work" name="scale_team[flag]" type="radio" value="incomplete_work">Incomplete Work</label></span><span class="radio"><label for="scale_team_flag_no_author_file" name="scale_team[flag]"><input class="radio_buttons optional" id="scale_team_flag_no_author_file" name="scale_team[flag]" type="radio" value="no_author_file">No Author File</label></span><span class="radio"><label for="scale_team_flag_invalid_compilation" name="scale_team[flag]"><input class="radio_buttons optional" id="scale_team_flag_invalid_compilation" name="scale_team[flag]" type="radio" value="invalid_compilation">Invalid Compilation</label></span><span class="radio"><label for="scale_team_flag_norme" name="scale_team[flag]"><input class="radio_buttons optional" id="scale_team_flag_norme" name="scale_team[flag]" type="radio" value="norme">Norme</label></span><span class="radio"><label for="scale_team_flag_cheat" name="scale_team[flag]"><input class="radio_buttons optional" id="scale_team_flag_cheat" name="scale_team[flag]" type="radio" value="cheat">Cheat</label></span><span class="radio"><label for="scale_team_flag_crash" name="scale_team[flag]"><input class="radio_buttons optional" id="scale_team_flag_crash" name="scale_team[flag]" type="radio" value="crash">Crash</label></span></div></div>
</div>
<div class="scale-final-comments" id="comments-33">
<p class="marked-title">Leave a comment on this correction</p>
<div class="form-group text required scale_team_comment"><label class="text required col-sm-2 control-label" for="scale_team_comment"><abbr title="required">*</abbr> Comment</label><div class="col-sm-10"><textarea class="text required form-control" id="scale_team_comment" name="scale_team[comment]"></textarea></div></div>
</div>
<div class="scale-final-submit">
<input class="btn btn-primary btn-block" data-disable-with="Finishing correction..." name="commit" type="submit" value="Finish correction">
</div>
</div>
</div>
</form>




</div>
</div>
<div class="page-sidebar right-main-container page-sidebar-fixed-right under-main-navbar">
<div class="app-sidebar-right" id="navbar-scale">
<ul class="nav" role="tablist">
<li class="dancer from-down" data-radio-item="flag">
<h4 class="marked-title">Ratings</h4>
<label class="active block-item label_flag_ok unpadded" for="scale_team_flag_ok" name="scale_team[flag]">
<span class="icon-checkmark"></span>
Ok
</label>
<label class="block-item label_flag_empty_work unpadded" for="scale_team_flag_empty_work" name="scale_team[flag]">
<span class="icon-question-circle"></span>
Empty work
</label>
<label class="block-item label_flag_incomplete_work unpadded" for="scale_team_flag_incomplete_work" name="scale_team[flag]">
<span class="icon-exclamation-circle"></span>
Incomplete work
</label>
<label class="block-item label_flag_no_author_file unpadded" for="scale_team_flag_no_author_file" name="scale_team[flag]">
<span class="icon-user"></span>
No author file
</label>
<label class="block-item label_flag_invalid_compilation unpadded" for="scale_team_flag_invalid_compilation" name="scale_team[flag]">
<span class="icon-gears"></span>
Invalid compilation
</label>
<label class="block-item label_flag_norme unpadded" for="scale_team_flag_norme" name="scale_team[flag]">
<span class="icon-book"></span>
Norme
</label>
<label class="block-item label_flag_cheat unpadded" for="scale_team_flag_cheat" name="scale_team[flag]">
<span class="icon-times-circle"></span>
Cheat
</label>
<label class="block-item label_flag_crash unpadded" for="scale_team_flag_crash" name="scale_team[flag]">
<span class="icon-fire2"></span>
Crash
</label>
</li>
<li class="dancer from-down">
<h4 class="marked-title">Presentation</h4>
</li>
<li class="dancer from-down">

</li>
<li class="dancer from-down">

</li>
<li class="dancer from-down">

</li>
<li class="dancer from-down">
<a href="https://projects.intrav2.42.fr/projects/piscine-php-d04/scales/33/scale_teams/42528/edit#guidelines-33">Guidelines</a>
</li>
<li class="dancer from-down">

</li>
<li class="dancer from-down">
<h4 class="marked-title">Sections</h4>
</li>
<li class="dancer from-down">
<a href="https://projects.intrav2.42.fr/projects/piscine-php-d04/scales/33/scale_teams/42528/edit#section-152">ex00 vhost</a>
</li>
<li class="dancer from-down">
<a href="https://projects.intrav2.42.fr/projects/piscine-php-d04/scales/33/scale_teams/42528/edit#section-153">ex01 session</a>
</li>
<li class="dancer from-down">
<a href="https://projects.intrav2.42.fr/projects/piscine-php-d04/scales/33/scale_teams/42528/edit#section-154">ex02 create_account</a>
</li>
<li class="dancer from-down">
<a href="https://projects.intrav2.42.fr/projects/piscine-php-d04/scales/33/scale_teams/42528/edit#section-155">ex03 modif_account</a>
</li>
<li class="dancer from-down">
<a href="https://projects.intrav2.42.fr/projects/piscine-php-d04/scales/33/scale_teams/42528/edit#section-156">ex04 auth</a>
</li>
<li class="dancer from-down">
<a href="https://projects.intrav2.42.fr/projects/piscine-php-d04/scales/33/scale_teams/42528/edit#section-157">ex05 42chat</a>
</li>
<li class="dancer from-down">
<h4 class="marked-title">Conclusion</h4>
</li>
<li class="dancer from-down">
<a href="https://projects.intrav2.42.fr/projects/piscine-php-d04/scales/33/scale_teams/42528/edit#comments-33">Comment</a>
</li>
</ul>
</div>


</div>
<div class="right-sidebar-fix"></div>
</div>
<div aria-hidden="true" aria-labelledby="bugModalLabel" class="modal fade" id="smartModal" role="dialog" tabindex="-1">
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header">
<button aria-hidden="true" class="close" data-dismiss="modal" type="button">
x
</button>
<h3 id="bugModalLabel">
A bug ?
</h3>
</div>
<div class="modal-body">
<h4 class="note-title">Please wait...</h4>
</div>
<div class="modal-footer">
<button aria-hidden="true" class="btn" data-dismiss="modal">Cancel</button>
<button class="send btn btn-primary">Send</button>
</div>
</div>
</div>
</div>

<div class="notifications-container"></div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  
  ga('create', "UA-55986469-3", 'auto');
  
  ga('send', 'pageview');
</script>
<script>
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-56406133-1']);
  _gaq.push(['_setDomainName', 'intrav2.42.fr']);
  _gaq.push(['_trackPageview']);
</script>

<div class="hide" data-cache="true"></div>
<footer></footer>




<div id="global-zeroclipboard-html-bridge" class="global-zeroclipboard-container" style="position: absolute; left: 0px; top: -9999px; width: 1px; height: 1px; z-index: 999999999;"><object id="global-zeroclipboard-flash-bridge" name="global-zeroclipboard-flash-bridge" width="100%" height="100%" type="application/x-shockwave-flash" data="https://projects.intrav2.42.fr/assets/clipboard-8d300934b0e6dbff620155650e9246a4.swf?noCache=1428923332981"><param name="allowScriptAccess" value="sameDomain"><param name="allowNetworking" value="all"><param name="menu" value="false"><param name="wmode" value="transparent"><param name="flashvars" value="trustedOrigins=projects.intrav2.42.fr%2C%2F%2Fprojects.intrav2.42.fr%2Chttps%3A%2F%2Fprojects.intrav2.42.fr&amp;swfObjectId=global-zeroclipboard-flash-bridge&amp;jsVersion=2.2.0"><div id="global-zeroclipboard-flash-bridge_fallbackContent">&nbsp;</div></object></div></body></html>