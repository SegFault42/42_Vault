(function(){define("project/answer",["jquery"],function(e){var t;return t=function(){function t(){e(document).on("change","[data-star-range]",function(){return e(this).attr("data-star-range",e(this).val())})}return t}()})}).call(this),function(){define("project/calendar",["jquery","noty","fullcalendar"],function(e){var t;return t=function(){function t(){var t;t=this,this._$modal=e("#slotSelectionModalContainer"),this._$calendar=e("#calendar"),this._$loading=e("#loading"),this.calendar=this._$calendar.fullCalendar({header:{left:"",center:"title",right:"today prev next"},axisFormat:"h:mm a",defaultDate:moment().add(1,"d"),defaultView:"agendaWeek",firstDay:1,allDaySlot:!1,slotEventOverlap:!1,selectable:!1,selectHelper:!0,slotDuration:"00:30:00",snapDuration:"00:15:00",eventClick:function(e){return function(e){var n;return n=e.ids.split(",").map(function(e){return e>>0}),t._populateModal(n,e),t._$modal.modal("show")}}(this),loading:function(e){return function(t){e._isLoading=t;if(e._isLoading)return e._intervalHandler=clearInterval(e._intervalHandler),e._timeOutHandler=setTimeout(function(){return e._loadingEnable=!0,e._$loading.show(),e._intervalHandler=setInterval(function(){if(!e._isLoading)return e._$loading.fadeOut(),e._loadingEnable=!1,e._intervalHandler=clearInterval(e._intervalHandler)},1e3)},100);if(!e._loadingEnable)return clearTimeout(e._timeOutHandler)}}(this),events:function(n,r,i,s){var o;return o={start:n.format(),end:r.format()},e.getJSON(t._$calendar.data("index-url"),o,function(e){return s(e)})}}),this._bind()}return t.prototype._bind=function(){return this._$modal.on("hidden.bs.modal",".btn-primary",function(){return e(this).off(".modal")}),this._$modal.on("click.modal",".btn-primary",this._sendSelectedSession.bind(this))},t.prototype._sendSelectedSession=function(){var t,n,r,i;return t=this._$modal.find(".modal-body select"),r=t.val()>>0,n=t.data("ids").split(",").slice(r,r+this._$calendar.data("duration")).join(","),i=this._$calendar.data("update-url").replace(":ids",n),e.ajax({url:i,type:"post",dataType:"json",data:{start:this._$calendar.fullCalendar("getView").start.format(),end:this._$calendar.fullCalendar("getView").end.format(),_method:"put"},success:function(e){return function(t){if(t.status===200)return document.location=e._$calendar.data("reload-url")}}(this),complete:this._showNotification})},t.prototype._populateModal=function(t,n){var r,i,s,o,u,a,f,l;f=moment(n._start),u=this._$calendar.data("duration"),l=15,r=this._$modal.find(".modal-body select"),r.empty(),o=t.length-u;for(i=s=0,a=o;0<=a?s<=a:s>=a;i=0<=a?++s:--s)r.append(e('<option value="'+i+'"> From '+n._start.format("LT")+" to "+n._start.add(l*u,"m").format("LT")+" </option>")),n._start.subtract((u-1)*l,"m");return n._start=f,r.data("ids",t.join(","))},t.prototype._showNotification=function(e){return e=e.responseJSON,noty({layout:"topRight",type:e.status===200?"success":"error",text:e.message,timeout:4e3})},t}(),t.isCalendar=function(){return e("#calendar").length},t})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define("project/scales",["jquery","rangeslider"],function(t){var n;return n=function(){function n(){this._onSkillIdChange=e(this._onSkillIdChange,this),this._onQuestionKindChange=e(this._onQuestionKindChange,this),this._sliderSlt='input[type="range"]',this._skillSummaryCtnSlt=".skillSummary",this._typeInputInputSlt="[data-skill-type]",this._questionKindInputSlt="[data-question-kind]",this._addSkillStl="[data-association='questions_skills'].add_nested_fields",this._getSummarySkills(),this._createSliders(),this._bind(),t(""+this._sliderSlt).parents(".form-group").show(),this._updateLimits(),this._updateSummary()}return n.prototype._createSliders=function(){var e;return e=this,t(""+this._sliderSlt).not(".slided").each(function(e){return function(n,r){var i,s;return i=t(r),s=i.data("kind"),i.attr("max",s==="standard"?100:25),i.rangeslider({polyfill:!1,onSlide:function(){return e._checkLimit.apply(e,t.merge(arguments,this.$element))},onSlideEnd:function(){return e._updateLimits(),e._updateSummary()}}),i.addClass("slided")}}(this))},n.prototype._bind=function(){return t(document).on("change",this._questionKindInputSlt,this._onQuestionKindChange),t(document).on("change",this._typeInputInputSlt,this._onSkillIdChange),t(document).on("nested:fieldRemoved",function(e){return function(){return e._updateLimits(),e._updateSummary()}}(this)),t(document).on("nested:fieldAdded:questions",function(e){return function(t){return t.field.find(""+e._questionKindInputSlt).change()}}(this)),t(document).on("nested:fieldAdded:questions_skills",function(e){return function(){var n,r;return n=t(""+e._sliderSlt).not(".slided"),r=n.parents(".fields:eq(1)").find(""+e._questionKindInputSlt).val(),n.data("kind",r),e._createSliders(),n.parents(".fields:eq(0)").find("[data-skill-type]").change()}}(this))},n.prototype._onQuestionKindChange=function(e){var n,r,i;return i=t(e.currentTarget),r=i.parents(".fields").first(),n=r.find(""+this._sliderSlt),n.data("kind",i.val()),n.val(0),n.rangeslider("destroy").removeClass("slided"),this._createSliders(),this._updateLimits(),this._updateSummary()},n.prototype._onSkillIdChange=function(e){var n,r,i,s;return n=t(e.currentTarget),s=n.val(),i=n.parents(".form-group").next(),r=i.find(""+this._sliderSlt),s?(i.fadeIn("slow"),r.attr("data-slider-id",s)):i.fadeOut("slow"),r.val(0),this._updateLimits(),s&&r.val(r.data("slider-limit")).change(),this._updateLimits(),this._updateSummary()},n.prototype._checkLimit=function(e,n,r){var i,s;s=t(r).data("kind")==="malus"?"-":"",t(r).next().find(".rangeslider__handle").html(""+s+n),i=t(r).data("slider-limit");if(n>i)return t(r).val(i).change()},n.prototype._updateLimits=function(){var e;return e=this._getUniqSliders(),e.each(function(e){return function(n,r){var i,s,o,u,a,f;return s=t(r).attr("data-slider-id"),o=t(r).data("kind"),a=t(r).attr("max")>>0,f=t(r).attr("min")>>0,i=t(e._sliderSlt+":visible[data-slider-id="+s+"]").filter(function(e,n){return t(n).data("kind")===o}),u=a,i.each(function(e,n){return u-=t(n).val()>>0}),u<f&&(u=f),i.each(function(e,n){return t(n).data("slider-limit",u+(t(n).val()>>0))})}}(this))},n.prototype._getUniqSliders=function(){var e,n;return e=t(this._sliderSlt+":visible.slided"),n={standard:[],malus:[],bonus:[]},e=e.filter(function(e,r){var i,s;return i=t(r).attr("data-slider-id"),s=t(r).data("kind"),n[s].indexOf(i)===-1?(n[s].push(i),!0):!1})},n.prototype._getSummarySkills=function(){return this._summarySkills=t(this._skillSummaryCtnSlt+" [data-skill-id]").map(function(e,n){return{id:t(n).attr("data-skill-id"),$element:t(n)}})},n.prototype._updateSummary=function(){return this._summarySkills.each(function(e){return function(n,r){var i,s;return s={standard:0,bonus:0,malus:0},r.id!=null&&(i=t(e._sliderSlt+":visible[data-slider-id="+r.id+"]"),i.each(function(e,n){var r;return r=t(n).data("kind"),s[r]+=t(n).val()>>0})),r.$element.find(".standard .value").html(s.standard),r.$element.find(".bonus .value").html(s.bonus),r.$element.find(".malus .value").html("-"+s.malus)}}(this))},n}(),n.isScales=function(){return t(".skillSummary").length},n})}.call(this),function(){define("project/radios",["jquery"],function(e){var t;return t=function(){function t(){var t;t=this,e("[data-radio-item] label").each(function(){var n;return n=this,e("#"+e(this).attr("for")).on("change",function(){return t._activate(n)}),e(this).on("click",function(){return t._activate(this)})})}return t.prototype._activate=function(t){var n;return n=e(t).parent().attr("data-radio-item"),e("[data-radio-item='"+n+"'] label").removeClass("active"),e(t).addClass("active"),e(t).attr("for")!=="scale_team_flag_ok"?e(".scale-section-answers").addClass("hidden"):e(".scale-section-answers").removeClass("hidden")},t}()})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define("project/rules",["jquery"],function(t){var n;return n=function(){function n(){this.changed=e(this.changed,this),this.url=t("[data-select-url]").data("select-url"),t(".rules_select").each(function(){if(t(this).find("option:checked").attr("value").length===0)return t(this).parents(".form-group").siblings(".params_fields").html("")}),t("form").on("change",".rules_select",function(e){return function(t){return e.changed(t.target)}}(this))}return n.prototype.changed=function(e){var n;if(t(e).find("option:checked").attr("value").length===0){t(e).parents(".form-group").siblings(".params_fields").html("");return}return n=this.url.replace(":id",t(e).find("option:checked").attr("value")),t.getJSON(n,function(n){var r,i;return i="<div class='form-group input optional project_projects_rules_rule'>",r=t(e).attr("name"),t.each(n,function(e,t){var n;return n=(new Date).getTime(),i+="<label class='select optional col-sm-2 control-label' for='project_projects_rules_attributes_params_attributes_"+n+"_rule_id'>"+t.name+"</label>",i+="<div class='col-sm-10'><input class='input optional form-control' value='"+t.default_value.replace(/(')/g,"&#39;")+"' id='project_projects_rules_attributes_params_attributes_"+n+"_value' name='"+r.replace("[rule_id]","[params_projects_rules_attributes]["+n+e+"][value]")+"' /></div>",i+="<div class='col-sm-12'><input class='hidden optional form-control' value='"+t.id+"' name='"+r.replace("[rule_id]","[params_projects_rules_attributes]["+n+e+"][param_id]")+"' /></div>"}),t(e).parents(".form-group").siblings(".params_fields").html(i+"</div>")})},n}(),n.isRules=function(){return t("[data-select-url]").length},n})}.call(this),function(){define("project/skills",["jquery","rangeslider"],function(e){var t;return t=function(){function t(){this._$form=e("form"),this._rangeSlt='input[type="range"]:visible',this._$difficulty=e("[data-difficulty]"),this._updateLimits(),e(""+this._rangeSlt).each(function(t){return function(n,r){return t._initSlider(e(r))}}(this)),this._$difficulty.on("change",function(t){return function(){return t._updateRanges(e(""+t._rangeSlt))}}(this)),e(document).on("nested:fieldRemoved:projects_skills",function(e){return function(){return e._updateLimits()}}(this)),e(document).on("nested:fieldAdded:projects_skills",function(t){return function(){return t._updateRanges(e(""+t._rangeSlt).not(".slided"))}}(this))}return t.prototype._updateRanges=function(t){var n,r;return r=e("[data-difficulty]").val()==="0"?100:e("[data-difficulty]").val(),n=parseFloat(r),t.each(function(t){return function(r,i){var s,o,u,a;return s=e(i),a=s.attr("max"),u=n*s.val()/a,o=n/100,s.attr("max",n).attr("step",o),s.rangeslider("destroy"),s.val(u),t._initSlider(s),s.val(u)}}(this)),this._updateLimits()},t.prototype._initSlider=function(e){return e.rangeslider({polyfill:!1,onSlide:this._checkLimit,onSlideEnd:function(e){return function(){return e._updateLimits()}}(this)}),e.addClass("slided")},t.prototype._checkLimit=function(t,n){var r,i,s;s=e("[data-difficulty]").val()==="0"?100:e("[data-difficulty]").val(),i=n*100/parseFloat(s),this.$element.next().find(".rangeslider__handle").html(i),r=this.$element.data("rangeUntil");if(n>r)return this.$element.val(r).change()},t.prototype._updateLimits=function(){var t,n;return n=e("[data-difficulty]").val()==="0"?100:e("[data-difficulty]").val(),t=parseFloat(n),e(""+this._rangeSlt).each(function(n,r){return t-=parseFloat(e(r).val())}),t<0&&(t=0),e(""+this._rangeSlt).each(function(n,r){return e(r).data("rangeUntil",parseFloat(e(r).val())+t)})},t.prototype.modalCondition=function(){var t;return t=0,e(""+this._rangeSlt).each(function(n,r){return t+=e(r).next().find(".rangeslider__handle").html()>>0}),t!==100&&e("[data-difficulty]").val()!=="0"},t.prototype.modalConfirmation=function(){return this._$form.submit()},t}(),e(".skillSummary").length===0?new t:{}})}.call(this),function(){define("project/main",["require","jquery","project/answer","project/calendar","project/scales","project/radios","project/rules","project/skills"],function(e,t,n,r,i,s,o){var u;return u=function(){function e(){i.isScales()&&new i,r.isCalendar()&&new r,o.isRules()&&new o,new n,new s}return e}()})}.call(this),define("project",["project/main"],function(e){return e}),function(){define("sortable",["jquery","noty","jquery-ui/ui/sortable"],function(e){var t;return t=function(){function t(){var t;t=this,e("[data-sortable]").sortable({axis:"y",update:function(){return t.update(e(["data-update-url"]).data("update-url"),e(this).sortable("serialize"),!0)}}),e("#save_all_sorted").click(function(){var n;return n=0,e("[data-sortable]").each(function(){return n++,t.update(e(["data-update-url"]).data("update-url"),e(this).sortable("serialize"),n===1)})})}return t.prototype._update=function(t,n,r){e.post(t,n);if(r===!0)return noty({layout:"topRight",type:"success",text:"Updated",timeout:4e3})},t}()})}.call(this),function(){define("animMaster/helpers",["jquery","async","easel","tween"],function(e,t){var n;return n=function(e){var t;return t=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/,t.test(e)},{getData:function(t,n){var r,i;i=1,r=function(s){var o,u,a,f;a=[];for(u in s)f=s[u],_.isObject(f)?f.ajax?(i++,o=u,a.push(e.getJSON(f.ajax).then(function(e){s[o]=e,i--;if(i===0)return t(null,n)}))):a.push(r(f)):a.push(s[u]=f);return a},r(n),i--;if(i===0)return t(null,n)},getRadianAngle:function(e,t){var n;return t=t||0,e=e||360,n=360*Number(this)/e,(t+n)*Math.PI/180},getDegreeAngle:function(e){return(Number(this)*(180/Math.PI)>>0)-e},setter:function(e,t,n,r,i){return e[n]=i,t(r)},emit:function(e,t,n){var r;return r=new createjs.Event(t),r.data=n,e.dispatchEvent(r)}}})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define("animMaster/base",["jquery","async","stats","animMaster/helpers"],function(t,n,r,i){var s,o,u;return u=1920,o=1350,s=function(){function s(t){this.emit=e(this.emit,this),this._set=_.curry(i.setter)(this),n.series([function(e){return function(n){return i.getData(e._set(n,"data"),t.data||{})}}(this),function(e){return function(n){return e._createStage(n,t)}}(this),function(e){return function(t){return e._createElements(t)}}(this),function(e){return function(t){return e._bindEvents(t)}}(this),function(e){return function(n){return e._startStats(n,t)}}(this)],function(e){return function(t,n){if(!t)return e.start()}}(this))}return s.prototype._createStage=function(e,t){return this._stage=new createjs.Stage(t.viewId),this._stage._stage=this._stage,this._stage.realWidth=t.scale.width||u,this._stage.realHeight=t.scale.height||o,this._stage.toResize=!0,createjs.Ticker.timingMode=createjs.Ticker.RAF_SYNCHED,createjs.Ticker.setFPS(60),this._stage.enableMouseOver(),e()},s.prototype._bindEvents=function(){return t(window).on("resize orientationchange",function(e){return function(){return e._stage.toResize=!0}}(this))},s.prototype._startStats=function(e,t){return t.stats?(this._stats=new r,this._stats.domElement.style.position="absolute",this._stats.domElement.style.top="0",this._stats.domElement.style.right="0",this._stats.domElement.style["z-index"]="2000",document.body.appendChild(this._stats.domElement),e()):e()},s.prototype._resize=function(){var e,n,r;return r=window.innerWidth-t(".page-content").position().left,e=window.innerHeight-t(".page-content").position().top,n=Math.min(r/this._stage.realWidth,e/this._stage.realHeight),this._stage.scaleX=n,this._stage.scaleY=n,this._stage.canvas.width=this._stage.realWidth*n,this._stage.canvas.height=this._stage.realHeight*n,this._stage.toResize=!1},s.prototype.start=function(){var e,t;return t=function(e){return function(){return e._stage.toResize&&e._resize(),e._stage.update()}}(this),e=t,this._stats&&(e=function(e){return function(){return e._stats.begin(),t(),e._stats.end()}}(this)),createjs.Ticker.addEventListener("tick",e)},s.prototype.emit=function(e,t){return i.emit(this._stage,e,t)},s}()})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;define("animMaster/element",["async","animMaster/helpers"],function(n,r){var i;return i=function(i){function s(t,i){this.emit=e(this.emit,this),this._setMargin=e(this._setMargin,this),this.Container_constructor(),this.container=i.container,this._set=_.curry(r.setter)(this),n.series([function(e){return function(t){return r.getData(e._set(t,"data"),i.data||{})}}(this),function(e){return function(t){return e._createContent(t)}}(this),function(e){return function(t){return e._setContent(t,i)}}(this),function(e){return function(t){return e._setMargin(t)}}(this),function(e){return function(t){return e._createElements(t)}}(this),function(e){return function(t){return e._bindEvents(t)}}(this)],function(e){return function(){return t(null,e)}}(this))}return t(s,i),s.prototype._createContent=function(e){return this._stage=this.container._stage,this.content=this,this.container.addChild(this),e()},s.prototype._setMargin=function(e){var t,n,r;return this.content.margin&&(r=this.content.margin,t=this.content._stage,n=this.content.clone(),n.set({x:r,y:r,width:this.content.width-r*2,height:this.content.height-r*2}),this.content.addChild(n),this.content=n,this.content.margin=r,this.content._stage=t),e()},s.prototype.emit=function(e,t){return r.emit(this._stage,e,t)},s.prototype.getCircleAttr=function(e,t,n,r,i){var s,o;return o=360/t*e,s=(90-o)*Math.PI/180,{x:n+i*Math.cos(s),y:r-i*Math.sin(s),alpha:o}},s.prototype.getData=function(e,t){return r.getData(e,t)},s.prototype._bindEvents=function(e){return e()},s.prototype._setContent=function(e){return e()},s}(createjs.Container),createjs.EventDispatcher.initialize(i.prototype),createjs.promote(i,"Container"),i})}.call(this),function(){define("animMaster/main",["animMaster/base","animMaster/element","animMaster/helpers"],function(e,t,n){return Number.prototype.GRA=n.getRadianAngle,Number.prototype.GDA=n.getDegreeAngle,{Base:e,Element:t}})}.call(this),define("animMaster",["animMaster/main"],function(e){return e}),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;define("galaxy/profile/base",["jquery","async","animMaster"],function(t,n,r){var i;return i=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype._createElements=function(e){var t,n,r;return this.circle=(new createjs.Shape).set({graphics:(new createjs.Graphics).beginFill("#212226").drawCircle(0,0,330),scaleX:0,scaleY:0}),this.content.addChild(this.circle),this.avatar=(new createjs.Bitmap(this.data.avatar)).set({alpha:0,x:-160,y:-240,scaleX:2,scaleY:2,mask:(new createjs.Shape).set({graphics:(new createjs.Graphics).beginFill("#ff000").drawCircle(0,-60,130)})}),this.content.addChild(this.avatar),r=-90,t="#212226 ",n=270,this._hack=new createjs.Shape,this._hack.alpha=0,this._hack.command=this._hack.graphics.s(t).ss(30).arc(0,-60,140,r.GRA(),n.GRA(),!1).command,this.content.addChild(this._hack),this.login=(new createjs.Text).set({alpha:0,text:this.data.login,y:150,textAlign:"center",font:"40px Arial",color:"#5b5b60"}),this.content.addChild(this.login),this._shadow=(new createjs.Shape).set({graphics:(new createjs.Graphics).beginFill("#212226").drawCircle(0,0,360),alpha:0,mask:(new createjs.Shape).set({graphics:(new createjs.Graphics).beginFill("#ff000").drawRect(-1*this._stage.realWidth/2,-1*this._stage.realHeight/2,this._stage.realWidth,this._stage.realHeight/2)})}),this.content.addChildAt(this._shadow,0),e()},n.prototype._createCategoryLabel=function(e,t){return this._categoryLabel&&this.content.removeChild(this._categoryLabel),this._categoryLabel=(new createjs.Text).set({text:e,y:100,textAlign:"center",font:"30px Helvetica",color:t}),this.content.addChild(this._categoryLabel)},n.prototype._removeCategoryLabel=function(){if(this._categoryLabel)return this.content.removeChild(this._categoryLabel)},n.prototype.animations=function(){return{start:function(e){return function(t){return createjs.Tween.get(e.circle).to({scaleX:1,scaleY:1},200).call(function(){return createjs.Tween.get(e._hack).to({alpha:1},0).call(function(){return createjs.Tween.get(e.avatar).to({alpha:1},200,createjs.Ease.getPowInOut(5)).call(function(){return createjs.Tween.get(e.login).to({alpha:1},500,createjs.Ease.getPowInOut(5)).call(t,e)})})})}}(this),reduce:function(e){return function(t){return e._shadow.alpha===0?t():(e._removeCategoryLabel(),createjs.Tween.get(e._shadow).to({alpha:0},1e3).call(t,e))}}(this),expand:function(e){return function(t,n){return e._shadow.alpha===1?t():(e._createCategoryLabel(n.name,n.color),e._shadow.shadow=new createjs.Shadow(n.color,0,0,150),createjs.Tween.get(e._shadow).to({alpha:1},1e3).call(t,e))}}(this)}},n}(r.Element)})}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;define("galaxy/profile/xp",["jquery","async","animMaster"],function(t,n,r){var i;return i=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype._createElements=function(e){var t,n;return n=-90,t="#00bbbc",this._xp=new createjs.Shape,this._xp.command=this._xp.graphics.rs(["#2dd57a","#00babc"],[0,1],0,0,280,0,0,320).ss(45).arc(0,0,300,n.GRA(),n.GRA(),!1).command,this.content.addChild(this._xp),e()},n.prototype.animations=function(){return{start:function(e){return function(t){return createjs.Tween.get(e._xp.command).to({endAngle:e.data.xp.GRA(100,-90)},1e3,createjs.Ease.bounceOut).call(t,e)}}(this)}},n}(r.Element)})}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;define("galaxy/profile/categorie",["jquery","async","animMaster"],function(t,n,r){var i,s;return s={reduce:"reduce",expand:"expand"},i=function(t){function r(e,t){this._arcMargin=2,this._state=s.reduce,this.currentIndexPositionFromTopCategory=t.data.index,_super.apply(this,arguments)}return e(r,t),r.prototype._createElements=function(e){var t,n,r,i,s,o;return i=350,o=30,s=this._getRotation()-this._getArcSize()/2-this._arcMargin,t=this._getArcSize(),this._arc=(new createjs.Shape).set({cursor:"pointer",alpha:0,rotation:s}),this._arc._arcCommand=this._arc.graphics.s(this.data.color).ss(o).arc(0,0,i,0,t.GRA(),!1).command,this.content.addChild(this._arc),i=420,r=20,s=this._getRotation()-this._arcMargin,n="#333",this._point=(new createjs.Shape).set({alpha:0,rotation:s,cursor:"pointer"}),this._point.graphics.s(this.data.color).beginFill(n).ss(5).dc(i,0,r),this.content.addChild(this._point),this._createText(this._getRotation(0),0),e()},r.prototype._createText=function(e,t){var n,r;return r=500,n=this.getCircleAttr(e,360,0,-25,r),this._text=(new createjs.Text(this.data.name,"25px Helvetica",this.data.color)).set({alpha:t,x:n.x,y:n.y,cursor:"pointer",textAlign:this._setTextAlign()}),this.content.addChild(this._text)},r.prototype._bindEvents=function(e){return this._text.on("click",function(e){return function(){if(e.currentIndexPositionFromTopCategory!==0||e._state!==s.expand)return e.emit("category.clicked",{index:e.data.index,id:e.data.id})}}(this)),this._point.on("click",function(e){return function(){if(e.currentIndexPositionFromTopCategory!==0||e._state!==s.expand)return e.emit("category.clicked",{index:e.data.index,id:e.data.id})}}(this)),this._arc.on("click",function(e){return function(){if(e.currentIndexPositionFromTopCategory!==0||e._state!==s.expand)return e.emit("category.clicked",{index:e.data.index,id:e.data.id})}}(this)),this._point.on("mouseover",function(e){return function(){return e.emit("category.mouseovered",{index:e.data.index})}}(this)),this._point.on("mouseout",function(e){return function(){return e.emit("category.mouseouted",{index:e.data.index})}}(this)),this._arc.on("mouseover",function(e){return function(){return e.emit("category.mouseovered",{index:e.data.index})}}(this)),this._arc.on("mouseout",function(e){return function(){return e.emit("category.mouseouted",{index:e.data.index})}}(this)),e()},r.prototype._getRotation=function(e,t,n){var r;return e==null&&(e=-90),t==null&&(t=360),n==null&&(n=this.data.total),r=t/n*this.currentIndexPositionFromTopCategory+this._arcMargin,r=r<0?360+r:r,r+e},r.prototype._getArcSize=function(e,t){return e==null&&(e=360),t==null&&(t=this.data.total),e/t-this._arcMargin},r.prototype._setTextAlign=function(){return this.currentIndexPositionFromTopCategory===0||this.currentIndexPositionFromTopCategory===this.data.total/2?"center":this._state===s.reduce?this.currentIndexPositionFromTopCategory>this.data.total/2?"right":"left":this.currentIndexPositionFromTopCategory>0?"left":"right"},r.prototype._setCurrentIndexPositionFromTopCategory=function(e){this.currentIndexPositionFromTopCategory=(this.data.index-e+this.data.total)%this.data.total;if(this.currentIndexPositionFromTopCategory>this.data.total/2)return this.currentIndexPositionFromTopCategory-=this.data.total},r.prototype._getArcExpandRotation=function(e){var t;return this.currentIndexPositionFromTopCategory===0?t=e-90+this._getArcSize()/2:(this.currentIndexPositionFromTopCategory<0?e<0?t=(180+e%360)*-1+(this._getArcSize(180-this._arcMargin,this.data.total-1)+this._arcMargin)*this.currentIndexPositionFromTopCategory:t=180-e%360+(this._getArcSize(180-this._arcMargin,this.data.total-1)+this._arcMargin)*this.currentIndexPositionFromTopCategory:(e<180?t=0-e%360+(this._getArcSize(180-this._arcMargin,this.data.total-1)+this._arcMargin)*(this.currentIndexPositionFromTopCategory-1):t=360-e%360+(this._getArcSize(180-this._arcMargin,this.data.total-1)+this._arcMargin)*(this.currentIndexPositionFromTopCategory-1),t+=this._arcMargin,t%=360),t+=e),t},r.prototype._getPointExpandRotation=function(e){var t;return this.currentIndexPositionFromTopCategory===0?e:(this.currentIndexPositionFromTopCategory<0?t=this.currentIndexPositionFromTopCategory*-1*(this._getArcSize()+this._arcMargin)-(90+(this._getArcSize(180,this.data.total-1)+this._arcMargin)*this.currentIndexPositionFromTopCategory*-1)+this._getArcSize(180,this.data.total-1)/2:t=this.currentIndexPositionFromTopCategory*-1*(this._getArcSize()+this._arcMargin)+(90+(this._getArcSize(180,this.data.total-1)+this._arcMargin)*this.currentIndexPositionFromTopCategory)-this._getArcSize(180,this.data.total-1)/2-this._arcMargin/2,t%360+e)},r.prototype.animations=function(){return{start:function(e){return function(t){return createjs.Tween.get(e._arc).to({alpha:1},500),createjs.Tween.get(e._point).to({alpha:1},500),createjs.Tween.get(e._text).to({alpha:1},500).call(t,e)}}(this),rotate:function(e){return function(t,r,i){var s;return s=function(e,t){var n;return n=t.rotation+i,t._saveRotation=n,createjs.Tween.get(t).to({rotation:n},1e3).call(e,this)},e._setCurrentIndexPositionFromTopCategory(r),n.parallel([function(t){return s(t,e._arc)},function(t){return s(t,e._point)}],t)}}(this),reduce:function(e){return function(t){var r;return e.content.removeChild(e._text),e._text=null,e._state===s.reduce?t():(e._state=s.reduce,r=e._getArcSize(),n.parallel([function(t){return createjs.Tween.get(e._arc).to({rotation:e._arc._saveRotation},1e3,createjs.Ease.circInOut).call(t,e)},function(t){return createjs.Tween.get(e._point).to({rotation:e._point._saveRotation},1e3,createjs.Ease.circInOut).call(t,e)},function(t){return createjs.Tween.get(e._arc._arcCommand).to({endAngle:r.GRA()},1e3,createjs.Ease.circInOut).call(t,e)}],t))}}(this),expand:function(e){return function(t){var r;return e._state===s.expand?t():(e._state=s.expand,r=e.currentIndexPositionFromTopCategory===0?180:e._getArcSize(180,e.data.total-1),n.parallel([function(t){return createjs.Tween.get(e._arc).to({rotation:e._getArcExpandRotation(e._arc.rotation)},1e3,createjs.Ease.circInOut).call(t,e)},function(t){return createjs.Tween.get(e._point).to({rotation:e._getPointExpandRotation(e._point.rotation)},1e3,createjs.Ease.circInOut).call(t,e)},function(t){return createjs.Tween.get(e._arc._arcCommand).to({endAngle:r.GRA()},1e3,createjs.Ease.circInOut).call(t,e)}],function(){return t()}))}}(this),mouseovered:function(e){return function(t){if(e._enabled)return t();(e.currentIndexPositionFromTopCategory!==0||e._state!==s.expand)&&e._state!==s.reduce&&(e._text||e._createText(e._point.rotation+90,1));if(e.currentIndexPositionFromTopCategory!==0||e._state!==s.expand)e._point.shadow=new createjs.Shadow(e.data.color,0,0,15),e._arc.shadow=new createjs.Shadow(e.data.color,0,0,15);return t()}}(this),mouseouted:function(e){return function(t){if(e._enabled)return t();(e.currentIndexPositionFromTopCategory!==0||e._state!==s.expand)&&e._state!==s.reduce&&e._text&&(e.content.removeChild(e._text),e._text=null);if(e.currentIndexPositionFromTopCategory!==0||e._state!==s.expand)e._point.shadow=null,e._arc.shadow=null;return t()}}(this),enable:function(e){return function(t){return e.currentIndexPositionFromTopCategory===0?t():(e._enabled=!0,e._text||e._createText(e._point.rotation+90,1),e._point.shadow=new createjs.Shadow(e.data.color,0,0,15),e._arc.shadow=new createjs.Shadow(e.data.color,0,0,15),t())}}(this),disable:function(e){return function(t){return e.currentIndexPositionFromTopCategory===0?t():(e._enabled=!1,e._point.shadow=null,e._arc.shadow=null,e._text&&(e.content.removeChild(e._text),e._text=null),t())}}(this)}},r}(r.Element)})}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;define("galaxy/profile/main",["jquery","async","animMaster","galaxy/profile/base","galaxy/profile/xp","galaxy/profile/categorie"],function(t,n,r,i,s,o){var u;return u=function(t){function r(){this.currentIndexCategory=0,_super.apply(this,arguments)}return e(r,t),r.prototype._setContent=function(e){return this.content.x=this._stage.realWidth/2,this.content.y=this._stage.realHeight/2,this.content.scaleX=.6,this.content.scaleY=.6,e()},r.prototype._createElements=function(e){return n.parallel([function(e){return function(t){return new i(e._set(t,"_base"),{container:e.content,data:_.pick(e.data.profile,["avatar","login"])})}}(this),function(e){return function(t){return new s(e._set(t,"_xp"),{container:e.content,data:_.pick(e.data.profile,["xp"])})}}(this),function(e){return function(t){var r;return e._categories=[],r=_.curry(function(t,n,r){return n||e._categories.push(r),t()}),n.eachSeries(e.data.categories,function(t,n){return t.index=e.data.categories.indexOf(t),t.total=e.data.categories.length,new o(r(n),{container:e.content,data:t})},t)}}(this)],e)},r.prototype.animations=function(){return{start:function(e){return function(t){return n.series([function(t){return e._base.animations().start(t)},function(t){return e._xp.animations().start(t)},function(t){return e.animations().categories().start(t)}],t)}}(this),down:function(e){return function(t){return e.y!==e._stage.realHeight/2?t():createjs.Tween.get(e).to({y:e.y+e._stage.realHeight/4},400,createjs.Ease.backOut).call(t)}}(this),categories:function(e){return function(){return{enable:function(t,r){return n.each(r,function(t,n){var r;return r=_.find(e._categories,function(e){return e.data.id===t}),r.animations().enable(n)},t())},disable:function(t,r){return n.each(r,function(t,n){var r;return r=_.find(e._categories,function(e){return e.data.id===t}),r.animations().disable(n)},t())},start:function(t){return n.each(e._categories,function(e,t){return e.animations().start(t)},t)},selected:function(t,r){return n.series([function(t){return e.animations().categories().mouseouted(t,r)},function(t){return e.animations().categories().reduce(t)},function(t){return e.animations().categories().rotate(t,r)},function(t){return e.animations().categories().expand(t,r)},function(t){return e.animations().down(t)}],function(){return e.currentIndexCategory=r,t()})},reduce:function(t){return n.parallel([function(t){return e._base.animations().reduce(t)},function(t){return n.each(e._categories,function(e,t){return e.animations().reduce(t)},t)}],t)},rotate:function(t,r){var i;return i=e._categories[r].currentIndexPositionFromTopCategory*(360/e._categories.length)*-1,i>=180&&(i-=360),i<=-180&&(i=360+i),n.each(e._categories,function(e,t){return e.animations().rotate(t,r,i)},t)},expand:function(t,r){return n.parallel([function(t){return e._base.animations().expand(t,e._categories[r].data)},function(t){return n.each(e._categories,function(e,t){return e.animations().expand(t)},t)}],t)},mouseovered:function(t,r){return n.series([function(t){return e._categories[r].animations().mouseovered(t)}],t)},mouseouted:function(t,r){return n.series([function(t){return e._categories[r].animations().mouseouted(t)}],t)}}}}(this)}},r}(r.Element)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;define("galaxy/infoBox/categories",["jquery","async","animMaster"],function(n,r,i){var s;return s=function(n){function r(){return this._createElements=e(this._createElements,this),r.__super__.constructor.apply(this,arguments)}return t(r,n),r.prototype._setContent=function(e,t){return this.content.y=this.data.topPosition,e()},r.prototype.getHeight=function(){var e;return e=this._title.getMeasuredHeight(),_.forEach(this._categories,function(t){return e+=t.getMeasuredHeight()+10}),e},r.prototype._createElements=function(e){var t,n;return t="Associated skills",this._title=new createjs.Text(t,"lighter 20px Helvetica","#fff"),this.content.addChild(this._title),this._categories=[],n=this._title.getMeasuredHeight()+10,_.forEach(this.data.associatedCategories,function(e){return function(t,r){var i,s;return s=_.filter(e.data.categories,{id:t})[0],e._point=new createjs.Shape,e._point.graphics.s(s.color).ss(2).dc(10,n+10,6),e.content.addChild(e._point),i=(new createjs.Text(s.name,"lighter 15px Helvetica",s.color)).set({y:n+4,x:30}),e._categories.push(i),e.content.addChild(i),n+=i.getBounds().height+10}}(this)),e()},r.prototype.animations=function(){return{start:function(e){return function(t){return createjs.Tween.get(e.circle).to({scaleX:1,scaleY:1},200).call(function(){return createjs.Tween.get(e.avatar).to({alpha:1},200,createjs.Ease.getPowInOut(5)).call(function(){return createjs.Tween.get(e.login).to({alpha:1},500,createjs.Ease.getPowInOut(5)).call(t,e)})})}}(this),reduce:function(e){return function(t){return e._shadow.alpha===0?t():createjs.Tween.get(e._shadow).to({alpha:0},1e3).call(t,e)}}(this),expand:function(e){return function(t,n){return e._shadow.alpha===1?n():(e._shadow.shadow=new createjs.Shadow(t,0,0,50),createjs.Tween.get(e._shadow).to({alpha:1},1e3).call(n,e))}}(this)}},r}(i.Element)})}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;define("galaxy/infoBox/requiredProjects",["jquery","async","animMaster"],function(t,n,r){var i;return i=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype._setContent=function(e){return this.content.y=this.data.topPosition,e()},n.prototype.getHeight=function(){return this.data.projects?this._title.getMeasuredHeight():0},n.prototype._createElements=function(e){var t,n,r;return this.data.projects?(n="Projects amount required",this._title=new createjs.Text(n,"lighter 20px Helvetica","#fff"),this.content.addChild(this._title),this._projects=[],r=this._title.getMeasuredHeight()+10,t=0,_.forEach(this.data.projects,function(e){return function(n,i){var s;return s=(new createjs.Text(n.name,"lighter 15px Helvetica","#fff")).set({y:r,x:t,cursor:"pointer"}),s.index=i,e._projects.push(s),e.content.addChild(s),t+=s.getBounds().width+10}}(this)),e()):e()},n.prototype._bindEvents=function(e){return _.forEach(this._projects,function(e){return function(t,n){return t.on("click",function(){return e.emit("project.clicked",{index:t.index})})}}(this)),e()},n}(r.Element)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;define("galaxy/infoBox/button",["jquery","async","animMaster"],function(n,r,i){var s;return s=function(n){function r(){return this._bindEvents=e(this._bindEvents,this),this._createElements=e(this._createElements,this),r.__super__.constructor.apply(this,arguments)}return t(r,n),r.prototype._setContent=function(e,t){return this.content.y=this.data.topPosition-t.container.margin/2,this.content.x=t.container.width-140,e()},r.prototype._createElements=function(e){var t;return this._button=(new createjs.Shape).set({graphics:(new createjs.Graphics).beginFill("#00babc").drawRoundRect(0,0,140,40,3),cursor:"pointer"}),this.content.addChild(this._button),t="View more",this._text=(new createjs.Text(t,"bold 20px Helvetica","#fff")).set({x:20,y:10,lineWidth:this.content.width-(this.content.margin*3+50),textBaseline:"top"}),this.content.addChild(this._text),e()},r.prototype._bindEvents=function(e){return this._button.on("click",function(e){return function(){return document.location=e.data.url}}(this)),e()},r}(i.Element)})}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;define("galaxy/infoBox/main",["jquery","async","animMaster","galaxy/infoBox/categories","galaxy/infoBox/requiredProjects","galaxy/infoBox/button"],function(t,n,r,i,s,o){var u;return u=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype._setContent=function(e,t){return this.alpha=this.data.project!=null,this.content.margin=30,this.content.x=20,this.content.y=20,this.content.width=this._stage.realWidth/4,this.content.height=this._stage.realHeight/5,e()},r.prototype._createElements=function(e){var t,r;return r=0,this._box=(new createjs.Shape).set({graphics:(new createjs.Graphics).beginFill("#000").drawRect(0,0,this.width,this.height),alpha:.5}),this.addChildAt(this._box,0),this.data.project==null?e():(this.data.project.description=this.data.project.description||"",this._icon=(new createjs.Bitmap(this.data.project.icon)).set({alpha:1}),this.content.addChild(this._icon),this._title=(new createjs.Text(this.data.project.name,"lighter 25px Helvetica","#fff")).set({x:30+this.content.margin,y:4,lineWidth:this.content.width-(this.content.margin*3+50),textBaseline:"top"}),this.content.addChild(this._title),this._mark=(new createjs.Text(this.data.project.final_mark,"lighter 25px Helvetica","#fff")).set({x:30+this.content.margin+this.content.margin+this._title.getMeasuredWidth(),y:4,lineWidth:this.content.width-(this.content.margin*3+50),textBaseline:"top"}),this.content.addChild(this._mark),r+=this._title.getMeasuredHeight()+this.content.margin,this._description=(new createjs.Text(this.data.project.description,"15px Helvetica","#fff")).set({y:r,lineWidth:this.content.width-this.content.margin*2,lineHeight:20}),this.content.addChild(this._description),t=function(e){return function(t,n){var r;return r={container:e.content,data:{categories:e.data.categories,topPosition:n}},r.data[t]=e.data.project[t],r}}(this),n.series([function(e){return function(n){return r+=e._description.getMeasuredHeight()+e.content.margin,new i(e._set(n,"_categories"),t("associatedCategories",r))}}(this),function(e){return function(n){return r+=e._categories.getHeight()+e.content.margin,new s(e._set(n,"_requiredProjects"),t("projects",r))}}(this),function(e){return function(n){return r+=e._requiredProjects.getHeight(),new o(e._set(n,"_button"),t("url",r))}}(this),function(e){return function(t){return e._updateBoxHeight(),t()}}(this),function(e){return function(t){return e.emit("infobox.shown",_.pick(e.data.project,"associatedCategories")),t()}}(this)],e))},r.prototype._updateBoxHeight=function(){var e;return e=this.content.margin+this.content.margin,e+=this._title.getMeasuredHeight()+this.content.margin,e+=this._description.getMeasuredHeight()+this.content.margin,e+=this._categories.getHeight()+this.content.margin,e+=this._requiredProjects.getHeight()+this.content.margin,this._box.graphics.clear().beginFill("#000").drawRect(0,0,this.width,e)},r.prototype.animations=function(){return{hide:function(e){return function(t,n){return e.emit("infobox.hidden",_.pick(e.data.project,"associatedCategories")),createjs.Tween.get(e).to({alpha:0},n).call(t,e)}}(this)}},r}(r.Element)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;define("galaxy/galaxy/label",["jquery","async","animMaster"],function(n,r,i){var s;return s=function(n){function r(){return this._createElements=e(this._createElements,this),r.__super__.constructor.apply(this,arguments)}return t(r,n),r.prototype._setContent=function(e){return this.content.margin=10,this.content.x=this.data.x,this.content.y=this.data.y,e()},r.prototype._createElements=function(e){return this._box=new createjs.Shape,this.addChildAt(this._box,0),this._title=(new createjs.Text(this.data.title,"15px Helvetica","#fff")).set({lineWidth:200,textBaseline:"hanging"}),this.content.addChild(this._title),this._updateBoxHeight(),e()},r.prototype._updateBoxHeight=function(){var e,t,n;return t=this._title.getBounds(),e=t.height+this.content.margin,n=t.width+this.content.margin*2,this._box._command=this._box.graphics.clear().beginFill("#000").ss(2).beginStroke(this.data.strokeColor).command,this._box.graphics.drawRect(0,0,n,e)},r.prototype.getHeight=function(){return this._title.getBounds().height+this.content.margin},r.prototype.animations=function(){return{selected:function(e){return function(t){return e._box._command.style="#fff",t()}}(this),unSelected:function(e){return function(t){return e._box._command.style=e.data.strokeColor,t()}}(this)}},r}(i.Element)})}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;define("galaxy/galaxy/project",["jquery","async","animMaster","galaxy/galaxy/label"],function(t,n,r,i){var s,o;return o=30,s=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype._createElements=function(e){var t,r;return r=this.getCircleAttr(this.data.angle,360,0,0,this.data.tiersRange[this.data.tierIndex]),t=1-(this.data.final_mark||0)/100,this._circle=(new createjs.Shape).set({cursor:"pointer",graphics:(new createjs.Graphics).lf(["#29292e","#46c6e2"],[t,t],r.x,r.y-o*this.data.size>>0,r.x,r.y+o*this.data.size>>0).ss(3).beginStroke("#5b5b686")}),this._circle._command=this._circle.graphics.command,this._circle.graphics.dc(r.x,r.y,o*this.data.size),this.content.addChild(this._circle),n.parallel([function(e){return function(t){return new i(e._set(t,"_label"),{container:e.content,data:{x:r.x,y:r.y-o*e.data.size,title:e.data.name,strokeColor:"#6f7279"}})}}(this)],function(t){return function(){var n;return n=t._label.getHeight(),n>t.data.radius&&(t._label.y-=n/2),e()}}(this))},r.prototype._bindEvents=function(e){return this._circle.on("click",function(e){return function(){return e.emit("project.clicked",e.data.id)}}(this)),e()},r.prototype.animations=function(){return{selected:function(e){return function(t,n){return e._circle.shadow=new createjs.Shadow(n,0,0,25),e._circle._command.style="#fff",e._label.animations().selected(t)}}(this),unSelected:function(e){return function(t){return e._circle.shadow=null,e._circle._command.style="#5b5b686",e._label.animations().unSelected(t)}}(this)}},r}(r.Element)})}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;define("galaxy/galaxy/main",["jquery","async","animMaster","galaxy/galaxy/project"],function(t,n,r,i){var s,o;return o=[350,500,650,800,950,1100],s=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype._setContent=function(e,t){return this.visible=!1,this.content.x=this._stage.realWidth/2,this.content.y=this._stage.realHeight/4*3,e()},r.prototype._createElements=function(e){var t,n,r,i,s;return s=1,t="#5b5b68",i=180,n=360,r=200,_.forEach(o,function(e){return function(r){var o;return o=(new createjs.Shape).set({graphics:(new createjs.Graphics).s(t).ss(s).arc(0,0,r,i.GRA(),n.GRA(),!1)}),e.content.addChild(o)}}(this)),e()},r.prototype._clean=function(){return _.forEach(this._projects,function(e){return function(t){return e.content.removeChild(t)}}(this)),this._projects=[]},r.prototype.populate=function(e,t){var r;return this._category=t,this._clean(),r={projects:{ajax:this.data.projectsUrl.replace("#skillId",this._category.id)}},n.series([function(e){return function(t){return e.getData(t,r)}}(this)],function(t){return function(r,s){var u,a;return a=s[0].projects,u=_.curry(function(e,n,r){return n||t._projects.push(r),e()}),n.each(a.reverse(),function(e,n){var r;return r={container:t,data:{tiersRange:o}},_.merge(r.data,e),new i(u(n),r)}),e()}}(this))},r.prototype.animations=function(){return{show:function(e){return function(t){return createjs.Tween.get(e).to({visible:!0},200).call(t,e)}}(this),hide:function(e){return function(t){return createjs.Tween.get(e).to({visible:!1},200).call(t,e)}}(this),projects:function(e){return function(){return{selected:function(t,r){var i;return i=e._selectedProject,e._selectedProject=_.find(e._projects,function(e){return e.data.id===r}),n.parallel([function(e){return i?i.animations().unSelected(e):e()},function(t){return e._selectedProject.animations().selected(t,e._category.color)}],t)}}}}(this)}},r}(r.Element)})}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;define("galaxy/main",["jquery","async","animMaster","galaxy/profile","galaxy/infoBox","galaxy/galaxy"],function(t,n,r,i,s,o){var u;return u=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype._createElements=function(e){var t,r;return t=function(e){return function(){var t;return t=new createjs.Shape,e._stage.addChildAt(t,0),t.graphics.beginBitmapFill(r,"repeat").drawRect(0,0,e._stage.realWidth,e._stage.realHeight)}}(this),r=new Image,r.src="http://images.blog-24.com/780000/783000/782994.jpg",r.onload=t,n.parallel([function(e){return function(t){var n;return n=new o(e._set(t,"_galaxy"),{container:e._stage,data:_.pick(e.data,["projectsUrl"])})}}(this),function(e){return function(t){return new i(e._set(t,"_profile"),{container:e._stage,data:{categories:e.data.categories,profile:{ajax:e.data.profileUrl}}})}}(this),function(e){return function(t){return new s(e._set(t,"_infoBox"),{container:e._stage,data:_.pick(e.data,"categories")})}}(this)],e)},r.prototype._bindEvents=function(e){var t,i,s,o,u,a,f,l,c,h,p,d;return r.__super__._bindEvents.call(this),h=function(e){return n.series([function(t){return function(n){return t._profile.animations().categories().enable(n,e.data.associatedCategories)}}(this)],c)},c=function(e){return function(){return e._stage.on("infobox.shown",h,e,!0)}}(this),c(),l=function(e){return n.series([function(t){return function(n){return e.data.associatedCategories?t._profile.animations().categories().disable(n,e.data.associatedCategories):n()}}(this)],f)},f=function(e){return function(){return e._stage.on("infobox.hidden",l,e,!0)}}(this),f(),a=function(e){return n.series([function(t){return function(n){return t.animations().categories().mouseovered(n,e.data.index)}}(this)],u)},u=function(e){return function(){return e._stage.on("category.mouseovered",a,e,!0)}}(this),u(),o=function(e){return n.series([function(t){return function(n){return t.animations().categories().mouseouted(n,e.data.index)}}(this)],s)},s=function(e){return function(){return e._stage.on("category.mouseouted",o,e,!0)}}(this),s(),i=function(e){return n.series([function(t){return function(n){return t.animations().categories().selected(n,e.data.index,e.data.id)}}(this)],t)},t=function(e){return function(){return e._stage.on("category.clicked",i,e,!0)}}(this),t(),d=function(e){return n.series([function(t){return function(n){return t.animations().projects().selected(n,e.data)}}(this)],p)},p=function(e){return function(){return e._stage.on("project.clicked",d,e,!0)}}(this),p(),e()},r.prototype.start=function(){return r.__super__.start.call(this),this.animations().start()},r.prototype.animations=function(){return{start:function(e){return function(t){return n.series([function(t){return e._profile.animations().start(t)}],t)}}(this),projects:function(e){return function(){return{selected:function(t,r){return n.series([function(t){return e._infoBox.animations().hide(t)},function(t){return e._galaxy.animations().projects().selected(t,r)},function(t){var n;return e._stage.removeChild(e._infoBox),n={categories:e.data.categories,project:{ajax:e.data.projectUrl.replace("#projectId",r)}},new s(e._set(t,"_infoBox"),{container:e._stage,data:n})}],t)}}}}(this),categories:function(e){return function(){return{selected:function(t,r,i){return n.series([function(t){return e._infoBox.animations().hide(t)},function(t){return e._galaxy.animations().hide(t)},function(t){return e._profile.animations().categories().selected(t,r)},function(t){return e._galaxy.animations().show(t)},function(t){return e._galaxy.populate(t,e.data.categories[r])}],t)},mouseovered:function(t,r){return n.series([function(t){return e._profile.animations().categories().mouseovered(t,r)}],t)},mouseouted:function(t,r){return n.series([function(t){return e._profile.animations().categories().mouseouted(t,r)}],t)}}}}(this)}},r}(r.Base)})}.call(this),define("galaxy",["galaxy/main"],function(e){return e}),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;sessionStorage.Debug=!0,require(["require","vendor"],function(t){t(["common"],function(n){return t(["jquery","project","sortable","galaxy"],function(t,r,i,s){var o;return o=function(n){function o(){return o.__super__.constructor.apply(this,arguments)}return e(o,n),o.prototype.ready=function(){var e;return t("canvas#view").length?(e=t("canvas#view"),new s({scale:{width:2595,height:1522},stats:!1,viewId:"view",data:{categories:{ajax:e.data("categoriesurl")},profileUrl:e.data("profileurl"),projectsUrl:e.data("projectsurl"),projectUrl:e.data("projecturl")}})):(new r,new i)},o}(n),new o})})})}.call(this),define("application",function(){});